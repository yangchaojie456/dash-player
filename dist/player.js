!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=404)}([function(e,t,n){e.exports=n(353)},function(e,t,n){e.exports=n(349)},function(e,t,n){e.exports=n(325)},function(e,t,n){e.exports=n(271)},function(e,t,n){"use strict";var r=n(18),i=n(56).f,a=n(115),o=n(11),s=n(58),u=n(42),l=n(31),f=function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,c,d,h,p,g,m,v,_=e.target,E=e.global,y=e.stat,T=e.proto,S=E?r:y?r[_]:(r[_]||{}).prototype,A=E?o:o[_]||(o[_]={}),I=A.prototype;for(d in t)n=!a(E?d:_+(y?".":"#")+d,e.forced)&&S&&l(S,d),p=A[d],n&&(g=e.noTargetGet?(v=i(S,d))&&v.value:S[d]),h=n&&g?g:t[d],n&&typeof p==typeof h||(m=e.bind&&n?s(h,r):e.wrap&&n?f(h):T&&"function"==typeof h?s(Function.call,h):h,(e.sham||h&&h.sham||p&&p.sham)&&u(m,"sham",!0),A[d]=m,T&&(l(o,c=_+"Prototype")||u(o,c,{}),o[c][d]=h,e.real&&I&&!I[d]&&u(I,d,h)))}},function(e,t,n){var r=n(172),i=n(128);function a(t){return e.exports=a="function"==typeof i&&"symbol"==typeof r?function(e){return typeof e}:function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":typeof e},a(t)}e.exports=a},function(e,t,n){e.exports=n(300)},function(e,t,n){e.exports=n(360)},function(e,t,n){e.exports=n(286)},function(e,t,n){e.exports=n(346)},function(e,t,n){e.exports=n(250)},function(e,t){e.exports={}},function(e,t,n){e.exports=n(202)},function(e,t,n){e.exports=n(276)},function(e,t,n){e.exports=n(171)},function(e,t,n){e.exports=n(292)},function(e,t,n){var r=n(18),i=n(93),a=n(31),o=n(94),s=n(95),u=n(118),l=i("wks"),f=r.Symbol,c=u?f:f&&f.withoutSetter||o;e.exports=function(e){return a(l,e)||(s&&a(f,e)?l[e]=f[e]:l[e]=c("Symbol."+e)),l[e]}},function(e,t,n){e.exports=n(307)},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(113))},function(e,t,n){var r=n(11);e.exports=function(e){return r[e+"Prototype"]}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){e.exports=n(312)},function(e,t,n){e.exports=n(344)},function(e,t,n){var r=n(11),i=n(31),a=n(59),o=n(43).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},function(e,t,n){e.exports=n(253)},function(e,t,n){e.exports=n(289)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=n(315)},function(e,t,n){var r=n(20);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){e.exports=n(261)},function(e,t,n){e.exports=n(266)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(26);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(46);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(61),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){e.exports=n(355)},function(e,t,n){e.exports=n(364)},function(e,t,n){var r=n(28),i=n(20),a=n(31),o=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||(t={});var n=[][e],l=!!a(t,"ACCESSORS")&&t.ACCESSORS,f=a(t,0)?t[0]:u,c=a(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(l&&!r)return!0;var e={length:-1};l?o(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,f,c)}))}},function(e,t,n){e.exports=n(199)},function(e,t,n){e.exports=n(367)},function(e,t,n){var r=n(73),i=n(46);e.exports=function(e){return r(i(e))}},function(e,t,n){e.exports=n(246)},function(e,t,n){var r=n(28),i=n(43),a=n(57);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(28),i=n(114),a=n(32),o=n(74),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(11),i=n(18),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){e.exports=n(265)},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){e.exports=!0},function(e,t,n){var r=n(99),i=n(43).f,a=n(42),o=n(31),s=n(177),u=n(16)("toStringTag");e.exports=function(e,t,n,l){if(e){var f=n?e:e.prototype;o(f,u)||i(f,u,{configurable:!0,value:t}),l&&!r&&a(f,"toString",s)}}},function(e,t,n){var r=n(99),i=n(51),a=n(16)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports={}},function(e,t,n){var r=n(42);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:r(e,t,n)}},function(e,t,n){n(81);var r=n(179),i=n(18),a=n(50),o=n(42),s=n(52),u=n(16)("toStringTag");for(var l in r){var f=i[l],c=f&&f.prototype;c&&a(c)!==u&&o(c,u,l),s[l]=s.Array}},function(e,t,n){"use strict";var r=n(20);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){var r=n(28),i=n(91),a=n(57),o=n(40),s=n(74),u=n(31),l=n(114),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=o(e),t=s(t,!0),l)try{return f(e,t)}catch(e){}if(u(e,t))return a(!i.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(47);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(16);t.f=r},function(e,t,n){"use strict";var r=n(119).charAt,i=n(62),a=n(121),o=i.set,s=i.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r,i,a,o=n(176),s=n(18),u=n(26),l=n(42),f=n(31),c=n(76),d=n(77),h=s.WeakMap;if(o){var p=new h,g=p.get,m=p.has,v=p.set;r=function(e,t){return v.call(p,e,t),t},i=function(e){return g.call(p,e)||{}},a=function(e){return m.call(p,e)}}else{var _=c("state");d[_]=!0,r=function(e,t){return l(e,_,t),t},i=function(e){return f(e,_)?e[_]:{}},a=function(e){return f(e,_)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(61),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},function(e,t,n){var r=n(58),i=n(73),a=n(33),o=n(34),s=n(100),u=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,f=4==e,c=6==e,d=5==e||c;return function(h,p,g,m){for(var v,_,E=a(h),y=i(E),T=r(p,g,3),S=o(y.length),A=0,I=m||s,R=t?I(h,S):n?I(h,0):void 0;S>A;A++)if((d||A in y)&&(_=T(v=y[A],A,E),e))if(t)R[A]=_;else if(_)switch(e){case 3:return!0;case 5:return v;case 6:return A;case 2:u.call(R,v)}else if(f)return!1;return c?-1:l||f?f:R}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(e,t,n){e.exports=n(329)},function(e,t,n){var r=n(51);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(74),i=n(43),a=n(57);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},function(e,t,n){var r=n(20),i=n(16),a=n(101),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){e.exports=n(238)},function(e,t,n){e.exports=n(218)},function(e,t,n){e.exports=n(235)},function(e,t,n){e.exports=n(283)},function(e,t,n){var r=n(20),i=n(51),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(26);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(44);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(93),i=n(94),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(31),i=n(33),a=n(76),o=n(124),s=a("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,n){var r,i=n(32),a=n(96),o=n(98),s=n(77),u=n(126),l=n(92),f=n(76),c=f("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=r?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=l("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};s[c]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[c]=e):n=p(),void 0===t?n:a(n,t)}},function(e,t,n){var r=n(125),i=n(98);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(40),i=n(82),a=n(52),o=n(62),s=n(121),u=o.set,l=o.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(50),i=n(52),a=n(16)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[r(e)]}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){e.exports=n(210)},function(e,t,n){e.exports=n(296)},function(e,t,n){e.exports=n(334)},function(e,t,n){e.exports=n(336)},function(e,t,n){e.exports=n(341)},function(e,t,n){e.exports=n(343)},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(18),i=n(26),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var r=n(48),i=n(117);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(20);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(28),i=n(43),a=n(32),o=n(80);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,u=0;s>u;)i.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(40),i=n(34),a=n(63),o=function(e){return function(t,n,o){var s,u=r(t),l=i(u.length),f=a(o,l);if(e&&n!=n){for(;l>f;)if((s=u[f++])!=s)return!0}else for(;l>f;f++)if((e||f in u)&&u[f]===n)return e||f||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r={};r[n(16)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(26),i=n(66),a=n(16)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r,i,a=n(18),o=n(75),s=a.process,u=s&&s.versions,l=u&&u.v8;l?i=(r=l.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){var r=n(125),i=n(98).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){"use strict";var r=n(47),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(46),i="["+n(84)+"]",a=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t,n){e.exports=n(229)},function(e,t,n){e.exports=n(280)},function(e,t,n){e.exports=n(320)},function(e,t,n){e.exports=n(377)},function(e,t,n){e.exports=n(380)},function(e,t,n){var r=n(4),i=n(18),a=n(75),o=[].slice,s=function(e){return function(t,n){var r=arguments.length>2,i=r?o.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(a)},{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(28),i=n(20),a=n(92);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(20),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==l||n!=u&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},function(e,t,n){n(23)("iterator")},function(e,t,n){var r=n(18),i=n(175),a=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=a},function(e,t,n){var r=n(95);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(61),i=n(46),a=function(e){return function(t,n){var a,o,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){var r=n(117),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){"use strict";var r=n(4),i=n(122),a=n(78),o=n(127),s=n(49),u=n(42),l=n(53),f=n(16),c=n(48),d=n(52),h=n(123),p=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,m=f("iterator"),v=function(){return this};e.exports=function(e,t,n,f,h,_,E){i(n,t,f);var y,T,S,A=function(e){if(e===h&&w)return w;if(!g&&e in b)return b[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",R=!1,b=e.prototype,M=b[m]||b["@@iterator"]||h&&b[h],w=!g&&M||A(h),D="Array"==t&&b.entries||M;if(D&&(y=a(D.call(new e)),p!==Object.prototype&&y.next&&(c||a(y)===p||(o?o(y,p):"function"!=typeof y[m]&&u(y,m,v)),s(y,I,!0,!0),c&&(d[I]=v))),"values"==h&&M&&"values"!==M.name&&(R=!0,w=function(){return M.call(this)}),c&&!E||b[m]===w||u(b,m,w),d[t]=w,h)if(T={values:A("values"),keys:_?w:A("keys"),entries:A("entries")},E)for(S in T)(g||R||!(S in b))&&l(b,S,T[S]);else r({target:t,proto:!0,forced:g||R},T);return T}},function(e,t,n){"use strict";var r=n(123).IteratorPrototype,i=n(79),a=n(57),o=n(49),s=n(52),u=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,l,!1,!0),s[l]=u,e}},function(e,t,n){"use strict";var r,i,a,o=n(78),s=n(42),u=n(31),l=n(16),f=n(48),c=l("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(i=o(o(a)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),f||u(r,c)||s(r,c,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var r=n(20);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(31),i=n(40),a=n(97).indexOf,o=n(77);e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)!r(o,n)&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~a(l,n)||l.push(n));return l}},function(e,t,n){var r=n(44);e.exports=r("document","documentElement")},function(e,t,n){var r=n(32),i=n(178);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){e.exports=n(180)},function(e,t,n){n(130),n(131),n(132),n(182),n(183),n(133),n(184),n(116),n(185),n(186),n(187),n(188),n(134),n(189),n(135),n(190),n(191),n(192),n(193);var r=n(11);e.exports=r.Symbol},function(e,t,n){"use strict";var r=n(4),i=n(20),a=n(66),o=n(26),s=n(33),u=n(34),l=n(67),f=n(100),c=n(68),d=n(16),h=n(101),p=d("isConcatSpreadable"),g=h>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),m=c("concat"),v=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!g||!m},{concat:function(e){var t,n,r,i,a,o=s(this),c=f(o,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(v(a=-1===t?o:arguments[t])){if(d+(i=u(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,d++)n in a&&l(c,d,a[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(c,d++,a)}return c.length=d,c}})},function(e,t){},function(e,t,n){"use strict";var r=n(4),i=n(18),a=n(44),o=n(48),s=n(28),u=n(95),l=n(118),f=n(20),c=n(31),d=n(66),h=n(26),p=n(32),g=n(33),m=n(40),v=n(74),_=n(57),E=n(79),y=n(80),T=n(102),S=n(181),A=n(103),I=n(56),R=n(43),b=n(91),M=n(42),w=n(53),D=n(93),C=n(76),N=n(77),O=n(94),L=n(16),x=n(59),P=n(23),F=n(49),U=n(62),k=n(64).forEach,B=C("hidden"),G=L("toPrimitive"),q=U.set,Y=U.getterFor("Symbol"),K=Object.prototype,H=i.Symbol,V=a("JSON","stringify"),j=I.f,z=R.f,W=S.f,X=b.f,Q=D("symbols"),Z=D("op-symbols"),$=D("string-to-symbol-registry"),J=D("symbol-to-string-registry"),ee=D("wks"),te=i.QObject,ne=!te||!te.prototype||!te.prototype.findChild,re=s&&f((function(){return 7!=E(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=j(K,t);r&&delete K[t],z(e,t,n),r&&e!==K&&z(K,t,r)}:z,ie=function(e,t){var n=Q[e]=E(H.prototype);return q(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},ae=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof H},oe=function(e,t,n){e===K&&oe(Z,t,n),p(e);var r=v(t,!0);return p(n),c(Q,r)?(n.enumerable?(c(e,B)&&e[B][r]&&(e[B][r]=!1),n=E(n,{enumerable:_(0,!1)})):(c(e,B)||z(e,B,_(1,{})),e[B][r]=!0),re(e,r,n)):z(e,r,n)},se=function(e,t){p(e);var n=m(t),r=y(n).concat(ce(n));return k(r,(function(t){s&&!ue.call(n,t)||oe(e,t,n[t])})),e},ue=function(e){var t=v(e,!0),n=X.call(this,t);return!(this===K&&c(Q,t)&&!c(Z,t))&&(!(n||!c(this,t)||!c(Q,t)||c(this,B)&&this[B][t])||n)},le=function(e,t){var n=m(e),r=v(t,!0);if(n!==K||!c(Q,r)||c(Z,r)){var i=j(n,r);return!i||!c(Q,r)||c(n,B)&&n[B][r]||(i.enumerable=!0),i}},fe=function(e){var t=W(m(e)),n=[];return k(t,(function(e){c(Q,e)||c(N,e)||n.push(e)})),n},ce=function(e){var t=e===K,n=W(t?Z:m(e)),r=[];return k(n,(function(e){!c(Q,e)||t&&!c(K,e)||r.push(Q[e])})),r};(u||(w((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=O(e),n=function(e){this===K&&n.call(Z,e),c(this,B)&&c(this[B],t)&&(this[B][t]=!1),re(this,t,_(1,e))};return s&&ne&&re(K,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",(function(){return Y(this).tag})),w(H,"withoutSetter",(function(e){return ie(O(e),e)})),b.f=ue,R.f=oe,I.f=le,T.f=S.f=fe,A.f=ce,x.f=function(e){return ie(L(e),e)},s&&(z(H.prototype,"description",{configurable:!0,get:function(){return Y(this).description}}),o||w(K,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:H}),k(y(ee),(function(e){P(e)})),r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=String(e);if(c($,t))return $[t];var n=H(t);return $[t]=n,J[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(c(J,e))return J[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(e,t){return void 0===t?E(e):se(E(e),t)},defineProperty:oe,defineProperties:se,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:fe,getOwnPropertySymbols:ce}),r({target:"Object",stat:!0,forced:f((function(){A.f(1)}))},{getOwnPropertySymbols:function(e){return A.f(g(e))}}),V)&&r({target:"JSON",stat:!0,forced:!u||f((function(){var e=H();return"[null]"!=V([e])||"{}"!=V({a:e})||"{}"!=V(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],a=1;arguments.length>a;)i.push(arguments[a++]);if(r=t,(h(t)||void 0!==e)&&!ae(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ae(t))return t}),i[1]=t,V.apply(null,i)}});H.prototype[G]||M(H.prototype,G,H.prototype.valueOf),F(H,"Symbol"),N[B]=!0},function(e,t,n){n(23)("hasInstance")},function(e,t,n){n(23)("species")},function(e,t,n){n(23)("toPrimitive")},function(e,t,n){"use strict";var r=n(28),i=n(20),a=n(80),o=n(103),s=n(91),u=n(33),l=n(73),f=Object.assign,c=Object.defineProperty;e.exports=!f||i((function(){if(r&&1!==f({b:1},f(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||"abcdefghijklmnopqrst"!=a(f({},t)).join("")}))?function(e,t){for(var n=u(e),i=arguments.length,f=1,c=o.f,d=s.f;i>f;)for(var h,p=l(arguments[f++]),g=c?a(p).concat(c(p)):a(p),m=g.length,v=0;m>v;)h=g[v++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:f},function(e,t,n){var r=n(217);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(16)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var r=n(18);e.exports=r.Promise},function(e,t,n){var r=n(53);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:r(e,i,t[i],n);return e}},function(e,t,n){var r=n(32),i=n(142),a=n(34),o=n(58),s=n(83),u=n(143),l=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,f,c){var d,h,p,g,m,v,_,E=o(t,n,f?2:1);if(c)d=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(i(h)){for(p=0,g=a(e.length);g>p;p++)if((m=f?E(r(_=e[p])[0],_[1]):E(e[p]))&&m instanceof l)return m;return new l(!1)}d=h.call(e)}for(v=d.next;!(_=v.call(d)).done;)if("object"==typeof(m=u(d,E,_.value,f))&&m&&m instanceof l)return m;return new l(!1)}).stop=function(e){return new l(!0,e)}},function(e,t,n){var r=n(16),i=n(52),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},function(e,t,n){var r=n(32);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(16)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},function(e,t,n){var r=n(32),i=n(47),a=n(16)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},function(e,t,n){var r,i,a,o=n(18),s=n(20),u=n(51),l=n(58),f=n(126),c=n(92),d=n(147),h=o.location,p=o.setImmediate,g=o.clearImmediate,m=o.process,v=o.MessageChannel,_=o.Dispatch,E=0,y={},T=function(e){if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},S=function(e){return function(){T(e)}},A=function(e){T(e.data)},I=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};p&&g||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++E]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(E),E},g=function(e){delete y[e]},"process"==u(m)?r=function(e){m.nextTick(S(e))}:_&&_.now?r=function(e){_.now(S(e))}:v&&!d?(a=(i=new v).port2,i.port1.onmessage=A,r=l(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(I)||"file:"===h.protocol?r="onreadystatechange"in c("script")?function(e){f.appendChild(c("script")).onreadystatechange=function(){f.removeChild(this),T(e)}}:function(e){setTimeout(S(e),0)}:(r=I,o.addEventListener("message",A,!1))),e.exports={set:p,clear:g}},function(e,t,n){var r=n(75);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(32),i=n(26),a=n(105);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){n(60),n(234);var r=n(11);e.exports=r.Array.from},function(e,t,n){"use strict";var r=n(58),i=n(33),a=n(143),o=n(142),s=n(34),u=n(67),l=n(83);e.exports=function(e){var t,n,f,c,d,h,p=i(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,_=void 0!==v,E=l(p),y=0;if(_&&(v=r(v,m>2?arguments[2]:void 0,2)),null==E||g==Array&&o(E))for(n=new g(t=s(p.length));t>y;y++)h=_?v(p[y],y):p[y],u(n,y,h);else for(d=(c=E.call(p)).next,n=new g;!(f=d.call(c)).done;y++)h=_?a(c,v,[f.value,y],!0):f.value,u(n,y,h);return n.length=y,n}},function(e,t,n){var r=n(32),i=n(83);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){var r=n(20),i=n(16),a=n(48),o=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){"use strict";n(81);var r=n(4),i=n(44),a=n(153),o=n(53),s=n(140),u=n(49),l=n(122),f=n(62),c=n(104),d=n(31),h=n(58),p=n(50),g=n(32),m=n(26),v=n(79),_=n(57),E=n(152),y=n(83),T=n(16),S=i("fetch"),A=i("Headers"),I=T("iterator"),R=f.set,b=f.getterFor("URLSearchParams"),M=f.getterFor("URLSearchParamsIterator"),w=/\+/g,D=Array(4),C=function(e){return D[e-1]||(D[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},N=function(e){try{return decodeURIComponent(e)}catch(t){return e}},O=function(e){var t=e.replace(w," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(C(n--),N);return t}},L=/[!'()~]|%20/g,x={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=function(e){return x[e]},F=function(e){return encodeURIComponent(e).replace(L,P)},U=function(e,t){if(t)for(var n,r,i=t.split("&"),a=0;a<i.length;)(n=i[a++]).length&&(r=n.split("="),e.push({key:O(r.shift()),value:O(r.join("="))}))},k=function(e){this.entries.length=0,U(this.entries,e)},B=function(e,t){if(e<t)throw TypeError("Not enough arguments")},G=l((function(e,t){R(this,{type:"URLSearchParamsIterator",iterator:E(b(e).entries),kind:t})}),"Iterator",(function(){var e=M(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),q=function(){c(this,q,"URLSearchParams");var e,t,n,r,i,a,o,s,u,l=arguments.length>0?arguments[0]:void 0,f=this,h=[];if(R(f,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:k}),void 0!==l)if(m(l))if("function"==typeof(e=y(l)))for(n=(t=e.call(l)).next;!(r=n.call(t)).done;){if((o=(a=(i=E(g(r.value))).next).call(i)).done||(s=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}else for(u in l)d(l,u)&&h.push({key:u,value:l[u]+""});else U(h,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},Y=q.prototype;s(Y,{append:function(e,t){B(arguments.length,2);var n=b(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){B(arguments.length,1);for(var t=b(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){B(arguments.length,1);for(var t=b(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){B(arguments.length,1);for(var t=b(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){B(arguments.length,1);for(var t=b(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){B(arguments.length,1);for(var n,r=b(this),i=r.entries,a=!1,o=e+"",s=t+"",u=0;u<i.length;u++)(n=i[u]).key===o&&(a?i.splice(u--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=b(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=b(this).entries,r=h(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new G(this,"keys")},values:function(){return new G(this,"values")},entries:function(){return new G(this,"entries")}},{enumerable:!0}),o(Y,I,Y.entries),o(Y,"toString",(function(){for(var e,t=b(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(F(e.key)+"="+F(e.value));return n.join("&")}),{enumerable:!0}),u(q,"URLSearchParams"),r({global:!0,forced:!a},{URLSearchParams:q}),a||"function"!=typeof S||"function"!=typeof A||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(m(t=arguments[1])&&(n=t.body,"URLSearchParams"===p(n)&&((r=t.headers?new A(t.headers):new A).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:_(0,String(n)),headers:_(0,r)}))),i.push(t)),S.apply(this,i)}}),e.exports={URLSearchParams:q,getState:b}},function(e,t,n){var r=n(44),i=n(102),a=n(103),o=n(32);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},function(e,t,n){n(345);var r=n(11);e.exports=r.Array.isArray},function(e,t,n){var r=n(347),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?r:t}},function(e,t,n){n(354);var r=n(11).Object,i=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(i.sham=!0)},function(e,t,n){e.exports=n(206)},function(e,t,n){e.exports=n(213)},function(e,t,n){e.exports=n(221)},function(e,t,n){e.exports=n(233)},function(e,t,n){e.exports=n(239)},function(e,t,n){e.exports=n(242)},function(e,t,n){e.exports=n(256)},function(e,t,n){e.exports=n(304)},function(e,t,n){e.exports=n(374)},function(e,t,n){var r=n(382),i=n(385),a=n(389),o=n(395);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},function(e,t,n){e.exports=n(396)},function(e,t,n){var r=n(402);e.exports=function(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){n(112);var r=n(11);e.exports=r.setTimeout},function(e,t,n){e.exports=n(173)},function(e,t,n){var r=n(174);e.exports=r},function(e,t,n){n(116),n(60),n(54);var r=n(59);e.exports=r.f("iterator")},function(e,t,n){var r=n(18),i=n(42);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(18),i=n(120),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},function(e,t,n){"use strict";var r=n(99),i=n(50);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){var r=n(26);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(129);n(194),n(195),n(196),n(197),n(198),e.exports=r},function(e,t,n){var r=n(40),i=n(102).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){n(23)("asyncIterator")},function(e,t){},function(e,t,n){n(23)("isConcatSpreadable")},function(e,t,n){n(23)("match")},function(e,t,n){n(23)("matchAll")},function(e,t,n){n(23)("replace")},function(e,t,n){n(23)("search")},function(e,t,n){n(23)("split")},function(e,t,n){n(23)("toStringTag")},function(e,t,n){n(23)("unscopables")},function(e,t,n){n(49)(Math,"Math",!0)},function(e,t,n){var r=n(18);n(49)(r.JSON,"JSON",!0)},function(e,t,n){n(23)("asyncDispose")},function(e,t,n){n(23)("dispose")},function(e,t,n){n(23)("observable")},function(e,t,n){n(23)("patternMatch")},function(e,t,n){n(23)("replaceAll")},function(e,t,n){var r=n(200);e.exports=r},function(e,t,n){n(201);var r=n(11);e.exports=r.Object.assign},function(e,t,n){var r=n(4),i=n(136);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){var r=n(203);e.exports=r},function(e,t,n){n(204);var r=n(11).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){n(4)({target:"Object",stat:!0,sham:!n(28)},{create:n(79)})},function(e,t,n){"use strict";(function(e){var t=n(159),r=n.n(t),i=n(85),o=n.n(i),u=n(160),l=n.n(u),f=n(70),c=n.n(f),d=n(161),h=n.n(d),p=n(107),g=n.n(p),m=n(162),v=n.n(m),_=n(71),E=n.n(_),y=n(69),T=n.n(y),S=n(163),A=n.n(S),I=n(164),R=n.n(I),b=n(41),M=n.n(b),w=n(10),D=n.n(w),C=n(24),N=n.n(C),O=n(165),L=n.n(O),x=n(29),P=n.n(x),F=n(45),U=n.n(F),k=n(30),B=n.n(k),G=n(3),q=n.n(G),Y=n(13),K=n.n(Y),H=n(108),V=n.n(H),j=n(72),z=n.n(j),W=n(8),X=n.n(W),Q=n(25),Z=n.n(Q),$=n(14),J=n.n($),ee=n(15),te=n.n(ee),ne=n(86),re=n.n(ne),ie=n(6),ae=n.n(ie),oe=n(166),se=n.n(oe),ue=n(17),le=n.n(ue),fe=n(21),ce=n.n(fe),de=n(12),he=n.n(de),pe=n(27),ge=n.n(pe),me=n(109),ve=n.n(me),_e=n(2),Ee=n.n(_e),ye=n(65),Te=n.n(ye),Se=n(87),Ae=n.n(Se),Ie=n(88),Re=n.n(Ie),be=n(89),Me=n.n(be),we=n(90),De=n.n(we),Ce=n(22),Ne=n.n(Ce),Oe=n(5),Le=n.n(Oe),xe=n(9),Pe=n.n(xe),Fe=n(1),Ue=n.n(Fe),ke=n(0),Be=n.n(ke),Ge=n(35),qe=n.n(Ge),Ye=n(7),Ke=n.n(Ye),He=n(36),Ve=n.n(He);/*! v3.1.2-, 2020-07-14T14:02:27Z */!function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){return i(t[o][1][e]||e)}),l,l.exports,e,t,n,r)}return n[o].exports}for(var a=!1,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){var r,i,o,u=function(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):(r<2048?t.push(192|r>>6):(r<65536?t.push(224|r>>12):(t.push(240|r>>18),t.push(128|63&r>>12)),t.push(128|63&r>>6)),t.push(128|63&r))}return t},l=function(e){for(var t=[],n=0;n<e.length;){var r=e[n++];r<128||(r<224?r=(31&r)<<6:(r<240?r=(15&r)<<12:(r=(7&r)<<18,r|=(63&e[n++])<<12),r|=(63&e[n++])<<6),r|=63&e[n++]),t.push(String.fromCharCode(r))}return t.join("")},f={};function c(e){for(var t=0,n=[],i=0|e.length/3;0<i--;){var a=(e[t]<<16)+(e[t+1]<<8)+e[t+2];t+=3,n.push(r.charAt(63&a>>18)),n.push(r.charAt(63&a>>12)),n.push(r.charAt(63&a>>6)),n.push(r.charAt(63&a))}return 2==e.length-t?(a=(e[t]<<16)+(e[t+1]<<8),n.push(r.charAt(63&a>>18)),n.push(r.charAt(63&a>>12)),n.push(r.charAt(63&a>>6)),n.push("=")):1==e.length-t&&(a=e[t]<<16,n.push(r.charAt(63&a>>18)),n.push(r.charAt(63&a>>12)),n.push("==")),n.join("")}function d(e){for(var t=0,n=[],r=0|e.length/4;0<r--;){var a=(i[e.charCodeAt(t)]<<18)+(i[e.charCodeAt(t+1)]<<12)+(i[e.charCodeAt(t+2)]<<6)+i[e.charCodeAt(t+3)];n.push(255&a>>16),n.push(255&a>>8),n.push(255&a),t+=4}return n&&("="==e.charAt(t-2)?(n.pop(),n.pop()):"="==e.charAt(t-1)&&n.pop()),n}r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(){for(var e=[],t=0;t<r.length;++t)e[r.charCodeAt(t)]=t;return e["=".charCodeAt(0)]=0,e}(),o={encode:function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},decode:function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")}},f.decodeArray=function(e){var t=d(e);return new Uint8Array(t)},f.encodeASCII=function(e){return c(o.encode(e))},f.decodeASCII=function(e){var t=d(e);return o.decode(t)},f.encode=function(e){return c(u(e))},f.decode=function(e){var t=d(e);return l(t)},void 0!==n&&(n.decode=f.decode,n.decodeArray=f.decodeArray,n.encode=f.encode,n.encodeASCII=f.encodeASCII)},{}],2:[function(e,t,n){!function(e){function t(e){var t=e;return i.hasOwnProperty(e)&&(t=i[e]),String.fromCharCode(t)}function n(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t}function r(e,t,n,r,i){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1}var i={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},a={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},o={17:2,18:4,21:6,22:8,23:10,19:13,20:15},s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},u={25:2,26:4,29:6,30:8,31:10,27:13,28:15},l=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}};function c(e,t,n,i,a,o){this.uchar=e||" ",this.penState=new r(t,n,i,a,o)}function d(){this.chars=[];for(var e=0;e<32;e++)this.chars.push(new c);this.pos=0,this.currPenState=new r}function h(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new d);this.currRow=14,this.nrRollUpRows=null,this.reset()}function p(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new h,this.nonDisplayedMemory=new h,this.lastOutputScreen=new h,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}function g(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new p(1,t),new p(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}r.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}},c.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}},d.prototype={equals:function(e){for(var t=!0,n=0;n<32;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<32;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<32;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(f.log("ERROR","Negative cursor position "+this.pos),this.pos=0):32<this.pos&&(f.log("ERROR","Too large cursor position "+this.pos),this.pos=32)},moveCursor:function(e){var t=this.pos+e;if(1<e)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){144<=e&&this.backSpace();var n=t(e);32<=this.pos?f.log("ERROR","Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1))},clearFromPos:function(e){for(var t=e;t<32;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;n<32;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}},h.prototype={reset:function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},equals:function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){f.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){f.log("INFO","pacData = "+Ve()(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var n,r,i=this.rows[this.currRow];null!==e.indent&&(n=e.indent,r=Math.max(n-1,0),i.setCursor(e.indent),e.color=i.chars[r].penState.foreground);var a={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(a)},setBkgData:function(e){f.log("INFO","bkgData = "+Ve()(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){var e,t,n,r;null!==this.nrRollUpRows?(f.log("TEXT",this.getDisplayText()),n=this.currRow+1-this.nrRollUpRows,(r=Ke()(e=this.rows).call(e,n,1)[0]).clear(),Ke()(t=this.rows).call(t,this.currRow,0,r),f.log("INFO","Rolling up")):f.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(e){e=e||!1;for(var t,n=[],r="",i=0;i<15;i++){var a=this.rows[i].getTextString();a&&(t=i+1,e?n.push("Row "+t+': "'+a+'"'):n.push(qe()(a).call(a)))}return 0<n.length&&(r=e?"["+n.join(" | ")+"]":n.join("\n")),r},getTextAndFormat:function(){return this.rows}},p.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,f.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";f.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(f.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){f.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){f.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){f.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){f.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){f.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){f.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){f.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){f.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){f.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){f.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){f.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){var e;f.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode&&(e=this.displayedMemory,this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,f.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())),this.outputDataUpdate()},cc_TO:function(e){f.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t,n={flash:!1};n.underline=e%2==1,n.italics=46<=e,n.italics?n.foreground="white":(t=Math.floor(e/2)-16,n.foreground=["white","green","blue","cyan","red","yellow","magenta"][t]),f.log("INFO","MIDROW: "+Ve()(n)),this.writeScreen.setPen(n)},outputDataUpdate:function(){var e=f.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}},g.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var r,i=!1;this.lastTime=e,f.setTime(e);for(var a=0;a<t.length;a+=2){var o=127&t[a],s=127&t[a+1];16<=o&&o<=31&&o===this.lastCmdA&&s===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,f.log("DEBUG","Repeated command ("+n([o,s])+") is dropped")):0!=o||0!=s?(f.log("DATA","["+n([t[a],t[a+1]])+"] -> ("+n([o,s])+")"),(r=(r=(r=(r=this.parseCmd(o,s))||this.parseMidrow(o,s))||this.parsePAC(o,s))||this.parseBackgroundAttributes(o,s))||(i=this.parseChars(o,s))&&(this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-1].insertChars(i):f.log("WARNING","No channel found yet. TEXT-MODE?")),r?this.dataCounters.cmd+=2:i?this.dataCounters.char+=2:(this.dataCounters.other+=2,f.log("WARNING","Couldn't parse cleaned data "+n([o,s])+" orig: "+n([t[a],t[a+1]])))):this.dataCounters.padding+=2}},parseCmd:function(e,t){var n;if(!((20===e||21===e||28===e||29===e)&&32<=t&&t<=47||(23===e||31===e)&&33<=t&&t<=35))return!1;n=20===e||21===e||23===e?1:2;var r=this.channels[n-1];return 20===e||21===e||28===e||29===e?32===t?r.cc_RCL():33===t?r.cc_BS():34===t?r.cc_AOF():35===t?r.cc_AON():36===t?r.cc_DER():37===t?r.cc_RU(2):38===t?r.cc_RU(3):39===t?r.cc_RU(4):40===t?r.cc_FON():41===t?r.cc_RDC():42===t?r.cc_TR():43===t?r.cc_RTD():44===t?r.cc_EDM():45===t?r.cc_CR():46===t?r.cc_ENM():47===t&&r.cc_EOC():r.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},parseMidrow:function(e,t){var r=null;if((17===e||25===e)&&32<=t&&t<=47){if((r=17===e?1:2)!==this.currChNr)return f.log("ERROR","Mismatch channel in midrow parsing"),!1;var i=this.channels[r-1];return i.insertChars([32]),i.cc_MIDROW(t),f.log("DEBUG","MIDROW ("+n([e,t])+")"),this.lastCmdA=e,this.lastCmdB=t,!0}return!1},parsePAC:function(e,t){var n,r;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127||(16===e||24===e)&&64<=t&&t<=95))return!1;n=e<=23?1:2,r=64<=t&&t<=95?1==n?a[e]:s[e]:1==n?o[e]:u[e];var i=this.interpretPAC(r,t);return this.channels[n-1].setPAC(i),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},interpretPAC:function(e,t){var n={color:null,italics:!1,indent:null,underline:!1,row:e},r=95<t?t-96:t-64;return n.underline=1==(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},parseChars:function(e,r){var i,a,o,s=null,u=null;return 17<=(o=25<=e?(s=2,e-8):(s=1,e))&&o<=19?(r,i=17===o?r+80:18===o?r+112:r+144,f.log("INFO","Special char '"+t(i)+"' in channel "+s),u=[i],this.lastCmdA=e,this.lastCmdB=r):32<=e&&e<=127&&(u=0===r?[e]:[e,r],this.lastCmdA=null,this.lastCmdB=null),u&&(a=n(u),f.log("DEBUG","Char codes =  "+a.join(","))),u},parseBackgroundAttributes:function(e,t){var n,r,i;return((16===e||24===e)&&32<=t&&t<=47||(23===e||31===e)&&45<=t&&t<=47)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=l[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=e<24?1:2,this.channels[i-1].setBkgData(n),this.lastCmdA=e,this.lastCmdB=t,!0)},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}},e.logger=f,e.PenState=r,e.CaptionScreen=h,e.Cea608Parser=g,e.findCea608Nalus=function(e,t,n){for(var r,i=t,a=[];i<t+n;){if(r=e.getUint32(i),6==(31&e.getUint8(i+4)))for(var o=i+5,s=-1;o<i+4+r-1;){s=0;for(var u=255;255===u;)s+=u=e.getUint8(o),o++;var l=0;for(u=255;255===u;)l+=u=e.getUint8(o),o++;!function(e,t,n,r){if(4!==e||t<8)return null;var i=n.getUint8(r),a=n.getUint16(r+1),o=n.getUint32(r+3),s=n.getUint8(r+7);return 181==i&&49==a&&1195456820==o&&3==s}(s,l,e,o)||a.push([o,l]),o+=l}i+=r+4}return a},e.extractCea608DataFromRange=function(e,t){var n=t[0],r=[[],[]];n+=8;var i=31&e.getUint8(n);n+=2;for(var a=0;a<i;a++){var o=e.getUint8(n),s=4&o,u=3&o;n++;var l=e.getUint8(n);n++;var f=e.getUint8(n);n++,s&&(127&l)+(127&f)!=0&&(0==u?(r[0].push(l),r[0].push(f)):1==u&&(r[1].push(l),r[1].push(f)))}return r}}(void 0===n?(void 0).cea608parser={}:n)},{}],3:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function(e){void 0===(e=e||{}).escapeMode&&(e.escapeMode=!0),void 0===e.attributePrefix&&(e.attributePrefix="_"),e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1),void 0===e.ignoreRoot&&(e.ignoreRoot=!1);var t=1,n=3,r=4,i=8,a=9;function o(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function s(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function u(e,t,n,r){for(var i=0;i<e.length;i++){var a=e[i];if("string"==typeof a){if(a==r)break}else if(a instanceof RegExp){if(a.test(r))break}else if("function"==typeof a&&a(t,n,r))break}return i!=e.length}function l(t,n,r){switch(e.arrayAccessForm){case"property":t[n]instanceof Array?t[n+"_asArray"]=t[n]:t[n+"_asArray"]=[t[n]]}!(t[n]instanceof Array)&&0<e.arrayAccessFormPaths.length&&u(e.arrayAccessFormPaths,t,n,r)&&(t[n]=[t[n]])}function f(e){var t,n=e.split(/[-T:+Z]/g),r=new Date(n[0],n[1]-1,n[2]),i=n[5].split(".");return r.setHours(n[3],n[4],i[0]),1<i.length&&r.setMilliseconds(i[1]),n[6]&&n[7]?(t=60*n[6]+Number(n[7]),t=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*t:t),r.setMinutes(r.getMinutes()-t-r.getTimezoneOffset())):-1!==Ue()(e).call(e,"Z",e.length-1)&&(r=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()))),r}function c(t,n,r,i){var a="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+n;if(null!=r)for(var o=0;o<r.length;o++){var u=r[o],l=t[u];e.escapeMode&&(l=s(l)),a+=" "+u.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?a+='"'+l+'"':a+="'"+l+"'"}return a+(i?"/>":">")}function d(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function h(t,n){var r,i,a,o;return"property"==e.arrayAccessForm&&(a=n.toString(),o="_asArray",-1!==Ue()(a).call(a,o,a.length-o.length))||0==Ue()(r=n.toString()).call(r,e.attributePrefix)||0==Ue()(i=n.toString()).call(i,"__")||t[n]instanceof Function}function p(e){var t=0;if(e instanceof Object)for(var n in e)h(e,n)||t++;return t}function g(t){var n=[];if(t instanceof Object)for(var r in t){var i,a;-1==Ue()(i=r.toString()).call(i,"__")&&0==Ue()(a=r.toString()).call(a,e.attributePrefix)&&n.push(r)}return n}function m(t){var n,r,i="";return t instanceof Object?i+=(r="",null!=(n=t).__cdata&&(r+="<![CDATA["+n.__cdata+"]]>"),null!=n.__text&&(e.escapeMode?r+=s(n.__text):r+=n.__text),r):null!=t&&(e.escapeMode?i+=s(t):i+=t),i}function v(e,t){return""===e?t:e+"."+t}this.parseXmlString=function(e){var t;if(window.ActiveXObject||window,void 0===e)return null;if(window.DOMParser){var n=new window.DOMParser;try{0<(t=n.parseFromString(e,"text/xml")).getElementsByTagNameNS("*","parsererror").length&&(t=null)}catch(e){t=null}}else 0==Ue()(e).call(e,"<?")&&(e=e.substr(Ue()(e).call(e,"?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?f(e):e},this.xml2json=function(s){return function s(c,d){if(c.nodeType==a){for(var h=new Object,p=c.childNodes,g=0;g<p.length;g++)(E=p[g]).nodeType==t&&(e.ignoreRoot?h=s(E):(h={})[A=o(E)]=s(E));return h}if(c.nodeType==t){var m,v;(h=new Object).__cnt=0;var _=[];for(p=c.childNodes,g=0;g<p.length;g++){var E,y,T,S,A=o(E=p[g]);E.nodeType!=i&&(O=h,L=A,x=y=d+"."+A,E.nodeType==t&&0<e.xmlElementsFilter.length&&!u(e.xmlElementsFilter,O,L,x)||(h.__cnt++,null==h[A]?(T=s(E,y),"#text"==A&&!/[^\s]/.test(T)||((S={})[A]=T,_.push(S)),h[A]=T,l(h,A,y)):(null!=h[A]&&(h[A]instanceof Array||(h[A]=[h[A]],l(h,A,y))),T=s(E,y),"#text"==A&&!/[^\s]/.test(T)||((S={})[A]=T,_.push(S)),h[A][h[A].length]=T)))}h.__children=_;for(var I=o(c),R=0;R<c.attributes.length;R++){var b=c.attributes[R];h.__cnt++;for(var M=b.value,w=0,D=e.matchers.length;w<D;w++){var C=e.matchers[w];C.test(b,I)&&(M=C.converter(b.value))}h[e.attributePrefix+b.name]=M}var N=c.prefix;return null!=N&&""!=N&&(h.__cnt++,h.__prefix=N),null!=h["#text"]&&(h.__text=h["#text"],h.__text instanceof Array&&(h.__text=h.__text.join("\n")),e.stripWhitespaces&&(h.__text=qe()(m=h.__text).call(m)),delete h["#text"],"property"==e.arrayAccessForm&&delete h["#text_asArray"],h.__text=function(t,n,r){if(0<e.datetimeAccessFormPaths.length){var i=r.split(".#")[0];return u(e.datetimeAccessFormPaths,t,n,i)?f(t):t}return t}(h.__text,A,d+"."+A)),null!=h["#cdata-section"]&&(h.__cdata=h["#cdata-section"],delete h["#cdata-section"],"property"==e.arrayAccessForm&&delete h["#cdata-section_asArray"]),0==h.__cnt&&"text"==e.emptyNodeForm?h="":1==h.__cnt&&null!=h.__text?h=h.__text:1!=h.__cnt||null==h.__cdata||e.keepCData?1<h.__cnt&&null!=h.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==h.__text||""==qe()(v=h.__text).call(v))&&delete h.__text:h=h.__cdata,delete h.__cnt,!e.enableToStringFunc||null==h.__text&&null==h.__cdata||(h.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),h}if(c.nodeType==n||c.nodeType==r)return c.nodeValue;var O,L,x}(s)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(t){return function t(n,r){var i,a,o,s,l,f="";if(0<p(n))for(var _ in n)h(n,_)||""!=r&&(o=n,l=v(r,s=_),0!=e.jsonPropertiesFilter.length&&""!=l&&!u(e.jsonPropertiesFilter,o,s,l))||(a=g(i=n[_]),null==i||null==i?f+=c(i,_,a,!0):i instanceof Object?i instanceof Array?f+=function(e,n,r,i){var a="";if(0==e.length)a+=c(e,n,r,!0);else for(var o=0;o<e.length;o++)a+=c(e[o],n,g(e[o]),!1),a+=t(e[o],v(i,n)),a+=d(e[o],n);return a}(i,_,a,r):i instanceof Date?(f+=c(i,_,a,!1),f+=i.toISOString(),f+=d(i,_)):0<p(i)||null!=i.__text||null!=i.__cdata?(f+=c(i,_,a,!1),f+=t(i,v(r,_)),f+=d(i,_)):f+=c(i,_,a,!0):(f+=c(i,_,a,!1),f+=m(i),f+=d(i,_)));return f+m(n)}(t,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.2.0"}},t.exports=n.default},{}],4:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=e(5),a=r(e(124)),o=r(e(161)),s=r(e(102)),u=r(e(45));dashjs.Protection=o.default,dashjs.MetricsReporting=a.default,dashjs.MediaPlayerFactory=s.default,dashjs.Debug=u.default,n.default=dashjs,n.MediaPlayer=i.MediaPlayer,n.Protection=o.default,n.MetricsReporting=a.default,n.MediaPlayerFactory=s.default,n.Debug=u.default},{102:102,124:124,161:161,45:45,5:5}],5:[function(t,n,r){(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Be()(r,"__esModule",{value:!0});var i=n(t(100)),a=n(t(47)),o=n(t(45)),s=t(50),u="undefined"!=typeof window&&window||e,l=u.dashjs;(l=l||(u.dashjs={})).MediaPlayer=i.default,l.FactoryMaker=a.default,l.Debug=o.default,l.Version=(0,s.getVersionString)(),r.default=l,r.MediaPlayer=i.default,r.FactoryMaker=a.default,r.Debug=o.default}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{100:100,45:45,47:47,50:50}],6:[function(e,t,n){n.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){for(var t,n=l(e),r=n[0],o=n[1],s=new a(function(e,t){return 3*(e+t)/4-t}(r,o)),u=0,f=0<o?r-4:r,c=0;c<f;c+=4)t=i[e.charCodeAt(c)]<<18|i[e.charCodeAt(c+1)]<<12|i[e.charCodeAt(c+2)]<<6|i[e.charCodeAt(c+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===o&&(t=i[e.charCodeAt(c)]<<2|i[e.charCodeAt(c+1)]>>4,s[u++]=255&t),1===o&&(t=i[e.charCodeAt(c)]<<10|i[e.charCodeAt(c+1)]<<4|i[e.charCodeAt(c+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(function(e,t,n){for(var i,a=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(function(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}(i));return a.join("")}(e,o,s<o+16383?s:o+16383));return 1==i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2==i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=Ue()(e).call(e,"=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],7:[function(e,t,n){},{}],8:[function(e,t,n){var r=e(6),i=e(13);n.Buffer=s,n.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},n.INSPECT_MAX_BYTES=50;var a=2147483647;function o(e){if(a<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,n){if("number"!=typeof e)return u(e,t,n);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}function u(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|h(e,t),r=o(n),i=r.write(e,t);return i!==n&&(r=Pe()(r).call(r,0,i)),r}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+Le()(e));if(N(e,ArrayBuffer)||e&&N(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=s.prototype,r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var i=function(e){if(s.isBuffer(e)){var t=0|d(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||O(e.length)?o(0):c(e):"Buffer"===e.type&&Ne()(e.data)?c(e.data):void 0}(e);if(i)return i;if(void 0!==De.a&&null!=Me.a&&"function"==typeof e[Me.a])return s.from(e[Me.a]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+Le()(e))}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),o(e<0?0:0|d(e))}function c(e){for(var t=e.length<0?0:0|d(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e){if(a<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||N(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+Le()(e));var n=e.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return w(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return D(e).length;default:if(i)return r?-1:w(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,n){var i,a,o,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",a=t;a<n;++a)i+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[a]);return i}(this,t,n);case"utf8":case"utf-8":return y(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return i=this,o=n,0===(a=t)&&o===i.length?r.fromByteArray(i):r.fromByteArray(Pe()(i).call(i,a,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=Pe()(e).call(e,t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}(this,t,n);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),O(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Ue()(Uint8Array.prototype)?i?Ue()(Uint8Array.prototype).call(e,t,n):Re()(Uint8Array.prototype).call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var a=1,o=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o/=a=2,s/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i)for(var l=-1,f=n;f<o;f++)if(u(e,f)===u(t,-1===l?0:f-l)){if(-1===l&&(l=f),f-l+1===s)return l*a}else-1!==l&&(f-=f-l),l=-1;else for(o<n+s&&(n=o-s),f=n;0<=f;f--){for(var c=!0,d=0;d<s;d++)if(u(e,f+d)!==u(t,d)){c=!1;break}if(c)return f}return-1}function _(e,t,n,r){return C(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return C(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function y(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,u,l=e[i],f=null,c=239<l?4:223<l?3:191<l?2:1;if(i+c<=n)switch(c){case 1:l<128&&(f=l);break;case 2:128==(192&(a=e[i+1]))&&127<(u=(31&l)<<6|63&a)&&(f=u);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&2047<(u=(15&l)<<12|(63&a)<<6|63&o)&&(u<55296||57343<u)&&(f=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&65535<(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)&&u<1114112&&(f=u)}null===f?(f=65533,c=1):65535<f&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=c}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,Pe()(e).call(e,r,r+=T));return n}(r)}n.kMaxLength=a,(s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Be()(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Be()(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),void 0!==De.a&&null!=Ae.a&&s[Ae.a]===s&&Be()(s,Ae.a,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=u,s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,n){var r,i,a,s,u;return s=t,u=n,l(a=e),a<=0||void 0===s?o(a):"string"==typeof u?Te()(r=o(a)).call(r,s,u):Te()(i=o(a)).call(i,s)},s.allocUnsafe=f,s.allocUnsafeSlow=f,s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(N(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),N(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Ne()(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(i=t=0;i<e.length;++i)t+=e[i].length;for(var n=s.allocUnsafe(t),r=0,i=0;i<e.length;++i){var a=e[i];if(N(a,Uint8Array)&&(a=s.from(a)),!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?y(this,0,e):p.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e,t="",r=n.INSPECT_MAX_BYTES;t=qe()(e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ")).call(e);return this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s.prototype.compare=function(e,t,n,r,i){if(N(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+Le()(e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),u=Math.min(a,o),l=Pe()(d=this).call(d,r,i),f=Pe()(e).call(e,t,n),c=0;c<u;++c){var d;if(l[c]!==f[c]){a=l[c],o=f[c];break}}return a<o?-1:o<a?1:0},s.prototype.includes=function(e,t,n){var r;return-1!==Ue()(r=this).call(r,e,t,n)},s.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var a,o,s,u,l=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;(!r||i<(r=Number(r)))&&(r=i);var a=t.length;a/2<r&&(r=a/2);for(var o=0;o<r;++o){var s=Ee()(t.substr(2*o,2),16);if(O(s))return o;e[n+o]=s}return o}(this,e,t,n);case"utf8":case"utf-8":return s=t,u=n,C(w(e,this.length-s),this,s,u);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return this,a=t,o=n,C(D(e),this,a,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(l)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),l=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Pe()(Array.prototype).call(this._arr||this,0)}};var T=4096;function S(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,r,i,a){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,a){return t=+t,n>>>=0,a||I(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function b(e,t,n,r,a){return t=+t,n>>>=0,a||I(e,0,n,8),i.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=s.prototype,r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var r=t,i=1,a=this[e+--r];0<r&&(i*=256);)a+=this[e+--r]*i;return(i*=128)<=a&&(a-=Math.pow(2,8*t)),a},s.prototype.readInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||S(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||S(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||S(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||S(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||S(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||S(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||A(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||A(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;0<=--i&&(a*=256);)this[t+i]=e/a&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){var i;e=+e,t>>>=0,r||A(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){var i;e=+e,t>>>=0,r||A(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var a=n-1,o=1,s=0;for(this[t+a]=255&e;0<=--a&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return b(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return b(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){var i;if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),t=t||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a=r-n;if(this===e&&"function"==typeof ve()(Uint8Array.prototype))ve()(i=this).call(i,t,n,r);else if(this===e&&n<t&&t<r)for(var o=a-1;0<=o;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return a},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var i;1===e.length&&(i=e.charCodeAt(0),("utf8"===r&&i<128||"latin1"===r)&&(e=i))}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(a=t;a<n;++a)this[a]=e;else{var o=s.isBuffer(e)?e:s.from(e,r),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=o[a%u]}return this};var M=/[^+/0-9A-Za-z-_]/g;function w(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if(55295<(n=e.charCodeAt(o))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&a.push(239,191,189);continue}if(o+1===r){-1<(t-=3)&&a.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&a.push(239,191,189);if(i=null,n<128){if(--t<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function D(e){return r.toByteArray(function(e){var t;if((e=qe()(t=e=e.split("=")[0]).call(t).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function C(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function N(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function O(e){return e!=e}},{13:13,6:6}],9:[function(e,t,n){var r={parseBuffer:function(e){return new i(e).parse()},addBoxProcessor:function(e,t){"string"==typeof e&&"function"==typeof t&&(a.prototype._boxProcessors[e]=t)},createFile:function(){return new i},createBox:function(e,t,n){var r=a.create(e);return t&&t.append(r,n),r},createFullBox:function(e,t,n){var i=r.createBox(e,t,n);return i.version=0,i.flags=0,i},Utils:{}};r.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(n).decode(e);var r=[],i=0;if("utf-8"===n)for(;i<e.byteLength;){var a=e.getUint8(i++);a<128||(a<224?a=(31&a)<<6:(a<240?a=(15&a)<<12:(a=(7&a)<<18,a|=(63&e.getUint8(i++))<<12),a|=(63&e.getUint8(i++))<<6),a|=63&e.getUint8(i++)),r.push(String.fromCharCode(a))}else for(;i<e.byteLength;)r.push(String.fromCharCode(e.getUint8(i++)));return r.join("")},r.Utils.utf8ToByteArray=function(e){var t,n;if("undefined"!=typeof TextEncoder)t=(new TextEncoder).encode(e);else for(t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):(r<2048?t.push(192|r>>6):(r<65536?t.push(224|r>>12):(t.push(240|r>>18),t.push(128|63&r>>12)),t.push(128|63&r>>6)),t.push(128|63&r))}return t},r.Utils.appendBox=function(e,t,n){if(t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,-1!==n)if(null!=n){var r,i,a=-1;if("number"==typeof n)a=n;else{if("string"==typeof n)i=n;else{if("object"!=Le()(n)||!n.type)return void e.boxes.push(t);i=n.type}for(var o=0;o<e.boxes.length;o++)if(i===e.boxes[o].type){a=o+1;break}}Ke()(r=e.boxes).call(r,a,0,t)}else e.boxes.push(t)},void 0!==n&&(n.parseBuffer=r.parseBuffer,n.addBoxProcessor=r.addBoxProcessor,n.createFile=r.createFile,n.createBox=r.createBox,n.createFullBox=r.createFullBox,n.Utils=r.Utils),r.Cursor=function(e){this.offset=void 0===e?0:e};var i=function(e){this._cursor=new r.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var n=[];return i._sweep.call(this,e,n,t),n},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=a.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,n){for(var r in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&n)return;i._sweep.call(this.boxes[r],e,t,n)}},i.prototype.write=function(){for(var e=0,t=0;t<this.boxes.length;t++)e+=this.boxes[t].getLength(!1);var n=new Uint8Array(e);for(this._rawo=new DataView(n.buffer),this.bytes=n,t=this._cursor.offset=0;t<this.boxes.length;t++)this.boxes[t].write();return n.buffer},i.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)};var a=function(){this._cursor=new r.Cursor};a.parse=function(e){var t=new a;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},a.create=function(e){var t=new a;return t.type=e,t.boxes=[],t},a.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],a.prototype._boxProcessors={},a.prototype._procField=function(e,t,n){this._parsing?this[e]=this._readField(t,n):this._writeField(t,n,this[e])},a.prototype._procFieldArray=function(e,t,n,r){var i;if(this._parsing)for(this[e]=[],i=0;i<t;i++)this[e][i]=this._readField(n,r);else for(i=0;i<this[e].length;i++)this._writeField(n,r,this[e][i])},a.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},a.prototype._procEntries=function(e,t,n){var r;if(this._parsing)for(this[e]=[],r=0;r<t;r++)this[e].push({}),n.call(this,this[e][r]);else for(r=0;r<t;r++)n.call(this,this[e][r])},a.prototype._procSubEntries=function(e,t,n,r){var i;if(this._parsing)for(e[t]=[],i=0;i<n;i++)e[t].push({}),r.call(this,e[t][i]);else for(i=0;i<n;i++)r.call(this,e[t][i])},a.prototype._procEntryField=function(e,t,n,r){this._parsing?e[t]=this._readField(n,r):this._writeField(n,r,e[t])},a.prototype._procSubBoxes=function(e,t){var n;if(this._parsing)for(this[e]=[],n=0;n<t;n++)this[e].push(a.parse(this));else for(n=0;n<t;n++)this._rawo?this[e][n].write():this.size+=this[e][n].getLength()},a.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}},a.prototype._readInt=function(e){var t=null,n=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(n);break;case 16:t=this._raw.getInt16(n);break;case 32:t=this._raw.getInt32(n);break;case 64:var r=this._raw.getInt32(n),i=this._raw.getInt32(4+n);t=r*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},a.prototype._readUint=function(e){var t,n,r=null,i=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:r=this._raw.getUint8(i);break;case 16:r=this._raw.getUint16(i);break;case 24:r=((t=this._raw.getUint16(i))<<8)+(n=this._raw.getUint8(2+i));break;case 32:r=this._raw.getUint32(i);break;case 64:t=this._raw.getUint32(i),n=this._raw.getUint32(4+i),r=t*Math.pow(2,32)+n}return this._cursor.offset+=e>>3,r},a.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},a.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},a.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},a.prototype._readData=function(e){var t=0<e?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(0<t){var n=new Uint8Array(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,n}return null},a.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),t=null;return 0<e&&(t=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),t?r.Utils.dataViewToString(t):t},a.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{var e;switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==Ue()(e=this._boxContainers).call(e,this.type)?this._parseContainerBox():this._data=this._readData())}},a.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},a.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(a.parse(this))},a.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)},a.prototype.getLength=function(){var e;if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==Ue()(e=this._boxContainers).call(e,this.type))for(var t=0;t<this.boxes.length;t++)this.size+=this.boxes[t].getLength();return this._data&&this._writeData(this._data),this.size},a.prototype.write=function(){var e;switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==Ue()(e=this._boxContainers).call(e,this.type))for(var t=0;t<this.boxes.length;t++)this.boxes[t].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},a.prototype._writeInt=function(e,t){if(this._rawo){var n=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(n,t);break;case 16:this._rawo.setInt16(n,t);break;case 32:this._rawo.setInt32(n,t);break;case 64:var r=Math.floor(t/Math.pow(2,32)),i=t-r*Math.pow(2,32);this._rawo.setUint32(n,r),this._rawo.setUint32(4+n,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},a.prototype._writeUint=function(e,t){if(this._rawo){var n,r,i=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(i,t);break;case 16:this._rawo.setUint16(i,t);break;case 24:n=(16776960&t)>>8,r=255&t,this._rawo.setUint16(i,n),this._rawo.setUint8(2+i,r);break;case 32:this._rawo.setUint32(i,t);break;case 64:r=t-(n=Math.floor(t/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(i,n),this._rawo.setUint32(4+i,r)}this._cursor.offset+=e>>3}else this.size+=e>>3},a.prototype._writeString=function(e,t){for(var n=0;n<e;n++)this._writeUint(8,t.charCodeAt(n))},a.prototype._writeTerminatedString=function(e){if(0!==e.length){for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)}},a.prototype._writeTemplate=function(e,t){var n=Math.floor(t),r=(t-n)*Math.pow(2,e/2);this._writeUint(e/2,n),this._writeUint(e/2,r)},a.prototype._writeData=function(e){if(e)if(this._rawo){if(e instanceof Array){for(var t=this._cursor.offset-this._rawo.byteOffset,n=0;n<e.length;n++)this._rawo.setInt8(t+n,e[n]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},a.prototype._writeUTF8String=function(e){var t=r.Utils.utf8ToByteArray(e);if(this._rawo)for(var n=new DataView(this._rawo.buffer,this._cursor.offset,t.length),i=0;i<t.length;i++)n.setUint8(i,t[i]);else this.size+=t.length},a.prototype._writeField=function(e,t,n){switch(e){case"uint":this._writeUint(t,n);break;case"int":this._writeInt(t,n);break;case"template":this._writeTemplate(t,n);break;case"string":-1==t?this._writeTerminatedString(n):this._writeString(t,n);break;case"data":this._writeData(n);break;case"utf8":this._writeUTF8String(n)}},a.prototype._boxProcessors.avc1=a.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},a.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},a.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"segment_duration","uint",1===this.version?64:32),this._procEntryField(e,"media_time","int",1===this.version?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)}))},a.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},a.prototype._boxProcessors.free=a.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},a.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},a.prototype._boxProcessors.ftyp=a.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},a.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},a.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},a.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},a.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},a.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},a.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},a.prototype._boxProcessors.mp4a=a.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},a.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},a.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},a.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},a.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&ge()(this)&&this._procField("scheme_uri","string",-1)},a.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},a.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,(function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)}))},a.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},a.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,(function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,(function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)}))}))},a.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},a.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,(function(e){this._procEntryField(e,"subsample_size","uint",1===this.version?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)}))}))},a.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},a.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},a.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&ge()(this)&&this._procField("base_data_offset","uint",64),2&ge()(this)&&this._procField("sample_description_offset","uint",32),8&ge()(this)&&this._procField("default_sample_duration","uint",32),16&ge()(this)&&this._procField("default_sample_size","uint",32),32&ge()(this)&&this._procField("default_sample_flags","uint",32)},a.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,(function(e){this._procEntryField(e,"time","uint",1===this.version?64:32),this._procEntryField(e,"moof_offset","uint",1===this.version?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))}))},a.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},a.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},a.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&ge()(this)&&this._procField("data_offset","int",32),4&ge()(this)&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,(function(e){256&ge()(this)&&this._procEntryField(e,"sample_duration","uint",32),512&ge()(this)&&this._procEntryField(e,"sample_size","uint",32),1024&ge()(this)&&this._procEntryField(e,"sample_flags","uint",32),2048&ge()(this)&&this._procEntryField(e,"sample_composition_time_offset",1===this.version?"int":"uint",32)}))},a.prototype._boxProcessors["url "]=a.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},a.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},a.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},a.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},a.prototype._boxProcessors.vtte=function(){}},{}],10:[function(e,t,n){(function(e){function t(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return Ne.a?Ne()(e):"[object Array]"===t(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==Le()(e)},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===t(e)},n.isObject=function(e){return"object"==Le()(e)&&null!==e},n.isDate=function(e){return"[object Date]"===t(e)},n.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==Le()(e)||void 0===e},n.isBuffer=e.isBuffer}).call(this,{isBuffer:e(22)})},{22:22}],11:[function(e,t,n){var r=he.a||function(e){function t(){}return t.prototype=e,new t},i=ce.a||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},a=le()(Function.prototype)||function(e){var t=this;return function(){return t.apply(e,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=o).EventEmitter=o).prototype._events=void 0,o.prototype._maxListeners=void 0;var s,u=10;try{var l={};Be.a&&Be()(l,"x",{value:0}),s=0===l.x}catch(e){s=!1}function f(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,i){var a,o,s,u;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return(a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=r(null),e._eventsCount=0),o?("function"==typeof o?o=a[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),o.warned||(u=f(e))&&0<u&&o.length>u&&(o.warned=!0,(s=new Error("Possible EventEmitter memory leak detected. "+o.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.')).name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,"object"==("undefined"==typeof console?"undefined":Le()(console))&&console.warn&&console.warn("%s: %s",s.name,s.message))):(o=a[t]=n,++e._eventsCount),e}function d(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=a.call(d,r);return i.listener=n,r.wrapFn=i}function p(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length):[]}function g(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}s?Be()(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');u=e}}):o.defaultMaxListeners=u,o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(e,t,n,r){var i,a,o,s,u="error"===e,l=this._events;if(l)u=u&&null==l.error;else if(!u)return!1;if(u){if(1<arguments.length&&(i=t),i instanceof Error)throw i;var f=new Error('Unhandled "error" event. ('+i+")");throw f.context=i,f}if(!(a=l[e]))return!1;var c,d="function"==typeof a;switch(c=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=m(e,r),a=0;a<r;++a)i[a].call(n)}(a,d,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=m(e,i),o=0;o<i;++o)a[o].call(n,r)}(a,d,this,t);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=m(e,a),s=0;s<a;++s)o[s].call(n,r,i)}(a,d,this,t,n);break;case 4:!function(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=m(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}(a,d,this,t,n,r);break;default:for(o=new Array(c-1),s=1;s<c;s++)o[s-1]=arguments[s];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=m(e,i),o=0;o<i;++o)a[o].apply(n,r)}(a,d,this,o)}return!0},o.prototype.on=o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,i,a,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=r(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,o=n.length-1;0<=o;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,a=o;break}if(a<0)return this;0===a?n.shift():function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,a),1===n.length&&(i[e]=n[0]),i.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.removeAllListeners=function(e){var t,n=this._events;if(!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=r(null):delete n[e]),this;if(0===arguments.length){for(var a,o=i(n),s=0;s<o.length;++s)"removeListener"!==(a=o[s])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(s=t.length-1;0<=s;s--)this.removeListener(e,t[s]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},o.prototype.listenerCount=g,o.prototype.eventNames=function(){return 0<this._eventsCount?se()(this._events):[]}},{}],12:[function(e,t,n){var r=Ne.a,i=ce.a,a=Object.prototype.hasOwnProperty;t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==Le()(t)&&"object"==Le()(n)){var o,s,u=r(t),l=r(n);if(u&&l){if((p=t.length)!=n.length)return!1;for(o=p;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(u!=l)return!1;var f=t instanceof Date,c=n instanceof Date;if(f!=c)return!1;if(f&&c)return t.getTime()==n.getTime();var d=t instanceof RegExp,h=n instanceof RegExp;if(d!=h)return!1;if(d&&h)return t.toString()==n.toString();var p,g=i(t);if((p=g.length)!==i(n).length)return!1;for(o=p;0!=o--;)if(!a.call(n,g[o]))return!1;for(o=p;0!=o--;)if(!e(t[s=g[o]],n[s]))return!1;return!0}return t!=t&&n!=n}},{}],13:[function(e,t,n){n.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,f=-7,c=n?i-1:0,d=n?-1:1,h=e[t+c];for(c+=d,a=h&(1<<-f)-1,h>>=-f,f+=s;0<f;a=256*a+e[t+c],c+=d,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=r;0<f;o=256*o+e[t+c],c+=d,f-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=l}return(h?-1:1)*o*Math.pow(2,a-r)},n.write=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,f=(1<<l)-1,c=f>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),2<=(t+=1<=o+c?d/u:d*Math.pow(2,1-c))*u&&(o++,u/=2),f<=o+c?(s=0,o=f):1<=o+c?(s=(t*u-1)*Math.pow(2,i),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));8<=i;e[n+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;0<l;e[n+h]=255&o,h+=p,o/=256,l-=8);e[n+h-p]|=128*g}},{}],14:[function(e,t,n){function r(e,t,n,i){var a=i&&"seq"===i.timeContainer,o=0;i&&(o=a&&n?n.end:i.begin),t.begin=t.explicit_begin?t.explicit_begin+o:o;var s=t.begin,u=null;for(var l in t.sets)r(e,t.sets[l],u,t),s="seq"===t.timeContainer?t.sets[l].end:Math.max(s,t.sets[l].end),u=t.sets[l];if("contents"in t)for(var f in t.contents)r(e,t.contents[f],u,t),s="seq"===t.timeContainer?t.contents[f].end:Math.max(s,t.contents[f].end),u=t.contents[f];else s=a?t.begin:Number.POSITIVE_INFINITY;null!==t.explicit_end&&null!==t.explicit_dur?t.end=Math.min(t.begin+t.explicit_dur,o+t.explicit_end):null===t.explicit_end&&null!==t.explicit_dur?t.end=t.begin+t.explicit_dur:null!==t.explicit_end&&null===t.explicit_dur?t.end=o+t.explicit_end:t.end=s,delete t.explicit_begin,delete t.explicit_dur,delete t.explicit_end,e._registerEvent(t)}function i(e){this.node=e}function a(){this.events=[],this.head=null,this.body=null}function o(){this.styling=null,this.layout=null}function s(){this.styles={}}function u(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function l(){this.regions={}}function f(e){this.kind=e}function c(e){this.id=e}function d(e){this.regionID=e}function h(e){this.styleAttrs=e}function p(e){this.sets=e}function g(e){this.contents=e}function m(e,t,n){this.explicit_begin=e,this.explicit_end=t,this.explicit_dur=n}function v(){f.call(this,"body")}function _(){f.call(this,"div")}function E(){f.call(this,"p")}function y(){f.call(this,"span")}function T(){f.call(this,"span")}function S(){f.call(this,"br")}function A(){}function I(){}function R(e){return e&&"xml:id"in e.attributes&&e.attributes["xml:id"].value||null}function b(e){return e&&"style"in e.attributes?e.attributes.style.value.split(" "):[]}function M(e,t){var n={};if(null!==e)for(var r in e.attributes){var i,a=e.attributes[r].uri+" "+e.attributes[r].local,o=B.byQName[a];void 0!==o&&(null!==(i=o.parse(e.attributes[r].value))?(n[a]=i,o===B.byName.zIndex&&O(t,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):L(t,"Cannot parse styling attribute "+a+" --\x3e "+e.attributes[r].value))}return n}function w(e,t,n){for(var r in e.attributes)if(e.attributes[r].uri===t&&e.attributes[r].local===n)return e.attributes[r].value;return null}function D(e,t,n){var r,i=null;return null!==(r=/^(\d+(?:\.\d+)?)f$/.exec(n))?null!==t&&(i=ae()(r[1])/t):null!==(r=/^(\d+(?:\.\d+)?)t$/.exec(n))?null!==e&&(i=ae()(r[1])/e):null!==(r=/^(\d+(?:\.\d+)?)ms$/.exec(n))?i=ae()(r[1])/1e3:null!==(r=/^(\d+(?:\.\d+)?)s$/.exec(n))?i=ae()(r[1]):null!==(r=/^(\d+(?:\.\d+)?)h$/.exec(n))?i=3600*ae()(r[1]):null!==(r=/^(\d+(?:\.\d+)?)m$/.exec(n))?i=60*ae()(r[1]):null!==(r=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(n))?i=3600*Ee()(r[1])+60*Ee()(r[2])+ae()(r[3]):null!==(r=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(n))&&null!==t&&(i=3600*Ee()(r[1])+60*Ee()(r[2])+Ee()(r[3])+(null===r[4]?0:Ee()(r[4])/t)),i}function C(e,t,n,r){for(var i=t.length-1;0<=i;i--){var a=t[i];a in e.styles?N(e.styles[a].styleAttrs,n):L(r,"Non-existant style id referenced")}}function N(e,t){for(var n in e)n in t||(t[n]=e[n])}function O(e,t){if(e&&e.warn&&e.warn(t))throw t}function L(e,t){if(e&&e.error&&e.error(t))throw t}function x(e,t){throw e&&e.fatal&&e.fatal(t),t}function P(e,t){for(var n,r=0,i=e.length-1;r<=i;){var a=e[n=Math.floor((r+i)/2)];if(a<t)r=n+1;else{if(!(t<a))return{found:!0,index:n};i=n-1}}return{found:!1,index:r}}var F,U,k,B,G;F=void 0===n?this.imscDoc={}:n,U="undefined"==typeof sax?e(40):sax,k="undefined"==typeof imscNames?e(18):imscNames,B="undefined"==typeof imscStyles?e(19):imscStyles,G="undefined"==typeof imscUtils?e(20):imscUtils,F.fromXML=function(e,t,n){var f=U.parser(!0,{xmlns:!0}),c=[],d=[],h=[],p=0,g=null;f.onclosetag=function(e){if(c[0]instanceof s)for(var r in c[0].styles)!function e(t,n,r){for(;0<n.styleRefs.length;){var i=n.styleRefs.pop();i in t.styles?(e(t,t.styles[i],r),N(t.styles[i].styleAttrs,n.styleAttrs)):L(r,"Non-existant style id referenced")}}(c[0],c[0].styles[r],t);else if(c[0]instanceof E||c[0]instanceof y){if(1<c[0].contents.length){for(var a=[c[0].contents[0]],o=1;o<c[0].contents.length;o++)c[0].contents[o]instanceof T&&a[a.length-1]instanceof T?a[a.length-1].text+=c[0].contents[o].text:a.push(c[0].contents[o]);c[0].contents=a}c[0]instanceof y&&1===c[0].contents.length&&c[0].contents[0]instanceof T&&(c[0].text=c[0].contents[0].text,delete c[0].contents)}else c[0]instanceof i&&(c[0].node.uri===k.ns_tt&&"metadata"===c[0].node.local?p--:0<p&&n&&"onCloseTag"in n&&n.onCloseTag());h.shift(),d.shift(),c.shift()},f.ontext=function(e){var r;void 0===c[0]||(c[0]instanceof y||c[0]instanceof E?((r=new T).initFromText(g,c[0],e,h[0],t),c[0].contents.push(r)):c[0]instanceof i&&0<p&&n&&"onText"in n&&n.onText(e))},f.onopentag=function(e){var r=e.attributes["xml:space"];r?h.unshift(r.value):0===h.length?h.unshift("default"):h.unshift(h[0]);var f,m,T,R,b,M,w,D,C=e.attributes["xml:lang"];if(C?d.unshift(C.value):0===d.length?d.unshift(""):d.unshift(d[0]),e.uri===k.ns_tt?"tt"===e.local?(null!==g&&x(t,"Two <tt> elements at ("+this.line+","+this.column+")"),(g=new a).initFromNode(e,t),c.unshift(g)):"head"===e.local?(c[0]instanceof a||x(t,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),null!==g.head&&x("Second <head> element at ("+this.line+","+this.column+")"),g.head=new o,c.unshift(g.head)):"styling"===e.local?(c[0]instanceof o||x(t,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),null!==g.head.styling&&x("Second <styling> element at ("+this.line+","+this.column+")"),g.head.styling=new s,c.unshift(g.head.styling)):"style"===e.local?c[0]instanceof s?((f=new u).initFromNode(e,t),f.id?g.head.styling.styles[f.id]=f:L(t,"<style> element missing @id attribute"),c.unshift(f)):c[0]instanceof A?((f=new u).initFromNode(e,t),N(f.styleAttrs,c[0].styleAttrs),c.unshift(f)):x(t,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")"):"layout"===e.local?(c[0]instanceof o||x(t,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),null!==g.head.layout&&x(t,"Second <layout> element at "+this.line+","+this.column+")"),g.head.layout=new l,c.unshift(g.head.layout)):"region"===e.local?(c[0]instanceof l||x(t,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")"),(m=new A).initFromNode(g,e,t),!m.id||m.id in g.head.layout.regions?L(t,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):g.head.layout.regions[m.id]=m,c.unshift(m)):"body"===e.local?(c[0]instanceof a||x(t,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==g.body&&x(t,"Second <body> element at "+this.line+","+this.column+")"),(T=new v).initFromNode(g,e,t),g.body=T,c.unshift(T)):"div"===e.local?(c[0]instanceof _||c[0]instanceof v||x(t,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")"),(R=new _).initFromNode(g,c[0],e,t),c[0].contents.push(R),c.unshift(R)):"p"===e.local?(c[0]instanceof _||x(t,"Parent of <p> element is not <div> at "+this.line+","+this.column+")"),(b=new E).initFromNode(g,c[0],e,t),c[0].contents.push(b),c.unshift(b)):"span"===e.local?(c[0]instanceof y||c[0]instanceof E||x(t,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")"),(M=new y).initFromNode(g,c[0],e,h[0],t),c[0].contents.push(M),c.unshift(M)):"br"===e.local?(c[0]instanceof y||c[0]instanceof E||x(t,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")"),(w=new S).initFromNode(g,c[0],e,t),c[0].contents.push(w),c.unshift(w)):"set"===e.local?(c[0]instanceof y||c[0]instanceof E||c[0]instanceof _||c[0]instanceof v||c[0]instanceof A||c[0]instanceof S||x(t,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")"),(D=new I).initFromNode(g,c[0],e,t),c[0].sets.push(D),c.unshift(D)):c.unshift(new i(e)):c.unshift(new i(e)),c[0]instanceof i)if(e.uri===k.ns_tt&&"metadata"===e.local)p++;else if(0<p&&n&&"onOpenTag"in n){var O=[];for(var P in e.attributes)O[e.attributes[P].uri+" "+e.attributes[P].local]={uri:e.attributes[P].uri,local:e.attributes[P].local,value:e.attributes[P].value};n.onOpenTag(e.uri,e.local,O)}},f.write(e).close(),null!==g.head?delete g.head.styling:g.head=new o,null===g.head.layout&&(g.head.layout=new l);var m,R=!1;for(var b in g.head.layout.regions){R=!0;break}for(var M in R||(m=A.prototype.createDefaultRegion(),g.head.layout.regions[m.id]=m),g.head.layout.regions)r(g,g.head.layout.regions[M],null,null);return g.body&&r(g,g.body,null,null),g},a.prototype.initFromNode=function(e,t){this.cellResolution=function(e,t){var n,r=w(e,k.ns_ttp,"cellResolution"),i=15,a=32;return null!==r&&(null!==(n=/(\d+) (\d+)/.exec(r))?(a=Ee()(n[1]),i=Ee()(n[2])):O(t,"Malformed cellResolution value (using initial value instead)")),{w:a,h:i}}(e,t);var n=function(e,t){var n,r=w(e,k.ns_ttp,"frameRate"),i=30;null!==r&&(null!==(n=/(\d+)/.exec(r))?i=Ee()(n[1]):O(t,"Malformed frame rate attribute (using initial value instead)"));var a=w(e,k.ns_ttp,"frameRateMultiplier"),o=1;null!==a&&(null!==(n=/(\d+) (\d+)/.exec(a))?o=Ee()(n[1])/Ee()(n[2]):O(t,"Malformed frame rate multiplier attribute (using initial value instead)"));var s=o*i,u=1,l=w(e,k.ns_ttp,"tickRate");return null===l?null!==r&&(u=s):null!==(n=/(\d+)/.exec(l))?u=Ee()(n[1]):O(t,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:s,tickRate:u}}(e,t);this.effectiveFrameRate=n.effectiveFrameRate,this.tickRate=n.tickRate,this.aspectRatio=function(e,t){var n,r,i,a=w(e,k.ns_ittp,"aspectRatio"),o=null;return null!==a&&(null!==(n=/(\d+) (\d+)/.exec(a))?(r=Ee()(n[1]),i=Ee()(n[2]),0!==r&&0!==i?o=r/i:L(t,"Illegal aspectRatio values (ignoring)")):L(t,"Malformed aspectRatio attribute (ignoring)")),o}(e,t);var r=w(e,k.ns_ttp,"timeBase");null!==r&&"media"!==r&&x(t,"Unsupported time base");var i=function(e,t){var n=w(e,k.ns_tts,"extent");if(null===n)return null;var r=n.split(" ");if(2!==r.length)return O(t,"Malformed extent (ignoring)"),null;var i=G.parseLength(r[0]),a=G.parseLength(r[1]);return a&&i?{h:a,w:i}:(O(t,"Malformed extent values (ignoring)"),null)}(e,t);null===i?this.pxDimensions={h:480,w:640}:("px"===i.h.unit&&"px"===i.w.unit||x(t,"Extent on TT must be in px or absent"),this.pxDimensions={h:i.h.value,w:i.w.value})},a.prototype._registerEvent=function(e){var t,n,r,i;e.end<=e.begin||((r=P(this.events,e.begin)).found||Ke()(t=this.events).call(t,r.index,0,e.begin),e.end!==Number.POSITIVE_INFINITY&&((i=P(this.events,e.end)).found||Ke()(n=this.events).call(n,i.index,0,e.end)))},a.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},a.prototype.getMediaTimeEvents=function(){return this.events},u.prototype.initFromNode=function(e,t){this.id=R(e),this.styleAttrs=M(e,t),this.styleRefs=b(e)},c.prototype.initFromNode=function(e,t,n,r){this.id=R(n)},d.prototype.initFromNode=function(e,t,n,r){var i;this.regionID=(i=n)&&"region"in i.attributes?i.attributes.region.value:""},h.prototype.initFromNode=function(e,t,n,r){this.styleAttrs=M(n,r),null!==e.head&&null!==e.head.styling&&C(e.head.styling,b(n),this.styleAttrs,r)},p.prototype.initFromNode=function(e,t,n,r){this.sets=[]},g.prototype.initFromNode=function(e,t,n,r){this.contents=[]},m.prototype.initFromNode=function(e,t,n,r){var i,a,o,s=function(e,t,n){var r=null;t&&"begin"in t.attributes&&null===(r=D(e.tickRate,e.effectiveFrameRate,t.attributes.begin.value))&&O(n,"Malformed begin value "+t.attributes.begin.value+" (using 0)");var i=null;t&&"dur"in t.attributes&&null===(i=D(e.tickRate,e.effectiveFrameRate,t.attributes.dur.value))&&O(n,"Malformed dur value "+t.attributes.dur.value+" (ignoring)");var a=null;return t&&"end"in t.attributes&&null===(a=D(e.tickRate,e.effectiveFrameRate,t.attributes.end.value))&&O(n,"Malformed end value (ignoring)"),{explicit_begin:r,explicit_end:a,explicit_dur:i}}(e,n,r);this.explicit_begin=s.explicit_begin,this.explicit_end=s.explicit_end,this.explicit_dur=s.explicit_dur,this.timeContainer=(a=r,(o=(i=n)&&"timeContainer"in i.attributes?i.attributes.timeContainer.value:null)&&"par"!==o?"seq"===o?"seq":(L(a,"Illegal value of timeContainer (assuming 'par')"),"par"):"par")},v.prototype.initFromNode=function(e,t,n){h.prototype.initFromNode.call(this,e,null,t,n),m.prototype.initFromNode.call(this,e,null,t,n),p.prototype.initFromNode.call(this,e,null,t,n),d.prototype.initFromNode.call(this,e,null,t,n),g.prototype.initFromNode.call(this,e,null,t,n)},_.prototype.initFromNode=function(e,t,n,r){h.prototype.initFromNode.call(this,e,t,n,r),m.prototype.initFromNode.call(this,e,t,n,r),p.prototype.initFromNode.call(this,e,t,n,r),d.prototype.initFromNode.call(this,e,t,n,r),g.prototype.initFromNode.call(this,e,t,n,r)},E.prototype.initFromNode=function(e,t,n,r){h.prototype.initFromNode.call(this,e,t,n,r),m.prototype.initFromNode.call(this,e,t,n,r),p.prototype.initFromNode.call(this,e,t,n,r),d.prototype.initFromNode.call(this,e,t,n,r),g.prototype.initFromNode.call(this,e,t,n,r)},y.prototype.initFromNode=function(e,t,n,r,i){h.prototype.initFromNode.call(this,e,t,n,i),m.prototype.initFromNode.call(this,e,t,n,i),p.prototype.initFromNode.call(this,e,t,n,i),d.prototype.initFromNode.call(this,e,t,n,i),g.prototype.initFromNode.call(this,e,t,n,i),this.space=r},T.prototype.initFromText=function(e,t,n,r,i){m.prototype.initFromNode.call(this,e,t,null,i),this.text=n,this.space=r},S.prototype.initFromNode=function(e,t,n,r){d.prototype.initFromNode.call(this,e,t,n,r),m.prototype.initFromNode.call(this,e,t,n,r)},A.prototype.createDefaultRegion=function(){var e=new A;return c.call(e,""),h.call(e,{}),p.call(e,[]),m.call(e,0,Number.POSITIVE_INFINITY,null),e},A.prototype.initFromNode=function(e,t,n){c.prototype.initFromNode.call(this,e,null,t,n),h.prototype.initFromNode.call(this,e,null,t,n),m.prototype.initFromNode.call(this,e,null,t,n),p.prototype.initFromNode.call(this,e,null,t,n),null!==e.head&&null!==e.head.styling&&C(e.head.styling,b(t),this.styleAttrs,n)},I.prototype.initFromNode=function(e,t,n,r){m.prototype.initFromNode.call(this,e,t,n,r);var i=M(n,r);for(var a in this.qname=null,this.value=null,i){if(this.qname){L(r,"More than one style specified on set");break}this.qname=a,this.value=i[a]}}},{18:18,19:19,20:20,40:40}],15:[function(e,t,n){!function(e,t){function n(e,t,n){for(var r in e){var i=e[r].elements.length,a=e[r].elements[e[r].start_elem],o=e[r].elements[e[r].end_elem],s=Math.ceil(t)+"px",u="-"+Math.ceil(t)+"px";0!==i&&("lr"===n.ipd?(a.node.style.borderLeftColor=a.bgcolor||"#00000000",a.node.style.borderLeftStyle="solid",a.node.style.borderLeftWidth=s,a.node.style.marginLeft=u):"rl"===n.ipd?(a.node.style.borderRightColor=a.bgcolor||"#00000000",a.node.style.borderRightStyle="solid",a.node.style.borderRightWidth=s,a.node.style.marginRight=u):"tb"===n.ipd&&(a.node.style.borderTopColor=a.bgcolor||"#00000000",a.node.style.borderTopStyle="solid",a.node.style.borderTopWidth=s,a.node.style.marginTop=u),"lr"===n.ipd?(o.node.style.borderRightColor=o.bgcolor||"#00000000",o.node.style.borderRightStyle="solid",o.node.style.borderRightWidth=s,o.node.style.marginRight=u):"rl"===n.ipd?(o.node.style.borderLeftColor=o.bgcolor||"#00000000",o.node.style.borderLeftStyle="solid",o.node.style.borderLeftWidth=s,o.node.style.marginLeft=u):"tb"===n.ipd&&(o.node.style.borderBottomColor=o.bgcolor||"#00000000",o.node.style.borderBottomStyle="solid",o.node.style.borderBottomWidth=s,o.node.style.marginBottom=u))}}function r(e){for(var t=0;t<e.length-1;t++){var n,r,i=e[t].elements.length;0!==i&&!1===e[t].br&&(n=document.createElement("br"),(r=e[t].elements[i-1].node).parentElement.insertBefore(n,r.nextSibling))}}function i(e,t,n,r){for(var i=re()(n-t),a=0;a<=e.length;a++){var o,s,u=0===a?t:a===e.length?n:(e[a].before+e[a-1].after)/2;if(0<a)for(var l=0;l<e[a-1].elements.length;l++)null!==e[a-1].elements[l].bgcolor&&i*((s=e[a-1].elements[l]).after-u)<0&&(o=Math.ceil(Math.abs(u-s.after))+"px",s.node.style.backgroundColor=s.bgcolor,"lr"===r.bpd?s.node.style.paddingRight=o:"rl"===r.bpd?s.node.style.paddingLeft=o:"tb"===r.bpd&&(s.node.style.paddingBottom=o));if(a<e.length)for(var f=0;f<e[a].elements.length;f++)null!==(s=e[a].elements[f]).bgcolor&&0<i*(s.before-u)&&(o=Math.ceil(Math.abs(s.before-u))+"px",s.node.style.backgroundColor=s.bgcolor,"lr"===r.bpd?s.node.style.paddingLeft=o:"rl"===r.bpd?s.node.style.paddingRight=o:"tb"===r.bpd&&(s.node.style.paddingTop=o))}}function a(e,t){this.id=e,this.plist=t}function o(e,t){var n={before:null,after:null,start:null,end:null};return"tb"===t.bpd?(n.before=e.top,n.after=e.bottom,"lr"===t.ipd?(n.start=e.left,n.end=e.right):(n.start=e.right,n.end=e.left)):"lr"===t.bpd?(n.before=e.left,n.after=e.right,n.start=e.top,n.end=e.bottom):"rl"===t.bpd&&(n.before=e.right,n.after=e.left,n.start=e.top,n.end=e.bottom),n}function s(e,t,n,r){var i,a,u,l,f=t.style.backgroundColor||r;if(0===t.childElementCount)if("span"===t.localName){var c=t.getBoundingClientRect();if(0===c.height||0===c.width)return;var d,h,p=o(c,e);0!==n.length&&(i=p.before,a=p.after,u=n[n.length-1].before,a<(l=n[n.length-1].after)&&u<i||l<=a&&i<=u)?(d=re()(p.after-p.before),h=re()(p.end-p.start),d*(p.before-n[n.length-1].before)<0&&(n[n.length-1].before=p.before),0<d*(p.after-n[n.length-1].after)&&(n[n.length-1].after=p.after),h*(p.start-n[n.length-1].start)<0&&(n[n.length-1].start=p.start,n[n.length-1].start_elem=n[n.length-1].elements.length),0<h*(p.end-n[n.length-1].end)&&(n[n.length-1].end=p.end,n[n.length-1].end_elem=n[n.length-1].elements.length)):n.push({before:p.before,after:p.after,start:p.start,end:p.end,start_elem:0,end_elem:0,elements:[],text:"",br:!1}),n[n.length-1].text+=t.textContent,n[n.length-1].elements.push({node:t,bgcolor:f,before:p.before,after:p.after})}else"br"===t.localName&&0!==n.length&&(n[n.length-1].br=!0);else for(var g=t.firstChild;g;)g.nodeType===Node.ELEMENT_NODE&&s(e,g,n,f),g=g.nextSibling}function u(e,t){this.qname=e,this.map=t}e.render=function(e,u,f,c,h,p,g,m,v){var _,E=c||u.clientHeight,y=h||u.clientWidth;null!==e.aspectRatio&&(y<(_=E*e.aspectRatio)?E=Math.round(y/e.aspectRatio):y=_);var T=document.createElement("div");T.style.position="relative",T.style.width=y+"px",T.style.height=E+"px",T.style.margin="auto",T.style.top=0,T.style.bottom=0,T.style.left=0,T.style.right=0,T.style.zIndex=0;var S={h:E,w:y,regionH:null,regionW:null,imgResolver:f,displayForcedOnlyMode:p||!1,isd:e,errorHandler:g,previousISDState:m,enableRollUp:v||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null};for(var A in u.appendChild(T),e.contents)!function e(u,f,c){var h;if("region"===c.kind?(h=document.createElement("div")).style.position="absolute":"body"===c.kind||"div"===c.kind?h=document.createElement("div"):"p"===c.kind?h=document.createElement("p"):"span"===c.kind?h=document.createElement("span"):"br"===c.kind&&(h=document.createElement("br")),h){for(var p in h.style.margin="0",l){var g=l[p],m=c.styleAttrs[g.qname];void 0!==m&&null!==te()(g)&&te()(g).call(g,u,h,c,m)}var v,_=h;"region"===c.kind&&("lrtb"===(v=c.styleAttrs[t.byName.writingMode.qname])||"lr"===v?(u.ipd="lr",u.bpd="tb"):"rltb"===v||"rl"===v?(u.ipd="rl",u.bpd="tb"):"tblr"===v?(u.ipd="tb",u.bpd="lr"):"tbrl"!==v&&"tb"!==v||(u.ipd="tb",u.bpd="rl"));var E,y=c.styleAttrs[t.byName.linePadding.qname];y&&0<y&&(E=Math.ceil(y*u.h)+"px","tb"===u.bpd?(_.style.paddingLeft=E,_.style.paddingRight=E):(_.style.paddingTop=E,_.style.paddingBottom=E),u.lp=y);var T,S=c.styleAttrs[t.byName.multiRowAlign.qname];if(S&&"auto"!==S&&((T=document.createElement("span")).style.display="inline-block",T.style.textAlign=S,h.appendChild(T),_=T,u.mra=S),c.styleAttrs[t.byName.fillLineGap.qname]&&(u.flg=!0),"span"===c.kind&&c.text)if(u.lp||u.mra||u.flg)for(var A="",I=0;I<c.text.length;I++){A+=c.text.charAt(I);var R,b=c.text.charCodeAt(I);(b<55296||56319<b||I===c.text.length)&&((R=document.createElement("span")).textContent=A,h.appendChild(R),A="")}else h.textContent=c.text;for(var M in f.appendChild(h),c.contents)e(u,_,c.contents[M]);var w,D,C,N,O=[];(u.lp||u.mra||u.flg)&&"p"===c.kind&&(s(u,_,O,null),u.mra&&(r(O),u.mra=null),u.lp&&(n(O,u.lp*u.h,u),u.lp=null),u.flg&&(i(O,(w=o(_.getBoundingClientRect(),u)).before,w.after,u),u.flg=null)),"region"===c.kind&&(s(u,_,O),"tb"===u.bpd&&u.enableRollUp&&0<c.contents.length&&"after"===c.styleAttrs[t.byName.displayAlign.qname]&&(D=new a(""===c.id?"_":c.id,O),u.currentISDState[D.id]=D,u.previousISDState&&D.id in u.previousISDState&&0<u.previousISDState[D.id].plist.length&&1<D.plist.length&&D.plist[D.plist.length-2].text===u.previousISDState[D.id].plist[u.previousISDState[D.id].plist.length-1].text&&(C=h.firstElementChild,N=D.plist[D.plist.length-1].after-D.plist[D.plist.length-1].before,C.style.bottom="-"+N+"px",C.style.transition="transform 0.4s",C.style.position="relative",C.style.transform="translateY(-"+N+"px)")))}else d(u.errorHandler,"Error processing ISD element kind: "+c.kind)}(S,T,e.contents[A]);return S.currentISDState};var l=[new u("http://www.w3.org/ns/ttml#styling backgroundColor",(function(e,t,n,r){0!==r[3]&&(t.style.backgroundColor="rgba("+r[0].toString()+","+r[1].toString()+","+r[2].toString()+","+(r[3]/255).toString()+")")})),new u("http://www.w3.org/ns/ttml#styling color",(function(e,t,n,r){t.style.color="rgba("+r[0].toString()+","+r[1].toString()+","+r[2].toString()+","+(r[3]/255).toString()+")"})),new u("http://www.w3.org/ns/ttml#styling direction",(function(e,t,n,r){t.style.direction=r})),new u("http://www.w3.org/ns/ttml#styling display",(function(e,t,n,r){})),new u("http://www.w3.org/ns/ttml#styling displayAlign",(function(e,t,n,r){t.style.display="flex",t.style.flexDirection="column","before"===r?t.style.justifyContent="flex-start":"center"===r?t.style.justifyContent="center":"after"===r&&(t.style.justifyContent="flex-end")})),new u("http://www.w3.org/ns/ttml#styling extent",(function(e,t,n,r){e.regionH=r.h*e.h,e.regionW=r.w*e.w;var i=0,a=0,o=n.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];o&&(i=(o[0]+o[2])*e.h,a=(o[1]+o[3])*e.w),t.style.height=e.regionH-i+"px",t.style.width=e.regionW-a+"px"})),new u("http://www.w3.org/ns/ttml#styling fontFamily",(function(e,t,n,r){var i=[];for(var a in r)"monospaceSerif"===r[a]?(i.push("Courier New"),i.push('"Liberation Mono"'),i.push("Courier"),i.push("monospace")):"proportionalSansSerif"===r[a]?(i.push("Arial"),i.push("Helvetica"),i.push('"Liberation Sans"'),i.push("sans-serif")):"monospace"===r[a]?i.push("monospace"):"sansSerif"===r[a]?i.push("sans-serif"):"serif"===r[a]?i.push("serif"):"monospaceSansSerif"===r[a]?(i.push("Consolas"),i.push("monospace")):"proportionalSerif"===r[a]?i.push("serif"):i.push(r[a]);t.style.fontFamily=i.join(",")})),new u("http://www.w3.org/ns/ttml#styling fontSize",(function(e,t,n,r){t.style.fontSize=r*e.h+"px"})),new u("http://www.w3.org/ns/ttml#styling fontStyle",(function(e,t,n,r){t.style.fontStyle=r})),new u("http://www.w3.org/ns/ttml#styling fontWeight",(function(e,t,n,r){t.style.fontWeight=r})),new u("http://www.w3.org/ns/ttml#styling lineHeight",(function(e,t,n,r){t.style.lineHeight="normal"===r?"normal":r*e.h+"px"})),new u("http://www.w3.org/ns/ttml#styling opacity",(function(e,t,n,r){t.style.opacity=r})),new u("http://www.w3.org/ns/ttml#styling origin",(function(e,t,n,r){t.style.top=r.h*e.h+"px",t.style.left=r.w*e.w+"px"})),new u("http://www.w3.org/ns/ttml#styling overflow",(function(e,t,n,r){t.style.overflow=r})),new u("http://www.w3.org/ns/ttml#styling padding",(function(e,t,n,r){var i=[];i[0]=r[0]*e.h+"px",i[1]=r[3]*e.w+"px",i[2]=r[2]*e.h+"px",i[3]=r[1]*e.w+"px",t.style.padding=i.join(" ")})),new u("http://www.w3.org/ns/ttml#styling showBackground",null),new u("http://www.w3.org/ns/ttml#styling textAlign",(function(e,n,r,i){var a=r.styleAttrs[t.byName.direction.qname],o="start"===i?"rtl"===a?"right":"left":"end"===i?"rtl"===a?"left":"right":i;n.style.textAlign=o})),new u("http://www.w3.org/ns/ttml#styling textDecoration",(function(e,t,n,r){t.style.textDecoration=r.join(" ").replace("lineThrough","line-through")})),new u("http://www.w3.org/ns/ttml#styling textOutline",(function(e,t,n,r){t.style.textShadow="none"===r?"":"rgba("+r.color[0].toString()+","+r.color[1].toString()+","+r.color[2].toString()+","+(r.color[3]/255).toString()+") 0px 0px "+r.thickness*e.h+"px"})),new u("http://www.w3.org/ns/ttml#styling unicodeBidi",(function(e,t,n,r){var i="bidiOverride"===r?"bidi-override":r;t.style.unicodeBidi=i})),new u("http://www.w3.org/ns/ttml#styling visibility",(function(e,t,n,r){t.style.visibility=r})),new u("http://www.w3.org/ns/ttml#styling wrapOption",(function(e,t,n,r){"wrap"===r?"preserve"===n.space?t.style.whiteSpace="pre-wrap":t.style.whiteSpace="normal":"preserve"===n.space?t.style.whiteSpace="pre":t.style.whiteSpace="noWrap"})),new u("http://www.w3.org/ns/ttml#styling writingMode",(function(e,t,n,r){"lrtb"===r||"lr"===r||"rltb"===r||"rl"===r?t.style.writingMode="horizontal-tb":"tblr"===r?t.style.writingMode="vertical-lr":"tbrl"!==r&&"tb"!==r||(t.style.writingMode="vertical-rl")})),new u("http://www.w3.org/ns/ttml#styling zIndex",(function(e,t,n,r){t.style.zIndex=r})),new u("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",(function(e,t,n,r){var i,a;null!==e.imgResolver&&null!==r&&(i=document.createElement("img"),(a=e.imgResolver(r,i))&&(i.src=a),i.height=e.regionH,i.width=e.regionW,t.appendChild(i))})),new u("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",(function(e,t,n,r){e.displayForcedOnlyMode&&!1===r&&(t.style.visibility="hidden")}))],f={};for(var c in l)f[l[c].qname]=l[c];function d(e,t){if(e&&e.error&&e.error(t))throw t}}(void 0===n?this.imscHTML={}:n,("undefined"==typeof imscNames&&e(18),"undefined"==typeof imscStyles?e(19):imscStyles))},{18:18,19:19}],16:[function(e,t,n){function r(e,t){if("contents"in e)for(var n in e.contents)r(e.contents[n],t);else t.push(e)}function i(e){if("br"!==e.kind){if("text"in e)return 0===e.text.length;if("contents"in e){for(var t=e.contents.length;t--;){var n;i(e.contents[t])&&Ke()(n=e.contents).call(n,t,1)}return 0===e.contents.length}}}function a(e){this.contents=[],this.aspectRatio=e.aspectRatio}function o(e){for(var t in this.kind=e.kind||"region",e.id&&(this.id=e.id),this.styleAttrs={},e.styleAttrs)this.styleAttrs[t]=e.styleAttrs[t];"text"in e?this.text=e.text:"br"!==e.kind&&(this.contents=[]),"space"in e&&(this.space=e.space)}function s(e,t){if(e&&e.error&&e.error(t))throw t}var u,l;u=void 0===n?this.imscISD={}:n,"undefined"==typeof imscNames&&e(18),l="undefined"==typeof imscStyles?e(19):imscStyles,u.generateISD=function(e,t,n){var u=new a(e),f={};for(var c in e.head.layout.regions){var d=function e(t,n,a,u,f,c,d,h,p){if(n<d.begin||n>=d.end)return null;var g="regionID"in d&&""!==d.regionID?d.regionID:c;if(null!==f&&g!==a.id&&(!("contents"in d)||"contents"in d&&0===d.contents.length||""!==g))return null;var m=new o(d);for(var v in d.sets)n<d.sets[v].begin||n>=d.sets[v].end||(m.styleAttrs[d.sets[v].qname]=d.sets[v].value);var _,E,y={};for(var T in m.styleAttrs){var S;y[T]=!0,T!==l.byName.writingMode.qname||l.byName.direction.qname in m.styleAttrs||("lrtb"===(S=m.styleAttrs[T])||"lr"===S?m.styleAttrs[l.byName.direction.qname]="ltr":"rltb"!==S&&"rl"!==S||(m.styleAttrs[l.byName.direction.qname]="rtl"))}if(null!==f)for(var A in l.all){var I,R,b,M=l.all[A];M.qname===l.byName.textDecoration.qname?(I=f.styleAttrs[M.qname],b=[],void 0===(R=m.styleAttrs[M.qname])?b=I:-1===Ue()(R).call(R,"none")?((-1===Ue()(R).call(R,"noUnderline")&&-1!==Ue()(I).call(I,"underline")||-1!==Ue()(R).call(R,"underline"))&&b.push("underline"),(-1===Ue()(R).call(R,"noLineThrough")&&-1!==Ue()(I).call(I,"lineThrough")||-1!==Ue()(R).call(R,"lineThrough"))&&b.push("lineThrough"),(-1===Ue()(R).call(R,"noOverline")&&-1!==Ue()(I).call(I,"overline")||-1!==Ue()(R).call(R,"overline"))&&b.push("overline")):b.push("none"),m.styleAttrs[M.qname]=b):M.inherit&&M.qname in f.styleAttrs&&!(M.qname in m.styleAttrs)&&(m.styleAttrs[M.qname]=f.styleAttrs[M.qname])}for(var w in l.all){var D=l.all[w];D.qname in m.styleAttrs||("region"===m.kind||!1===D.inherit&&null!==D.initial)&&(m.styleAttrs[D.qname]=D.parse(D.initial),y[D.qname]=!0)}for(var C in l.all){var N,O=l.all[C];O.qname in y&&null!==O.compute&&(null!==(N=O.compute(t,f,m,m.styleAttrs[O.qname],p))?m.styleAttrs[O.qname]=N:s(h,"Style '"+O.qname+"' on element '"+m.kind+"' cannot be computed"))}if("none"===m.styleAttrs[l.byName.display.qname])return null;for(var L in null===f?_=null===u?[]:[u]:"contents"in d&&(_=d.contents),_){var x=e(t,n,a,u,m,g,_[L],h,p);null!==x&&m.contents.push(x.element)}for(var P in m.styleAttrs){var F,U=l.byQName[P];-1===Ue()(F=U.applies).call(F,m.kind)&&delete m.styleAttrs[P]}if("span"===m.kind&&m.text&&"default"===m.space&&(E=m.text.replace(/\s+/g," "),m.text=E),"p"===m.kind){var k=[];r(m,k);for(var B=0,G="after_br",q=0;;)if("after_br"===G)B>=k.length||"br"===k[B].kind?(G="before_br",q=B,B--):("preserve"!==k[B].space&&(k[B].text=k[B].text.replace(/^\s+/g,"")),0<k[B].text.length?(G="looking_br",B++):Ke()(k).call(k,B,1));else if("before_br"===G)if(B<0||"br"===k[B].kind){if(G="after_br",(B=q+1)>=k.length)break}else if("preserve"!==k[B].space&&(k[B].text=k[B].text.replace(/\s+$/g,"")),0<k[B].text.length){if(G="after_br",(B=q+1)>=k.length)break}else Ke()(k).call(k,B,1),B--;else B>=k.length||"br"===k[B].kind?(G="before_br",q=B,B--):B++;i(m)}return"div"===m.kind&&l.byName.backgroundImage.qname in m.styleAttrs||"br"===m.kind||"contents"in m&&0<m.contents.length||"span"===m.kind&&null!==m.text||"region"===m.kind&&"always"===m.styleAttrs[l.byName.showBackground.qname]?{region_id:g,element:m}:null}(e,t,e.head.layout.regions[c],e.body,null,"",e.head.layout.regions[c],n,f);null!==d&&u.contents.push(d.element)}return u}},{18:18,19:19}],17:[function(e,t,n){n.generateISD=e(16).generateISD,n.fromXML=e(14).fromXML,n.renderHTML=e(15).render},{14:14,15:15,16:16}],18:[function(e,t,n){var r;(r=void 0===n?this.imscNames={}:n).ns_tt="http://www.w3.org/ns/ttml",r.ns_tts="http://www.w3.org/ns/ttml#styling",r.ns_ttp="http://www.w3.org/ns/ttml#parameter",r.ns_xml="http://www.w3.org/XML/1998/namespace",r.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",r.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",r.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",r.ns_ebutts="urn:ebu:tt:style"},{}],19:[function(e,t,n){!function(e,t,n){function r(e,t,n,r,i,a,o,s){this.name=t,this.ns=e,this.qname=e+" "+t,this.inherit=i,this.animatable=a,this.initial=n,this.applies=r,this.parse=o,this.compute=s}for(var i in e.all=[new r(t.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,n.parseColor,null),new r(t.ns_tts,"color","white",["span"],!0,!0,n.parseColor,null),new r(t.ns_tts,"direction","ltr",["p","span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"displayAlign","before",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"extent","auto",["tt","region"],!1,!0,(function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var r=n.parseLength(t[0]),i=n.parseLength(t[1]);return i&&r?{h:i,w:r}:null}),(function(e,t,n,r,i){var a,o;if("auto"===r)a=1;else if("%"===r.h.unit)a=r.h.value/100;else{if("px"!==r.h.unit)return null;a=r.h.value/e.pxDimensions.h}if("auto"===r)o=1;else if("%"===r.w.unit)o=r.w.value/100;else{if("px"!==r.w.unit)return null;o=r.w.value/e.pxDimensions.w}return{h:a,w:o}})),new r(t.ns_tts,"fontFamily","default",["span"],!0,!0,(function(e){var t=e.split(","),n=[];for(var r in t)"'"!==t[r].charAt(0)&&'"'!==t[r].charAt(0)&&"default"===t[r]?n.push("monospaceSerif"):n.push(t[r]);return n}),null),new r(t.ns_tts,"fontSize","1c",["span"],!0,!0,n.parseLength,(function(t,n,r,i,a){var o;if("%"===i.unit)o=null!==n?n.styleAttrs[e.byName.fontSize.qname]*i.value/100:i.value/100/t.cellResolution.h;else if("em"===i.unit)o=null!==n?n.styleAttrs[e.byName.fontSize.qname]*i.value:i.value/t.cellResolution.h;else if("c"===i.unit)o=i.value/t.cellResolution.h;else{if("px"!==i.unit)return null;o=i.value/t.pxDimensions.h}return o})),new r(t.ns_tts,"fontStyle","normal",["span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"fontWeight","normal",["span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"lineHeight","normal",["p"],!0,!0,(function(e){return"normal"===e?e:n.parseLength(e)}),(function(t,n,r,i,a){var o;if("normal"===i)o=i;else if("%"===i.unit)o=r.styleAttrs[e.byName.fontSize.qname]*i.value/100;else if("em"===i.unit)o=r.styleAttrs[e.byName.fontSize.qname]*i.value;else if("c"===i.unit)o=i.value/t.cellResolution.h;else{if("px"!==i.unit)return null;o=i.value/t.pxDimensions.h}return o})),new r(t.ns_tts,"opacity",1,["region"],!1,!0,ae.a,null),new r(t.ns_tts,"origin","auto",["region"],!1,!0,(function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var r=n.parseLength(t[0]),i=n.parseLength(t[1]);return i&&r?{h:i,w:r}:null}),(function(e,t,n,r,i){var a,o;if("auto"===r)a=0;else if("%"===r.h.unit)a=r.h.value/100;else{if("px"!==r.h.unit)return null;a=r.h.value/e.pxDimensions.h}if("auto"===r)o=0;else if("%"===r.w.unit)o=r.w.value/100;else{if("px"!==r.w.unit)return null;o=r.w.value/e.pxDimensions.w}return{h:a,w:o}})),new r(t.ns_tts,"overflow","hidden",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"padding","0px",["region"],!1,!0,(function(e){var t=e.split(" ");if(4<t.length)return null;var r=[];for(var i in t){var a=n.parseLength(t[i]);if(!a)return null;r.push(a)}return r}),(function(t,n,r,i,a){var o;if(1===i.length)o=[i[0],i[0],i[0],i[0]];else if(2===i.length)o=[i[0],i[1],i[0],i[1]];else if(3===i.length)o=[i[0],i[1],i[2],i[1]];else{if(4!==i.length)return null;o=[i[0],i[1],i[2],i[3]]}var s=r.styleAttrs[e.byName.writingMode.qname];if("lrtb"===s||"lr"===s)o=[o[0],o[3],o[2],o[1]];else if("rltb"===s||"rl"===s)o=[o[0],o[1],o[2],o[3]];else if("tblr"===s)o=[o[3],o[0],o[1],o[2]];else{if("tbrl"!==s&&"tb"!==s)return null;o=[o[3],o[2],o[1],o[0]]}var u=[];for(var l in o)if(0===o[l].value)u[l]=0;else if("%"===o[l].unit)u[l]="0"===l||"2"===l?r.styleAttrs[e.byName.extent.qname].h*o[l].value/100:r.styleAttrs[e.byName.extent.qname].w*o[l].value/100;else if("em"===o[l].unit)u[l]=r.styleAttrs[e.byName.fontSize.qname]*o[l].value;else if("c"===o[l].unit)u[l]=o[l].value/t.cellResolution.h;else{if("px"!==o[l].unit)return null;u[l]="0"===l||"2"===l?o[l].value/t.pxDimensions.h:o[l].value/t.pxDimensions.w}return u})),new r(t.ns_tts,"showBackground","always",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"textAlign","start",["p"],!0,!0,(function(e){return e}),(function(e,t,n,r,i){return"left"===r?"start":"right"===r?"end":r})),new r(t.ns_tts,"textDecoration","none",["span"],!0,!0,(function(e){return e.split(" ")}),null),new r(t.ns_tts,"textOutline","none",["span"],!0,!0,(function(e){if("none"===e)return e;var t={},r=e.split(" ");if(0===r.length||2<r.length)return null;var i=n.parseColor(r[0]);if(null!==(t.color=i)&&r.shift(),1!==r.length)return null;var a=n.parseLength(r[0]);return a?(t.thickness=a,t):null}),(function(t,n,r,i,a){if("none"===i)return i;var o={};if(null===i.color?o.color=r.styleAttrs[e.byName.color.qname]:o.color=i.color,"%"===i.thickness.unit)o.thickness=r.styleAttrs[e.byName.fontSize.qname]*i.thickness.value/100;else if("em"===i.thickness.unit)o.thickness=r.styleAttrs[e.byName.fontSize.qname]*i.thickness.value;else if("c"===i.thickness.unit)o.thickness=i.thickness.value/t.cellResolution.h;else{if("px"!==i.thickness.unit)return null;o.thickness=i.thickness.value/t.pxDimensions.h}return o})),new r(t.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"wrapOption","wrap",["span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"writingMode","lrtb",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"zIndex","auto",["region"],!1,!0,(function(e){var t;return"auto"===e?t=e:(t=Ee()(e),isNaN(t)&&(t=null)),t}),null),new r(t.ns_ebutts,"linePadding","0c",["p"],!0,!1,n.parseLength,(function(e,t,n,r,i){return"c"===r.unit?r.value/e.cellResolution.h:null})),new r(t.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,(function(e){return e}),null),new r(t.ns_smpte,"backgroundImage",null,["div"],!1,!1,(function(e){return e}),null),new r(t.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,(function(e){return"true"===e}),null),new r(t.ns_itts,"fillLineGap","false",["p"],!0,!0,(function(e){return"true"===e}),null)],e.byQName={},e.all)e.byQName[e.all[i].qname]=e.all[i];for(var a in e.byName={},e.all)e.byName[e.all[a].name]=e.all[a]}(void 0===n?this.imscStyles={}:n,"undefined"==typeof imscNames?e(18):imscNames,"undefined"==typeof imscUtils?e(20):imscUtils)},{18:18,20:20}],20:[function(e,t,n){!function(e){var t=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,n=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,r=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,i={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};e.parseColor=function(e){var a,o=null,s=i[e.toLowerCase()];return void 0!==s?o=s:null!==(a=t.exec(e))?o=[Ee()(a[1],16),Ee()(a[2],16),Ee()(a[3],16),void 0!==a[4]?Ee()(a[4],16):255]:null!==(a=n.exec(e))?o=[Ee()(a[1]),Ee()(a[2]),Ee()(a[3]),255]:null!==(a=r.exec(e))&&(o=[Ee()(a[1]),Ee()(a[2]),Ee()(a[3]),Ee()(a[4])]),o};var a=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;e.parseLength=function(e){var t,n=null;return null!==(t=a.exec(e))&&(n={value:ae()(t[1]),unit:t[2]}),n}}(void 0===n?this.imscUtils={}:n)},{}],21:[function(e,t,n){"function"==typeof he.a?t.exports=function(e,t){e.super_=t,e.prototype=he()(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){function n(){}e.super_=t,n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],22:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(r(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof Pe()(t)&&r(Pe()(t).call(t,0,0))||!!e._isBuffer);var t}},{}],23:[function(e,t,n){var r={}.toString;t.exports=Ne.a||function(e){return"[object Array]"==r.call(e)}},{}],24:[function(e,t,n){(function(e){var n,r,i;!e.version||0===Ue()(n=e.version).call(n,"v0.")||0===Ue()(r=e.version).call(r,"v1.")&&0!==Ue()(i=e.version).call(i,"v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return e.nextTick((function(){t.apply(null,a)}))}}}:t.exports=e}).call(this,e(25))},{25:25}],25:[function(e,t,n){var r,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===J.a)return J()(e,0);if((r===o||!r)&&J.a)return r=J.a,J()(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof J.a?J.a:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,f=[],c=!1,d=-1;function h(){c&&l&&(c=!1,l.length?f=Z()(l).call(l,f):d=-1,f.length&&p())}function p(){if(!c){var e=u(h);c=!0;for(var t=f.length;t;){for(l=f,f=[];++d<t;)l&&l[d].run();d=-1,t=f.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new g(e,t)),1!==f.length||c||u(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],26:[function(e,t,n){t.exports=e(27)},{27:27}],27:[function(e,t,n){var r=e(24),i=ce.a||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=c;var a=e(10);a.inherits=e(21);var o=e(29),s=e(31);a.inherits(c,o);for(var u=i(s.prototype),l=0;l<u.length;l++){var f=u[l];c.prototype[f]||(c.prototype[f]=s.prototype[f])}function c(e){if(!(this instanceof c))return new c(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Be()(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Be()(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),c.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},{10:10,21:21,24:24,29:29,31:31}],28:[function(e,t,n){t.exports=a;var r=e(30),i=e(10);function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}i.inherits=e(21),i.inherits(a,r),a.prototype._transform=function(e,t,n){n(null,e)}},{10:10,21:21,30:30}],29:[function(t,n,r){(function(e,r){var i=t(24);n.exports=E;var a,o=t(23);function s(e,t){return e.listeners(t).length}E.ReadableState=_,t(11).EventEmitter;var u=t(34),l=t(39).Buffer,f=r.Uint8Array||function(){},c=t(10);c.inherits=t(21);var d,h=t(7),p=void 0,g=(p=h&&h.debuglog?h.debuglog("stream"):function(){},t(32)),m=t(33);c.inherits(E,u);var v=["error","close","destroy","pause","resume"];function _(e,n){e=e||{};var r=n instanceof(a=a||t(27));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d=d||t(42).StringDecoder,this.decoder=new d(e.encoding),this.encoding=e.encoding)}function E(e){if(a=a||t(27),!(this instanceof E))return new E(e);this._readableState=new _(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function y(e,t,n,r,i){var a,o,s,u=e._readableState;return null===t?(u.reading=!1,function(e,t){var n;t.ended||(!t.decoder||(n=t.decoder.end())&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length),t.ended=!0,I(e))}(e,u)):(i||(a=function(e,t){var n;return function(e){return l.isBuffer(e)||e instanceof f}(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(u,t)),a?e.emit("error",a):u.objectMode||t&&0<t.length?("string"==typeof t||u.objectMode||X()(t)===l.prototype||(o=t,t=l.from(o)),r?u.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):T(e,u,t,!0):u.ended?e.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?T(e,u,t,!1):b(e,u)):T(e,u,t,!1))):r||(u.reading=!1)),!(s=u).ended&&(s.needReadable||s.length<s.highWaterMark||0===s.length)}function T(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&I(e)),b(e,t)}Be()(E.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=m.destroy,E.prototype._undestroy=m.undestroy,E.prototype._destroy=function(e,t){this.push(null),t(e)},E.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),y(this,e,t,!1,n)},E.prototype.unshift=function(e){return y(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){return d=d||t(42).StringDecoder,this._readableState.decoder=new d(e),this._readableState.encoding=e,this};var S=8388608;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=(S<=(n=e)?n=S:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0));var n}function I(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(R,e):R(e))}function R(e){p("emit readable"),e.emit("readable"),C(e)}function b(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(M,e,t))}function M(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function w(e){p("readable nexttick read 0"),e.read(0)}function D(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),C(e),t.flowing&&!t.reading&&e.read(0)}function C(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){var n,r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:Z()(n=t.buffer).call(n,t.length),t.buffer.clear()):r=function(e,t,n){var r,i,a;return e<t.head.data.length?(a=Pe()(r=t.head.data).call(r,0,e),t.head.data=Pe()(i=t.head.data).call(i,e)):a=e===t.head.data.length?t.shift():(n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=Pe()(a).call(a,0,e),0==(e-=o)){o===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n).data=Pe()(a).call(a,o);break}++r}return t.length-=r,i}:function(e,t){var n=l.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0==(e-=o)){o===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r).data=Pe()(a).call(a,o);break}++i}return t.length-=i,n})(e,t),a}(e,t.buffer,t.decoder),r)}function O(e){var t=e._readableState;if(0<t.length)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(L,t,e))}function L(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function x(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}E.prototype.read=function(e){p("read",e),e=Ee()(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),(0===t.length&&t.ended?O:I)(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&O(this),null;var r,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(r=0<e?N(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&O(this)),null!==r&&this.emit("data",r),r},E.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},E.prototype.pipe=function(t,n){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=t;break;case 1:a.pipes=[a.pipes,t];break;default:a.pipes.push(t)}a.pipesCount+=1,p("pipe count=%d opts=%j",a.pipesCount,n);var u=n&&!1===n.end||t===e.stdout||t===e.stderr?E:l;function l(){p("onend"),t.end()}a.endEmitted?i.nextTick(u):r.once("end",u),t.on("unpipe",(function e(n,i){p("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,p("cleanup"),t.removeListener("close",v),t.removeListener("finish",_),t.removeListener("drain",c),t.removeListener("error",m),t.removeListener("unpipe",e),r.removeListener("end",l),r.removeListener("end",E),r.removeListener("data",g),d=!0,!a.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}));var f,c=(f=r,function(){var e=f._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(f,"data")&&(e.flowing=!0,C(f))});t.on("drain",c);var d=!1,h=!1;function g(e){p("ondata"),(h=!1)!==t.write(e)||h||((1===a.pipesCount&&a.pipes===t||1<a.pipesCount&&-1!==x(a.pipes,t))&&!d&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,h=!0),r.pause())}function m(e){p("onerror",e),E(),t.removeListener("error",m),0===s(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",_),E()}function _(){p("onfinish"),t.removeListener("close",v),E()}function E(){p("unpipe"),r.unpipe(t)}return r.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(t,"error",m),t.once("close",v),t.once("finish",_),t.emit("pipe",r),a.flowing||(p("pipe resume"),r.resume()),t},E.prototype.unpipe=function(e){var t,n=this._readableState,r={hasUnpiped:!1};if(0===n.pipesCount)return this;if(1===n.pipesCount)return e&&e!==n.pipes||(e=e||n.pipes,n.pipes=null,n.pipesCount=0,n.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=n.pipes,a=n.pipesCount;n.pipes=null,n.pipesCount=0,n.flowing=!1;for(var o=0;o<a;o++)i[o].emit("unpipe",this,r);return this}var s=x(n.pipes,e);return-1===s||(Ke()(t=n.pipes).call(t,s,1),--n.pipesCount,1===n.pipesCount&&(n.pipes=n.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.addListener=E.prototype.on=function(e,t){var n,r=u.prototype.on.call(this,e,t);return"data"===e?!1!==this._readableState.flowing&&this.resume():"readable"===e&&((n=this._readableState).endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&I(this):i.nextTick(w,this))),r},E.prototype.resume=function(){var e,t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,this,(e=t).resumeScheduled||(e.resumeScheduled=!0,i.nextTick(D,this,e))),this},E.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},E.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){var e;p("wrapped end"),!n.decoder||n.ended||(e=n.decoder.end())&&e.length&&t.push(e),t.push(null)})),e.on("data",(function(i){p("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++){var o;e.on(v[a],le()(o=this.emit).call(o,this,v[a]))}return this._read=function(t){p("wrapped _read",t),r&&(r=!1,e.resume())},this},Be()(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),E._fromList=N}).call(this,t(25),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{10:10,11:11,21:21,23:23,24:24,25:25,27:27,32:32,33:33,34:34,39:39,42:42,7:7}],30:[function(e,t,n){t.exports=a;var r=e(27),i=e(10);function a(e){var t;if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:le()(t=function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,(n.writecb=null)!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}).call(t,this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){s(e,t,n)})):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e(21),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r,i=this._transformState;i.writecb=n,i.writechunk=e,i.writeencoding=t,i.transforming||(r=this._readableState,(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark))},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},{10:10,21:21,27:27}],31:[function(t,n,r){(function(e,r,i){var a,o,s=t(24);function u(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}n.exports=y;var l,f=!e.browser&&-1<Ue()(a=["v0.10","v0.9."]).call(a,Pe()(o=e.version).call(o,0,5))?i:s.nextTick;y.WritableState=E;var c=t(10);c.inherits=t(21);var d,h={deprecate:t(44)},p=t(34),g=t(39).Buffer,m=r.Uint8Array||function(){},v=t(33);function _(){}function E(e,n){l=l||t(27),e=e||{};var r=n instanceof l;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,a=e.writableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var c=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n,r=e._writableState,i=r.sync,a=r.writecb;(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0})(r),t?function(e,t,n,r,i){--t.pendingcb,n?(s.nextTick(i,r),s.nextTick(b,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),b(e,t))}(e,r,i,t,a):((n=I(r))||r.corked||r.bufferProcessing||!r.bufferedRequest||A(e,r),i?f(S,e,r,n,a):S(e,r,n,a))}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function y(e){if(l=l||t(27),!(d.call(y,this)||this instanceof l))return new y(e);this._writableState=new E(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),p.call(this)}function T(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function S(e,t,n,r){var i,a;n||(i=e,0===(a=t).length&&a.needDrain&&(a.needDrain=!1,i.emit("drain"))),t.pendingcb--,r(),b(e,t)}function A(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var o=0,s=!0;n;)(i[o]=n).isBuf||(s=!1),n=n.next,o+=1;i.allBuffers=s,T(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new u(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,f=n.encoding,c=n.callback;if(T(e,t,!1,t.objectMode?1:l.length,l,f,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),b(e,t)}))}function b(e,t){var n,r,i=I(t);return i&&(n=e,(r=t).prefinished||r.finalCalled||("function"==typeof n._final?(r.pendingcb++,r.finalCalled=!0,s.nextTick(R,n,r)):(r.prefinished=!0,n.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}c.inherits(y,p),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Be()(E.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof De.a&&z.a&&"function"==typeof Function.prototype[z.a]?(d=Function.prototype[z.a],Be()(y,z.a,{value:function(e){return!!d.call(this,e)||this===y&&e&&e._writableState instanceof E}})):d=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i,a,o,u,l,f,c,d,h=this._writableState,p=!1,v=!h.objectMode&&(r=e,g.isBuffer(r)||r instanceof m);return v&&!g.isBuffer(e)&&(i=e,e=g.from(i)),"function"==typeof t&&(n=t,t=null),t=v?"buffer":t||h.defaultEncoding,"function"!=typeof n&&(n=_),h.ended?(this,c=n,d=new Error("write after end"),this.emit("error",d),s.nextTick(c,d)):(v||(this,a=h,u=n,f=!(l=!0),null===(o=e)?f=new TypeError("May not write null values to stream"):"string"==typeof o||void 0===o||a.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(this.emit("error",f),s.nextTick(u,f),l=!1),l))&&(h.pendingcb++,p=function(e,t,n,r,i,a){var o;n||r!==(o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=g.from(t,n)),t}(t,r,i))&&(n=!0,i="buffer",r=o);var s=t.objectMode?1:r.length;t.length+=s;var u,l=t.length<t.highWaterMark;return l||(t.needDrain=!0),t.writing||t.corked?(u=t.lastBufferedRequest,t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1):T(e,t,!1,s,r,i,a),l}(this,h,v,e,t,n)),p},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||A(this,e))},y.prototype.setDefaultEncoding=function(e){var t;if("string"==typeof e&&(e=e.toLowerCase()),!(-1<Ue()(t=["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"]).call(t,(e+"").toLowerCase())))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Be()(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,t=e=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,b(e,t),n&&(t.finished?s.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Be()(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,t(25),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t(43).setImmediate)},{10:10,21:21,24:24,25:25,27:27,33:33,34:34,39:39,43:43,44:44}],32:[function(e,t,n){var r=e(39).Buffer,i=e(7);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.head=null,this.tail=null,this.length=0}t.exports=(a.prototype.push=function(e){var t={data:e,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},a.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},a.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},a.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i=r.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=i,n=o,a.data.copy(t,n),o+=a.data.length,a=a.next;return i},a),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},{39:39,7:7}],33:[function(e,t,n){var r=e(24);function i(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}))),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{24:24}],34:[function(e,t,n){t.exports=e(11).EventEmitter},{11:11}],35:[function(e,t,n){t.exports=e(36).PassThrough},{36:36}],36:[function(e,t,n){(((n=t.exports=e(29)).Stream=n).Readable=n).Writable=e(31),n.Duplex=e(27),n.Transform=e(30),n.PassThrough=e(28)},{27:27,28:28,29:29,30:30,31:31}],37:[function(e,t,n){t.exports=e(36).Transform},{36:36}],38:[function(e,t,n){t.exports=e(31)},{31:31}],39:[function(e,t,n){var r=e(8),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(a(r,n),n.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?Te()(r).call(r,t,n):Te()(r).call(r,t):Te()(r).call(r,0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{8:8}],40:[function(e,t,n){(function(t){!function(n){var r;n.parser=function(e,t){return new o(e,t)},n.SAXParser=o,n.SAXStream=u,n.createStream=function(e,t){return new u(e,t)},n.MAX_BUFFER_LENGTH=65536;var i,a=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(e,t){if(!(this instanceof o))return new o(e,t);var r=this;!function(e){for(var t=0,n=a.length;t<n;t++)e[a[t]]=""}(r),r.q=r.c="",r.bufferCheckPosition=n.MAX_BUFFER_LENGTH,r.opt=t||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?"toLowerCase":"toUpperCase",r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!e,r.noscript=!(!e&&!r.opt.noscript),r.state=b.BEGIN,r.strictEntities=r.opt.strictEntities,r.ENTITIES=r.strictEntities?he()(n.XML_ENTITIES):he()(n.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=he()(g)),r.trackPosition=!1!==r.opt.position,r.trackPosition&&(r.position=r.line=r.column=0),D(r,"onready")}n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],he.a||(Object.create=function(e){function t(){}return t.prototype=e,new t}),ce.a||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),o.prototype={end:function(){x(this)},write:function(e){var t=this;if(this.error)throw this.error;if(t.closed)return L(t,"Cannot write after close. Assign an onready handler.");if(null===e)return x(t);"object"==Le()(e)&&(e=e.toString());for(var r,i,o=0,s="";s=H(e,o++),t.c=s;)switch(t.trackPosition&&(t.position++,"\n"===s?(t.line++,t.column=0):t.column++),t.state){case b.BEGIN:if(t.state=b.BEGIN_WHITESPACE,"\ufeff"===s)continue;Y(t,s);continue;case b.BEGIN_WHITESPACE:Y(t,s);continue;case b.TEXT:if(t.sawRoot&&!t.closedRoot){for(var u=o-1;s&&"<"!==s&&"&"!==s;)(s=H(e,o++))&&t.trackPosition&&(t.position++,"\n"===s?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(u,o-1)}"<"!==s||t.sawRoot&&t.closedRoot&&!t.strict?(!A(m,s)||t.sawRoot&&!t.closedRoot||P(t,"Text data outside of root node."),"&"===s?t.state=b.TEXT_ENTITY:t.textNode+=s):(t.state=b.OPEN_WAKA,t.startTagPosition=t.position);continue;case b.SCRIPT:"<"===s?t.state=b.SCRIPT_ENDING:t.script+=s;continue;case b.SCRIPT_ENDING:"/"===s?t.state=b.CLOSE_TAG:(t.script+="<"+s,t.state=b.SCRIPT);continue;case b.OPEN_WAKA:var h;"!"===s?(t.state=b.SGML_DECL,t.sgmlDecl=""):S(m,s)||(S(v,s)?(t.state=b.OPEN_TAG,t.tagName=s):"/"===s?(t.state=b.CLOSE_TAG,t.tagName=""):"?"===s?(t.state=b.PROC_INST,t.procInstName=t.procInstBody=""):(P(t,"Unencoded <"),t.startTagPosition+1<t.position&&(h=t.position-t.startTagPosition,s=new Array(h).join(" ")+s),t.textNode+="<"+s,t.state=b.TEXT));continue;case b.SGML_DECL:(t.sgmlDecl+s).toUpperCase()===c?(C(t,"onopencdata"),t.state=b.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+s==="--"?(t.state=b.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+s).toUpperCase()===d?(t.state=b.DOCTYPE,(t.doctype||t.sawRoot)&&P(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===s?(C(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=b.TEXT):(S(l,s)&&(t.state=b.SGML_DECL_QUOTED),t.sgmlDecl+=s);continue;case b.SGML_DECL_QUOTED:s===t.q&&(t.state=b.SGML_DECL,t.q=""),t.sgmlDecl+=s;continue;case b.DOCTYPE:">"===s?(t.state=b.TEXT,C(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=s,"["===s?t.state=b.DOCTYPE_DTD:S(l,s)&&(t.state=b.DOCTYPE_QUOTED,t.q=s));continue;case b.DOCTYPE_QUOTED:t.doctype+=s,s===t.q&&(t.q="",t.state=b.DOCTYPE);continue;case b.DOCTYPE_DTD:t.doctype+=s,"]"===s?t.state=b.DOCTYPE:S(l,s)&&(t.state=b.DOCTYPE_DTD_QUOTED,t.q=s);continue;case b.DOCTYPE_DTD_QUOTED:t.doctype+=s,s===t.q&&(t.state=b.DOCTYPE_DTD,t.q="");continue;case b.COMMENT:"-"===s?t.state=b.COMMENT_ENDING:t.comment+=s;continue;case b.COMMENT_ENDING:"-"===s?(t.state=b.COMMENT_ENDED,t.comment=O(t.opt,t.comment),t.comment&&C(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+s,t.state=b.COMMENT);continue;case b.COMMENT_ENDED:">"!==s?(P(t,"Malformed comment"),t.comment+="--"+s,t.state=b.COMMENT):t.state=b.TEXT;continue;case b.CDATA:"]"===s?t.state=b.CDATA_ENDING:t.cdata+=s;continue;case b.CDATA_ENDING:"]"===s?t.state=b.CDATA_ENDING_2:(t.cdata+="]"+s,t.state=b.CDATA);continue;case b.CDATA_ENDING_2:">"===s?(t.cdata&&C(t,"oncdata",t.cdata),C(t,"onclosecdata"),t.cdata="",t.state=b.TEXT):"]"===s?t.cdata+="]":(t.cdata+="]]"+s,t.state=b.CDATA);continue;case b.PROC_INST:"?"===s?t.state=b.PROC_INST_ENDING:S(m,s)?t.state=b.PROC_INST_BODY:t.procInstName+=s;continue;case b.PROC_INST_BODY:if(!t.procInstBody&&S(m,s))continue;"?"===s?t.state=b.PROC_INST_ENDING:t.procInstBody+=s;continue;case b.PROC_INST_ENDING:">"===s?(C(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=b.TEXT):(t.procInstBody+="?"+s,t.state=b.PROC_INST_BODY);continue;case b.OPEN_TAG:S(_,s)?t.tagName+=s:(function(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,C(e,"onopentagstart",n)}(t),">"===s?k(t):"/"===s?t.state=b.OPEN_TAG_SLASH:(A(m,s)&&P(t,"Invalid character in tag name"),t.state=b.ATTRIB));continue;case b.OPEN_TAG_SLASH:">"===s?(k(t,!0),G(t)):(P(t,"Forward-slash in opening tag not followed by >"),t.state=b.ATTRIB);continue;case b.ATTRIB:if(S(m,s))continue;">"===s?k(t):"/"===s?t.state=b.OPEN_TAG_SLASH:S(v,s)?(t.attribName=s,t.attribValue="",t.state=b.ATTRIB_NAME):P(t,"Invalid attribute name");continue;case b.ATTRIB_NAME:"="===s?t.state=b.ATTRIB_VALUE:">"===s?(P(t,"Attribute without value"),t.attribValue=t.attribName,U(t),k(t)):S(m,s)?t.state=b.ATTRIB_NAME_SAW_WHITE:S(_,s)?t.attribName+=s:P(t,"Invalid attribute name");continue;case b.ATTRIB_NAME_SAW_WHITE:if("="===s)t.state=b.ATTRIB_VALUE;else{if(S(m,s))continue;P(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",C(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===s?k(t):S(v,s)?(t.attribName=s,t.state=b.ATTRIB_NAME):(P(t,"Invalid attribute name"),t.state=b.ATTRIB)}continue;case b.ATTRIB_VALUE:if(S(m,s))continue;S(l,s)?(t.q=s,t.state=b.ATTRIB_VALUE_QUOTED):(P(t,"Unquoted attribute value"),t.state=b.ATTRIB_VALUE_UNQUOTED,t.attribValue=s);continue;case b.ATTRIB_VALUE_QUOTED:if(s!==t.q){"&"===s?t.state=b.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=s;continue}U(t),t.q="",t.state=b.ATTRIB_VALUE_CLOSED;continue;case b.ATTRIB_VALUE_CLOSED:S(m,s)?t.state=b.ATTRIB:">"===s?k(t):"/"===s?t.state=b.OPEN_TAG_SLASH:S(v,s)?(P(t,"No whitespace between attributes"),t.attribName=s,t.attribValue="",t.state=b.ATTRIB_NAME):P(t,"Invalid attribute name");continue;case b.ATTRIB_VALUE_UNQUOTED:if(A(f,s)){"&"===s?t.state=b.ATTRIB_VALUE_ENTITY_U:t.attribValue+=s;continue}U(t),">"===s?k(t):t.state=b.ATTRIB;continue;case b.CLOSE_TAG:if(t.tagName)">"===s?G(t):S(_,s)?t.tagName+=s:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=b.SCRIPT):(A(m,s)&&P(t,"Invalid tagname in closing tag"),t.state=b.CLOSE_TAG_SAW_WHITE);else{if(S(m,s))continue;A(v,s)?t.script?(t.script+="</"+s,t.state=b.SCRIPT):P(t,"Invalid tagname in closing tag."):t.tagName=s}continue;case b.CLOSE_TAG_SAW_WHITE:if(S(m,s))continue;">"===s?G(t):P(t,"Invalid characters in closing tag");continue;case b.TEXT_ENTITY:case b.ATTRIB_VALUE_ENTITY_Q:case b.ATTRIB_VALUE_ENTITY_U:switch(t.state){case b.TEXT_ENTITY:r=b.TEXT,i="textNode";break;case b.ATTRIB_VALUE_ENTITY_Q:r=b.ATTRIB_VALUE_QUOTED,i="attribValue";break;case b.ATTRIB_VALUE_ENTITY_U:r=b.ATTRIB_VALUE_UNQUOTED,i="attribValue"}";"===s?(t[i]+=function(e){var t,n=e.entity,r=n.toLowerCase(),i="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:("#"===(n=r).charAt(0)&&(i="x"===n.charAt(1)?(n=Pe()(n).call(n,2),(t=Ee()(n,16)).toString(16)):(n=Pe()(n).call(n,1),(t=Ee()(n,10)).toString(10))),n=n.replace(/^0+/,""),i.toLowerCase()===n?V()(t):(P(e,"Invalid character entity"),"&"+e.entity+";"))}(t),t.entity="",t.state=r):S(t.entity.length?y:E,s)?t.entity+=s:(P(t,"Invalid character in entity name"),t[i]+="&"+t.entity+s,t.entity="",t.state=r);continue;default:throw new Error(t,"Unknown state: "+t.state)}return t.position>=t.bufferCheckPosition&&function(e){for(var t=Math.max(n.MAX_BUFFER_LENGTH,10),r=0,i=0,o=a.length;i<o;i++){var s=e[a[i]].length;if(t<s)switch(a[i]){case"textNode":N(e);break;case"cdata":C(e,"oncdata",e.cdata),e.cdata="";break;case"script":C(e,"onscript",e.script),e.script="";break;default:L(e,"Max buffer length exceeded: "+a[i])}r=Math.max(r,s)}var u=n.MAX_BUFFER_LENGTH-r;e.bufferCheckPosition=u+e.position}(t),t},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;N(e=this),""!==e.cdata&&(C(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(C(e,"onscript",e.script),e.script="")}};try{i=e(41).Stream}catch(T){i=function(){}}var s=K()(r=n.EVENTS).call(r,(function(e){return"error"!==e&&"end"!==e}));function u(e,t){if(!(this instanceof u))return new u(e,t);i.apply(this),this._parser=new o(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,q()(s).call(s,(function(e){Be()(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t;n.on(e,t)},enumerable:!0,configurable:!1})}))}(u.prototype=he()(i.prototype,{constructor:{value:u}})).write=function(n){var r;return"function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(n)&&(this._decoder||(r=e(42).StringDecoder,this._decoder=new r("utf8")),n=this._decoder.write(n)),this._parser.write(n.toString()),this.emit("data",n),!0},u.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},u.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===Ue()(s).call(s,e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);Ke()(t).call(t,0,0,e),n.emit.apply(n,t)}),i.prototype.on.call(n,e,t)};var l="'\"",f=(m="\r\n\t ")+">",c="[CDATA[",d="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",g={xml:h,xmlns:p},m=T(m),v=(T("0124356789"),T("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/),_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function T(e){var t;return B()(t=e.split("")).call(t,(function(e,t){return e[t]=!0,e}),{})}function S(e,t){return n=e,"[object RegExp]"===Object.prototype.toString.call(n)?t.match(e):e[t];var n}function A(e,t){return!S(e,t)}l=T(l),f=T(f);var I,R,b=0;for(var M in n.STATE={BEGIN:b++,BEGIN_WHITESPACE:b++,TEXT:b++,TEXT_ENTITY:b++,OPEN_WAKA:b++,SGML_DECL:b++,SGML_DECL_QUOTED:b++,DOCTYPE:b++,DOCTYPE_QUOTED:b++,DOCTYPE_DTD:b++,DOCTYPE_DTD_QUOTED:b++,COMMENT_STARTING:b++,COMMENT:b++,COMMENT_ENDING:b++,COMMENT_ENDED:b++,CDATA:b++,CDATA_ENDING:b++,CDATA_ENDING_2:b++,PROC_INST:b++,PROC_INST_BODY:b++,PROC_INST_ENDING:b++,OPEN_TAG:b++,OPEN_TAG_SLASH:b++,ATTRIB:b++,ATTRIB_NAME:b++,ATTRIB_NAME_SAW_WHITE:b++,ATTRIB_VALUE:b++,ATTRIB_VALUE_QUOTED:b++,ATTRIB_VALUE_CLOSED:b++,ATTRIB_VALUE_UNQUOTED:b++,ATTRIB_VALUE_ENTITY_Q:b++,ATTRIB_VALUE_ENTITY_U:b++,CLOSE_TAG:b++,CLOSE_TAG_SAW_WHITE:b++,SCRIPT:b++,SCRIPT_ENDING:b++},n.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},q()(w=ce()(n.ENTITIES)).call(w,(function(e){var t=n.ENTITIES[e],r="number"==typeof t?String.fromCharCode(t):t;n.ENTITIES[e]=r})),n.STATE){var w;n.STATE[n.STATE[M]]=M}function D(e,t,n){e[t]&&e[t](n)}function C(e,t,n){e.textNode&&N(e),D(e,t,n)}function N(e){e.textNode=O(e.opt,e.textNode),e.textNode&&D(e,"ontext",e.textNode),e.textNode=""}function O(e,t){return qe()(e)&&(t=qe()(t).call(t)),e.normalize&&(t=t.replace(/\s+/g," ")),t}function L(e,t){return N(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,D(e,"onerror",t),e}function x(e){return e.sawRoot&&!e.closedRoot&&P(e,"Unclosed root tag"),e.state!==b.BEGIN&&e.state!==b.BEGIN_WHITESPACE&&e.state!==b.TEXT&&L(e,"Unexpected end"),N(e),e.c="",e.closed=!0,D(e,"onend"),o.call(e,e.strict,e.opt),e}function P(e,t){if("object"!=Le()(e)||!(e instanceof o))throw new Error("bad call to strictFail");e.strict&&L(e,t)}function F(e,t){var n=Ue()(e).call(e,":")<0?["",e]:e.split(":"),r=n[0],i=n[1];return t&&"xmlns"===e&&(r="xmlns",i=""),{prefix:r,local:i}}function U(e){var t,n,r,i,a,o;e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==Ue()(t=e.attribList).call(t,e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName)||(e.opt.xmlns?(r=(n=F(e.attribName,!0)).prefix,i=n.local,"xmlns"===r&&("xml"===i&&e.attribValue!==h?P(e,"xml: prefix must be bound to "+h+"\nActual: "+e.attribValue):"xmlns"===i&&e.attribValue!==p?P(e,"xmlns: prefix must be bound to "+p+"\nActual: "+e.attribValue):(a=e.tag,o=e.tags[e.tags.length-1]||e,a.ns===o.ns&&(a.ns=he()(o.ns)),a.ns[i]=e.attribValue)),e.attribList.push([e.attribName,e.attribValue])):(e.tag.attributes[e.attribName]=e.attribValue,C(e,"onattribute",{name:e.attribName,value:e.attribValue}))),e.attribName=e.attribValue=""}function k(e,t){if(e.opt.xmlns){var n,r=e.tag,i=F(e.tagName);r.prefix=i.prefix,r.local=i.local,r.uri=r.ns[i.prefix]||"",r.prefix&&!r.uri&&(P(e,"Unbound namespace prefix: "+Ve()(e.tagName)),r.uri=i.prefix);var a=e.tags[e.tags.length-1]||e;r.ns&&a.ns!==r.ns&&q()(n=ce()(r.ns)).call(n,(function(t){C(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var o=0,s=e.attribList.length;o<s;o++){var u=e.attribList[o],l=u[0],f=u[1],c=F(l,!0),d=c.prefix,h=c.local,p=""!==d&&r.ns[d]||"",g={name:l,value:f,prefix:d,local:h,uri:p};d&&"xmlns"!==d&&!p&&(P(e,"Unbound namespace prefix: "+Ve()(d)),g.uri=d),e.tag.attributes[l]=g,C(e,"onattribute",g)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),C(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=b.TEXT:e.state=b.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function G(e){if(!e.tagName)return P(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=b.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=b.SCRIPT);C(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--&&e.tags[t].name!==r;)P(e,"Unexpected close tag");if(t<0)return P(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=b.TEXT);e.tagName=n;for(var i=e.tags.length;i-- >t;){var a,o=e.tag=e.tags.pop();e.tagName=e.tag.name,C(e,"onclosetag",e.tagName);var s={};for(var u in o.ns)s[u]=o.ns[u];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==l.ns&&q()(a=ce()(o.ns)).call(a,(function(t){var n=o.ns[t];C(e,"onclosenamespace",{prefix:t,uri:n})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=b.TEXT}function Y(e,t){"<"===t?(e.state=b.OPEN_WAKA,e.startTagPosition=e.position):A(m,t)&&(P(e,"Non-whitespace before first tag."),e.textNode=t,e.state=b.TEXT)}function H(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}function j(){var e,t,n=[],r=-1,i=arguments.length;if(!i)return"";for(var a="";++r<i;){var o=Number(arguments[r]);if(!isFinite(o)||o<0||1114111<o||R(o)!==o)throw RangeError("Invalid code point: "+o);o<=65535?n.push(o):(e=55296+((o-=65536)>>10),t=o%1024+56320,n.push(e,t)),(r+1===i||16384<n.length)&&(a+=I.apply(null,n),n.length=0)}return a}b=n.STATE,V.a||(I=String.fromCharCode,R=Math.floor,Be.a?Be()(String,"fromCodePoint",{value:j,configurable:!0,writable:!0}):String.fromCodePoint=j)}(void 0===n?this.sax={}:n)}).call(this,e(8).Buffer)},{41:41,42:42,8:8}],41:[function(e,t,n){t.exports=i;var r=e(11).EventEmitter;function i(){r.call(this)}e(21)(i,r),i.Readable=e(36),i.Writable=e(38),i.Duplex=e(26),i.Transform=e(37),i.PassThrough=e(35),(i.Stream=i).prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var o=!1;function s(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(f(),0===r.listenerCount(this,"error"))throw e}function f(){n.removeListener("data",i),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",f),n.removeListener("close",f),e.removeListener("close",f)}return n.on("error",l),e.on("error",l),n.on("end",f),n.on("close",f),e.on("close",f),e.emit("pipe",n),e}},{11:11,21:21,26:26,35:35,36:36,37:37,38:38}],42:[function(e,t,n){var r=e(39).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=f,this.end=c,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(55296<=r&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],Pe()(n).call(n,0,-1)}return n}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function f(e,t){var n=(e.length-t)%3;return 0==n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}(n.StringDecoder=a).prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);return 0<=i?(0<i&&(e.lastNeed=i-1),i):--r<n||-2===i?0:0<=(i=o(t[r]))?(0<i&&(e.lastNeed=i-2),i):--r<n||-2===i?0:0<=(i=o(t[r]))?(0<i&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{39:39}],43:[function(e,t,n){(function(t,r){var i=e(25).nextTick,a=Function.prototype.apply,o=Pe()(Array.prototype),s={},u=0;function l(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new l(a.call(J.a,window,arguments),clearTimeout)},n.setInterval=function(){return new l(a.call(U.a,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=J()((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&o.call(arguments,1);return s[t]=!0,i((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e(43).setImmediate,e(43).clearImmediate)},{25:25,43:43}],44:[function(t,n,r){(function(e){function t(t){try{if(!e.localStorage)return}catch(t){return}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}n.exports=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(46)),a=r(e(54)),o=r(e(47));function s(e){e=e||{};var t,n=this.context,r=(0,i.default)(n).getInstance(),o=e.settings,s=[],u=void 0,l=void 0,f=void 0;function c(e){var t;return e&&le()(e)?le()(e).call(e,window.console):le()(t=window.console.log).call(t,window.console)}function d(e,t){var n,i,c="";u&&(i=(new Date).getTime(),c+="["+(i-f)+"]"),l&&t&&t.getClassName&&(c+="["+t.getClassName()+"]",t.getType&&(c+="["+t.getType()+"]")),0<c.length&&(c+=" ");for(var d=arguments.length,h=Array(2<d?d-2:0),p=2;p<d;p++)h[p-2]=arguments[p];q()(n=Array.apply(null,h)).call(n,(function(e){c+=e+" "})),s[e]&&o.get().debug.logLevel>=e&&s[e](c),r.trigger(a.default.LOG,{message:c,level:e})}return t={getLogger:function(e){var t,n,r,i,a;return{fatal:le()(t=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];d.apply(void 0,Z()(e=[1,this]).call(e,n))}).call(t,e),error:le()(n=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];d.apply(void 0,Z()(e=[2,this]).call(e,n))}).call(n,e),warn:le()(r=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];d.apply(void 0,Z()(e=[3,this]).call(e,n))}).call(r,e),info:le()(i=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];d.apply(void 0,Z()(e=[4,this]).call(e,n))}).call(i,e),debug:le()(a=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];d.apply(void 0,Z()(e=[5,this]).call(e,n))}).call(a,e)}},setLogTimestampVisible:function(e){u=e},setCalleeNameVisible:function(e){l=e}},l=u=!0,f=(new Date).getTime(),"undefined"!=typeof window&&window.console&&(s[1]=c(window.console.error),s[2]=c(window.console.error),s[3]=c(window.console.warn),s[4]=c(window.console.info),s[5]=c(window.console.debug)),t}s.__dashjs_factory_name="Debug";var u=o.default.getSingletonFactory(s);u.LOG_LEVEL_NONE=0,u.LOG_LEVEL_FATAL=1,u.LOG_LEVEL_ERROR=2,u.LOG_LEVEL_WARNING=3,u.LOG_LEVEL_INFO=4,u.LOG_LEVEL_DEBUG=5,o.default.updateSingletonFactory(s.__dashjs_factory_name,u),n.default=u,t.exports=n.default},{46:46,47:47,54:54}],46:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r};function a(){var e={};function t(t,n,r){var i,a=-1;return e[t]&&P()(i=e[t]).call(i,(function(e,t){if(e&&e.callback===n&&(!r||r===e.scope))return a=t,!0})),a}return{on:function(n,r,i){var a,o,s=arguments.length<=3||void 0===arguments[3]?0:arguments[3];if(!n)throw new Error("event type cannot be null or undefined");if(!r||"function"!=typeof r)throw new Error("listener must be a function: "+r);0<=t(n,r,i)||(e[n]=e[n]||[],o={callback:r,scope:i,priority:s},P()(a=e[n]).call(a,(function(t,r){var i;if(t&&s>t.priority)return Ke()(i=e[n]).call(i,r,0,o),!0}))||e[n].push(o))},off:function(n,r,i){var a;n&&r&&e[n]&&((a=t(n,r,i))<0||(e[n][a]=null))},trigger:function(t,n){if(t&&e[t]){var r,i;if((n=n||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");n.type=t,e[t]=K()(r=e[t]).call(r,(function(e){return e})),q()(i=e[t]).call(i,(function(e){return e&&e.callback.call(e.scope,n)}))}},reset:function(){e={}}}}a.__dashjs_factory_name="EventBus";var o=i.default.getSingletonFactory(a);o.EVENT_PRIORITY_LOW=0,o.EVENT_PRIORITY_HIGH=5e3,i.default.updateSingletonFactory(a.__dashjs_factory_name,o),n.default=o,t.exports=n.default},{47:47}],47:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i,a,o,s=(void 0,i=[],a={},o={},r={extend:function(e,t,n,r){!r[e]&&t&&(r[e]={instance:t,override:n})},getSingletonInstance:u,setSingletonInstance:function(e,t,n){for(var r in i){var a=i[r];if(a.context===e&&a.name===t)return void(i[r].instance=n)}i.push({name:t,context:e,instance:n})},getSingletonFactory:function(e){var t=l(e.__dashjs_factory_name,a);return t||(t=function(t){var n=void 0;return void 0===t&&(t={}),{getInstance:function(){return(n=n||u(t,e.__dashjs_factory_name))||(n=c(e,t,arguments),i.push({name:e.__dashjs_factory_name,context:t,instance:n})),n}}},a[e.__dashjs_factory_name]=t),t},getSingletonFactoryByName:function(e){return a[e]},updateSingletonFactory:function(e,t){f(e,t,a)},getClassFactory:function(e){var t=l(e.__dashjs_factory_name,o);return t||(t=function(t){return void 0===t&&(t={}),{create:function(){return c(e,t,arguments)}}},o[e.__dashjs_factory_name]=t),t},getClassFactoryByName:function(e){return o[e]},updateClassFactory:function(e,t){f(e,t,o)}});function u(e,t){for(var n in i){var r=i[n];if(r.context===e&&r.name===t)return r.instance}return null}function l(e,t){return t[e]}function f(e,t,n){e in n&&(n[e]=t)}function c(e,t,n){var i=void 0,a=e.__dashjs_factory_name,o=t[a];if(o){var s=o.instance;if(!o.override)return s.apply({context:t,factory:r},n);for(var u in i=e.apply({context:t},n),s=s.apply({context:t,factory:r,parent:i},n))i.hasOwnProperty(u)&&(i[u]=s[u])}else i=e.apply({context:t},n);return i.getClassName=function(){return a},i}n.default=s,t.exports=n.default},{}],48:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Be()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Be()(n,"__esModule",{value:!0});var a=r(e(47)),o=r(e(49)),s=r(e(45)),u=r(e(108)),l=e(241);function f(){var e,t,n={debug:{logLevel:s.default.LOG_LEVEL_WARNING},streaming:{metricsMaxListDepth:1e3,abandonLoadTimeout:1e4,liveDelayFragmentCount:NaN,liveDelay:null,scheduleWhilePaused:!0,fastSwitchEnabled:!1,bufferPruningInterval:10,bufferToKeep:20,bufferAheadToKeep:80,jumpGaps:!0,smallGapLimit:1.5,stableBufferTime:12,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,longFormContentDurationThreshold:600,wallclockTimeUpdateInterval:50,lowLatencyEnabled:!1,keepProtectionMediaKeys:!1,useManifestDateHeaderTimeSource:!0,useSuggestedPresentationDelay:!0,useAppendWindowEnd:!0,manifestUpdateRetryInterval:100,liveCatchUpMinDrift:.02,liveCatchUpMaxDrift:0,liveCatchUpPlaybackRate:.5,liveCatchupLatencyThreshold:NaN,lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},retryIntervals:(i(e={},l.HTTPRequest.MPD_TYPE,500),i(e,l.HTTPRequest.XLINK_EXPANSION_TYPE,500),i(e,l.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),i(e,l.HTTPRequest.INIT_SEGMENT_TYPE,1e3),i(e,l.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),i(e,l.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),i(e,l.HTTPRequest.OTHER_TYPE,1e3),i(e,"lowLatencyReductionFactor",10),e),retryAttempts:(i(t={},l.HTTPRequest.MPD_TYPE,3),i(t,l.HTTPRequest.XLINK_EXPANSION_TYPE,1),i(t,l.HTTPRequest.MEDIA_SEGMENT_TYPE,3),i(t,l.HTTPRequest.INIT_SEGMENT_TYPE,3),i(t,l.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),i(t,l.HTTPRequest.INDEX_SEGMENT_TYPE,3),i(t,l.HTTPRequest.OTHER_TYPE,3),i(t,"lowLatencyMultiplyFactor",5),t),abr:{movingAverageMethod:u.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:u.default.ABR_STRATEGY_DYNAMIC,bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useBufferOccupancyABR:!1,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0}},cmcd:{enabled:!1,sid:null,cid:null,did:null}}},r=o.default.clone(n);return{get:function(){return r},update:function(e){"object"==Le()(e)&&function e(t,n,r){for(var i in t)t.hasOwnProperty(i)&&n.hasOwnProperty(i)&&("object"==Le()(t[i])&&null!==t[i]?e(t[i],n[i],Pe()(r).call(r)+i+"."):n[i]=o.default.clone(t[i]))}(e,r,"")},reset:function(){r=o.default.clone(n)}}}f.__dashjs_factory_name="Settings";var c=a.default.getSingletonFactory(f);n.default=c,t.exports=n.default},{108:108,241:241,45:45,47:47,49:49}],49:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}Be()(n,"__esModule",{value:!0});var i=(function(e,t,n){n&&r(e,n)}(a,0,[{key:"mixin",value:function(e,t,n){var r,i={};if(e)for(var o in t)t.hasOwnProperty(o)&&(r=t[o],o in e&&(e[o]===r||o in i&&i[o]===r)||("object"==Le()(e[o])&&null!==e[o]?e[o]=a.mixin(e[o],r,n):e[o]=n(r)));return e}},{key:"clone",value:function(e){if(!e||"object"!=Le()(e))return e;var t=void 0;if(e instanceof Array){t=[];for(var n=0,r=e.length;n<r;++n)n in e&&t.push(a.clone(e[n]))}else t={};return a.mixin(t,e,a.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(e,t){try{var n=function(){if(!t||0===t.length)return{v:e};var n=new L.a(e);return q()(t).call(t,(function(e){e.key&&e.value&&n.searchParams.set(e.key,e.value)})),{v:n.href}}();if("object"==Le()(n))return n.v}catch(t){return e}}},{key:"generateUuid",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}},{key:"generateHashCode",value:function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}}]),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a)}n.default=i,t.exports=n.default},{}],50:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.getVersionString=function(){return r};var r="3.1.2"},{}],51:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r;function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}}(X()(i.prototype),"constructor",this).call(this),this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,this.SEGMENTS_UPDATE_FAILED_ERROR_CODE=13,this.SEGMENTS_UNAVAILABLE_ERROR_CODE=14,this.SEGMENT_BASE_LOADER_ERROR_CODE=15,this.TIME_SYNC_FAILED_ERROR_CODE=16,this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,this.APPEND_ERROR_CODE=20,this.REMOVE_ERROR_CODE=21,this.DATA_UPDATE_FAILED_ERROR_CODE=22,this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,this.DOWNLOAD_ERROR_ID_SIDX_CODE=26,this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,this.DOWNLOAD_ERROR_ID_XLINK_CODE=29,this.MANIFEST_ERROR_ID_CODEC_CODE=30,this.MANIFEST_ERROR_ID_PARSE_CODE=31,this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segments",this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize time",this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",this.APPEND_ERROR_MESSAGE="chunk is not defined",this.REMOVE_ERROR_MESSAGE="buffer is not defined",this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : "}var a=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(i,((r=e(52))&&r.__esModule?r:{default:r}).default),i);n.default=a,t.exports=n.default},{52:52}],52:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}Be()(n,"__esModule",{value:!0});var i=(function(e,t,n){t&&r(e.prototype,t)}(a,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var i in e){var a;!e.hasOwnProperty(i)||this[i]&&!n||r&&-1===Ue()(a=e[i]).call(a,"public_")||(this[i]=e[i])}}}}]),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a)}n.default=i,t.exports=n.default},{}],53:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(a,((r=e(55))&&r.__esModule?r:{default:r}).default),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}}(X()(a.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INBAND_EVENTS="inbandEvents",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_FRAGMENT_NEEDED="initFragmentNeeded",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATE_STARTED="representationUpdateStarted",this.REPRESENTATION_UPDATE_COMPLETED="representationUpdateCompleted",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady",this.SEGMENTBASE_INIT_REQUEST_NEEDED="segmentBaseInitRequestNeeded",this.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED="segmentBaseSegmentsListRequestNeeded",this.SEEK_TARGET="seekTarget",this.DYNAMIC_STREAM_COMPLETED="dynamicStreamCompleted"}n.default=i,t.exports=n.default},{55:55}],54:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}};function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i(X()(a.prototype),"constructor",this).apply(this,arguments)}var o=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(a,((r=e(53))&&r.__esModule?r:{default:r}).default),a);n.default=o,t.exports=n.default},{53:53}],55:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}Be()(n,"__esModule",{value:!0});var i=(function(e,t,n){t&&r(e.prototype,t)}(a,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var i in e){var a;!e.hasOwnProperty(i)||this[i]&&!n||r&&-1===Ue()(a=e[i]).call(a,"public_")||(this[i]=e[i])}}}}]),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a)}n.default=i,t.exports=n.default},{}],56:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(61)),a=r(e(93)),o=r(e(89)),s=r(e(95)),u=r(e(88)),l=r(e(86)),f=r(e(47)),c=r(e(65));function d(){var e,t=void 0,n=void 0,r=void 0,f=void 0,d=void 0,h=void 0,p=this.context;function g(e,r,a){var o,s=t.getAdaptationsForType(n[0].mpd.manifest,e,r);if(!s||0===s.length)return null;if(1<s.length&&a){var u=m(a,r);if(f[a.id]&&f[a.id][r])for(var l=0,c=s.length;l<c;l++)if(f[a.id][r].isMediaInfoEqual(u[l]))return s[l];for(l=0,c=s.length;l<c;l++){var d;if(o=s[l],K()(d=t.getRolesForAdaptation(o)).call(d,(function(e){return e.value===i.default.MAIN}))[0])return s[l]}}return s[0]}function m(e,i,a){var o,s,u,l=n,f=a,c=[],h=void 0,p=void 0,g=void 0,m=void 0;if(f)b(),l=v(f);else{if(!(0<n.length))return c;f=n[0].mpd.manifest}var _=S(e,l);_&&(m=_.id);var E=t.getAdaptationsForType(f,e?e.index:null,i!==d.EMBEDDED_TEXT?i:d.VIDEO);if(!E||0===E.length)return c;for(r[m]=r[m]||t.getAdaptationsForPeriod(_),p=0,u=E.length;p<u;p++)if(o=E[p],s=t.getIndexForAdaptation(o,f,e.index),h=A(r[m][s]),i===d.EMBEDDED_TEXT){var y=h.accessibility.length;for(g=0;g<y;g++)if(h){var T=h.accessibility[g];if(0===Ue()(T).call(T,"cea-608:")){var R=T.substring(8).split(";");if("CC"===R[0].substring(0,2))for(g=0;g<R.length;g++)I(h=h||A.call(this,r[m][s]),R[g].substring(0,3),R[g].substring(4)),c.push(h),h=null;else for(g=0;g<R.length;g++)I(h=h||A.call(this,r[m][s]),"CC"+(g+1),R[g]),c.push(h),h=null}else 0===Ue()(T).call(T,"cea-608")&&(I(h,d.CC1,"eng"),c.push(h),h=null)}}else i===d.IMAGE?(h.type=d.IMAGE,c.push(h),h=null):h&&c.push(h);return c}function v(e){var n=_(e);return t.getRegularPeriods(n)}function _(e){var n=y(e);return t.getMpd(n)}function E(){n=[],r={},f={}}function y(e){return e||(0<n.length?n[0].mpd.manifest:null)}function T(e){return e&&e.streamInfo&&void 0!==e.streamInfo.id&&r[e.streamInfo.id]?r[e.streamInfo.id][e.index]:null}function S(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r];if(e&&e.id===i.id)return i}return null}function A(e){var n,r,i,a,s;if(!e)return null;var u,l=new o.default,f=e.period.mpd.manifest.Period_asArray[e.period.index].AdaptationSet_asArray[e.index];return l.id=e.id,l.index=e.index,l.type=e.type,l.streamInfo=R(e.period),l.representationCount=t.getRepresentationCount(f),l.labels=t.getLabelsForAdaptation(f),l.lang=t.getLanguageForAdaptation(f),u=t.getViewpointForAdaptation(f),l.viewpoint=u?u.value:void 0,l.accessibility=te()(n=t.getAccessibilityForAdaptation(f)).call(n,(function(e){var t=e.value,n=t;return e.schemeIdUri&&0<=e.schemeIdUri.search("cea-608")&&void 0!==h&&(n=t?"cea-608:"+t:"cea-608",l.embeddedCaptions=!0),n})),l.audioChannelConfiguration=te()(r=t.getAudioChannelConfigurationForAdaptation(f)).call(r,(function(e){return e.value})),0===l.audioChannelConfiguration.length&&Ne()(f.Representation_asArray)&&0<f.Representation_asArray.length&&(l.audioChannelConfiguration=te()(i=t.getAudioChannelConfigurationForRepresentation(f.Representation_asArray[0])).call(i,(function(e){return e.value}))),l.roles=te()(a=t.getRolesForAdaptation(f)).call(a,(function(e){return e.value})),l.codec=t.getCodec(f),l.mimeType=t.getMimeType(f),l.contentProtection=t.getContentProtectionData(f),l.bitrateList=t.getBitrateListForAdaptation(f),l.contentProtection&&q()(s=l.contentProtection).call(s,(function(e){e.KID=t.getKID(e)})),l.isText=t.getIsTextTrack(l.mimeType),l.supplementalProperties=t.getSupplementalPropperties(f),l}function I(e,t,n){e.id=t,e.index=100+Ee()(t.substring(2,3)),e.type=d.EMBEDDED_TEXT,e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=n,e.roles=["caption"]}function R(e){var n,r,i=new s.default;return i.id=e.id,i.index=e.index,i.start=e.start,i.duration=e.duration,i.manifestInfo=(n=e.mpd,(r=new u.default).DVRWindowSize=n.timeShiftBufferDepth,r.loadedTime=n.manifest.loadedTime,r.availableFrom=n.availabilityStartTime,r.minBufferTime=n.manifest.minBufferTime,r.maxFragmentDuration=n.maxSegmentDuration,r.duration=t.getDuration(n.manifest),r.isDynamic=t.getIsDynamic(n.manifest),r.serviceDescriptions=t.getServiceDescriptions(n.manifest),r.protocol=n.manifest.protocol,r),i.isLast=1===e.mpd.manifest.Period_asArray.length||Math.abs(i.start+i.duration-i.manifestInfo.duration)<1,i}function b(){if(!d)throw new Error("setConfig function has to be called previously")}function M(e){return 0<n.length?n[0].mpd.manifest.Period_asArray[e]:null}function w(e,t,n){var r,i,a,o=void 0,s=void 0;if(e)for(r=e.AdaptationSet_asArray,o=0;o<r.length;o+=1)for(a=r[o].Representation_asArray,s=0;s<a.length;s+=1)if(t===(i=a[s]).id)return n?s:i;return null}return e={getBandwidthForRepresentation:function(e,t){var n;return(n=w(M(t),e))?n.bandwidth:null},getIndexForRepresentation:function(e,t){var n;return null!==(n=w(M(t),e,!0))?n:-1},getMaxIndexForBufferType:function(e,n){return function(e,n){var r,i=void 0,a=void 0,o=void 0;if(!e||!n)return-1;for(r=e.AdaptationSet_asArray,o=0;o<r.length;o+=1)if(a=(i=r[o]).Representation_asArray,t.getIsTypeOf(i,n))return a.length;return-1}(M(n),e)},convertDataToRepresentationInfo:function(e){if(e){var n=new a.default,r=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],i=t.getRepresentationFor(e.index,r);return n.id=e.id,n.quality=e.index,n.bandwidth=t.getBandwidth(i),n.DVRWindow=e.segmentAvailabilityRange,n.fragmentDuration=e.segmentDuration||(e.segments&&0<e.segments.length?e.segments[0].duration:NaN),n.MSETimeOffset=e.MSETimeOffset,n.useCalculatedLiveEdgeTime=e.useCalculatedLiveEdgeTime,n.mediaInfo=A(e.adaptation),n}return null},getDataForMedia:T,getStreamsInfo:function(e,t){var r=[],i=n;if(e&&(b(),i=v(e)),0<i.length){(!t||t>i.length)&&(t=i.length);for(var a=0;a<t;a++)r.push(R(i[a]))}return r},getMediaInfoForType:function(e,i){if(0===n.length||!e)return null;var a=S(e,n);if(!a)return null;var o=a.id;r[o]=r[o]||t.getAdaptationsForPeriod(a);var s=g(e.index,i,e);if(!s)return null;var u=t.getIndexForAdaptation(s,n[0].mpd.manifest,e.index);return A(r[o][u])},getAllMediaInfoForType:m,getAdaptationForType:g,getRealAdaptation:function(e,r){var i=void 0,a=S(e,n),o=r?r.id:null;return 0<n.length&&a&&(i=o?t.getAdaptationForId(o,n[0].mpd.manifest,a.index):t.getAdaptationForIndex(r?r.index:null,n[0].mpd.manifest,a.index)),i},getVoRepresentations:function(e){var n=T(e);return t.getRepresentationsForAdaptation(n)},getEventsFor:function(e,r){var i,u=[];return 0<n.length&&(i=n[0].mpd.manifest,e instanceof s.default?u=t.getEventsForPeriod(S(e,n)):e instanceof o.default?u=t.getEventStreamForAdaptationSet(i,T(e)):e instanceof a.default&&(u=t.getEventStreamForRepresentation(i,r))),u},getEvent:function(e,t,n){if(!e||!t)return null;var r=new l.default,i=e.scheme_id_uri,a=e.value,o=e.timescale,s=e.presentation_time_delta,u=e.event_duration,f=e.id,c=e.message_data,d=n*o+s;return t[i+"/"+a]?(r.eventStream=t[i+"/"+a],r.eventStream.value=a,r.eventStream.timescale=o,r.duration=u,r.id=f,r.calculatedPresentationTime=d,r.messageData=c,r.presentationTimeDelta=s,r):null},setConfig:function(e){e&&(e.constants&&(d=e.constants),e.cea608parser&&(h=e.cea608parser),e.errHandler&&t.setConfig({errHandler:e.errHandler}),e.BASE64&&t.setConfig({BASE64:e.BASE64}))},updatePeriods:function(e){if(!e)return null;b(),n=v(e),r={}},getUseCalculatedLiveEdgeTimeForMediaInfo:function(e){var n=T(e);return t.getUseCalculatedLiveEdgeTimeForAdaptation(n)},getIsTextTrack:function(e){return t.getIsTextTrack(e)},getUTCTimingSources:function(){var e=y();return t.getUTCTimingSources(e)},getSuggestedPresentationDelay:function(){var e=0<n.length?n[0].mpd:null;return t.getSuggestedPresentationDelay(e)},getAvailabilityStartTime:function(e){var n=_(e);return t.getAvailabilityStartTime(n)},getIsDynamic:function(e){var n=y(e);return t.getIsDynamic(n)},getDuration:function(e){var n=y(e);return t.getDuration(n)},getRegularPeriods:v,getLocation:function(e){return t.getLocation(e)},getManifestUpdatePeriod:function(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return t.getManifestUpdatePeriod(e,n)},getIsDVB:function(e){return t.hasProfile(e,"urn:dvb:dash:profile:dvb-dash:2014")},getBaseURLsFromElement:function(e){return t.getBaseURLsFromElement(e)},getRepresentationSortFunction:function(){return t.getRepresentationSortFunction()},getCodec:function(e,n,r){return t.getCodec(e,n,r)},getVoAdaptations:function(){return r},getVoPeriods:function(){return n},setCurrentMediaInfo:function(e,t,n){f[e]=f[e]||{},f[e][t]=f[e][t]||{},f[e][t]=n},reset:E},t=(0,c.default)(p).getInstance(),E(),e}d.__dashjs_factory_name="DashAdapter",n.default=f.default.getSingletonFactory(d),t.exports=n.default},{47:47,61:61,65:65,86:86,88:88,89:89,93:93,95:95}],57:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(227)),a=e(241),o=r(e(47)),s=e(80),u=r(e(64));function l(e){e=e||{};var t=this.context,n=e.eventBus,r=e.events,o=e.debug,l=e.dashConstants,f=e.urlUtils,c=e.type,d=e.streamInfo,h=e.timelineConverter,p=e.dashMetrics,g=e.baseURLController,m=void 0,v=void 0,_=void 0,E=void 0,y=void 0,T=void 0,S=void 0,A=void 0,I=void 0,R=void 0;function b(){_=-1,E=null}function M(){b(),T=0,I=R=y=null}function w(e,t,n){var r=g.resolve(n.path),i=void 0,a=void 0;return r&&t!==r.url&&f.isRelative(t)?(i=r.url,a=r.serviceLocation,t&&(i=f.resolve(t,i))):i=t,!f.isRelative(i)&&(e.url=i,e.serviceLocation=a,1)}function D(e){var t,i,a;e.sender.getType()===c&&(i=(t=e.representation).hasInitialization(),a=t.hasSegments(),i&&a?n.trigger(r.REPRESENTATION_UPDATE_COMPLETED,{sender:m,representation:t}):R.update(t,c,I,i,a))}function C(e,t){if(null==t)return null;var n=new i.default,r=t.representation,o=r.adaptation.period.mpd.manifest.Period_asArray[r.adaptation.period.index].AdaptationSet_asArray[r.adaptation.index].Representation_asArray[r.index].bandwidth,u=t.media;u=(0,s.replaceTokenForTemplate)(u,"Number",t.replacementNumber);return u=(0,s.replaceTokenForTemplate)(u,"Time",t.replacementTime),u=(0,s.replaceTokenForTemplate)(u,"Bandwidth",o),u=(0,s.replaceIDForTemplate)(u,r.id),u=(0,s.unescapeDollarsInTemplate)(u),n.mediaType=c,n.type=a.HTTPRequest.MEDIA_SEGMENT_TYPE,n.range=t.mediaRange,n.startTime=t.presentationStartTime,n.duration=t.duration,n.timescale=r.timescale,n.availabilityStartTime=t.availabilityStartTime,n.availabilityEndTime=t.availabilityEndTime,n.wallStartTime=t.wallStartTime,n.quality=r.index,n.index=t.availabilityIdx,n.mediaInfo=e,n.adaptationIndex=r.adaptation.index,n.representationId=r.id,w(n,u,r)?n:void 0}function N(e){var t,n,r=!1;return e&&(S?A?r=!0:E&&(t=ae()((E.presentationStartTime-e.adaptation.period.start).toFixed(5)),n=0<E.duration?t+1.5*E.duration:t,r=e.adaptation.period.duration<=n):_>=e.availableSegmentsNumber&&(r=!0)),r}function O(e){var t=e.representation;t.segments&&n.trigger(r.REPRESENTATION_UPDATE_COMPLETED,{sender:this,representation:t})}function L(e){if(!e.error&&c===e.mediaType){for(var t,i,a,o=e.segments,u=e.representation,l=[],f=0,d=void 0,g=(d=0,o?o.length:0);d<g;d++)t=o[d],(i=(0,s.getTimeBasedSegment)(h,S,u,t.startTime,t.duration,t.timescale,t.media,t.mediaRange,f))&&(l.push(i),f++);0<l.length&&(u.segmentAvailabilityRange={start:l[0].presentationStartTime,end:l[l.length-1].presentationStartTime},u.availableSegmentsNumber=l.length,u.segments=l,S&&(a=l[l.length-1].presentationStartTime-8,h.setExpectedLiveEdge(a),p.updateManifestUpdateInfo({presentationStartTime:a}))),u.hasInitialization()&&n.trigger(r.REPRESENTATION_UPDATE_COMPLETED,{sender:this,representation:u})}}function x(){v.debug("Dynamic stream complete"),A=!0}return m={initialize:function(e){S=e,A=!1,R.initialize(e)},getType:function(){return c},getStreamInfo:function(){return d},getInitRequest:function(e,t){return t?function(e,t,n){var r=new i.default,o=t.adaptation.period,u=o.start;if(r.mediaType=n,r.type=a.HTTPRequest.INIT_SEGMENT_TYPE,r.range=t.range,r.availabilityStartTime=h.calcAvailabilityStartTimeFromPresentationTime(u,o.mpd,S),r.availabilityEndTime=h.calcAvailabilityEndTimeFromPresentationTime(u+o.duration,o.mpd,S),r.quality=t.index,r.mediaInfo=e,r.representationId=t.id,w(r,t.initialization,t))return r.url=(0,s.replaceTokenForTemplate)(r.url,"Bandwidth",t.bandwidth),r}(e,t,c):null},getRequestForSegment:C,getSegmentRequestForTime:function(e,t,n,r){var a=null;if(!t||!t.segmentInfoType)return a;var o=_,s=!!r&&r.keepIdx,u=!(!r||!r.ignoreIsFinished);y!==n&&(y=n,v.debug("Getting the request for time : "+n));var f=R.getSegmentByTime(t,n);return f?(_=f.availabilityIdx,E=f,v.debug("Index for time "+n+" is "+_),a=C(e,f)):!u&&N(t)&&((a=new i.default).action=i.default.ACTION_COMPLETE,a.index=_-1,a.mediaType=c,a.mediaInfo=e,v.debug("Signal complete in getSegmentRequestForTime")),s&&0<=o&&(_=t.segmentInfoType===l.SEGMENT_TIMELINE&&S?_:o),a},getNextSegmentRequest:function(e,t){var n=null;if(!t||!t.segmentInfoType)return null;y=null;var r=_+1;v.debug("Getting the next request at index: "+r);var a=R.getSegmentByIndex(t,r,E?E.mediaStartTime:-1);return a||isFinite(t.adaptation.period.duration)||A?(_=a?(n=C(e,a),a.availabilityIdx):S?r-1:r,a?E=a:N(t)&&((n=new i.default).action=i.default.ACTION_COMPLETE,n.index=_-1,n.mediaType=c,n.mediaInfo=e,v.debug("Signal complete")),n):(v.debug("No segment found at index: "+r+". Wait for next loop"),null)},setCurrentTime:function(e){T=e},getCurrentTime:function(){return T},setCurrentIndex:function(e){_=e},getCurrentIndex:function(){return _},isMediaFinished:N,reset:function(){M(),n.off(r.INITIALIZATION_LOADED,O,m),n.off(r.SEGMENTS_LOADED,L,m),n.off(r.REPRESENTATION_UPDATE_STARTED,D,m),n.off(r.DYNAMIC_STREAM_COMPLETED,x,m)},resetIndex:b,setMimeType:function(e){I=e}},v=o.getLogger(m),M(),R=(0,u.default)(t).create(e),n.on(r.INITIALIZATION_LOADED,O,m),n.on(r.SEGMENTS_LOADED,L,m),n.on(r.REPRESENTATION_UPDATE_STARTED,D,m),n.on(r.DYNAMIC_STREAM_COMPLETED,x,m),m}l.__dashjs_factory_name="DashHandler",n.default=o.default.getClassFactory(l),t.exports=n.default},{227:227,241:241,47:47,64:64,80:80}],58:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=e(241),o=r(e(47)),s=r(e(109)),u=r(e(78)),l=r(e(152)),f=e(243);function c(e){e=e||{};var t,n=this.context,r=void 0,o=void 0,c=void 0,d=e.metricsModel;function h(e){var t=d.getMetricsFor(e,!0);if(!t)return null;var n=t.HttpList,r=null,i=void 0;if(!n||n.length<=0)return null;for(i=n.length-1;0<=i;){if(n[i].responsecode){r=n[i];break}i--}return r}function p(e){var t=d.getMetricsFor(e,!0);return t&&t.HttpList?t.HttpList:[]}function g(e,t){if(!e)return null;var n=e[t];return n&&0!==n.length?n[n.length-1]:null}function m(e){var t={};if(!e)return t;for(var n=qe()(e).call(e).split("\r\n"),r=0,i=n.length;r<i;r++){var a=n[r],o=Ue()(a).call(a,": ");0<o&&(t[a.substring(0,o)]=a.substring(o+2))}return t}return t={getCurrentRepresentationSwitch:function(e){return g(d.getMetricsFor(e,!0),s.default.TRACK_SWITCH)},getCurrentBufferState:function(e){return g(d.getMetricsFor(e,!0),s.default.BUFFER_STATE)},getCurrentBufferLevel:function(e){var t=g(d.getMetricsFor(e,!0),s.default.BUFFER_LEVEL);return t?u.default.round10(t.level/1e3,-3):0},getCurrentHttpRequest:h,getHttpRequests:p,getCurrentDroppedFrames:function(){return g(d.getMetricsFor(i.default.VIDEO,!0),s.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(e){return g(d.getMetricsFor(e,!0),s.default.SCHEDULING_INFO)},getCurrentDVRInfo:function(e){return g(e?d.getMetricsFor(e,!0):d.getMetricsFor(i.default.VIDEO,!0)||d.getMetricsFor(i.default.AUDIO,!0),s.default.DVR_INFO)},getCurrentManifestUpdate:function(){return g(d.getMetricsFor(i.default.STREAM),s.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(e,t){var n={},r=h(e);return r&&(n=m(r._responseHeaders)),void 0===n[t]?null:n[t]},getLatestMPDRequestHeaderValueByID:function(e){var t,n,r={},o=void 0;for(o=(n=p(i.default.STREAM)).length-1;0<=o;o--)if((t=n[o]).type===a.HTTPRequest.MPD_TYPE){r=m(t._responseHeaders);break}return void 0===r[e]?null:r[e]},addRepresentationSwitch:function(e,t,n,r,i){d.addRepresentationSwitch(e,t,n,r,i)},addDVRInfo:function(e,t,n,r){d.addDVRInfo(e,t,n,r)},updateManifestUpdateInfo:function(e){var t=this.getCurrentManifestUpdate();d.updateManifestUpdateInfo(t,e)},addManifestUpdateStreamInfo:function(e){var t;e&&(t=this.getCurrentManifestUpdate(),d.addManifestUpdateStreamInfo(t,e.id,e.index,e.start,e.duration))},addManifestUpdateRepresentationInfo:function(e,t){var n;e&&(n=this.getCurrentManifestUpdate(),d.addManifestUpdateRepresentationInfo(n,e.id,e.index,e.streamIndex,t,e.presentationTimeOffset,e.startNumber,e.fragmentInfoType))},addManifestUpdate:function(e){d.addManifestUpdate(i.default.STREAM,e.type,e.requestStartDate,e.requestEndDate)},addHttpRequest:function(e,t,n,r,i){d.addHttpRequest(e.mediaType,null,e.type,e.url,e.quality,t,e.serviceLocation||null,e.range||null,e.requestStartDate,e.firstByteDate,e.requestEndDate,n,e.duration,r,i)},addSchedulingInfo:function(e,t){d.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t)},addRequestsQueue:function(e,t,n){d.addRequestsQueue(e,t,n)},addBufferLevel:function(e,t,n){d.addBufferLevel(e,t,n)},addBufferState:function(e,t,n){d.addBufferState(e,t,n)},addDroppedFrames:function(e){d.addDroppedFrames(i.default.VIDEO,e)},addPlayList:function(){c&&(d.addPlayList(c),c=null)},addDVBErrors:function(e){d.addDVBErrors(e)},createPlaylistMetrics:function(e,t){(c=new f.PlayList).start=new Date,c.mstart=e,c.starttype=t},createPlaylistTraceMetrics:function(e,t,n){!0===r&&(r=!1,(o=new f.PlayListTrace).representationid=e,o.start=new Date,o.mstart=t,o.playbackspeed=null!==n?n.toString():null)},updatePlayListTraceMetrics:function(e){if(o)for(var t in o)o[t]=e[t]},pushPlayListTraceMetrics:function(e,t){var n,i;!1===r&&c&&o&&o.start&&(n=o.start,i=e.getTime()-n.getTime(),o.duration=i,o.stopreason=t,c.trace.push(o),r=!0)},clearAllCurrentMetrics:function(){d.clearAllCurrentMetrics()}},d=d||(0,l.default)(n).getInstance({settings:e.settings}),r=!0,c=o=null,t}c.__dashjs_factory_name="DashMetrics",n.default=o.default.getSingletonFactory(c),t.exports=n.default},{108:108,109:109,152:152,241:241,243:243,47:47,78:78}],59:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(94)),a=r(e(225)),o=r(e(47)),s=r(e(227)),u=r(e(158));function l(){var e=this.context,t=void 0,n=void 0,r=void 0,o=void 0,l=void 0,f=void 0,c=void 0,d=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,E=void 0,y=void 0;function T(){if(!y||!y.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function S(e){if(e.url){var t=new s.default;return t.setInfo(e),t}}function A(e,t,n){e?g.trigger(p.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):g.trigger(p.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new a.default(m.SEGMENT_BASE_LOADER_ERROR_CODE,m.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}return t={setConfig:function(e){e.baseURLController&&(y=e.baseURLController),e.dashMetrics&&(f=e.dashMetrics),e.mediaPlayerModel&&(d=e.mediaPlayerModel),e.errHandler&&(r=e.errHandler),e.settings&&(c=e.settings),e.boxParser&&(o=e.boxParser),e.events&&(p=e.events),e.eventBus&&(g=e.eventBus),e.debug&&(n=e.debug.getLogger(t)),e.requestModifier&&(l=e.requestModifier),e.errors&&(m=e.errors),e.urlUtils&&(E=e.urlUtils),e.constants&&(v=e.constants),e.dashConstants&&(_=e.dashConstants)},initialize:function(){h=(0,u.default)(e).create({errHandler:r,dashMetrics:f,mediaPlayerModel:d,requestModifier:l,useFetch:c?c.get().streaming.lowLatencyEnabled:null,boxParser:o,errors:m,urlUtils:E,constants:v,dashConstants:_})},loadInitialization:function e(t,r){T();var i,a=t?y.resolve(t.path):null,s=r||{init:!0,url:a?a.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:t&&t.adaptation?t.adaptation.type:null};n.debug("Start searching for initialization.");var u=S(s);h.load({request:u,success:function(n){s.bytesLoaded=s.range.end,(i=o.findInitRange(n))?(t.range=i,g.trigger(p.INITIALIZATION_LOADED,{representation:t})):(s.range.end=s.bytesLoaded+s.bytesToLoad,e(t,s))},error:function(){g.trigger(p.INITIALIZATION_LOADED,{representation:t})}}),n.debug("Perform init search: "+s.url)},loadSegments:function e(t,r,a,s,u){var l;T(),!a||void 0!==a.start&&void 0!==a.end||(a=(l=a?a.toString().split("-"):null)?{start:ae()(l[0]),end:ae()(l[1])}:null),s=s||A;var f,c=null,d=!!a,p=t?y.resolve(t.path):null,g={init:!1,url:p?p.url:void 0,range:d?a:{start:0,end:1500},searching:!d,bytesLoaded:u?u.bytesLoaded:0,bytesToLoad:1500,mediaType:t&&t.adaptation?t.adaptation.type:null},m=S(g);h.load({request:m,success:function(a){var u=g.bytesToLoad,l=a.byteLength;if(g.bytesLoaded=g.range.end-g.range.start,c=o.parse(a),(f=c.getBox("sidx"))&&f.isComplete){var d,h=f.references,p=void 0;null!=h&&0<h.length&&(p=1===h[0].reference_type),p?function(){n.debug("Initiate multiple SIDX load."),g.range.end=g.range.start+f.size;var i,a,o=void 0,u=void 0,l=[],c=0,d=(f.offset||g.range.start)+f.size,p=function(e){e?(l=Z()(l).call(l,e),u<=++c&&(M()(l).call(l,(function(e,t){return e.startTime-t.startTime<0?-1:0})),s(l,t,r))):s(null,t,r)};for(o=0,u=h.length;o<u;o++)a=(i=d)+h[o].referenced_size-1,d+=h[o].referenced_size,e(t,null,{start:i,end:a},p,g)}():(n.debug("Parsing segments from SIDX. representation "+t.adaptation.type+" - id: "+t.id+" for range : "+g.range.start+" - "+g.range.end),d=function(e,t){for(var n=e.references,r=n.length,a=e.timescale,o=e.earliest_presentation_time,s=t.range.start+e.offset+e.first_offset+e.size,u=[],l=void 0,f=void 0,c=void 0,d=void 0,h=0;h<r;h++)c=n[h].subsegment_duration,d=n[h].referenced_size,(l=new i.default).duration=c,l.startTime=o,l.timescale=a,f=s+d-1,l.mediaRange=s+"-"+f,u.push(l),o+=c,s+=d;return u}(f,g),s(d,t,r))}else{if(f)g.range.start=f.offset||g.range.start,g.range.end=g.range.start+(f.size||u);else{if(l<g.bytesLoaded)return void s(null,t,r);var m=c.getLastBox();m&&m.size?(g.range.start=m.offset+m.size,g.range.end=g.range.start+u):g.range.end+=u}e(t,r,g.range,s,g)}},error:function(){s(null,t,r)}}),n.debug("Perform SIDX load: "+g.url+" with range : "+g.range.start+" - "+g.range.end)},reset:function(){h.abort(),l=o=r=h=null}}}l.__dashjs_factory_name="SegmentBaseLoader",n.default=o.default.getSingletonFactory(l),t.exports=n.default},{158:158,225:225,227:227,47:47,94:94}],60:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(211)),a=r(e(108)),o=r(e(47)),s=r(e(94)),u=r(e(227)),l=r(e(158)),f=r(e(225));function c(){var e=this.context,t=void 0,n=void 0,r=void 0,o=void 0,c=void 0,d=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,E=void 0;function y(){if(!E||!E.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function T(e,t,n){e?m.trigger(v.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):m.trigger(v.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new f.default(_.SEGMENT_BASE_LOADER_ERROR_CODE,_.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function S(e){var t=new u.default;return t.setInfo(e),t}return t={setConfig:function(e){if(!(e.baseURLController&&e.dashMetrics&&e.mediaPlayerModel&&e.errHandler))throw new Error(a.default.MISSING_CONFIG_ERROR);E=e.baseURLController,d=e.dashMetrics,h=e.mediaPlayerModel,o=e.errHandler,g=e.settings,v=e.events,m=e.eventBus,_=e.errors,n=e.debug.getLogger(t),c=e.requestModifier},initialize:function(){p=(0,l.default)(e).create({errHandler:o,dashMetrics:d,mediaPlayerModel:h,requestModifier:c,useFetch:g?g.get().streaming.lowLatencyEnabled:null,errors:_})},loadInitialization:function(e,t){y();var r=null,i=e?E.resolve(e.path):null,a=e?e.range.split("-"):null,o=t||{range:{start:a?ae()(a[0]):null,end:a?ae()(a[1]):null},request:r,url:i?i.url:void 0,init:!0,mediaType:e&&e.adaptation?e.adaptation.type:null};n.info("Start loading initialization."),r=S(o),p.load({request:r,success:function(){m.trigger(v.INITIALIZATION_LOADED,{representation:e})},error:function(){m.trigger(v.INITIALIZATION_LOADED,{representation:e})}}),n.debug("Perform init load: "+o.url)},loadSegments:function(t,a,o,u){y();var l=null,f=t?E.resolve(t.path):null,c=f?f.url:void 0,d={bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:l,url:c,init:!1,mediaType:t&&t.adaptation?t.adaptation.type:null};u=u||T,l=S(d),n.debug("Parsing ebml header"),p.load({request:l,success:function(l){!function(t,a,o,u){if(t&&0!==t.byteLength){var l,f,c,d=(0,i.default)(e).create({data:t}),h=void 0,g=o?o.split("-"):null,m=null,v={url:a,range:{start:g?ae()(g[0]):null,end:g?ae()(g[1]):null},request:m};for(n.debug("Parse EBML header: "+v.url),d.skipOverElement(r.EBML),d.consumeTag(r.Segment),f=d.getMatroskaCodedNum(),f+=d.getPos(),c=d.getPos();d.moreData()&&!d.consumeTagAndSize(r.Segment.Info,!0);)if(!(d.skipOverElement(r.Segment.SeekHead,!0)||d.skipOverElement(r.Segment.Tracks,!0)||d.skipOverElement(r.Segment.Cues,!0)||d.skipOverElement(r.Void,!0)))throw new Error("no valid top level element found");for(;void 0===h;){var _=d.getMatroskaCodedNum(!0),E=d.getMatroskaCodedNum();switch(_){case r.Segment.Info.Duration.tag:h=d[r.Segment.Info.Duration.parse](E);break;default:d.setPos(d.getPos()+E)}}m=S(v),p.load({request:m,success:function(t){l=function(t,a,o,u){for(var l,f,c=void 0,d=void 0,h=void 0,p=void 0,g=void 0,m=(d=[],p=0,(f=function(t){var n=[],a=(0,i.default)(e).create({data:t}),o=void 0,s=void 0;for(a.consumeTagAndSize(r.Segment.Cues);a.moreData()&&a.consumeTagAndSize(r.Segment.Cues.CuePoint,!0);){for((o={}).CueTime=a.parseTag(r.Segment.Cues.CuePoint.CueTime),o.CueTracks=[];a.moreData()&&a.consumeTag(r.Segment.Cues.CuePoint.CueTrackPositions,!0);){var u=a.getMatroskaCodedNum(),l=a.getPos();if((s={}).Track=a.parseTag(r.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===s.Track)throw new Error("Cue track cannot be 0");s.ClusterPosition=a.parseTag(r.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),o.CueTracks.push(s),a.setPos(l+u)}if(0===o.CueTracks.length)throw new Error("Mandatory cuetrack not found");n.push(o)}if(0===n.length)throw new Error("mandatory cuepoint not found");return n}(t)).length);p<m;p+=1)h=new s.default,c=0,c=p<f.length-1?f[p+1].CueTime-f[p].CueTime:u-f[p].CueTime,h.duration=c,h.startTime=f[p].CueTime,h.timescale=1e3,l=f[p].CueTracks[0].ClusterPosition+a,g=p<f.length-1?f[p+1].CueTracks[0].ClusterPosition+a-1:o-1,h.mediaRange=l+"-"+g,d.push(h);return n.debug("Parsed cues: "+d.length+" cues."),d}(t,c,f,h),u(l)},error:function(){n.error("Download Error: Cues "+v.url),u(null)}}),n.debug("Perform cues load: "+v.url+" bytes="+v.range.start+"-"+v.range.end)}else u(null)}(l,c,o,(function(e){u(e,t,a)}))},error:function(){u(null,t,a)}})},reset:function(){c=o=null}},r={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},t}c.__dashjs_factory_name="WebmSegmentBaseLoader",n.default=o.default.getSingletonFactory(c),t.exports=n.default},{108:108,158:158,211:211,225:225,227:227,47:47,94:94}],61:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.init()}Be()(n,"__esModule",{value:!0});var a=new(function(e,t,n){t&&r(e.prototype,t)}(i,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate"}}]),i);n.default=a,t.exports=n.default},{}],62:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(225)),o=r(e(47));function s(e){var t=(e=e||{}).eventBus,n=e.events,r=e.errors,o=e.abrController,s=e.dashMetrics,u=e.playbackController,l=e.timelineConverter,f=e.type,c=e.streamId,d=e.dashConstants,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0;function _(){if(!(o&&s&&u&&l))throw new Error(i.default.MISSING_CONFIG_ERROR)}function E(){g=!(p=null),m=[]}function y(){_();var e=new Date,t=v,n=1e3*u.getTime();t&&s.addRepresentationSwitch(t.adaptation.type,e,n,t.id)}function T(e){return null==e||e>=m.length?null:m[e]}function S(e,t){var n;e.segmentAvailabilityRange=l.calcSegmentAvailabilityRange(e,t),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime?R(new a.default(r.SEGMENTS_UNAVAILABLE_ERROR_CODE,r.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE,{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end})):t&&(n=e.segmentAvailabilityRange.end,l.setExpectedLiveEdge(n),s.updateManifestUpdateInfo({presentationStartTime:n}))}function A(e,r){_();for(var i=0,a=m.length;i<a;i++)S(m[i],e),r&&t.trigger(n.REPRESENTATION_UPDATE_STARTED,{sender:h,representation:m[i]})}function I(){g=!0,t.trigger(n.DATA_UPDATE_STARTED,{sender:h})}function R(e){g=!1;var r={sender:h,data:p,currentRepresentation:v};e&&(r.error=e),t.trigger(n.DATA_UPDATE_COMPLETED,r)}function b(e){var r=e;t.trigger(n.AST_IN_FUTURE,{delay:r}),J()((function(){g||(I(),q()(m).call(m,(function(e){e.segmentAvailabilityRange=null})),A(u.getIsDynamic(),!0))}),r)}function M(e){if(e.sender.getType()===f&&e.sender.getStreamInfo().id===c&&g)if(e.error)R(e.error);else{var t,n,i,l=e.sender.getStreamInfo(),h=e.representation,p=s.getCurrentManifestUpdate(),_=!1,E=0;if(h.adaptation.period.mpd.manifest.type!==d.DYNAMIC||h.adaptation.period.mpd.manifest.ignorePostponeTimePeriod||(n=h.segmentAvailabilityRange.end-h.segmentAvailabilityRange.start,E=1e3*(u.getLiveDelay()-n)),0<E)return b(E),void R(new a.default(r.SEGMENTS_UPDATE_FAILED_ERROR_CODE,r.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE));if(p){for(var T=0;T<p.representationInfo.length;T++)if((t=p.representationInfo[T]).index===h.index&&t.mediaType===f){_=!0;break}_||s.addManifestUpdateRepresentationInfo(h,f)}!function(){for(var e=0,t=m.length;e<t;e++){var n=m[e].segmentInfoType;if(null===m[e].segmentAvailabilityRange||!m[e].hasInitialization()||(n===d.SEGMENT_BASE||n===d.BASE_URL)&&!m[e].segments)return}return 1}()||(o.setPlaybackQuality(f,l,(i=v,Ue()(m).call(m,i))),s.updateManifestUpdateInfo({latency:v.segmentAvailabilityRange.end-u.getTime()}),s.getCurrentRepresentationSwitch(v.adaptation.type)||y(),R())}}function w(e){e.isDynamic&&A(e.isDynamic)}function D(e){e.mediaType===f&&c===e.streamInfo.id&&(v=T(e.newQuality),y())}function C(e){e.newDuration&&v&&v.adaptation.period&&(v.adaptation.period.duration=e.newDuration)}return h={getData:function(){return p},isUpdating:function(){return g},updateData:function(e,t,n,r){_(),I(),m=t,v=T(r),p=e,n===i.default.VIDEO||n===i.default.AUDIO||n===i.default.FRAGMENTED_TEXT?A(u.getIsDynamic(),!0):R()},updateRepresentation:S,getCurrentRepresentation:function(){return v},getRepresentationForQuality:T,getType:function(){return f},getStreamId:function(){return c},reset:function(){t.off(n.QUALITY_CHANGE_REQUESTED,D,h),t.off(n.REPRESENTATION_UPDATE_COMPLETED,M,h),t.off(n.WALLCLOCK_TIME_UPDATED,w,h),t.off(n.MANIFEST_VALIDITY_CHANGED,C,h),E()}},E(),t.on(n.QUALITY_CHANGE_REQUESTED,D,h),t.on(n.REPRESENTATION_UPDATE_COMPLETED,M,h),t.on(n.WALLCLOCK_TIME_UPDATED,w,h),t.on(n.MANIFEST_VALIDITY_CHANGED,C,h),h}s.__dashjs_factory_name="RepresentationController",n.default=o.default.getClassFactory(s),t.exports=n.default},{108:108,225:225,47:47}],63:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(59)),o=r(e(60));function s(e){e=e||{};var t=this.context,n=e.eventBus,r=e.events,i=e.dashMetrics,s=e.mediaPlayerModel,u=e.errHandler,l=e.baseURLController,f=e.debug,c=e.boxParser,d=e.requestModifier,h=e.errors,p=void 0,g=void 0,m=void 0;function v(e){return"webm"===(e?e.split("/")[1]:"").toLowerCase()}function _(e){v(e.mimeType)?m.loadInitialization(e.representation):g.loadInitialization(e.representation)}function E(e){v(e.mimeType)?m.loadSegments(e.representation,e.mediaType,e.representation?e.representation.indexRange:null,e.callback):g.loadSegments(e.representation,e.mediaType,e.representation?e.representation.indexRange:null,e.callback)}return p={initialize:function(){n.on(r.SEGMENTBASE_INIT_REQUEST_NEEDED,_,p),n.on(r.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,E,p),g.initialize(),m.initialize()},reset:function(){n.off(r.SEGMENTBASE_INIT_REQUEST_NEEDED,_,p),n.off(r.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,E,p)}},g=(0,a.default)(t).getInstance(),m=(0,o.default)(t).getInstance(),g.setConfig({baseURLController:l,dashMetrics:i,mediaPlayerModel:s,errHandler:u,eventBus:n,events:r,errors:h,debug:f,boxParser:c,requestModifier:d}),m.setConfig({baseURLController:l,dashMetrics:i,mediaPlayerModel:s,errHandler:u,eventBus:n,events:r,errors:h,debug:f,requestModifier:d}),p}s.__dashjs_factory_name="SegmentBaseController";var u=i.default.getSingletonFactory(s);n.default=u,t.exports=n.default},{47:47,59:59,60:60}],64:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(83)),o=r(e(81)),s=r(e(77)),u=r(e(79));function l(e){e=e||{};var t,n=this.context,r=e.events,i=e.eventBus,l=e.dashConstants,f=void 0;function c(e){return e?e.segments?f[l.SEGMENT_BASE]:f[e.segmentInfoType]:null}return t={initialize:function(t){f[l.SEGMENT_TIMELINE]=(0,a.default)(n).create(e,t),f[l.SEGMENT_TEMPLATE]=(0,o.default)(n).create(e,t),f[l.SEGMENT_LIST]=(0,s.default)(n).create(e,t),f[l.SEGMENT_BASE]=(0,u.default)(n).create(e,t)},update:function(e,t,n,a,o){a||i.trigger(r.SEGMENTBASE_INIT_REQUEST_NEEDED,{mimeType:n,representation:e}),o||i.trigger(r.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,{mimeType:n,mediaType:t,representation:e})},getSegmentByIndex:function(e,t,n){var r=c(e);return r?r.getSegmentByIndex(e,t,n):null},getSegmentByTime:function(e,t){var n=c(e);return n?n.getSegmentByTime(e,t):null}},f={},t}l.__dashjs_factory_name="SegmentsController";var f=i.default.getClassFactory(l);n.default=f,t.exports=n.default},{47:47,77:77,79:79,81:81,83:83}],65:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(61)),o=r(e(92)),s=r(e(84)),u=r(e(91)),l=r(e(90)),f=r(e(96)),c=r(e(86)),d=r(e(85)),h=r(e(87)),p=r(e(216)),g=r(e(220)),m=r(e(47)),v=r(e(45)),_=r(e(225)),E=r(e(51)),y=e(204);function S(){var e,t=void 0,n=void 0,r=void 0,m=this.context,S=(0,g.default)(m).getInstance(),I=R.a||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function b(e,t){var n,r=void 0,o=void 0,s=void 0,u=void 0,l=void 0,f=!1,c=!1;if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(e.hasOwnProperty("ContentComponent_asArray")&&(s=e.ContentComponent_asArray),u=t!==i.default.TEXT?new RegExp(t):new RegExp("(vtt|ttml)"),e.Representation_asArray&&e.Representation_asArray.length&&0<e.Representation_asArray.length){var d,h=L(e.Representation_asArray[0]);if(h&&0<h.length&&0<=Ue()(d=y.THUMBNAILS_SCHEME_ID_URIS).call(d,h[0].schemeIdUri))return t===i.default.IMAGE;if(e.Representation_asArray[0].hasOwnProperty(a.default.CODECS)&&(0===(l=e.Representation_asArray[0].codecs).search(i.default.STPP)||0===l.search(i.default.WVTT)))return t===i.default.FRAGMENTED_TEXT}if(s){if(1<s.length)return t===i.default.MUXED;s[0]&&s[0].contentType===t&&(c=f=!0)}if(e.hasOwnProperty(a.default.MIME_TYPE)&&(f=u.test(e.mimeType),c=!0),!c)for(r=0,n=e.Representation_asArray&&e.Representation_asArray.length?e.Representation_asArray.length:0;!c&&r<n;)(o=e.Representation_asArray[r]).hasOwnProperty(a.default.MIME_TYPE)&&(f=u.test(o.mimeType),c=!0),r++;return f}function w(e){return"text/vtt"===e||"application/ttml+xml"===e}function D(){return function(e,t){return e.bandwidth-t.bandwidth}}function C(e){var t;return e&&Ne()(e.Representation_asArray)&&M()(t=e.Representation_asArray).call(t,(function(e,t){return e.bandwidth-t.bandwidth})),e}function N(e,t){return e&&e.Period_asArray&&I(t)&&e.Period_asArray[t]?e.Period_asArray[t].AdaptationSet_asArray:[]}function O(e){var t=!1;return e&&e.hasOwnProperty("type")&&(t=e.type===a.default.DYNAMIC),t}function L(e){var t;return e&&e.EssentialProperty_asArray&&e.EssentialProperty_asArray.length?te()(t=e.EssentialProperty_asArray).call(t,(function(e){return{schemeIdUri:e.schemeIdUri,value:e.value}})):null}function x(e){if(e&&e.period&&I(e.period.index)){var t=e.period.mpd.manifest.Period_asArray[e.period.index];if(t&&t.AdaptationSet_asArray&&I(e.index))return C(t.AdaptationSet_asArray[e.index])}}function F(e){var t=e.S_asArray[e.S_asArray.length-1];return!t.hasOwnProperty("r")||0<=t.r}function U(e,t){var n=[],r=void 0;if(!e)return n;for(r=0;r<e.length;r++){var o=new h.default;if(o.timescale=1,o.representation=t,!e[r].hasOwnProperty(i.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");o.schemeIdUri=e[r].schemeIdUri,e[r].hasOwnProperty(a.default.TIMESCALE)&&(o.timescale=e[r].timescale),e[r].hasOwnProperty(a.default.VALUE)&&(o.value=e[r].value),n.push(o)}return n}function k(e){var t=[],n=e.BaseURL_asArray||[e.baseUri],r=!1;return P()(n).call(n,(function(n){if(n){var i=new d.default,o=n.__text||n;return S.isRelative(o)&&(r=!0,e.baseUri&&(o=S.resolve(o,e.baseUri))),i.url=o,n.hasOwnProperty(a.default.SERVICE_LOCATION)&&n.serviceLocation.length?i.serviceLocation=n.serviceLocation:i.serviceLocation=o,n.hasOwnProperty(a.default.DVB_PRIORITY)&&(i.dvb_priority=n[a.default.DVB_PRIORITY]),n.hasOwnProperty(a.default.DVB_WEIGHT)&&(i.dvb_weight=n[a.default.DVB_WEIGHT]),n.hasOwnProperty(a.default.AVAILABILITY_TIME_OFFSET)&&(i.availabilityTimeOffset=n[a.default.AVAILABILITY_TIME_OFFSET]),n.hasOwnProperty(a.default.AVAILABILITY_TIME_COMPLETE)&&(i.availabilityTimeComplete="false"!==n[a.default.AVAILABILITY_TIME_COMPLETE]),t.push(i),r}})),t}return e={getIsTypeOf:b,getIsTextTrack:w,getLanguageForAdaptation:function(e){var t="";return e&&e.hasOwnProperty(a.default.LANG)&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t},getViewpointForAdaptation:function(e){return e&&e.hasOwnProperty(a.default.VIEWPOINT)?e.Viewpoint:null},getRolesForAdaptation:function(e){return e&&e.hasOwnProperty(a.default.ROLE_ASARRAY)?e.Role_asArray:[]},getAccessibilityForAdaptation:function(e){return e&&e.hasOwnProperty(a.default.ACCESSIBILITY_ASARRAY)?e.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(e){return e&&e.hasOwnProperty(a.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function(e){return e&&e.hasOwnProperty(a.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function(e,t,n){var r=N(t,n);return 0<r.length&&I(e)?r[e]:null},getIndexForAdaptation:function(e,t,n){if(!e)return-1;for(var r=N(t,n),i=0;i<r.length;i++)if((0,p.default)(m).getInstance().areEqual(r[i],e))return i;return-1},getAdaptationForId:function(e,t,n){for(var r=N(t,n),i=void 0,o=(i=0,r.length);i<o;i++)if(r[i].hasOwnProperty(a.default.ID)&&r[i].id===e)return r[i];return null},getAdaptationsForType:function(e,t,n){for(var r=N(e,t),i=void 0,a=[],o=(i=0,r.length);i<o;i++)b(r[i],n)&&a.push(C(r[i]));return a},getCodec:function(e,t,n){var r,i=null;return e&&e.Representation_asArray&&0<e.Representation_asArray.length&&(r=I(t)&&0<=t&&t<e.Representation_asArray.length?e.Representation_asArray[t]:e.Representation_asArray[0])&&(i=r.mimeType+';codecs="'+r.codecs+'"',n&&void 0!==r.width&&(i+=';width="'+r.width+'";height="'+r.height+'"')),i&&i.replace(/\sprofiles=[^;]*/g,"")},getMimeType:function(e){return e&&e.Representation_asArray&&0<e.Representation_asArray.length?e.Representation_asArray[0].mimeType:null},getKID:function(e){return e&&e.hasOwnProperty(a.default.CENC_DEFAULT_KID)?e[a.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(e){if(!e||!Ne()(e.Label_asArray))return[];for(var t=[],n=0;n<e.Label_asArray.length;n++)t.push({lang:e.Label_asArray[n].lang,text:e.Label_asArray[n].__text||e.Label_asArray[n]});return t},getContentProtectionData:function(e){return e&&e.hasOwnProperty(a.default.CONTENTPROTECTION_ASARRAY)&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null},getIsDynamic:O,hasProfile:function(e,t){var n,r=!1;return e&&e.profiles&&0<e.profiles.length&&(r=-1!==Ue()(n=e.profiles).call(n,t)),r},getDuration:function(e){return e&&e.hasOwnProperty(a.default.MEDIA_PRESENTATION_DURATION)?e.mediaPresentationDuration:e&&"dynamic"==e.type?Number.POSITIVE_INFINITY:A.a||Number.MAX_VALUE},getBandwidth:function(e){return e&&e.bandwidth?e.bandwidth:NaN},getManifestUpdatePeriod:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=NaN;return e&&e.hasOwnProperty(a.default.MINIMUM_UPDATE_PERIOD)&&(n=e.minimumUpdatePeriod),isNaN(n)?n:Math.max(n-t,1)},getRepresentationCount:function(e){return e&&Ne()(e.Representation_asArray)?e.Representation_asArray.length:0},getBitrateListForAdaptation:function(e){var t,n=C(e);return te()(t=n&&Ne()(n.Representation_asArray)?n.Representation_asArray:[]).call(t,(function(e){return{bandwidth:e.bandwidth,width:e.width||0,height:e.height||0,scanType:e.scanType||null,id:e.id||null}}))},getRepresentationFor:function(e,t){return t&&t.Representation_asArray&&0<t.Representation_asArray.length&&I(e)?t.Representation_asArray[e]:null},getRepresentationsForAdaptation:function(e){var t,n,r,i,s,u,l=[],f=x(e),c=void 0,d=void 0;if(f&&f.Representation_asArray){e&&e.period&&I(e.period.index)&&(t=k(e.period.mpd.manifest))&&(d=t[0]);for(var h=0,p=f.Representation_asArray.length;h<p;++h){var g,m=f.Representation_asArray[h],v=new o.default;v.index=h,v.adaptation=e,m.hasOwnProperty(a.default.ID)&&(v.id=m.id),m.hasOwnProperty(a.default.CODECS)&&(v.codecs=m.codecs),m.hasOwnProperty(a.default.CODEC_PRIVATE_DATA)&&(v.codecPrivateData=m.codecPrivateData),m.hasOwnProperty(a.default.BANDWITH)&&(v.bandwidth=m.bandwidth),m.hasOwnProperty(a.default.WIDTH)&&(v.width=m.width),m.hasOwnProperty(a.default.HEIGHT)&&(v.height=m.height),m.hasOwnProperty(a.default.SCAN_TYPE)&&(v.scanType=m.scanType),m.hasOwnProperty(a.default.MAX_PLAYOUT_RATE)&&(v.maxPlayoutRate=m.maxPlayoutRate),m.hasOwnProperty(a.default.SEGMENT_BASE)?(c=m.SegmentBase,v.segmentInfoType=a.default.SEGMENT_BASE):m.hasOwnProperty(a.default.SEGMENT_LIST)?(c=m.SegmentList).hasOwnProperty(a.default.SEGMENT_TIMELINE)?(v.segmentInfoType=a.default.SEGMENT_TIMELINE,v.useCalculatedLiveEdgeTime=F(c.SegmentTimeline)):(v.segmentInfoType=a.default.SEGMENT_LIST,v.useCalculatedLiveEdgeTime=!0):m.hasOwnProperty(a.default.SEGMENT_TEMPLATE)?((c=m.SegmentTemplate).hasOwnProperty(a.default.SEGMENT_TIMELINE)?(v.segmentInfoType=a.default.SEGMENT_TIMELINE,v.useCalculatedLiveEdgeTime=F(c.SegmentTimeline)):v.segmentInfoType=a.default.SEGMENT_TEMPLATE,c.hasOwnProperty(a.default.INITIALIZATION_MINUS)&&(v.initialization=c.initialization.split("$Bandwidth$").join(m.bandwidth).split("$RepresentationID$").join(m.id))):v.segmentInfoType=a.default.BASE_URL,v.essentialProperties=L(m),c&&(c.hasOwnProperty(a.default.INITIALIZATION)?((g=c.Initialization).hasOwnProperty(a.default.SOURCE_URL)&&(v.initialization=g.sourceURL),g.hasOwnProperty(a.default.RANGE)&&(v.range=g.range)):m.hasOwnProperty(a.default.MIME_TYPE)&&w(m.mimeType)&&(v.range=0),c.hasOwnProperty(a.default.TIMESCALE)&&(v.timescale=c.timescale),c.hasOwnProperty(a.default.DURATION)?v.segmentDuration=c.duration/v.timescale:m.hasOwnProperty(a.default.SEGMENT_TEMPLATE)&&(c=m.SegmentTemplate).hasOwnProperty(a.default.SEGMENT_TIMELINE)&&(v.segmentDuration=(s=void 0,s=(i=c.SegmentTimeline).S_asArray[0],u=i.S_asArray[1],(s.hasOwnProperty("d")?s.d:u.t-s.t)/v.timescale)),c.hasOwnProperty(a.default.MEDIA)&&(v.media=c.media),c.hasOwnProperty(a.default.START_NUMBER)&&(v.startNumber=c.startNumber),c.hasOwnProperty(a.default.INDEX_RANGE)&&(v.indexRange=c.indexRange),c.hasOwnProperty(a.default.PRESENTATION_TIME_OFFSET)&&(v.presentationTimeOffset=c.presentationTimeOffset/v.timescale),c.hasOwnProperty(a.default.AVAILABILITY_TIME_OFFSET)?v.availabilityTimeOffset=c.availabilityTimeOffset:d&&void 0!==d.availabilityTimeOffset&&(v.availabilityTimeOffset=d.availabilityTimeOffset),c.hasOwnProperty(a.default.AVAILABILITY_TIME_COMPLETE)?v.availabilityTimeComplete="false"!==c.availabilityTimeComplete:d&&void 0!==d.availabilityTimeComplete&&(v.availabilityTimeComplete=d.availabilityTimeComplete)),v.MSETimeOffset=(void 0,r=(n=v).presentationTimeOffset,n.adaptation.period.start-r),v.path=[e.period.index,e.index,h],l.push(v)}}return l},getAdaptationsForPeriod:function(e){var t=e&&I(e.index)?e.mpd.manifest.Period_asArray[e.index]:null,n=[],r=void 0,o=void 0,u=void 0;if(t&&t.AdaptationSet_asArray)for(u=0;u<t.AdaptationSet_asArray.length;u++)o=t.AdaptationSet_asArray[u],r=new s.default,o.hasOwnProperty(a.default.ID)&&(r.id=o.id),r.index=u,r.period=e,b(o,i.default.MUXED)?r.type=i.default.MUXED:b(o,i.default.AUDIO)?r.type=i.default.AUDIO:b(o,i.default.VIDEO)?r.type=i.default.VIDEO:b(o,i.default.FRAGMENTED_TEXT)?r.type=i.default.FRAGMENTED_TEXT:b(o,i.default.IMAGE)?r.type=i.default.IMAGE:r.type=i.default.TEXT,n.push(r);return n},getRegularPeriods:function(e){for(var r=!!e&&O(e.manifest),o=[],s=null,l=null,f=null,c=null,d=void 0,h=(d=0,e&&e.manifest&&e.manifest.Period_asArray?e.manifest.Period_asArray.length:0);d<h;d++)(l=e.manifest.Period_asArray[d]).hasOwnProperty(a.default.START)?(c=new u.default).start=l.start:null!==s&&s.hasOwnProperty(a.default.DURATION)&&null!==f?(c=new u.default).start=ae()((f.start+f.duration).toFixed(5)):0!==d||r||((c=new u.default).start=0),null!==f&&isNaN(f.duration)&&(null!==c?f.duration=ae()((c.start-f.start).toFixed(5)):t.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==c&&(c.id=function(e,t){if(!e)throw new Error("Period cannot be null or undefined");var n=u.default.DEFAULT_ID+"_"+t;return e.hasOwnProperty(a.default.ID)&&0<e.id.length&&"__proto__"!==e.id&&(n=e.id),n}(l,d),c.index=d,c.mpd=e,l.hasOwnProperty(a.default.DURATION)&&(c.duration=l.duration),o.push(c),s=l,f=c),c=l=null;return 0===o.length||null!==f&&isNaN(f.duration)&&(f.duration=ae()((function(e){!function(){if(!n||!n.hasOwnProperty("error"))throw new Error(i.default.MISSING_CONFIG_ERROR)}();var t=O(e.mpd.manifest),r=void 0;return e.mpd.manifest.mediaPresentationDuration?r=e.mpd.manifest.mediaPresentationDuration:e.duration?r=e.duration:t?r=Number.POSITIVE_INFINITY:n.error(new _.default(E.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",e)),r}(f)-f.start).toFixed(5))),o},getMpd:function(e){var t=new l.default;return e&&((t.manifest=e).hasOwnProperty(a.default.AVAILABILITY_START_TIME)?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):e.loadedTime&&(t.availabilityStartTime=new Date(e.loadedTime.getTime())),e.hasOwnProperty(a.default.AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty(a.default.MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty(a.default.MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty(a.default.SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty(a.default.TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty(a.default.MAX_SEGMENT_DURATION)&&(t.maxSegmentDuration=e.maxSegmentDuration)),t},getEventsForPeriod:function(e){var t=e&&e.mpd&&e.mpd.manifest?e.mpd.manifest:null,n=t?t.Period_asArray:null,o=n&&e&&I(e.index)?n[e.index].EventStream_asArray:null,s=[],u=void 0,l=void 0;if(o)for(u=0;u<o.length;u++){var f=new h.default;if(f.period=e,f.timescale=1,!o[u].hasOwnProperty(i.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(f.schemeIdUri=o[u].schemeIdUri,o[u].hasOwnProperty(a.default.TIMESCALE)&&(f.timescale=o[u].timescale),o[u].hasOwnProperty(a.default.VALUE)&&(f.value=o[u].value),l=0;o[u].Event_asArray&&l<o[u].Event_asArray.length;l++){var d,p=new c.default;p.presentationTime=0,p.eventStream=f,o[u].Event_asArray[l].hasOwnProperty(a.default.PRESENTATION_TIME)&&(p.presentationTime=o[u].Event_asArray[l].presentationTime,d=f.presentationTimeOffset?f.presentationTimeOffset*f.timescale:0,p.calculatedPresentationTime=p.presentationTime+e.start*f.timescale+d),o[u].Event_asArray[l].hasOwnProperty(a.default.DURATION)&&(p.duration=o[u].Event_asArray[l].duration),o[u].Event_asArray[l].hasOwnProperty(a.default.ID)&&(p.id=o[u].Event_asArray[l].id),o[u].Event_asArray[l].Signal&&o[u].Event_asArray[l].Signal.Binary?p.messageData=r.decodeArray(o[u].Event_asArray[l].Signal.Binary.toString()):p.messageData=o[u].Event_asArray[l].messageData||o[u].Event_asArray[l].__text,s.push(p)}}return s},getEventStreamForAdaptationSet:function(e,t){var n,r,i=void 0;return e&&e.Period_asArray&&t&&t.period&&I(t.period.index)&&(n=e.Period_asArray[t.period.index])&&n.AdaptationSet_asArray&&I(t.index)&&(r=n.AdaptationSet_asArray[t.index])&&(i=r.InbandEventStream_asArray),U(i,null)},getEventStreamForRepresentation:function(e,t){var n,r,i,a=void 0;return e&&e.Period_asArray&&t&&t.adaptation&&t.adaptation.period&&I(t.adaptation.period.index)&&(n=e.Period_asArray[t.adaptation.period.index])&&n.AdaptationSet_asArray&&I(t.adaptation.index)&&(r=n.AdaptationSet_asArray[t.adaptation.index])&&r.Representation_asArray&&I(t.index)&&(i=r.Representation_asArray[t.index])&&(a=i.InbandEventStream_asArray),U(a,t)},getUTCTimingSources:function(e){var t=O(e),n=!!e&&e.hasOwnProperty(a.default.AVAILABILITY_START_TIME),r=e?e.UTCTiming_asArray:null,o=[];return(t||n)&&r&&q()(r).call(r,(function(e){var t=new f.default;e.hasOwnProperty(i.default.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty(a.default.VALUE)&&(t.value=e.value.toString(),o.push(t)))})),o},getBaseURLsFromElement:k,getRepresentationSortFunction:D,getLocation:function(e){if(e&&e.hasOwnProperty(i.default.LOCATION))return e.Location=e.Location_asArray[0],e.Location},getUseCalculatedLiveEdgeTimeForAdaptation:function(e){var t=x(e),n=t&&Ne()(t.Representation_asArray)?t.Representation_asArray[0]:null,r=void 0;if(n){if(n.hasOwnProperty(a.default.SEGMENT_LIST))return!(r=n.SegmentList).hasOwnProperty(a.default.SEGMENT_TIMELINE)||F(r.SegmentTimeline);if(n.hasOwnProperty(a.default.SEGMENT_TEMPLATE)&&(r=n.SegmentTemplate).hasOwnProperty(a.default.SEGMENT_TIMELINE))return F(r.SegmentTimeline)}return!1},getSuggestedPresentationDelay:function(e){return e&&e.hasOwnProperty(a.default.SUGGESTED_PRESENTATION_DELAY)?e.suggestedPresentationDelay:null},getAvailabilityStartTime:function(e){return e&&e.hasOwnProperty(a.default.AVAILABILITY_START_TIME)&&null!==e.availabilityStartTime?e.availabilityStartTime.getTime():null},getServiceDescriptions:function(e){var t=[];if(e&&e.hasOwnProperty(a.default.SERVICE_DESCRIPTION)){var n=!0,r=!1,o=void 0;try{for(var s,u=T()(e.ServiceDescription_asArray);!(n=(s=u.next()).done);n=!0){var l=s.value,f=void 0,c=void 0,d=void 0,h=void 0;for(var p in l)l.hasOwnProperty(p)&&(p===a.default.ID?f=l[p]:p===a.default.SERVICE_DESCRIPTION_SCOPE?c=l[p].schemeIdUri:p===a.default.SERVICE_DESCRIPTION_LATENCY?d={target:l[p].target,max:l[p].max,min:l[p].min}:p===a.default.SERVICE_DESCRIPTION_PLAYBACK_RATE&&(h={max:l[p].max,min:l[p].min}));c===i.default.SERVICE_DESCRIPTION_LL_SCHEME&&(d||h)&&t.push({id:f,schemeIdUri:c,latency:d,playbackRate:h})}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}}return t},getSupplementalPropperties:function(e){var t={};if(e&&e.hasOwnProperty(a.default.SUPPLEMENTAL_PROPERTY)){var n=!0,r=!1,o=void 0;try{for(var s,u=T()(e.SupplementalProperty_asArray);!(n=(s=u.next()).done);n=!0){var l=s.value;l.hasOwnProperty(i.default.SCHEME_ID_URI)&&l.hasOwnProperty(a.default.VALUE)&&(t[l[i.default.SCHEME_ID_URI]]=l[a.default.VALUE])}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}}return t},setConfig:function(e){e&&(e.errHandler&&(n=e.errHandler),e.BASE64&&(r=e.BASE64))}},t=(0,v.default)(m).getInstance().getLogger(e),e}S.__dashjs_factory_name="DashManifestModel",n.default=m.default.getSingletonFactory(S),t.exports=n.default},{108:108,204:204,216:216,220:220,225:225,45:45,47:47,51:51,61:61,84:84,85:85,86:86,87:87,90:90,91:91,92:92,96:96}],66:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(76)),o=r(e(3)),s=r(e(75)),u=r(e(73)),l=r(e(72)),f=r(e(74)),c=r(e(69)),d=r(e(70));function h(e){e=e||{};var t,n=this.context,r=e.debug,i=void 0,h=void 0,p=void 0,g=void 0;return t={parse:function(e){var t=void 0,n=window.performance.now();if(!(t=p.xml_str2json(e)))throw new Error("parsing the manifest failed");var r=window.performance.now();g.run(t);var a=window.performance.now();return i.info("Parsing complete: ( xml2json: "+(r-n).toPrecision(3)+"ms, objectiron: "+(a-r).toPrecision(3)+"ms, total: "+((a-n)/1e3).toPrecision(3)+"s)"),t.protocol="DASH",t},getMatchers:function(){return h},getIron:function(){return g}},i=r.getLogger(t),h=[new u.default,new l.default,new f.default,new s.default],p=new o.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!0,matchers:h}),g=(0,a.default)(n).create({adaptationset:new c.default,period:new d.default}),t}h.__dashjs_factory_name="DashParser",n.default=i.default.getClassFactory(h),t.exports=n.default},{3:3,47:47,69:69,70:70,72:72,73:73,74:74,75:75,76:76}],67:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}Be()(n,"__esModule",{value:!0});var i=(function(e,t,n){t&&r(e.prototype,t)}(a,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this._name=e,this._merge=(t=e)&&t.length&&t.charAt(0)===t.charAt(0).toUpperCase()}n.default=i,t.exports=n.default},{}],68:[function(e,t,n){Be()(n,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}var i,a=(i=e(67))&&i.__esModule?i:{default:i},o=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(s,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),s);function s(e,t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this._name=e||"",this._properties=[],this._children=n||[],Ne()(t)&&q()(t).call(t,(function(e){r._properties.push(new a.default(e))}))}n.default=o,t.exports=n.default},{67:67}],69:[function(e,t,n){Be()(n,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}var i=r(e(68)),a=r(e(61)),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(s,i.default),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var e=[a.default.PROFILES,a.default.WIDTH,a.default.HEIGHT,a.default.SAR,a.default.FRAMERATE,a.default.AUDIO_SAMPLING_RATE,a.default.MIME_TYPE,a.default.SEGMENT_PROFILES,a.default.CODECS,a.default.MAXIMUM_SAP_PERIOD,a.default.START_WITH_SAP,a.default.MAX_PLAYOUT_RATE,a.default.CODING_DEPENDENCY,a.default.SCAN_TYPE,a.default.FRAME_PACKING,a.default.AUDIO_CHANNEL_CONFIGURATION,a.default.CONTENT_PROTECTION,a.default.ESSENTIAL_PROPERTY,a.default.SUPPLEMENTAL_PROPERTY,a.default.INBAND_EVENT_STREAM];(function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}})(X()(s.prototype),"constructor",this).call(this,a.default.ADAPTATION_SET,e,[new i.default(a.default.REPRESENTATION,e,[new i.default(a.default.SUB_REPRESENTATION,e)])])}n.default=o,t.exports=n.default},{61:61,68:68}],70:[function(e,t,n){Be()(n,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}var i=r(e(68)),a=r(e(61)),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(s,i.default),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var e=[a.default.SEGMENT_BASE,a.default.SEGMENT_TEMPLATE,a.default.SEGMENT_LIST];(function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}})(X()(s.prototype),"constructor",this).call(this,a.default.PERIOD,e,[new i.default(a.default.ADAPTATION_SET,e,[new i.default(a.default.REPRESENTATION,e)])])}n.default=o,t.exports=n.default},{61:61,68:68}],71:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}Be()(n,"__esModule",{value:!0});var i=(function(e,t,n){t&&r(e.prototype,t)}(a,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),a);function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this._test=e,this._converter=t}n.default=i,t.exports=n.default},{}],72:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(71))&&r.__esModule?r:{default:r},a=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(s,i.default),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}}(X()(s.prototype),"constructor",this).call(this,(function(e){return a.test(e.value)}),(function(e){var t,n=a.exec(e),r=void 0;r=Date.UTC(Ee()(n[1],10),Ee()(n[2],10)-1,Ee()(n[3],10),Ee()(n[4],10),Ee()(n[5],10),n[6]&&Ee()(n[6],10)||0,n[7]&&1e3*ae()(n[7])||0);return n[9]&&n[10]&&(t=60*Ee()(n[9],10)+Ee()(n[10],10),r+=("+"===n[8]?-1:1)*t*60*1e3),new Date(r)}))}n.default=o,t.exports=n.default},{71:71}],73:[function(e,t,n){Be()(n,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}var i=r(e(71)),a=r(e(108)),o=r(e(61)),s=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(l,i.default),l);function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}}(X()(l.prototype),"constructor",this).call(this,(function(e){for(var t=[o.default.MIN_BUFFER_TIME,o.default.MEDIA_PRESENTATION_DURATION,o.default.MINIMUM_UPDATE_PERIOD,o.default.TIMESHIFT_BUFFER_DEPTH,o.default.MAX_SEGMENT_DURATION,o.default.MAX_SUBSEGMENT_DURATION,o.default.SUGGESTED_PRESENTATION_DELAY,o.default.START,a.default.START_TIME,o.default.DURATION],n=t.length,r=0;r<n;r++)if(e.nodeName===t[r])return s.test(e.value);return!1}),(function(e){var t=s.exec(e),n=31536e3*ae()(t[3]||0)+2592e3*ae()(t[5]||0)+86400*ae()(t[7]||0)+3600*ae()(t[9]||0)+60*ae()(t[11]||0)+ae()(t[13]||0);return void 0!==t[1]&&(n=-n),n}))}n.default=u,t.exports=n.default},{108:108,61:61,71:71}],74:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(71))&&r.__esModule?r:{default:r},a=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(s,i.default),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}}(X()(s.prototype),"constructor",this).call(this,(function(e){return a.test(e.value)}),(function(e){return ae()(e)}))}n.default=o,t.exports=n.default},{71:71}],75:[function(e,t,n){Be()(n,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Be()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=r(e(71)),o=r(e(61)),s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(u,a.default),u);function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}}(X()(u.prototype),"constructor",this).call(this,(function(e,t){var n,r=(i(n={},o.default.MPD,[o.default.ID,o.default.PROFILES]),i(n,o.default.PERIOD,[o.default.ID]),i(n,o.default.BASE_URL,[o.default.SERVICE_LOCATION,o.default.BYTE_RANGE]),i(n,o.default.SEGMENT_BASE,[o.default.INDEX_RANGE]),i(n,o.default.INITIALIZATION,[o.default.RANGE]),i(n,o.default.REPRESENTATION_INDEX,[o.default.RANGE]),i(n,o.default.SEGMENT_LIST,[o.default.INDEX_RANGE]),i(n,o.default.BITSTREAM_SWITCHING,[o.default.RANGE]),i(n,o.default.SEGMENT_URL,[o.default.MEDIA_RANGE,o.default.INDEX_RANGE]),i(n,o.default.SEGMENT_TEMPLATE,[o.default.INDEX_RANGE,o.default.MEDIA,o.default.INDEX,o.default.INITIALIZATION_MINUS,o.default.BITSTREAM_SWITCHING_MINUS]),i(n,o.default.ASSET_IDENTIFIER,[o.default.VALUE,o.default.ID]),i(n,o.default.EVENT_STREAM,[o.default.VALUE]),i(n,o.default.ADAPTATION_SET,[o.default.PROFILES,o.default.MIME_TYPE,o.default.SEGMENT_PROFILES,o.default.CODECS,o.default.CONTENT_TYPE]),i(n,o.default.FRAME_PACKING,[o.default.VALUE,o.default.ID]),i(n,o.default.AUDIO_CHANNEL_CONFIGURATION,[o.default.VALUE,o.default.ID]),i(n,o.default.CONTENT_PROTECTION,[o.default.VALUE,o.default.ID]),i(n,o.default.ESSENTIAL_PROPERTY,[o.default.VALUE,o.default.ID]),i(n,o.default.SUPPLEMENTAL_PROPERTY,[o.default.VALUE,o.default.ID]),i(n,o.default.INBAND_EVENT_STREAM,[o.default.VALUE,o.default.ID]),i(n,o.default.ACCESSIBILITY,[o.default.VALUE,o.default.ID]),i(n,o.default.ROLE,[o.default.VALUE,o.default.ID]),i(n,o.default.RATING,[o.default.VALUE,o.default.ID]),i(n,o.default.VIEWPOINT,[o.default.VALUE,o.default.ID]),i(n,o.default.CONTENT_COMPONENT,[o.default.CONTENT_TYPE]),i(n,o.default.REPRESENTATION,[o.default.ID,o.default.DEPENDENCY_ID,o.default.MEDIA_STREAM_STRUCTURE_ID]),i(n,o.default.SUBSET,[o.default.ID]),i(n,o.default.METRICS,[o.default.METRICS_MINUS]),i(n,o.default.REPORTING,[o.default.VALUE,o.default.ID]),n);if(r.hasOwnProperty(t)){var a=r[t];return void 0!==a&&0<=Ue()(a).call(a,e.name)}return!1}),(function(e){return String(e)}))}n.default=s,t.exports=n.default},{61:61,71:71}],76:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r};function a(e){function t(e,t,n){for(var r=0,i=e.length;r<i;++r){var a,o,s=e[r];t[s.name]&&(n[s.name]?s.merge&&(a=t[s.name],o=n[s.name],"object"==Le()(a)&&"object"==Le()(o)?function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(a,o):n[s.name]=a+o):n[s.name]=t[s.name])}}function n(e,r){for(var i=0,a=e.children.length;i<a;++i){var o=e.children[i],s=r[o.name+"_asArray"];if(s)for(var u=0,l=s.length;u<l;++u){var f=s[u];t(e.properties,r,f),n(o,f)}}}return{run:function(t){if(null===t||"object"!=Le()(t))return t;if("period"in e)for(var r=e.period,i=t.Period_asArray,a=0,o=i.length;a<o;++a){var s=i[a];if(n(r,s),"adaptationset"in e){var u=s.AdaptationSet_asArray;if(u)for(var l=e.adaptationset,f=0,c=u.length;f<c;++f)n(l,u[f])}}return t}}}a.__dashjs_factory_name="ObjectIron";var o=i.default.getClassFactory(a);n.default=o,t.exports=n.default},{47:47}],77:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(108)),o=e(80);function s(e,t){var n=(e=e||{}).timelineConverter;function r(){if(!n||!n.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(a.default.MISSING_CONFIG_ERROR)}function i(e,i){if(r(),!e)return null;var a,s=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,u=s.SegmentURL_asArray.length,l=e.startNumber,f=null;return i<u&&(a=s.SegmentURL_asArray[i],(f=(0,o.getIndexBasedSegment)(n,t,e,i))&&(f.replacementTime=(l+i-1)*e.segmentDuration,f.media=a.media?a.media:"",f.mediaRange=a.mediaRange,f.index=i,f.indexRange=a.indexRange)),e.availableSegmentsNumber=u,f}return{getSegmentByIndex:i,getSegmentByTime:function(e,t){if(r(),!e)return null;var a=e.segmentDuration;if(isNaN(a))return null;var o=n.calcPeriodRelativeTimeFromMpdRelativeTime(e,t);return i(e,Math.floor(o/a))}}}s.__dashjs_factory_name="ListSegmentsGetter";var u=i.default.getClassFactory(s);n.default=u,t.exports=n.default},{108:108,47:47,80:80}],78:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}Be()(n,"__esModule",{value:!0});var i=(function(e,t,n){n&&r(e,n)}(a,0,[{key:"round10",value:function(e,t){return n="round",r=e,void 0!==(i=t)&&0!=+i?(i=+i,null===(r=+r)||isNaN(r)||"number"!=typeof i||i%1!=0?NaN:(r=r.toString().split("e"),+((r=(r=Math[n](+(r[0]+"e"+(r[1]?r[1]-i:-i)))).toString().split("e"))[0]+"e"+(r[1]?+r[1]+i:i)))):Math[n](r);var n,r,i}}]),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a)}n.default=i,t.exports=n.default},{}],79:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(108));function o(e){var t=(e=e||{}).timelineConverter;function n(){if(!t||!t.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(a.default.MISSING_CONFIG_ERROR)}function r(e,t){if(n(),!e)return null;var r=e.segments?e.segments.length:-1,i=void 0;if(t<r&&(i=e.segments[t])&&i.availabilityIdx===t)return i;for(var a=0;a<r;a++)if((i=e.segments[a])&&i.availabilityIdx===t)return i;return null}return{getSegmentByIndex:r,getSegmentByTime:function(e,i){return n(),r(e,function(e,t){if(!e)return-1;var n=e.segments,r=n?n.length:null,i=-1,a=void 0,o=void 0,s=void 0,u=void 0,l=void 0;if(n&&0<r)for(l=0;l<r;l++)if((s=(o=n[l]).presentationStartTime)<=t+(a=(u=o.duration)/2)&&t-a<s+u){i=o.availabilityIdx;break}return i}(e,t.calcPeriodRelativeTimeFromMpdRelativeTime(e,i)))}}}o.__dashjs_factory_name="SegmentBaseGetter";var s=i.default.getClassFactory(o);n.default=s,t.exports=n.default},{108:108,47:47}],80:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.unescapeDollarsInTemplate=function(e){return e?e.split("$$").join("$"):e},n.replaceIDForTemplate=function(e,t){if(!t||!e||-1===Ue()(e).call(e,"$RepresentationID$"))return e;var n=t.toString();return e.split("$RepresentationID$").join(n)},n.replaceTokenForTemplate=o,n.getIndexBasedSegment=function(e,t,n,r){var i,a,o=void 0;o=n.segmentDuration,isNaN(o)&&(o=n.adaptation.period.duration),i=ae()((n.adaptation.period.start+r*o).toFixed(5)),a=ae()((i+o).toFixed(5));var l=s(n,o,i,e.calcMediaTimeFromPresentationTime(i,n),e.calcAvailabilityStartTimeFromPresentationTime(i,n.adaptation.period.mpd,t),e,a,t,r);return u(e,n,l,t)?l:null},n.getTimeBasedSegment=function(e,t,n,r,i,a,l,f,c,d){var h,p,g=r/a,m=Math.min(i/a,n.adaptation.period.mpd.maxSegmentDuration),v=void 0;return p=(h=e.calcPresentationTimeFromMediaTime(g,n))+m,u(e,n,v=s(n,m,h,g,n.adaptation.period.mpd.manifest.loadedTime,e,p,t,c),t)?(v.replacementTime=d||r,l=o(l,"Number",v.replacementNumber),l=o(l,"Time",v.replacementTime),v.media=l,v.mediaRange=f,v):null};var r,i=(r=e(94))&&r.__esModule?r:{default:r};function a(e,t){for(;e.length<t;)e="0"+e;return e}function o(e,t,n){var r,i,o,s,u,l=void 0,f=t.length,c="%0".length;if(!e)return e;for(;;){if((r=Ue()(e).call(e,"$"+t))<0)return e;if((i=Ue()(e).call(e,"$",r+f))<0)return e;if(r<(o=Ue()(e).call(e,"%0",r+f))&&o<i)switch(s=e.charAt(i-1),u=Ee()(e.substring(o+c,i-1),10),s){case"d":case"i":case"u":l=a(n.toString(),u);break;case"x":l=a(n.toString(16),u);break;case"X":l=a(n.toString(16),u).toUpperCase();break;case"o":l=a(n.toString(8),u);break;default:return e}else l=n;e=e.substring(0,r)+l+e.substring(i+1)}}function s(e,t,n,r,a,o,s,u,l){var f,c=new i.default;return c.representation=e,c.duration=t,c.presentationStartTime=n,c.mediaStartTime=r,c.availabilityStartTime=a,c.availabilityEndTime=o.calcAvailabilityEndTimeFromPresentationTime(s,e.adaptation.period.mpd,u),c.wallStartTime=o.calcWallTimeForSegment(c,u),c.replacementNumber=(f=l,c.representation.startNumber+f),c.availabilityIdx=l,c}function u(e,t,n,r){var i=e.getPeriodEnd(t,r);if(e.calcPeriodRelativeTimeFromMpdRelativeTime(t,i)<=e.calcPeriodRelativeTimeFromMpdRelativeTime(t,n.presentationStartTime)){if(!r)return;if(t.segmentAvailabilityRange&&n.presentationStartTime>=t.segmentAvailabilityRange.end)return}return 1}},{94:94}],81:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(108)),o=e(80);function s(e,t){var n=(e=e||{}).timelineConverter;function r(){if(!n||!n.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(a.default.MISSING_CONFIG_ERROR)}function i(e,i){if(r(),!e)return null;var a=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate;i=Math.max(i,0);var s,u=(0,o.getIndexBasedSegment)(n,t,e,i);u&&(u.replacementTime=(i-1)*e.segmentDuration,s=a.media,s=(0,o.replaceTokenForTemplate)(s,"Number",u.replacementNumber),s=(0,o.replaceTokenForTemplate)(s,"Time",u.replacementTime),u.media=s);var l=e.segmentDuration,f=e.segmentAvailabilityRange;return isNaN(l)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((f.end-f.start)/l),u}return{getSegmentByIndex:i,getSegmentByTime:function(e,t){if(r(),!e)return null;var a=e.segmentDuration;if(isNaN(a))return null;var o=n.calcPeriodRelativeTimeFromMpdRelativeTime(e,t);return i(e,Math.floor(o/a))}}}s.__dashjs_factory_name="TemplateSegmentsGetter";var u=i.default.getClassFactory(s);n.default=u,t.exports=n.default},{108:108,47:47,80:80}],82:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(46)),a=r(e(54)),o=r(e(47)),s=r(e(61)),u=r(e(65));function l(){var e,t=this.context,n=(0,i.default)(t).getInstance(),r=void 0,o=void 0,l=void 0,f=void 0;function c(e){o=e}function d(e,t,n,r){return r?n&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:n?new Date(t.availabilityStartTime.getTime()+1e3*(e-o)):t.availabilityStartTime}function h(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*o)/1e3}function p(e){l||void 0!==e.offset&&(c(e.offset/1e3),l=!0)}function g(){o=0,l=!1,f=NaN}function m(){n.off(a.default.TIME_SYNCHRONIZATION_COMPLETED,p,this),g()}return e={initialize:function(){g(),n.on(a.default.TIME_SYNCHRONIZATION_COMPLETED,p,this)},isTimeSyncCompleted:function(){return l},setTimeSyncCompleted:function(e){l=e},getClientTimeOffset:function(){return o},setClientTimeOffset:c,getExpectedLiveEdge:function(){return f},setExpectedLiveEdge:function(e){f=e},calcAvailabilityStartTimeFromPresentationTime:function(e,t,n){return d.call(this,e,t,n)},calcAvailabilityEndTimeFromPresentationTime:function(e,t,n){return d.call(this,e,t,n,!0)},calcPresentationTimeFromWallTime:h,calcPresentationTimeFromMediaTime:function(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)},calcPeriodRelativeTimeFromMpdRelativeTime:function(e,t){return t-e.adaptation.period.start},calcMediaTimeFromPresentationTime:function(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset},calcSegmentAvailabilityRange:function(e,t){var n=e.adaptation.period,i={start:n.start,end:n.start+n.duration};if(!t)return i;if(!l&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var a=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0);if(e.segmentInfoType===s.default.SEGMENT_TIMELINE&&n.mpd.timeShiftBufferDepth===Number.POSITIVE_INFINITY)return function(e){var t,n=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],i=r.getRepresentationFor(e.index,n),a=i.SegmentTemplate.SegmentTimeline,o=i.SegmentTemplate.timescale,s=a.S_asArray,u={start:0,end:0},l=0,f=void 0,c=void 0,d=void 0;for(u.start=s[0].t/o,d=0,t=s.length;d<t;d++)c=0,(f=s[d]).hasOwnProperty("r")&&(c=f.r),l+=f.d/o*(1+c);return u.end=u.start+l,u}(e);var o=h(new Date,n),u=n.start+n.duration;i.start=Math.max(o-n.mpd.timeShiftBufferDepth,n.start);var f=void 0!==e.availabilityTimeOffset&&e.availabilityTimeOffset<a?a-e.availabilityTimeOffset:a;return i.end=u<=o&&o-f<u?u:o-f,i},getPeriodEnd:function(e,t){var n=e.adaptation.period;if(!t)return n.start+n.duration;if(!l&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var r=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0),i=h(new Date,n),a=n.start+n.duration,o=void 0!==e.availabilityTimeOffset&&e.availabilityTimeOffset<r?r-e.availabilityTimeOffset:r;return Math.min(i-o,a)},calcWallTimeForSegment:function(e,t){var n,r,i=void 0;return t&&(n=e.representation.adaptation.period.mpd.suggestedPresentationDelay,r=e.presentationStartTime+n,i=new Date(e.availabilityStartTime.getTime()+1e3*r)),i},reset:m},r=(0,u.default)(t).getInstance(),m(),e}l.__dashjs_factory_name="TimelineConverter",n.default=o.default.getSingletonFactory(l),t.exports=n.default},{46:46,47:47,54:54,61:61,65:65}],83:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(108)),o=e(80);function s(e,t){var n=(e=e||{}).timelineConverter;function r(){if(!n||!n.hasOwnProperty("calcMediaTimeFromPresentationTime")||!n.hasOwnProperty("calcSegmentAvailabilityRange"))throw new Error(a.default.MISSING_CONFIG_ERROR)}function i(e,r){for(var i,a=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,o=a.SegmentTimeline,s=a.SegmentURL_asArray,u=0,l=0,f=-1,c=void 0,d=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=e.timescale,_=!1,E=(d=0,(i=o.S_asArray).length);d<E&&!_;d++){var y;p=0;for((c=i[d]).hasOwnProperty("r")&&(p=c.r),c.hasOwnProperty("t")&&(l=(u=c.t)/v),p<0&&((m=i[d+1])&&m.hasOwnProperty("t")?g=m.t/v:(y=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:n.calcSegmentAvailabilityRange(e,t).end,g=n.calcMediaTimeFromPresentationTime(y,e),e.segmentDuration=c.d/v),p=Math.ceil((g-l)/(c.d/v))-1),h=0;h<=p&&!_;h++)(_=r(u,l,a,s,c,v,++f,d))&&(e.segmentDuration=c.d/v,(h<p-1||d<E-1)&&f++),l=(u+=c.d)/v}e.availableSegmentsNumber=f}return{getSegmentByIndex:function(e,a,s){if(r(),!e)return null;var u=null,l=!1;return i(e,(function(r,i,a,f,c,d,h,p){if(l||s<0){var g=a.media,m=c.mediaRange;return f&&(g=f[p].media||"",m=f[p].mediaRange),u=(0,o.getTimeBasedSegment)(n,t,e,r,c.d,d,g,m,h,c.tManifest),!0}return i>=s-.5*c.d/d&&(l=!0),!1})),u},getSegmentByTime:function(e,a){if(r(),!e)return null;void 0===a&&(a=null);var s=null,u=n.calcMediaTimeFromPresentationTime(a,e);return i(e,(function(r,i,a,l,f,c,d,h){if(u<i+f.d/c){var p=a.media,g=f.mediaRange;return l&&(p=l[h].media||"",g=l[h].mediaRange),s=(0,o.getTimeBasedSegment)(n,t,e,r,f.d,c,p,g,d,f.tManifest),!0}return!1})),s}}}s.__dashjs_factory_name="TimelineSegmentsGetter";var u=i.default.getClassFactory(s);n.default=u,t.exports=n.default},{108:108,47:47,80:80}],84:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.period=null,this.index=-1,this.type=null},t.exports=n.default},{}],85:[function(e,t,n){function r(e,t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.url=e||"",this.serviceLocation=t||e||"",this.dvb_priority=n||1,this.dvb_weight=i||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}Be()(n,"__esModule",{value:!0}),r.DEFAULT_DVB_PRIORITY=1,r.DEFAULT_DVB_WEIGHT=1,n.default=r,t.exports=n.default},{}],86:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},t.exports=n.default},{}],87:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""},t.exports=n.default},{}],88:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null},t.exports=n.default},{}],89:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}Be()(n,"__esModule",{value:!0});var i=(function(e,t,n){t&&r(e.prototype,t)}(a,[{key:"isMediaInfoEqual",value:function(e){if(!e)return!1;var t=this.id===e.id,n=this.viewpoint===e.viewpoint,r=this.lang===e.lang,i=this.roles.toString()===e.roles.toString(),a=this.accessibility.toString()===e.accessibility.toString(),o=this.audioChannelConfiguration.toString()===e.audioChannelConfiguration.toString();return t&&n&&r&&i&&a&&o}}]),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null}n.default=i,t.exports=n.default},{}],90:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},t.exports=n.default},{}],91:[function(e,t,n){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null}Be()(n,"__esModule",{value:!0}),r.DEFAULT_ID="defaultId",n.default=r,t.exports=n.default},{}],92:[function(e,t,n){Be()(n,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}var i,a=(i=e(61))&&i.__esModule?i:{default:i},o=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(s,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==a.default.BASE_URL&&this.segmentInfoType!==a.default.SEGMENT_BASE&&!this.indexRange}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}n.default=o,t.exports=n.default},{61:61}],93:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},t.exports=n.default},{}],94:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null},t.exports=n.default},{}],95:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},t.exports=n.default},{}],96:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri="",this.value=""},t.exports=n.default},{}],97:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(158)),o=r(e(228)),s=r(e(225)),u=r(e(47));function l(e){e=e||{};var t=this.context,n=e.eventBus,r=e.events,u=e.urlUtils,l=e.errors,f=void 0,c=void 0;return f={checkForExistence:function(e){function t(t){n.trigger(r.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})}var i;e?(i=new o.default(e.url),c.load({request:i,success:function(){t(!0)},error:function(){t(!1)}})):t(!1)},load:function(e){function t(t,i){n.trigger(r.LOADING_COMPLETED,{request:e,response:t||null,error:i||null,sender:f})}e?c.load({request:e,progress:function(t){n.trigger(r.LOADING_PROGRESS,{request:e,stream:t.stream}),t.data&&n.trigger(r.LOADING_DATA_PROGRESS,{request:e,response:t.data||null,error:null,sender:f})},success:function(e){t(e)},error:function(e,n,r){t(void 0,new s.default(l.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,r,n))},abort:function(e){e&&n.trigger(r.LOADING_ABANDONED,{request:e,mediaType:e.mediaType,sender:f})}}):t(void 0,new s.default(l.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,l.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){c&&c.abort()},reset:function(){c&&(c.abort(),c=null)}},c=(0,a.default)(t).create({errHandler:e.errHandler,errors:l,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,useFetch:e.settings.get().streaming.lowLatencyEnabled,urlUtils:u,constants:i.default,boxParser:e.boxParser,dashConstants:e.dashConstants}),f}l.__dashjs_factory_name="FragmentLoader",n.default=u.default.getClassFactory(l),t.exports=n.default},{108:108,158:158,225:225,228:228,47:47}],98:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(61)),o=r(e(123)),s=r(e(158)),u=r(e(220)),l=r(e(232)),f=r(e(225)),c=e(241),d=r(e(46)),h=r(e(54)),p=r(e(51)),g=r(e(47)),m=r(e(66));function v(e){e=e||{};var t=this.context,n=e.debug,r=(0,d.default)(t).getInstance(),g=(0,u.default)(t).getInstance(),v=void 0,_=void 0,E=void 0,y=void 0,T=void 0,S=e.mssHandler,A=e.errHandler;function I(e){r.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}return v={load:function(e){var a=new l.default(e,c.HTTPRequest.MPD_TYPE);E.load({request:a,success:function(a,o,s){if(y){var u,l,c,d=void 0,v=void 0,E=void 0;if(s&&s!==e?(v=g.parseBaseUrl(s),d=s):(g.isRelative(e)&&(e=g.resolve(e,window.location.href)),v=g.parseBaseUrl(e)),null===T&&(c=null,T=-1<Ue()(u=l=a).call(u,"SmoothStreamingMedia")?(S&&(c=S.createMssParser(),S.registerEvents()),c):-1<Ue()(l).call(l,"MPD")?(0,m.default)(t).create({debug:n}):c),null!==T){y.setMatchers(T.getMatchers()),y.setIron(T.getIron());try{E=T.parse(a)}catch(a){return void r.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}E?(E.url=d||e,E.originalUrl||(E.originalUrl=E.url),E.hasOwnProperty(i.default.LOCATION)&&(v=g.parseBaseUrl(E.Location_asArray[0]),_.debug("BaseURI set by Location to: "+v)),E.baseUri=v,E.loadedTime=new Date,y.resolveManifestOnLoad(E),r.trigger(h.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:a})):r.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}else r.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}},error:function(t,n,i){r.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(p.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,p.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+(e+", ")+i)})}})},reset:function(){r.off(h.default.XLINK_READY,I,v),y&&(y.reset(),y=null),E&&(E.abort(),E=null),S&&S.reset()}},_=n.getLogger(v),r.on(h.default.XLINK_READY,I,v),E=(0,s.default)(t).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,useFetch:e.settings.get().streaming.lowLatencyEnabled,urlUtils:g,constants:i.default,dashConstants:a.default,errors:p.default}),y=(0,o.default)(t).create({errHandler:A,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,settings:e.settings}),T=null,v}v.__dashjs_factory_name="ManifestLoader";var _=g.default.getClassFactory(v);n.default=_,t.exports=n.default},{108:108,123:123,158:158,220:220,225:225,232:232,241:241,46:46,47:47,51:51,54:54,61:61,66:66}],99:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(46)),a=r(e(54)),o=r(e(47)),s=r(e(45)),u=r(e(51)),l=r(e(61));function f(){var e,t=this.context,n=(0,i.default)(t).getInstance(),r=void 0,o=void 0,f=void 0,c=void 0,d=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0;function _(){o=NaN,c=!(d=!1),E()}function E(){null!==f&&(clearTimeout(f),f=null)}function y(e){E(),isNaN(e)&&!isNaN(o)&&(e=1e3*o),isNaN(e)||(r.debug("Refresh manifest in "+e+" milliseconds."),f=J()(A,e))}function T(){d=!0;var e=p.getValue(),t=e.url,n=g.getLocation(e);n&&(t=n),h.load(t)}function S(e){var t,i;p.getValue()&&p.getValue().type===l.default.DYNAMIC&&e.type===l.default.STATIC?n.trigger(a.default.DYNAMIC_STREAM_COMPLETED):(p.setValue(e),i=((t=new Date).getTime()-e.loadedTime.getTime())/1e3,2147483647<1e3*(o=g.getManifestUpdatePeriod(e,i))&&(o=2147483.647),n.trigger(a.default.MANIFEST_UPDATED,{manifest:e}),r.info("Manifest has been refreshed at "+t+"["+t.getTime()/1e3+"] "),c||y())}function A(){c&&!v.get().streaming.scheduleWhilePaused||(d?y(v.get().streaming.manifestUpdateRetryInterval):T())}function I(e){e.error?e.error.code===u.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&m.error(e.error):S(e.manifest)}function R(){c=!1,y()}function b(){c=!0,E()}function M(){d=!1}return e={initialize:function(){_(),n.on(a.default.STREAMS_COMPOSED,M,this),n.on(a.default.PLAYBACK_STARTED,R,this),n.on(a.default.PLAYBACK_PAUSED,b,this),n.on(a.default.INTERNAL_MANIFEST_LOADED,I,this)},setManifest:function(e){S(e)},refreshManifest:T,setConfig:function(e){e&&(e.manifestModel&&(p=e.manifestModel),e.adapter&&(g=e.adapter),e.manifestLoader&&(h=e.manifestLoader),e.errHandler&&(m=e.errHandler),e.settings&&(v=e.settings))},reset:function(){n.off(a.default.PLAYBACK_STARTED,R,this),n.off(a.default.PLAYBACK_PAUSED,b,this),n.off(a.default.STREAMS_COMPOSED,M,this),n.off(a.default.INTERNAL_MANIFEST_LOADED,I,this),_()}},r=(0,s.default)(t).getInstance().getLogger(e),e}f.__dashjs_factory_name="ManifestUpdater",n.default=o.default.getClassFactory(f),t.exports=n.default},{45:45,46:46,47:47,51:51,54:54,61:61}],100:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(2)),a=r(e(108)),o=r(e(61)),s=r(e(109)),u=r(e(119)),l=r(e(121)),f=r(e(117)),c=r(e(112)),d=r(e(98)),h=r(e(212)),p=r(e(207)),g=r(e(202)),m=r(e(217)),v=r(e(200)),_=r(e(153)),E=r(e(150)),y=r(e(151)),T=r(e(111)),S=r(e(157)),A=r(e(154)),I=r(e(148)),R=r(e(209)),b=r(e(45)),M=r(e(51)),w=r(e(46)),D=r(e(54)),C=r(e(101)),N=r(e(47)),O=r(e(48)),L=e(50),x=r(e(63)),P=r(e(56)),F=r(e(58)),U=r(e(82)),k=e(241),G=r(e(1)),q=r(e(9)),Y=r(e(225)),K=e(218),H=r(e(99)),V=r(e(220)),j=r(e(206));function z(){var e,t="You must first call initialize() and set a source before calling this method",n="You must first call initialize() and set a valid source and view before calling this method",r="You must first call attachView() to set the video element before calling this method",z="You must first call attachSource() with a valid source before calling this method",W="MediaPlayer not initialized!",X=this.context,Q=(0,w.default)(X).getInstance(),Z=(0,O.default)(X).getInstance(),$=(0,b.default)(X).getInstance({settings:Z}),J=void 0,ee=void 0,ne=void 0,re=void 0,ie=void 0,ae=void 0,oe=void 0,se=void 0,ue=void 0,le=void 0,fe=void 0,ce=void 0,de=void 0,he=void 0,pe=void 0,ge=void 0,me=void 0,ve=void 0,_e=void 0,Ee=void 0,ye=void 0,Te=void 0,Se=void 0,Ae=void 0,Ie=void 0,Re=void 0,be=void 0,Me=void 0,we=void 0,De=void 0;function Ce(){return!!ee&&!!Re.getElement()}function Ne(){return(0,L.getVersionString)()}function Oe(){if(!ae)throw n;return Te.isPaused()}function Le(e){var t=Se.getCurrentDVRInfo();if(!t)return 0;var n=Te.getLiveDelay(),r=t.range.start+e;return r>t.range.end-n&&(r=t.range.end-n),r}function xe(e){if(!ae)throw n;var t,r=Be().currentTime;return void 0!==e?r=ye.getTimeRelativeToStreamId(r,e):Te.getIsDynamic()&&(r=null===(t=Se.getCurrentDVRInfo())?0:Pe()-(t.range.end-t.time)),r}function Pe(){if(!ae)throw n;var e=Be().duration;if(Te.getIsDynamic()){var t,r=Se.getCurrentDVRInfo();if(!r)return 0;e=(t=r.range.end-r.range.start)<r.manifestInfo.DVRWindowSize?t:r.manifestInfo.DVRWindowSize}return e}function Fe(e){(0,K.checkParameterType)(e,"boolean"),oe=e}function ke(){me.restoreDefaultUTCTimingSources()}function Be(){if(!Re.getElement())throw r;return Re.getElement()}function Ge(e){if(!re)throw W;Re.setElement(e),e&&(je(),function(){if(!de){var e,t=dashjs.MetricsReporting;"function"==typeof t&&(e=t(X).create(),de=e.createMetricsReporting({debug:$,eventBus:Q,mediaElement:Be(),adapter:ge,dashMetrics:Se,events:D.default,constants:a.default,metricsConstants:s.default}))}}(),function(){if(!he){var e=dashjs.MssHandler;"function"==typeof e&&(M.default.extend(e.errors),he=e(X).create({eventBus:Q,mediaPlayerModel:me,dashMetrics:Se,manifestModel:Ae,playbackController:Te,streamController:ye,protectionController:ce,baseURLController:_e,errHandler:ve,events:D.default,constants:a.default,debug:$,initSegmentType:k.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:G.default,ISOBoxer:q.default,settings:Z}))}}(),ye&&ye.switchToVideoElement()),ae&&He(),Xe()}function qe(e){if(!ie)throw t;var n=ye.getActiveStreamInfo();return fe.getTracksFor(e,n)}function Ye(e){if(!re)throw W;"string"==typeof e&&Me.initialize(e),ee=e,(ie||ae)&&He(),Ce()&&Xe()}function Ke(){if(!ie)throw t;var e=ye.getActiveStreamInfo();return e?ye.getStreamById(e.id):null}function He(){ie=ae=!1,ge.reset(),ye.reset(),Te.reset(),se.reset(),fe.reset(),be.reset(),ce&&(Z.get().streaming.keepProtectionMediaKeys?ce.stop():(ce.reset(),ce=null,je())),Ie.reset()}function Ve(){return(0,d.default)(X).create({debug:$,errHandler:ve,dashMetrics:Se,mediaPlayerModel:me,requestModifier:(0,m.default)(X).getInstance(),mssHandler:he,settings:Z})}function je(){if(ce)return ce;var e=dashjs.Protection;if("function"!=typeof e)return null;var t=e(X).create();return D.default.extend(e.events),C.default.extend(e.events,{publicOnly:!0}),M.default.extend(e.errors),Ee=Ee||(0,p.default)(X).getInstance(),ce=t.createProtectionSystem({debug:$,errHandler:ve,videoModel:Re,capabilities:Ee,eventBus:Q,events:D.default,BASE64:G.default,constants:a.default})}function ze(){if(!re)throw W;if(pe)return pe;var e=dashjs.OfflineController;if("function"!=typeof e)return null;D.default.extend(e.events),C.default.extend(e.events,{publicOnly:!0}),M.default.extend(e.errors);var t=Ve(),n=(0,H.default)(X).create();return n.setConfig({manifestModel:Ae,adapter:ge,manifestLoader:t,errHandler:ve}),pe=e(X).create({debug:$,manifestUpdater:n,baseURLController:_e,manifestLoader:t,manifestModel:Ae,mediaPlayerModel:me,abrController:se,playbackController:Te,adapter:ge,errHandler:ve,dashMetrics:Se,timelineConverter:le,schemeLoaderFactory:ue,eventBus:Q,events:D.default,errors:M.default,constants:a.default,settings:Z,dashConstants:o.default,urlUtils:(0,V.default)(X).getInstance()})}function We(e){var t=Se.getCurrentDVRInfo();return t?e+(t.manifestInfo.availableFrom.getTime()/1e3+t.range.start):0}function Xe(){var e;pe&&pe.resetRecords(),!ie&&ee&&(ie=!0,J.info("Streaming Initialized"),e=Ve(),ye=ye||(0,l.default)(X).getInstance(),fe.setConfig({domStorage:we}),ye.setConfig({capabilities:Ee,manifestLoader:e,manifestModel:Ae,mediaPlayerModel:me,protectionController:ce,adapter:ge,dashMetrics:Se,errHandler:ve,timelineConverter:le,videoModel:Re,playbackController:Te,abrController:se,mediaController:fe,textController:be,settings:Z,baseURLController:_e}),Te.setConfig({streamController:ye,dashMetrics:Se,mediaPlayerModel:me,adapter:ge,videoModel:Re,timelineConverter:le,uriFragmentModel:Me,settings:Z}),se.setConfig({streamController:ye,domStorage:we,mediaPlayerModel:me,dashMetrics:Se,adapter:ge,videoModel:Re,settings:Z}),se.createAbrRulesCollection(),be.setConfig({errHandler:ve,manifestModel:Ae,adapter:ge,mediaController:fe,streamController:ye,videoModel:Re}),Ie.setConfig({abrController:se,dashMetrics:Se,playbackController:Te}),ye.initialize(oe,ne),Ie.initialize(),"string"==typeof ee?ye.load(ee):ye.loadWithManifest(ee)),!ae&&Ce()&&(ae=!0,J.info("Playback Initialized"))}return e={initialize:function(e,t,n){Ee=Ee||(0,p.default)(X).getInstance(),ve=(0,h.default)(X).getInstance(),Ee.supportsMediaSource()?re||(re=!0,le=(0,U.default)(X).getInstance(),se||(se=(0,T.default)(X).getInstance()).setConfig({settings:Z}),ue=ue||(0,S.default)(X).getInstance(),Te=Te||(0,u.default)(X).getInstance(),fe=fe||(0,f.default)(X).getInstance(),ye=ye||(0,l.default)(X).getInstance(),ge=(0,P.default)(X).getInstance(),Ae=(0,E.default)(X).getInstance(),Ie=(0,I.default)(X).getInstance(),Se=(0,F.default)(X).getInstance({settings:Z}),be=(0,v.default)(X).getInstance(),we=(0,R.default)(X).getInstance({settings:Z}),ge.setConfig({constants:a.default,cea608parser:i.default,errHandler:ve,BASE64:G.default}),(_e=_e||(0,c.default)(X).create()).setConfig({adapter:ge}),(De=(0,x.default)(X).getInstance({dashMetrics:Se,mediaPlayerModel:me,errHandler:ve,baseURLController:_e,events:D.default,eventBus:Q,debug:$,boxParser:(0,j.default)(X).getInstance(),requestModifier:(0,m.default)(X).getInstance(),errors:M.default})).initialize(),ke(),Fe(void 0===n||n),ze(),e&&Ge(e),t&&Ye(t),J.info("[dash.js "+Ne()+"] MediaPlayer has been initialized")):ve.error(new Y.default(M.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,M.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(e){e&&(e.capabilities&&(Ee=e.capabilities),e.streamController&&(ye=e.streamController),e.playbackController&&(Te=e.playbackController),e.mediaPlayerModel&&(me=e.mediaPlayerModel),e.abrController&&(se=e.abrController),e.schemeLoaderFactory&&(ue=e.schemeLoaderFactory),e.mediaController&&(fe=e.mediaController),e.settings&&(Z=e.settings))},on:function(e,t,n){Q.on(e,t,n)},off:function(e,t,n){Q.off(e,t,n)},extend:function(e,t,n){N.default.extend(e,t,n,X)},attachView:Ge,attachSource:Ye,isReady:Ce,preload:function(){if(Re.getElement()||ie)return!1;if(!ee)throw z;Xe()},play:function(){if(!ae)throw n;(!oe||Oe()&&ae)&&Te.play()},isPaused:Oe,pause:function(){if(!ae)throw n;Te.pause()},isSeeking:function(){if(!ae)throw n;return Te.isSeeking()},isDynamic:function(){if(!ae)throw n;return Te.getIsDynamic()},seek:function(e){if(!ae)throw n;if((0,K.checkParameterType)(e,"number"),isNaN(e))throw a.default.BAD_ARGUMENT_ERROR;var t=Te.getIsDynamic()?Le(e):e;Te.seek(t)},setPlaybackRate:function(e){Be().playbackRate=e},getPlaybackRate:function(){return Be().playbackRate},setMute:function(e){(0,K.checkParameterType)(e,"boolean"),Be().muted=e},isMuted:function(){return Be().muted},setVolume:function(e){if("number"!=typeof e||isNaN(e)||e<0||1<e)throw a.default.BAD_ARGUMENT_ERROR;Be().volume=e},getVolume:function(){return Be().volume},time:xe,duration:Pe,timeAsUTC:function(){if(!ae)throw n;return xe()<0?NaN:We(xe())},durationAsUTC:function(){if(!ae)throw n;return We(Pe())},getActiveStream:Ke,getDVRWindowSize:function(){var e=Se.getCurrentDVRInfo();return e?e.manifestInfo.DVRWindowSize:0},getDVRSeekOffset:Le,convertToTimeCode:function(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(r<10?"0"+r.toString():r.toString())},formatUTC:function(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],i=new Date(1e3*e),a=i.toLocaleDateString(t),o=i.toLocaleTimeString(t,{hour12:n});return r?o+" "+a:o},getVersion:Ne,getDebug:function(){return $},getBufferLength:function(e){var t,n,r=[a.default.VIDEO,a.default.AUDIO,a.default.FRAGMENTED_TEXT];return e?-1===Ue()(r).call(r,e)?(J.warn("getBufferLength requested for invalid type"),NaN):(n=Se.getCurrentBufferLevel(e))||NaN:(n=B()(t=te()(r).call(r,(function(e){return 0<qe(e).length?Se.getCurrentBufferLevel(e):Number.MAX_VALUE}))).call(t,(function(e,t){return Math.min(e,t)})))===Number.MAX_VALUE?NaN:n},getTTMLRenderingDiv:function(){return Re?Re.getTTMLRenderingDiv():null},getVideoElement:Be,getSource:function(){if(!ee)throw z;return ee},getCurrentLiveLatency:function(){if(!re)throw W;return ae?Te.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(e){if(!ie)throw t;return se.getTopBitrateInfoFor(e)},setAutoPlay:Fe,getAutoPlay:function(){return oe},getDashMetrics:function(){return Se},getQualityFor:function(e){if(!ie)throw t;if(e!==a.default.IMAGE)return se.getQualityFor(e);var n=Ke();if(!n)return-1;var r=n.getThumbnailController();return r?r.getCurrentTrackIndex():-1},setQualityFor:function(e,n){if(!ie)throw t;if(e===a.default.IMAGE){var r=Ke();if(!r)return;var i=r.getThumbnailController();i&&i.setTrackByIndex(n)}se.setPlaybackQuality(e,ye.getActiveStreamInfo(),n)},updatePortalSize:function(){se.setElementSize(),se.setWindowResizeEventCalled(!0)},setTextDefaultLanguage:function(e){J.warn('setTextDefaultLanguage is deprecated and will be removed in version 3.2.0. Please use setInitialMediaSettingsFor("fragmentedText", { lang: lang }) instead'),void 0===be&&(be=(0,v.default)(X).getInstance()),be.setTextDefaultLanguage(e)},getTextDefaultLanguage:function(){return J.warn('getTextDefaultLanguage is deprecated and will be removed in version 3.2.0. Please use getInitialMediaSettingsFor("fragmentedText").lang instead'),void 0===be&&(be=(0,v.default)(X).getInstance()),be.getTextDefaultLanguage()},setTextDefaultEnabled:function(e){void 0===be&&(be=(0,v.default)(X).getInstance()),be.setTextDefaultEnabled(e)},getTextDefaultEnabled:function(){return void 0===be&&(be=(0,v.default)(X).getInstance()),be.getTextDefaultEnabled()},enableText:function(e){void 0===be&&(be=(0,v.default)(X).getInstance()),be.enableText(e)},enableForcedTextStreaming:function(e){void 0===be&&(be=(0,v.default)(X).getInstance()),be.enableForcedTextStreaming(e)},isTextEnabled:function(){return void 0===be&&(be=(0,v.default)(X).getInstance()),be.isTextEnabled()},setTextTrack:function(e){if(!ae)throw n;void 0===be&&(be=(0,v.default)(X).getInstance()),be.setTextTrack(e)},getBitrateInfoListFor:function(e){if(!ie)throw t;var n=Ke();return n?n.getBitrateListFor(e):[]},getStreamsFromManifest:function(e){if(!ie)throw t;return ge.getStreamsInfo(e)},getTracksFor:qe,getTracksForTypeFromManifest:function(e,n,r){if(!ie)throw t;return(r=r||ge.getStreamsInfo(n,1)[0])?ge.getAllMediaInfoForType(r,e,n):[]},getCurrentTrackFor:function(e){if(!ie)throw t;var n=ye.getActiveStreamInfo();return fe.getCurrentTrackFor(e,n)},setInitialMediaSettingsFor:function(e,t){if(!re)throw W;fe.setInitialSettings(e,t),e===a.default.FRAGMENTED_TEXT&&be.setInitialSettings(t)},getInitialMediaSettingsFor:function(e){if(!re)throw W;return fe.getInitialSettings(e)},setCurrentTrack:function(e){if(!ie)throw t;fe.setTrack(e)},getTrackSwitchModeFor:function(e){if(!re)throw W;return fe.getSwitchMode(e)},setTrackSwitchModeFor:function(e,t){if(!re)throw W;fe.setSwitchMode(e,t)},setSelectionModeForInitialTrack:function(e){if(!re)throw W;fe.setSelectionModeForInitialTrack(e)},getSelectionModeForInitialTrack:function(){if(!re)throw W;return fe.getSelectionModeForInitialTrack()},addABRCustomRule:function(e,t,n){me.addABRCustomRule(e,t,n)},removeABRCustomRule:function(e){me.removeABRCustomRule(e)},removeAllABRCustomRule:function(){me.removeABRCustomRule()},getAverageThroughput:function(e){var t=se.getThroughputHistory();return t?t.getAverageThroughput(e):0},retrieveManifest:function(e,t){var n=Ve(),r=this;Q.on(D.default.INTERNAL_MANIFEST_LOADED,(function e(i){i.error?t(null,i.error):t(i.manifest),Q.off(D.default.INTERNAL_MANIFEST_LOADED,e,r),n.reset()}),r),Me.initialize(e),n.load(e)},addUTCTimingSource:function(e,t){me.addUTCTimingSource(e,t)},removeUTCTimingSource:function(e,t){me.removeUTCTimingSource(e,t)},clearDefaultUTCTimingSources:function(){me.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:ke,setXHRWithCredentialsForType:function(e,t){me.setXHRWithCredentialsForType(e,t)},getXHRWithCredentialsForType:function(e){return me.getXHRWithCredentialsForType(e)},getProtectionController:je,attachProtectionController:function(e){ce=e},setProtectionData:function(e){ne=e,ye&&ye.setProtectionData(ne)},displayCaptionsOnTop:function(e){var t=(0,g.default)(X).getInstance();t.setConfig({videoModel:Re}),t.initialize(),t.setDisplayCConTop(e)},attachTTMLRenderingDiv:function(e){if(!Re.getElement())throw r;Re.setTTMLRenderingDiv(e)},getCurrentTextTrackIndex:function(){var e=NaN;return be&&(e=be.getCurrentTrackIdx()),e},provideThumbnail:function(e,t){if("function"==typeof t)if(e<0)t(null);else{var n=Te.getIsDynamic()?Le(e):e,r=ye.getStreamForTime(n);if(null!==r){var i=r.getThumbnailController();if(i){var a=ye.getTimeRelativeToStreamId(n,r.getId());return i.provide(a,t)}t(null)}else t(null)}},getDashAdapter:function(){return ge},getOfflineController:ze,getSettings:function(){return Z.get()},updateSettings:function(e){Z.update(e)},resetSettings:function(){Z.reset()},reset:function(){Ye(null),Ge(null),ne=null,ce&&(ce.reset(),ce=null),de&&(de.reset(),de=null),De.reset(),Z.reset(),pe&&(pe.reset(),pe=null)}},J=$.getLogger(e),oe=!(ie=ae=re=!1),De=ge=ne=pe=ce=null,D.default.extend(C.default),me=(0,y.default)(X).getInstance(),Re=(0,A.default)(X).getInstance(),Me=(0,_.default)(X).getInstance(),e}z.__dashjs_factory_name="MediaPlayer";var W=N.default.getClassFactory(z);W.events=C.default,W.errors=M.default,N.default.updateClassFactory(z.__dashjs_factory_name,W),n.default=W,t.exports=n.default},{1:1,101:101,108:108,109:109,111:111,112:112,117:117,119:119,121:121,148:148,150:150,151:151,153:153,154:154,157:157,2:2,200:200,202:202,206:206,207:207,209:209,212:212,217:217,218:218,220:220,225:225,241:241,45:45,46:46,47:47,48:48,50:50,51:51,54:54,56:56,58:58,61:61,63:63,82:82,9:9,98:98,99:99}],101:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r;function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}}(X()(i.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZING="streamInitializing",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAPTION_RENDERED="captionRendered",this.CAPTION_CONTAINER_RESIZE="captionContainerResize",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STALLED="playbackStalled",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}var a=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(i,((r=e(55))&&r.__esModule?r:{default:r}).default),i);n.default=a,t.exports=n.default},{55:55}],102:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i,a,o=(r=e(100))&&r.__esModule?r:{default:r},s=(i="application/dash+xml",{create:u,createAll:function(e,t){var n=[];e=e||"[data-dashjs-player]";for(var r=(t=t||document).querySelectorAll(e),a=0;a<r.length;a++){var o=u(r[a],null);n.push(o)}var s=t.querySelectorAll('source[type="'+i+'"]');for(a=0;a<s.length;a++)o=u(function(e){for(var t=!0;t;){var n=e;if(t=!1,/^VIDEO$/i.test(n.nodeName))return n;e=n.parentNode,t=!0}}(s[a]),null),n.push(o);return n}});function u(e,t,n){var r;if(!e||!/^VIDEO$/i.test(e.nodeName))return null;if(e._dashjs_player)return e._dashjs_player;var s=void 0,u=e.id||e.name||"video element";if(!(t=t||K()(r=Pe()([]).call(e.querySelectorAll("source"))).call(r,(function(e){return e.type==i}))[0])&&e.src)(t=document.createElement("source")).src=e.src;else if(!t&&!e.src)return null;return n=n||{},(s=(0,o.default)(n).create()).initialize(e,t.src,e.autoplay),(a=a||s.getDebug().getLogger()).debug("Converted "+u+" to dash.js player and added content: "+t.src),e._dashjs_player=s}var l=a=void 0;"undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate||"undefined"==typeof window||!window||!window.addEventListener||("complete"===window.document.readyState?window.dashjs?s.createAll():l=window.setInterval((function(){window.dashjs&&(window.clearInterval(l),s.createAll())}),500):window.addEventListener("load",(function e(){window.removeEventListener("load",e),s.createAll()}))),n.default=s,t.exports=n.default},{100:100}],103:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(45)),a=r(e(47));function o(e){var t,n=this.context,r=void 0,a=void 0,o=[],s=e;function u(e,t){o=K()(o).call(o,(function(n){return!((isNaN(t)||n.start<t)&&(isNaN(e)||n.end>e))}))}return t={getAllBufferRanges:function(){for(var e=[],t=0;t<o.length;t++){var n=o[t];0===e.length||n.start>e[e.length-1].end?e.push({start:n.start,end:n.end}):e[e.length-1].end=n.end}var r={start:function(t){return e[t].start},end:function(t){return e[t].end}};return Be()(r,"length",{get:function(){return e.length}}),r},append:function(e){a="InitializationSegment"!==e.segmentType?(o.push(e),M()(o).call(o,(function(e,t){return e.start-t.start})),null):e,r.debug("PreBufferSink appended chunk s: "+e.start+"; e: "+e.end),s&&s({chunk:e})},remove:u,abort:function(){},discharge:function(e,t){var n,r,i=(n=e,r=t,K()(o).call(o,(function(e){return(isNaN(r)||e.start<r)&&(isNaN(n)||e.end>n)})));return a&&(i.push(a),a=null),u(e,t),i},reset:function(){o=[],s=a=null},updateTimestampOffset:function(){},hasDiscontinuitiesAfter:function(){return!1},waitForUpdateEnd:function(e){e()},getBuffer:function(){return this}},r=(0,i.default)(n).getInstance().getLogger(t),t}o.__dashjs_factory_name="PreBufferSink";var s=a.default.getClassFactory(o);n.default=s,t.exports=n.default},{45:45,47:47}],104:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(45)),a=r(e(225)),o=r(e(46)),s=r(e(54)),u=r(e(47)),l=r(e(200)),f=r(e(51));function c(e,t,n,r,u){var c,d=this.context,h=(0,o.default)(d).getInstance(),p=void 0,g=void 0,m=void 0,v=void 0,_=[],E=[],y=n,T=!1!==r;function S(){try{return g.buffered}catch(e){return p.error("getAllBufferRanges exception: "+e.message),null}}function A(){var e=this,t=this;0<E.length&&function(){m=!0;var n=E[0];function r(){var e,r,a,o,u=S();e=t,a=u,o=n,(r=i)&&0<r.length&&r.length<a.length&&function(e,t){for(var n=0;n<e.length;n++){var r=Math.round(e.start(n)),i=Math.round(e.end(n));if(i===t.start||r===t.end||t.start>=r&&t.end<=i)return!0}return!1}(r,o)&&h.trigger(s.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:a.end(a.length-2),to:a.start(a.length-1),unintended:!0}),0<E.length?A.call(this):(m=!1,y&&y({chunk:n}))}Ke()(E).call(E,0,1);var i=[];try{0===n.bytes.length?r.call(e):(i=S(),g.appendBuffer?g.appendBuffer(n.bytes):g.append(n.bytes,n),w(le()(r).call(r,e)))}catch(r){p.fatal('SourceBuffer append failed "'+r+'"'),0<E.length?A():m=!1,y&&y({chunk:n,error:new a.default(r.code,r.message)})}}()}function I(){var e;0<_.length&&(e=_.shift(),g.updating?w(e):(e(),I()))}function R(){g.updating||I()}function b(){g.updating||I()}function M(){p.error("SourceBufferSink error",t.type)}function w(e){_.push(e),g.updating||I()}return c={getAllBufferRanges:S,getBuffer:function(){return g},append:function(e){e?(E.push(e),m||w(le()(A).call(A,this))):y({chunk:e,error:new a.default(f.default.APPEND_ERROR_CODE,f.default.APPEND_ERROR_MESSAGE)})},remove:function(t,n,r){var i=this;w((function(){try{0<=t&&t<n&&(r||"ended"!==e.readyState)&&g.remove(t,n),w((function(){h.trigger(s.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:i,from:t,to:n,unintended:!1})}))}catch(e){h.trigger(s.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:i,from:t,to:n,unintended:!1,error:new a.default(e.code,e.message)})}}))},abort:function(){try{("open"===e.readyState||g.setTextTrack&&"ended"===e.readyState)&&g.abort()}catch(e){p.error('SourceBuffer append abort failed: "'+e+'"')}E=[]},reset:function(t){if(g){if("function"==typeof g.removeEventListener&&(g.removeEventListener("updateend",b,!1),g.removeEventListener("error",M,!1),g.removeEventListener("abort",M,!1)),clearInterval(v),g.appendWindowEnd=1/0,!t){try{g.getClassName&&"TextSourceBuffer"===g.getClassName()||e.removeSourceBuffer(g)}catch(t){p.error("Failed to remove source buffer from media source.")}g=null}m=!1}E=[],y=null},updateTimestampOffset:function(e){g.timestampOffset===e||isNaN(e)||w((function(){g.timestampOffset=e}))},hasDiscontinuitiesAfter:function(e){try{var t=S();if(t&&1<t.length)for(var n=0,r=t.length;n<r;n++)if(0<n&&e<t.start(n)&&t.start(n)>t.end(n-1)+.1)return!0}catch(e){p.error("hasDiscontinuities exception: "+e.message)}return!1},waitForUpdateEnd:w},function(){p=(0,i.default)(d).getInstance().getLogger(c),m=!1;var n=t.codec;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");if((g=u||e.addSourceBuffer(n)).changeType&&u&&(p.debug("Doing period transition with changeType"),g.changeType(n)),T&&g&&(g.appendWindowEnd=e.duration),"function"==typeof g.addEventListener)try{g.addEventListener("updateend",b,!1),g.addEventListener("error",M,!1),g.addEventListener("abort",M,!1)}catch(e){v=U()(R,50)}else v=U()(R,50)}catch(e){if(!t.isText&&-1===Ue()(n).call(n,'codecs="stpp')&&-1===Ue()(n).call(n,'codecs="wvtt'))throw e;var r=(0,l.default)(d).getInstance();g=r.getTextSourceBuffer()}}(),c}c.__dashjs_factory_name="SourceBufferSink";var d=u.default.getClassFactory(c);n.default=d,t.exports=n.default},{200:200,225:225,45:45,46:46,47:47,51:51,54:54}],105:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(61)),o=r(e(106)),s=r(e(116)),u=r(e(203)),l=r(e(46)),f=r(e(54)),c=r(e(45)),d=r(e(51)),h=r(e(47)),p=r(e(225)),g=r(e(206)),m=r(e(220));function v(e){e=e||{};var t=this.context,n=(0,l.default)(t).getInstance(),r=(0,m.default)(t).getInstance(),h=e.manifestModel,v=e.mediaPlayerModel,_=e.manifestUpdater,E=e.adapter,y=e.capabilities,T=e.errHandler,S=e.timelineConverter,A=e.dashMetrics,I=e.abrController,R=e.playbackController,b=e.eventController,M=e.mediaController,w=e.textController,D=e.videoModel,C=e.settings,N=void 0,O=void 0,L=void 0,x=void 0,F=void 0,U=void 0,k=void 0,B=void 0,G=void 0,q=void 0,Y=void 0,H=void 0,V=void 0,j=void 0,z=void 0,W=void 0,X=void 0,Q=void 0,Z=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function $(e){for(var t=x?x.length:0,r=0;r<t;r++)x[r].getFragmentModel().removeExecutedRequestsBeforeTime(re()+ne()),x[r].reset(!1,e);Te(k=U=!(x=[])),n.off(f.default.CURRENT_TRACK_CHANGED,ue,N)}function J(){$(),L=null,G=B=F=!1,Y=!(q={})}function ee(){R&&R.pause(),V&&(V.reset(),V=null),J(),n.off(f.default.DATA_UPDATE_COMPLETED,ge,N),n.off(f.default.BUFFERING_COMPLETED,pe,N),n.off(f.default.INBAND_EVENTS,me,N),H&&(n.off(f.default.KEY_ERROR,oe,N),n.off(f.default.SERVER_CERTIFICATE_UPDATED,oe,N),n.off(f.default.LICENSE_REQUEST_COMPLETE,oe,N),n.off(f.default.KEY_SYSTEM_SELECTED,oe,N),n.off(f.default.KEY_SESSION_CREATED,oe,N),n.off(f.default.KEY_STATUSES_CHANGED,oe,N)),Te(!1)}function ne(){return L?L.duration:NaN}function re(){return L?L.start:NaN}function ie(){return L?L.id:null}function ae(){if(!(D&&I&&I.hasOwnProperty("getBitrateList")&&E&&E.hasOwnProperty("getAllMediaInfoForType")&&E.hasOwnProperty("getEventsFor")))throw new Error(i.default.MISSING_CONFIG_ERROR)}function oe(e){e.error&&(T.error(e.error),O.fatal(e.error.message),ee())}function se(e){var t,n=e?e.type:null,r=void 0;if(n===i.default.MUXED)return r="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",O.fatal(r),void T.error(new p.default(d.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,r,h.getValue()));if(n===i.default.TEXT||n===i.default.FRAGMENTED_TEXT||n===i.default.EMBEDDED_TEXT||n===i.default.IMAGE)return 1;if(t=e.codec,O.debug(n+" codec: "+t),e.contentProtection&&!y.supportsEncryptedMedia())T.error(new p.default(d.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,d.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE));else if(!y.supportsCodec(t))return r=n+"Codec ("+t+") is not supported.",void O.error(r);return 1}function ue(e){var t,n,r,a;L&&e.newMediaInfo.streamInfo.id===L.id&&(t=e.newMediaInfo,n=h.getValue(),E.setCurrentMediaInfo(L.id,t.type,t),(r=ve(t))&&(a=R.getTime(),O.info("Stream -  Process track changed at current time "+a),O.debug("Stream -  Update stream controller"),n.refreshManifestOnSwitchTrack?(O.debug("Stream -  Refreshing manifest for switch track"),Q=e,_.refreshManifest()):(r.selectMediaInfo(t),t.type!==i.default.FRAGMENTED_TEXT?(I.updateTopQualityIndex(t),r.switchTrackAsked(),r.getFragmentModel().abortRequests()):(r.getScheduleController().setSeekTarget(a),r.setIndexHandlerTime(a),r.resetIndexHandler()))))}function le(r,s){var l=E.getAllMediaInfoForType(L,r),c=null,d=void 0;if(l&&0!==l.length){r===i.default.VIDEO&&(B=!0),r===i.default.AUDIO&&(G=!0);for(var p=0,g=l.length;p<g;p++)if(c=l[p],r===i.default.EMBEDDED_TEXT)w.addEmbeddedTrack(c);else{if(!se(c))continue;M.addTrack(c)}r!==i.default.EMBEDDED_TEXT&&0!==M.getTracksFor(r,L).length&&(r!==i.default.IMAGE?((r!==i.default.FRAGMENTED_TEXT||r===i.default.FRAGMENTED_TEXT&&w.getTextDefaultEnabled())&&(M.checkInitialMediaSettingsForType(r,L),d=M.getCurrentTrackFor(r,L)),r!==i.default.FRAGMENTED_TEXT||w.getTextDefaultEnabled()||(d=M.getTracksFor(r,L)[0]),n.trigger(f.default.STREAM_INITIALIZING,{streamInfo:L,mediaInfo:c}),function(n,r,a,s){var u=V.getModel(ie(),n?n.type:null),l=(0,o.default)(t).create({streamInfo:L,type:n?n.type:null,mimeType:n?n.mimeType:null,timelineConverter:S,adapter:E,manifestModel:h,mediaPlayerModel:v,fragmentModel:u,dashMetrics:e.dashMetrics,baseURLController:e.baseURLController,abrController:I,playbackController:R,mediaController:M,textController:w,errHandler:T,settings:C,boxParser:W});if(l.initialize(a,B),I.updateTopQualityIndex(n),x.push(l),!n||n.type!==i.default.TEXT&&n.type!==i.default.FRAGMENTED_TEXT)l.addMediaInfo(n,!0);else{for(var f=void 0,c=0;c<r.length;c++)r[c].index===n.index&&(f=c),l.addMediaInfo(r[c]);l.selectMediaInfo(r[f])}}(d,l,s)):j=(0,u.default)(t).create({streamInfo:L,adapter:E,baseURLController:e.baseURLController,timelineConverter:e.timelineConverter,debug:X,eventBus:n,events:f.default,dashConstants:a.default}))}else O.info("No "+r+" data.")}function fe(){var e;b&&(e=E.getEventsFor(L),b.addInlineEvents(e))}function ce(e){var t,n=E.getAdaptationForType(L?L.index:null,e,L);n&&Ne()(n.Representation_asArray)&&(n.Representation_asArray=K()(t=n.Representation_asArray).call(t,(function(e,t){if(0===t)return!0;var r=E.getCodec(n,t,!0);return!!y.supportsCodec(r)||(O.error("[Stream] codec not supported: "+r),!1)})))}function de(){for(var e=x.length,t=q.audio||q.video?new p.default(d.default.DATA_UPDATE_FAILED_ERROR_CODE,d.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,r=0;r<e;r++)if(x[r].isUpdating()||Y)return;if(k){if(H)for(r=0;r<e&&x[r];r++)x[r].getType()!==i.default.AUDIO&&x[r].getType()!==i.default.VIDEO&&x[r].getType()!==i.default.FRAGMENTED_TEXT||H.initializeForMedia(x[r].getMediaInfo());for(t?T.error(t):F||(F=!0,S.setTimeSyncCompleted(!0),n.trigger(f.default.STREAM_INITIALIZED,{streamInfo:L,liveStartTime:function(){if(!L.manifestInfo.isDynamic)return NaN;for(var e=0;e<x.length;e++)if(x[e].getType()===i.default.AUDIO||x[e].getType()===i.default.VIDEO)return x[e].getLiveStartTime();return NaN}()})),r=0;r<e&&x[r];r++)x[r].getScheduleController().start()}}function he(e){for(var t={},n=0,r=x.length;n<r;n++){var i=x[n].createBuffer(e);i&&(t[x[n].getType()]=i.getBuffer())}return t}function pe(e){if(e.streamId===L.id){var t=_e(),r=t.length;if(0!==r){for(var a=0;a<r;a++)if(!t[a].isBufferingCompleted()&&(t[a].getType()===i.default.AUDIO||t[a].getType()===i.default.VIDEO))return void O.warn("onBufferingCompleted - One streamProcessor has finished but",t[a].getType(),"one is not buffering completed");O.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),n.trigger(f.default.STREAM_BUFFERING_COMPLETED,{streamInfo:L})}else O.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}}function ge(e){L&&e.sender.getStreamId()===L.id&&(q[e.sender.getType()]=e.error,de())}function me(e){var t;L&&e.streamInfo.id===L.id&&(t=e.events,b&&b.addInbandEvents(t))}function ve(e){var t;return e?K()(t=_e()).call(t,(function(t){return t.getType()===e.type}))[0]:null}function _e(){for(var e,t=[],n=void 0,r=0;r<x.length;r++)(e=(n=x[r]).getType())!==i.default.AUDIO&&e!==i.default.VIDEO&&e!==i.default.FRAGMENTED_TEXT&&e!==i.default.TEXT||t.push(n);return t}function Ee(e,t){if(!e)return!1;var n=e.getStreamInfo(),r=L;if(!n||!r)return!1;var i=E.getAdaptationForType(n.index,t,n),a=E.getAdaptationForType(r.index,t,r);return i&&a?!i.ContentProtection&&!a.ContentProtection:!i&&!a}function ye(e,t){var n,r;if(!e||!e.hasOwnProperty("getStreamInfo"))return!1;var i=e.getStreamInfo(),a=L;if(!i||!a)return!1;var o=E.getAdaptationForType(i.index,t,i),s=E.getAdaptationForType(a.index,t,a);if(!o||!s)return!o&&!s;var u=o&&s&&o.mimeType===s.mimeType,l=te()(n=s.Representation_asArray).call(n,(function(e){return e.codecs})),f=te()(r=o.Representation_asArray).call(r,(function(e){return e.codecs})),c=P()(f).call(f,(function(e){return-1<Ue()(l).call(l,e)})),d=P()(f).call(f,(function(e){return P()(l).call(l,(function(t){return function(e,t){for(var n,r=e.split(".")[0],i=0===Ue()(t).call(t,r),a=void 0,o=0;o<Z.length;o++)if(Z[o].codec===r){a=Z[o];break}return a?i||P()(n=a.compatibleCodecs).call(n,(function(e){return 0===Ue()(t).call(t,e)})):i}(t,e)}))}));return c||d&&u}function Te(e){z=e}return N={initialize:function(e,t){L=e,(H=t)&&(n.on(f.default.KEY_ERROR,oe,N),n.on(f.default.SERVER_CERTIFICATE_UPDATED,oe,N),n.on(f.default.LICENSE_REQUEST_COMPLETE,oe,N),n.on(f.default.KEY_SYSTEM_SELECTED,oe,N),n.on(f.default.KEY_SESSION_CREATED,oe,N),n.on(f.default.KEY_STATUSES_CHANGED,oe,N))},activate:function(e,t){if(U)return t;var r;return n.on(f.default.CURRENT_TRACK_CHANGED,ue,N),r=z?(function(){var e;Y=!0,ae(),ce(i.default.VIDEO),ce(i.default.AUDIO),Y=!(k=!0),0===x.length?(e="No streams to play.",T.error(new p.default(d.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,e,h.getValue())),O.debug(e)):de()}(),t):function(e,t){ae();var n=D.getElement();fe(),Y=!0,ce(i.default.VIDEO),ce(i.default.AUDIO),(!n||n&&/^VIDEO$/i.test(n.nodeName))&&le(i.default.VIDEO,e),le(i.default.AUDIO,e),le(i.default.TEXT,e),le(i.default.FRAGMENTED_TEXT,e),le(i.default.EMBEDDED_TEXT,e),le(i.default.MUXED,e),le(i.default.IMAGE,e);var r,a=he(t);return Y=!(k=!0),0===x.length?(r="No streams to play.",T.error(new p.default(d.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,r,h.getValue())),O.fatal(r)):de(),a}(e,t),U=!0,r},deactivate:$,isActive:function(){return U},getDuration:ne,getStartTime:re,getId:ie,getStreamInfo:function(){return L},getHasAudioTrack:function(){return G},getHasVideoTrack:function(){return B},preload:function(e,t){fe(),le(i.default.VIDEO,e),le(i.default.AUDIO,e),le(i.default.TEXT,e),le(i.default.FRAGMENTED_TEXT,e),le(i.default.EMBEDDED_TEXT,e),le(i.default.MUXED,e),le(i.default.IMAGE,e),he(t),n.on(f.default.CURRENT_TRACK_CHANGED,ue,N);for(var r=0;r<x.length&&x[r];r++)x[r].getScheduleController().start();Te(!0)},getThumbnailController:function(){return j},getBitrateListFor:function(e){if(ae(),e===i.default.IMAGE)return j?j.getBitrateList():[];var t=function(e){for(var t=null,n=0;n<x.length;n++)if((t=x[n]).getType()===e)return t.getMediaInfo();return null}(e);return I.getBitrateList(t)},updateData:function(e){O.info("Manifest updated... updating data system wide."),Y=!(U=!1),L=e,b&&fe(),ce(i.default.VIDEO),ce(i.default.AUDIO);for(var t=0,n=x.length;t<n;t++){var r=x[t];r.updateStreamInfo(L);var a=E.getMediaInfoForType(L,r.getType());I.updateTopQualityIndex(a),r.addMediaInfo(a,!0)}if(Q&&(a=Q.newMediaInfo).type!==i.default.FRAGMENTED_TEXT){var o=ve(Q.oldMediaInfo);if(!o)return;o.switchTrackAsked(),Q=void 0}Y=!1,de()},reset:ee,getProcessors:_e,setMediaSource:function(e){for(var t=0;t<x.length;)se(x[t].getMediaInfo())?(x[t].setMediaSource(e),t++):(x[t].reset(),Ke()(x).call(x,t,1));var n;for(t=0;t<x.length;t++)x[t].dischargePreBuffer();0===x.length&&(n="No streams to play.",T.error(new p.default(d.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,n+"nostreams",h.getValue())),O.fatal(n))},isMediaCodecCompatible:function(e){return ye(e,i.default.VIDEO)&&ye(e,i.default.AUDIO)},isProtectionCompatible:function(e){return Ee(e,i.default.VIDEO)&&Ee(e,i.default.AUDIO)},getPreloaded:function(){return z}},X=(0,c.default)(t).getInstance(),O=X.getLogger(N),J(),W=(0,g.default)(t).getInstance(),V=(0,s.default)(t).create({mediaPlayerModel:v,dashMetrics:A,errHandler:T,settings:C,boxParser:W,dashConstants:a.default,urlUtils:r}),n.on(f.default.BUFFERING_COMPLETED,pe,N),n.on(f.default.DATA_UPDATE_COMPLETED,ge,N),n.on(f.default.INBAND_EVENTS,me,N),N}v.__dashjs_factory_name="Stream",n.default=h.default.getClassFactory(v),t.exports=n.default},{106:106,108:108,116:116,203:203,206:206,220:220,225:225,45:45,46:46,47:47,51:51,54:54,61:61}],106:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(61)),o=r(e(109)),s=r(e(149)),u=r(e(114)),l=r(e(199)),f=r(e(120)),c=r(e(62)),d=r(e(215)),h=r(e(47)),p=e(218),g=r(e(46)),m=r(e(54)),v=r(e(57)),_=r(e(51)),E=r(e(225)),y=r(e(45)),T=r(e(217)),S=r(e(220)),A=r(e(206)),I=r(e(227)),R=e(243);function b(e){e=e||{};var t=this.context,n=(0,g.default)(t).getInstance(),r=e.streamInfo,h=e.type,b=e.errHandler,M=e.mimeType,w=e.timelineConverter,D=e.adapter,C=e.manifestModel,N=e.mediaPlayerModel,O=e.fragmentModel,L=e.abrController,x=e.playbackController,P=e.mediaController,F=e.textController,U=e.dashMetrics,k=e.settings,B=e.boxParser,G=void 0,q=void 0,Y=void 0,K=void 0,H=void 0,V=void 0,j=void 0,z=void 0,W=void 0,X=void 0;function Q(){H=[],K=null}function $(e){e.sender.getType()===h&&e.sender.getStreamId()===r.id&&(q.info("DataUpdateCompleted"),e.error||j.setCurrentRepresentation(D.convertDataToRepresentationInfo(e.currentRepresentation)),e.error&&e.error.code!==_.default.SEGMENTS_UPDATE_FAILED_ERROR_CODE||re())}function J(e){var t;h===e.mediaType&&r.id===e.streamInfo.id&&(t=ae(e.newQuality),j.setCurrentRepresentation(t),U.pushPlayListTraceMetrics(new Date,R.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),U.createPlaylistTraceMetrics(t.id,1e3*x.getTime(),x.getPlaybackRate()))}function ee(e){e.streamId===r.id&&e.mediaType===h&&(U.addBufferLevel(h,new Date,1e3*e.bufferLevel),C.getValue().doNotUpdateDVRWindowOnBufferUpdated||re())}function te(e){e.streamId===r.id&&e.mediaType===h&&(U.addBufferState(h,e.state,j.getBufferTarget()),e.state!==o.default.BUFFER_EMPTY||x.isSeeking()||U.pushPlayListTraceMetrics(new Date,R.PlayListTrace.REBUFFERING_REASON))}function ne(e){e.streamId===r.id&&e.mediaType===h&&(e.unintended?O.removeExecutedRequestsAfterTime(e.from):O.syncExecutedRequestsWithBufferedRange(V.getBuffer().getAllBufferRanges(),r.duration))}function re(){var e=r.manifestInfo,t=e.isDynamic,n=w.calcSegmentAvailabilityRange(z.getCurrentRepresentation(),t);U.addDVRInfo(h,x.getTime(),e,n)}function ie(){return V?V.getBuffer():null}function ae(e){var t=void 0!==e?((0,p.checkInteger)(e),z?z.getRepresentationForQuality(e):null):z?z.getCurrentRepresentation():null;return D.convertDataToRepresentationInfo(t)}function oe(e){var t;e.sender&&e.mediaType===h&&e.streamId===r.id&&(D.getIsTextTrack(M)&&!F.isTextEnabled()||V&&e.representationId&&(V.appendInitSegment(e.representationId)||(t=X?X.getInitRequest(K,z.getCurrentRepresentation()):null,j.processInitRequest(t))))}function se(e){var t;e.sender&&e.mediaType===h&&e.streamId===r.id&&(t=void 0,V.getIsPruningInProgress()||(t=function(e,t){var n,r,a=ae(),o=!isNaN(e),s=x.getNormalizedTime(),u=o?e:ce(),l=!1,f=void 0;if(isNaN(u)||h===i.default.FRAGMENTED_TEXT&&!F.isTextEnabled())return null;if(V&&(n=V.getRangeAt(u),r=V.getRangeAt(s),null===n&&null===r||o||(!n||r&&r.start!=n.start&&r.end!=n.end)&&V.getBuffer().hasDiscontinuitiesAfter(s)&&h!==i.default.FRAGMENTED_TEXT&&(O.removeExecutedRequestsAfterTime(r.end),l=!0)),t)f=de(a,u=t.startTime+t.duration/2,{timeThreshold:0,ignoreIsFinished:!0});else for(f=de(a,o||l?u:void 0,{keepIdx:!o&&!l});f&&f.action!==I.default.ACTION_COMPLETE&&O.isFragmentLoaded(f);)f=de(a);return f}(e.seekTarget,e.replacement))&&(j.setSeekTarget(NaN),e.replacement||(isNaN(t.startTime+t.duration)||fe(t.startTime+t.duration),t.delayLoadingTime=(new Date).getTime()+j.getTimeToLoadDelay(),j.setTimeToLoadDelay(0))),j.processMediaRequest(t))}function ue(e){var i,a,o,u,l,f,c,d=e.chunk;d.streamId===r.id&&d.mediaInfo.type==h&&(i=d.bytes,o=ae(a=d.quality),u=z&&o?z.getRepresentationForQuality(o.quality):null,l=D.getEventsFor(o.mediaInfo),f=D.getEventsFor(o,u),(l&&0<l.length||f&&0<f.length)&&(c=function(e,n,r,i){for(var a=Math.max(!n||isNaN(n.startTime)?0:n.startTime,0),o=[],s=[],u=Z()(r).call(r,i),l=0,f=u.length;l<f;l++)o[u[l].schemeIdUri+"/"+u[l].value]=u[l];var c=(0,A.default)(t).getInstance().parse(e).getBoxes("emsg");for(l=0,f=c.length;l<f;l++){var d=D.getEvent(c[l],o,a);d&&s.push(d)}return s}(i,O.getRequests({state:s.default.FRAGMENT_MODEL_EXECUTED,quality:a,index:d.index})[0],l,f),n.trigger(m.default.ADD_INBAND_EVENTS_REQUESTED,{sender:G,events:c})))}function le(e){e.mediaType===h&&e.streamId===r.id&&(fe(e.time),j.setSeekTarget(e.time))}function fe(e){X&&X.setCurrentTime(e)}function ce(){return X?X.getCurrentTime():NaN}function de(e,t,n){var r,i=null;return X&&(r=z&&e?z.getRepresentationForQuality(e.quality):null,i=void 0!==t&&void 0!==n?X.getSegmentRequestForTime(K,r,t,n):X.getNextSegmentRequest(K,r)),i}return G={initialize:function(o,s){X=(0,v.default)(t).create({streamInfo:r,type:h,timelineConverter:w,dashMetrics:U,mediaPlayerModel:N,baseURLController:e.baseURLController,errHandler:b,settings:k,boxParser:B,events:m.default,eventBus:n,errors:_.default,debug:(0,y.default)(t).getInstance(),requestModifier:(0,T.default)(t).getInstance(),dashConstants:a.default,constants:i.default,urlUtils:(0,S.default)(t).getInstance()}),(Y=r.manifestInfo.isDynamic)&&(W=(0,d.default)(t).create({timelineConverter:w})),X.initialize(Y),L.registerStreamType(h,G),z=(0,c.default)(t).create({streamId:r.id,type:h,abrController:L,dashMetrics:U,playbackController:x,timelineConverter:w,dashConstants:a.default,events:m.default,eventBus:n,errors:_.default}),(V=function(e){return e?e===i.default.VIDEO||e===i.default.AUDIO?(0,u.default)(t).create({streamInfo:r,type:e,mediaPlayerModel:N,manifestModel:C,fragmentModel:O,errHandler:b,mediaController:P,representationController:z,adapter:D,textController:F,abrController:L,playbackController:x,settings:k}):(0,l.default)(t).create({streamInfo:r,type:e,mimeType:M,mediaPlayerModel:N,manifestModel:C,fragmentModel:O,errHandler:b,mediaController:P,representationController:z,adapter:D,textController:F,abrController:L,playbackController:x,settings:k}):(b.error(new E.default(_.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,_.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(h))&&V.initialize(o),(j=(0,f.default)(t).create({streamId:r.id,type:h,mimeType:M,adapter:D,dashMetrics:U,mediaPlayerModel:N,fragmentModel:O,abrController:L,playbackController:x,textController:F,mediaController:P,bufferController:V,settings:k})).initialize(s)},isUpdating:function(){return!!z&&z.isUpdating()},getType:function(){return h},getBufferController:function(){return V},getFragmentModel:function(){return O},getScheduleController:function(){return j},getRepresentationController:function(){return z},getRepresentationInfo:ae,getBufferLevel:function(){return V?V.getBufferLevel():0},isBufferingCompleted:function(){return!!V&&V.getIsBufferingCompleted()},createBuffer:function(e){return ie()||V?V.createBuffer(H,e):null},updateStreamInfo:function(e){r=e},getStreamInfo:function(){return r},selectMediaInfo:function(e){e===K||e&&K&&e.type!==K.type||(K=e);var t,n,a,o,s,u=D.getRealAdaptation(r,K),l=D.getVoRepresentations(K);z&&(t=z.getData(),n=L.getTopQualityIndexFor(h,r.id),a=L.getMinAllowedIndexFor(h),s=void 0,s=(o=null)!==t&&t.id==u.id||h===i.default.FRAGMENTED_TEXT?L.getQualityFor(h):(o=L.getThroughputHistory().getAverageThroughput(h)||L.getInitialBitrateFor(h),L.getQualityForBitrate(K,o)),void 0!==a&&s<a&&(s=a),n<s&&(s=n),X.setMimeType(K?K.mimeType:null),z.updateData(u,l,h,s))},addMediaInfo:function(e,t){-1===Ue()(H).call(H,e)&&H.push(e),t&&this.selectMediaInfo(e)},getLiveStartTime:function(){if(!Y)return NaN;if(!W)return NaN;var e=NaN,t=ae(),n=function(e,t){try{var n=null,i=x.getLiveDelay(),a=isNaN(r.manifestInfo.DVRWindowSize)?i:r.manifestInfo.DVRWindowSize,o=.1*a,s=void 0;if(!isFinite(a)||de(t,e-a+o,{ignoreIsFinished:!0}))for(;!n&&i<=a;)(n=de(t,s=e-i,{ignoreIsFinished:!0}))||(i+=1);return n&&x.setLiveDelay(i,!0),q.debug("live edge: "+e+", live delay: "+i+", live target: "+s),n}catch(e){return null}}(W.getLiveEdge(t),t);return n&&(e=!k.get().streaming.lowLatencyEnabled||n.duration<N.getLiveDelay()?n.startTime:n.startTime+n.duration-N.getLiveDelay()),e},switchTrackAsked:function(){j.switchTrackAsked()},getMediaInfoArr:function(){return H},getMediaInfo:function(){return K},getMediaSource:function(){return V.getMediaSource()},setMediaSource:function(e){V.setMediaSource(e,H)},dischargePreBuffer:function(){V.dischargePreBuffer()},getBuffer:ie,setBuffer:function(e){V.setBuffer(e)},setIndexHandlerTime:fe,getIndexHandlerTime:ce,resetIndexHandler:function(){X&&X.resetIndex()},getInitRequest:function(e){(0,p.checkInteger)(e);var t=z?z.getRepresentationForQuality(e):null;return X?X.getInitRequest(K,t):null},getFragmentRequest:de,finalisePlayList:function(e,t){U.pushPlayListTraceMetrics(e,t)},reset:function(e,t){X&&X.reset(),V&&(V.reset(e,t),V=null),j&&(j.reset(),j=null),z&&(z.reset(),z=null),W&&(W.reset(),W=null),L&&L.unRegisterStreamType(h),n.off(m.default.DATA_UPDATE_COMPLETED,$,G),n.off(m.default.QUALITY_CHANGE_REQUESTED,J,G),n.off(m.default.INIT_FRAGMENT_NEEDED,oe,G),n.off(m.default.MEDIA_FRAGMENT_NEEDED,se,G),n.off(m.default.MEDIA_FRAGMENT_LOADED,ue,G),n.off(m.default.BUFFER_LEVEL_UPDATED,ee,G),n.off(m.default.BUFFER_LEVEL_STATE_CHANGED,te,G),n.off(m.default.BUFFER_CLEARED,ne,G),n.off(m.default.SEEK_TARGET,le,G),Q(),r=h=null}},q=(0,y.default)(t).getInstance().getLogger(G),Q(),n.on(m.default.DATA_UPDATE_COMPLETED,$,G,g.default.EVENT_PRIORITY_HIGH),n.on(m.default.QUALITY_CHANGE_REQUESTED,J,G),n.on(m.default.INIT_FRAGMENT_NEEDED,oe,G),n.on(m.default.MEDIA_FRAGMENT_NEEDED,se,G),n.on(m.default.MEDIA_FRAGMENT_LOADED,ue,G),n.on(m.default.BUFFER_LEVEL_UPDATED,ee,G),n.on(m.default.BUFFER_LEVEL_STATE_CHANGED,te,G),n.on(m.default.BUFFER_CLEARED,ne,G),n.on(m.default.SEEK_TARGET,le,G),G}b.__dashjs_factory_name="StreamProcessor",n.default=h.default.getClassFactory(b),t.exports=n.default},{108:108,109:109,114:114,120:120,149:149,199:199,206:206,215:215,217:217,218:218,220:220,225:225,227:227,243:243,45:45,46:46,47:47,51:51,54:54,57:57,61:61,62:62}],107:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(225)),a=r(e(158)),o=e(241),s=r(e(232)),u=r(e(46)),l=r(e(54)),f=r(e(47)),c=r(e(51));function d(e){e=e||{};var t=this.context,n=(0,u.default)(t).getInstance(),r=(0,a.default)(t).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,useFetch:e.settings?e.settings.get().streaming.lowLatencyEnabled:null,errors:c.default});return{load:function(e,t,a){function u(r,o){t.resolved=!0,t.resolvedContent=r||null,n.trigger(l.default.XLINK_ELEMENT_LOADED,{element:t,resolveObject:a,error:r||o?null:new i.default(c.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,c.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+e)})}var f;"urn:mpeg:dash:resolve-to-zero:2013"===e?u(null,!0):(f=new s.default(e,o.HTTPRequest.XLINK_EXPANSION_TYPE),r.load({request:f,success:function(e){u(e)},error:function(){u(null)}}))},reset:function(){r&&(r.abort(),r=null)}}}d.__dashjs_factory_name="XlinkLoader",n.default=f.default.getClassFactory(d),t.exports=n.default},{158:158,225:225,232:232,241:241,46:46,47:47,51:51,54:54}],108:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.init()}Be()(n,"__esModule",{value:!0});var a=new(function(e,t,n){t&&r(e.prototype,t)}(i,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer"}}]),i);n.default=a,t.exports=n.default},{}],109:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.init()}Be()(n,"__esModule",{value:!0});var a=new(function(e,t,n){t&&r(e.prototype,t)}(i,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors"}}]),i);n.default=a,t.exports=n.default},{}],110:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.init()}Be()(n,"__esModule",{value:!0});var a=new(function(e,t,n){t&&r(e.prototype,t)}(i,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready"}}]),i);n.default=a,t.exports=n.default},{}],111:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(189)),a=r(e(108)),o=r(e(109)),s=r(e(224)),u=r(e(149)),l=r(e(46)),f=r(e(54)),c=r(e(47)),d=r(e(185)),h=r(e(186)),p=r(e(187)),g=r(e(184)),m=r(e(188)),v=r(e(45)),_=e(241),E=e(218);function y(){var e=this.context,t=(0,v.default)(e).getInstance(),n=(0,l.default)(e).getInstance(),r=void 0,c=void 0,y=void 0,T=void 0,S=void 0,A=void 0,I=void 0,R=void 0,b=void 0,M=void 0,w=void 0,D=void 0,C=void 0,N=void 0,O=void 0,L=void 0,x=void 0,P=void 0,F=void 0,U=void 0,k=void 0,B=void 0,G=void 0;function q(){(y=(0,i.default)(e).create({dashMetrics:B,mediaPlayerModel:O,settings:G})).initialize()}function Y(){S={},A={},R={},I={},P={},k={},void 0===M&&(M=!1),U=F=x=void 0,clearTimeout(b),b=null}function K(e){e.mediaType===a.default.VIDEO&&(x=e.oldQuality,F.push(x,N.getPlaybackQuality()))}function H(e){e.metric!==o.default.HTTP_REQUEST||!e.value||e.value.type!==_.HTTPRequest.MEDIA_SEGMENT_TYPE||e.mediaType!==a.default.AUDIO&&e.mediaType!==a.default.VIDEO||U.push(e.mediaType,e.value,G.get().streaming.abr.useDeadTimeLatency),e.metric!==o.default.BUFFER_LEVEL||e.mediaType!==a.default.AUDIO&&e.mediaType!==a.default.VIDEO||function(e,t){var n=G.get().streaming.abr.ABRStrategy;if(n===a.default.ABR_STRATEGY_BOLA)return k[e]=!0;if(n===a.default.ABR_STRATEGY_THROUGHPUT)return k[e]=!1;var r=O.getStableBufferTime(),i=r,o=.5*r,s=k[e],u=(s?o:i)<t;(k[e]=u)!==s&&(u?c.info("["+e+"] switching from throughput to buffer occupancy ABR rule (buffer: "+t.toFixed(3)+")."):c.info("["+e+"] switching from buffer occupancy to throughput ABR rule (buffer: "+t.toFixed(3)+")."))}(e.mediaType,.001*e.value.level)}function V(e,t){return S[t]=S[t]||{},S[t].hasOwnProperty(e)||(S[t][e]=0),function(e,t){if(t!==a.default.VIDEO||!G.get().streaming.abr.limitBitrateByPortal||!I[t])return e;M||ne();var n=C.getAdaptationForType(0,t).Representation,r=e;if(0<w&&0<D){for(;0<r&&n[r]&&w<n[r].width&&w-n[r-1].width<n[r].width-w;)--r;for(;r<n.length-1&&n[r].width===n[r+1].width;)r+=1}return r}(function(e,t,n){var r=G.get().streaming.abr.maxRepresentationRatio[t];return isNaN(r)||1<=r||r<0?e:Math.min(e,Math.round(n*r))}(function(e,t){var n=e;if(!I[t])return n;var r=z(t);void 0!==r&&(n=Math.max(e,r));var i=j(t);return void 0!==i&&(n=Math.min(n,i)),n}(S[t][e],e),e,S[t][e]),e)}function j(e){var t,n=(t=e,G.get().streaming.abr.maxBitrate[t]);return-1<n?Z(I[e].getMediaInfo(),n):void 0}function z(e){var t,n=(t=e,G.get().streaming.abr.minBitrate[t]);if(-1<n){var r=I[e].getMediaInfo(),i=$(r),a=Z(r,n);return i[a]&&a<i.length-1&&i[a].bitrate<1e3*n&&a++,a}}function W(e,t,n,r){var i=t.id,a=te(e);(0,E.checkInteger)(n);var o=V(e,i);n!==a&&0<=n&&n<=o&&X(e,a,n,o,r)}function X(e,t,r,i,a){var o,s,u,l,d,h,p;e&&I[e]&&(s=(o=I[e].getStreamInfo())?o.id:null,G.get().debug.logLevel===v.default.LOG_LEVEL_DEBUG&&(u=B.getCurrentBufferLevel(e),c.info("["+e+"] switch from "+t+" to "+r+"/"+i+" (buffer: "+u+") "+(a?Ve()(a):"."))),d=e,p=r,A[h=s]=A[h]||{},A[h][d]=p,n.trigger(f.default.QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:o,oldQuality:t,newQuality:r,reason:a}),l=U.getAverageThroughput(e),isNaN(l)||L.setSavedBitrateSettings(e,l))}function Q(e,t){R[e].state=t}function Z(e,t,n){var r=e&&e.type?I[e.type].getRepresentationInfo():null;if(G.get().streaming.abr.useDeadTimeLatency&&n&&r&&r.fragmentDuration){n/=1e3;var i=r.fragmentDuration;if(i<n)return 0;t*=1-n/i}for(var a=$(e),o=a.length-1;0<=o;o--)if(1e3*t>=a[o].bitrate)return o;return 0}function $(e){var t=[];if(!e||!e.bitrateList)return t;for(var n=e.bitrateList,r=e.type,i=void 0,a=0,o=n.length;a<o;a++)(i=new s.default).mediaType=r,i.qualityIndex=a,i.bitrate=n[a].bandwidth,i.width=n[a].width,i.height=n[a].height,i.scanType=n[a].scanType,t.push(i);return t}function ee(e){return k[e]}function te(e){if(e&&I[e]){var t=I[e].getStreamInfo(),n=t?t.id:null;if(n)return A[n]=A[n]||{},A[n].hasOwnProperty(e)||(A[n][e]=0),A[n][e]}return 0}function ne(){var e;N&&(e=G.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1,w=N.getClientWidth()*e,D=N.getClientHeight()*e)}function re(t){var n=t.request.mediaType;if(G.get().streaming.abr.autoSwitchBitrate[n]){var i=I[n];if(!i)return;var a,s=(0,d.default)(e).create({abrController:r,streamProcessor:i,currentRequest:t.request,useBufferOccupancyABR:ee(n)}),l=y.shouldAbandonFragment(s);l.quality>h.default.NO_CHANGE&&(a=i.getFragmentModel()).getRequests({state:u.default.FRAGMENT_MODEL_LOADING,index:t.request.index})[0]&&(a.abortRequests(),Q(n,o.default.ABANDON_LOAD),P[n].reset(),P[n].push({oldValue:te(n),newValue:l.quality,confidence:1,reason:l.reason}),W(n,T.getActiveStreamInfo(),l.quality,l.reason),clearTimeout(b),b=J()((function(){Q(n,o.default.ALLOW_LOAD),b=null}),G.get().streaming.abandonLoadTimeout))}}return r={isPlayingAtTopQuality:function(e){var t=e?e.id:null,n=te(a.default.AUDIO),r=te(a.default.VIDEO);return n===V(a.default.AUDIO,t)&&r===V(a.default.VIDEO,t)},updateTopQualityIndex:function(e){if(e){var t=e.type,n=e.streamInfo.id,r=e.representationCount-1;return i=t,o=r,S[a=n]=S[a]||{},S[a][i]=o,r}var i,a,o},getThroughputHistory:function(){return U},getBitrateList:$,getQualityForBitrate:Z,getTopBitrateInfoFor:function(e){if(e&&I&&I[e]){var t=I[e].getStreamInfo();if(t&&t.id){var n=V(e,t.id),r=$(I[e].getMediaInfo());return r[n]?r[n]:null}}return null},getMaxAllowedIndexFor:j,getMinAllowedIndexFor:z,getInitialBitrateFor:function(e){if(function(){if(!L||!L.hasOwnProperty("getSavedBitrateSettings"))throw new Error(a.default.MISSING_CONFIG_ERROR)}(),e===a.default.TEXT||e===a.default.FRAGMENTED_TEXT)return NaN;var t,n=L.getSavedBitrateSettings(e),r=G.get().streaming.abr.initialBitrate[e],i=G.get().streaming.abr.initialRepresentationRatio[e];return-1===r&&(r=-1<i?(t=C.getAdaptationForType(0,e).Representation,Ne()(t)?t[Math.max(Math.round(t.length*i)-1,0)].bandwidth:0):isNaN(n)?e===a.default.VIDEO?1e3:100:n),r},getQualityFor:te,getAbandonmentStateFor:function(e){return R[e]?R[e].state:null},setPlaybackQuality:W,checkPlaybackQuality:function(t){var n,i,a,s,u,l,f,p,g,m;t&&I&&I[t]&&(i=(n=I[t].getStreamInfo())?n.id:null,a=te(t),s=(0,d.default)(e).create({abrController:r,streamProcessor:I[t],currentValue:a,switchHistory:P[t],droppedFramesHistory:F,useBufferOccupancyABR:ee(t)}),!F||(u=N.getPlaybackQuality())&&F.push(x,u),G.get().streaming.abr.autoSwitchBitrate[t]&&(l=z(t),f=V(t,i),g=(p=y.getMaxQuality(s)).quality,void 0!==l&&(g>h.default.NO_CHANGE?g:a)<l&&(g=l),f<g&&(g=f),P[t].push({oldValue:a,newValue:g}),g>h.default.NO_CHANGE&&g!=a?(R[t].state===o.default.ALLOW_LOAD||a<g)&&X(t,a,g,f,p.reason):G.get().debug.logLevel===v.default.LOG_LEVEL_DEBUG&&(m=B.getCurrentBufferLevel(t),c.debug("["+t+"] stay on "+a+"/"+f+" (buffer: "+m+")"))))},getTopQualityIndexFor:V,setElementSize:ne,setWindowResizeEventCalled:function(e){M=e},createAbrRulesCollection:q,registerStreamType:function(t,r){P[t]=P[t]||(0,p.default)(e).create(),I[t]=r,R[t]=R[t]||{},R[t].state=o.default.ALLOW_LOAD,k[t]=!1,n.on(f.default.LOADING_PROGRESS,re,this),t==a.default.VIDEO&&(n.on(f.default.QUALITY_CHANGE_RENDERED,K,this),F=F||(0,g.default)(e).create(),ne()),n.on(f.default.METRIC_ADDED,H,this),n.on(f.default.PERIOD_SWITCH_COMPLETED,q,this),U=U||(0,m.default)(e).create({settings:G})},unRegisterStreamType:function(e){delete I[e]},setConfig:function(e){e&&(e.streamController&&(T=e.streamController),e.domStorage&&(L=e.domStorage),e.mediaPlayerModel&&(O=e.mediaPlayerModel),e.dashMetrics&&(B=e.dashMetrics),e.adapter&&(C=e.adapter),e.videoModel&&(N=e.videoModel),e.settings&&(G=e.settings))},reset:function(){Y(),n.off(f.default.LOADING_PROGRESS,re,this),n.off(f.default.QUALITY_CHANGE_RENDERED,K,this),n.off(f.default.METRIC_ADDED,H,this),n.off(f.default.PERIOD_SWITCH_COMPLETED,q,this),y&&y.reset()}},c=t.getLogger(r),Y(),r}y.__dashjs_factory_name="AbrController";var T=c.default.getSingletonFactory(y);T.QUALITY_DEFAULT=0,c.default.updateSingletonFactory(y.__dashjs_factory_name,T),n.default=T,t.exports=n.default},{108:108,109:109,149:149,184:184,185:185,186:186,187:187,188:188,189:189,218:218,224:224,241:241,45:45,46:46,47:47,54:54}],112:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(147)),a=r(e(205)),o=r(e(220)),s=r(e(85)),u=r(e(47)),l=r(e(46)),f=r(e(54));function c(){var e,t=void 0,n=this.context,r=(0,l.default)(n).getInstance(),u=(0,o.default)(n).getInstance(),c=void 0,d=void 0;return e={reset:function(){c.reset(),d.reset()},initialize:function(e){var n;c.setConfig({adapter:t}),n=e,c.update(n),d.chooseSelector(t.getIsDVB(n))},resolve:function(e){var t,n=B()(t=c.getForPath(e)).call(t,(function(e,t){var n=d.select(t);return n?(u.isRelative(n.url)?e.url=u.resolve(n.url,e.url):(e.url=n.url,e.serviceLocation=n.serviceLocation),e.availabilityTimeOffset=n.availabilityTimeOffset,e.availabilityTimeComplete=n.availabilityTimeComplete,e):new s.default}),new s.default);if(!u.isRelative(n.url))return n},setConfig:function(e){e.baseURLTreeModel&&(c=e.baseURLTreeModel),e.baseURLSelector&&(d=e.baseURLSelector),e.adapter&&(t=e.adapter)}},c=(0,i.default)(n).create(),d=(0,a.default)(n).create(),r.on(f.default.SERVICE_LOCATION_BLACKLIST_CHANGED,(function(e){c.invalidateSelectedIndexes(e.entry)}),e),e}c.__dashjs_factory_name="BaseURLController",n.default=u.default.getClassFactory(c),t.exports=n.default},{147:147,205:205,220:220,46:46,47:47,54:54,85:85}],113:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(46));function o(e){e=e||{};var t=[],n=(0,a.default)(this.context).getInstance(),r=e.updateEventName,i=e.addBlacklistEventName;function o(e){-1===Ue()(t).call(t,e)&&(t.push(e),n.trigger(r,{entry:e}))}function s(e){o(e.entry)}return function(){i&&n.on(i,s,this)}(),{add:o,contains:function(e){return!!(t.length&&e&&e.length)&&-1!==Ue()(t).call(t,e)},reset:function(){t=[]}}}o.__dashjs_factory_name="BlackListController",n.default=i.default.getClassFactory(o),t.exports=n.default},{46:46,47:47}],114:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(109)),o=r(e(149)),s=r(e(104)),u=r(e(103)),l=r(e(111)),f=r(e(117)),c=r(e(46)),d=r(e(54)),h=r(e(47)),p=r(e(45)),g=r(e(213)),m=r(e(225)),v=r(e(51)),_=e(241),E="BufferController";function y(e){e=e||{};var t=this.context,n=(0,c.default)(t).getInstance(),r=e.errHandler,h=e.fragmentModel,y=e.representationController,T=e.mediaController,S=e.adapter,A=e.textController,I=e.abrController,R=e.playbackController,b=e.streamInfo,M=e.type,w=e.settings,D=void 0,C=void 0,N=void 0,O=void 0,L=void 0,x=void 0,P=void 0,F=void 0,U=void 0,k=void 0,B=void 0,G=void 0,q=void 0,Y=void 0,K=void 0,H=void 0,V=void 0,j=void 0,z=void 0,W=void 0,X=void 0,Q=void 0;function Z(e,n){if(!V||!e)return null;var i=e[0];if(P)try{"function"==typeof(k=n&&n[M]?(0,s.default)(t).create(P,i,le()(ne).call(ne,this),w.get().streaming.useAppendWindowEnd,n[M]):(0,s.default)(t).create(P,i,le()(ne).call(ne,this),w.get().streaming.useAppendWindowEnd)).getBuffer().initialize&&k.getBuffer().initialize(M,b,e,h)}catch(e){C.fatal("Caught error on create SourceBuffer: "+e),r.error(new m.default(v.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,v.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+M))}else k=(0,u.default)(t).create(le()(ne).call(ne,this));return ye(this.getRepresentationInfo(N)),k}function $(e){e.chunk.streamId===b.id&&e.chunk.mediaInfo.type===M&&(C.info("Init fragment finished loading saving to",M+"'s init cache"),V.save(e.chunk),C.debug("Append Init fragment",M," with representationId:",e.chunk.representationId," and quality:",e.chunk.quality,", data size:",e.chunk.bytes.byteLength),ee(e.chunk))}function J(e){var t,n=e.chunk;n.streamId===b.id&&n.mediaInfo.type==M&&(X?(Q=n,(t=k&&k.getAllBufferRanges())&&0<t.length&&.5<R.getTimeToStreamEnd()&&(C.debug("Clearing buffer because track changed - "+(t.end(t.length-1)+.5)),ve([{start:0,end:t.end(t.length-1)+.5,force:!0}]))):ee(n))}function ee(e){k.append(e),e.mediaInfo.type===i.default.VIDEO&&De(d.default.VIDEO_CHUNK_RECEIVED,{chunk:e})}function te(e){if(e&&0<e.length)for(var t=0,n=e.length;t<n;t++)C.debug("Buffered Range",e.start(t)," - ",e.end(t)," currentTime = ",R.getTime())}function ne(e){var t,n,r;if(e.error)return 22===e.error.code&&(H=!0,x=.8*Me(),C.warn("Quota exceeded, Critical Buffer: "+x),0<x&&(t=Math.max(.2*x,1),n=x-t,r={streaming:{bufferToKeep:ae()(t.toFixed(5)),bufferAheadToKeep:ae()(n.toFixed(5))}},w.update(r))),void(22!==e.error.code&&we()||(C.warn("Clearing playback buffer to overcome quota exceed situation"),De(d.default.QUOTA_EXCEEDED,{criticalBufferLevel:x}),se()));H=!1,(q=e.chunk)&&!isNaN(q.index)&&(F=Math.max(q.index,F),pe());var i,a=k.getAllBufferRanges();q.segmentType===_.HTTPRequest.MEDIA_SEGMENT_TYPE?(te(a),ue(),!isNaN(j)&&(0===R.getTime()||R.getTime()<a.start(0))&&(R.seek(a.start(0),!0,!0),j=NaN)):X&&(i=R.getTime(),C.debug("AppendToBuffer seek target should be "+i),De(d.default.SEEK_TARGET,{time:i})),q&&De(q.endFragment?d.default.BYTES_APPENDED_END_FRAGMENT:d.default.BYTES_APPENDED,{quality:q.quality,startTime:q.start,index:q.index,bufferedRanges:a})}function re(e){e.streamInfo.id==b.id&&e.mediaType===M&&N!==e.newQuality&&(ye(this.getRepresentationInfo(e.newQuality)),N=e.newQuality)}function ie(e){j=e.seekTime,O&&(O=!(z=!0),U=Number.POSITIVE_INFINITY),(M!==i.default.FRAGMENTED_TEXT?se:ue)()}function oe(){j=NaN}function se(){k.waitForUpdateEnd((function(){var e=function(){var e=[],t=k.getAllBufferRanges();if(!t||0===t.length)return e;var n,r,i,a,s=R.getTime(),u=t.end(t.length-1)+.5,l=h.getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:s,threshold:.01})[0];return l?(n={start:0,end:l.startTime-.5},(r=h.getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:l.startTime-l.duration/2,threshold:.01})[0])&&r.startTime!=l.startTime&&(n.end=r.startTime),n.start<n.end&&n.end>t.start(0)&&e.push(n),i={start:l.startTime+l.duration+.5,end:u},(a=h.getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:l.startTime+l.duration+.5,threshold:.01})[0])&&a.startTime!==l.startTime&&(i.start=a.startTime+a.duration+.5),i.start<i.end&&i.start<u&&e.push(i)):(C.debug("getAllRangesWithSafetyFactor - No request found in current time position, removing full buffer 0 -",u),e.push({start:0,end:u})),e}();e&&0!==e.length||ue(),ve(e)}))}function ue(){(!X||M===i.default.FRAGMENTED_TEXT&&A.isTextEnabled())&&he()}function fe(){ge()}function ce(){j=NaN,ge()}function de(e,t){var n,r,i,a=k.getAllBufferRanges(),o=null,s=null,u=0,l=void 0,f=t||.15;if(null!=a){for(l=0,i=a.length;l<i;l++)if(n=a.start(l),r=a.end(l),null===o)u=Math.abs(n-e),(n<=e&&e<r||u<=f)&&(o=n,s=r);else{if(!((u=n-s)<=f))break;s=r}if(null!==o)return{start:o,end:s}}return null}function he(){var e,t;R&&(e=(isNaN(j)?R.getTime():j)||0,void 0,L=null===(t=de(e,void 0))?0:t.end-e,De(d.default.BUFFER_LEVEL_UPDATED,{bufferLevel:L}),ge())}function pe(){U-1<=F&&!O&&void 0===k.discharge&&(O=!0,C.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),De(d.default.BUFFERING_COMPLETED))}function ge(){M!==i.default.AUDIO&&M!==i.default.VIDEO||(z&&!O&&0<L&&R&&R.getTimeToStreamEnd()-L<.5&&(O=!(z=!1),C.debug("checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),De(d.default.BUFFERING_COMPLETED)),(!w.get().streaming.lowLatencyEnabled&&L<.5||0===L)&&!O?me(a.default.BUFFER_EMPTY):(O||L>=b.manifestInfo.minBufferTime)&&me(a.default.BUFFER_LOADED))}function me(e){G===e||e===a.default.BUFFER_EMPTY&&0===R.getTime()||M===i.default.FRAGMENTED_TEXT&&!A.isTextEnabled()||(G=e,De(d.default.BUFFER_LEVEL_STATE_CHANGED,{state:e}),De(e===a.default.BUFFER_LOADED?d.default.BUFFER_LOADED:d.default.BUFFER_EMPTY),C.debug(e===a.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function ve(e){e&&k&&0!==e.length&&(W.push.apply(W,e),K||_e())}function _e(){if(0===W.length||!k)return C.debug("Nothing to prune, halt pruning"),void(K=!(W=[]));var e=k.getBuffer();if(!e||!e.buffered||0===e.buffered.length)return C.debug("SourceBuffer is empty (or does not exist), halt pruning"),void(K=!(W=[]));var t=W.shift();C.debug("Removing buffer from:",t.start,"to",t.end),K=!0;var n=R.getTime();n<t.end&&(O=!1,F=0,X||De(d.default.SEEK_TARGET,{time:n})),k.remove(t.start,t.end,t.force)}function Ee(e){k===e.buffer&&(C.debug("onRemoved buffer from:",e.from,"to",e.to),te(k.getAllBufferRanges()),0===W.length&&(K=!1),e.unintended&&(C.warn("Detected unintended removal from:",e.from,"to",e.to,"setting index handler time to",e.from),De(d.default.SEEK_TARGET,{time:e.from})),K?_e():(X?(X=!1,Q&&ee(Q)):(C.debug("onRemoved : call updateBufferLevel"),he()),De(d.default.BUFFER_CLEARED,{from:e.from,to:e.to,unintended:e.unintended,hasEnoughSpaceToAppend:we(),quotaExceeded:H})))}function ye(e){e&&void 0!==e.MSETimeOffset&&k&&k.updateTimestampOffset&&k.updateTimestampOffset(e.MSETimeOffset)}function Te(e){e.sender.getStreamId()===b.id&&e.sender.getType()===M&&(e.error||ye(e.currentRepresentation))}function Se(e){e.request.mediaInfo.streamInfo.id===b.id&&e.request.mediaType===M&&(U=e.request.index,pe())}function Ae(e){var t;e.newMediaInfo.streamInfo.id!==b.id||e.newMediaInfo.type!==M||(t=k&&k.getAllBufferRanges())&&(C.info("Track change asked"),T.getSwitchMode(M)===f.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&t&&0<t.length&&.5<R.getTimeToStreamEnd()&&(O=!1,U=Number.POSITIVE_INFINITY))}function Ie(){++Y*(w.get().streaming.wallclockTimeUpdateInterval/1e3)>=w.get().streaming.bufferPruningInterval&&(Y=0,k&&M!==i.default.FRAGMENTED_TEXT&&(O||ve(function(){var e=[],t=k.getAllBufferRanges();if(!t||0===t.length)return e;var n,r=R.getTime(),i={start:Math.max(0,r-w.get().streaming.bufferToKeep),end:r+w.get().streaming.bufferAheadToKeep},a=h.getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:r,threshold:.01})[0];if(a)i.start=Math.min(a.startTime,i.start),i.end=Math.max(a.startTime+a.duration,i.end);else if(0===r&&R.getIsDynamic())return[];if(t.start(0)<=i.start){for(var s={start:0,end:i.start},u=0;u<t.length&&t.end(u)<=i.start;u++)s.end=t.end(u);s.start<s.end&&e.push(s)}return t.end(t.length-1)>=i.end&&(n={start:i.end,end:t.end(t.length-1)+.01}).start<n.end&&e.push(n),e}())))}function Re(){ge()}function be(e,t){P=e,k&&t&&"function"==typeof k.discharge&&(B=k,Z(t))}function Me(){var e,t=k.getAllBufferRanges(),n=0,r=void 0;if(!t)return n;for(r=0,e=t.length;r<e;r++)n+=t.end(r)-t.start(r);return n}function we(){return Me()<x}function De(e,t){var r=t||{};r.sender=D,r.mediaType=M,r.streamId=b.id,n.trigger(e,r)}function Ce(e,t){x=Number.POSITIVE_INFINITY,G=void 0,N=l.default.QUALITY_DEFAULT,U=Number.POSITIVE_INFINITY,q=null,z=H=K=O=!1,Y=L=F=0,W=[],j=NaN,k&&(e||k.abort(),k.reset(t),k=null),X=!1}return D={getBufferControllerType:function(){return E},getRepresentationInfo:function(e){return S.convertDataToRepresentationInfo(y.getRepresentationForQuality(e))},initialize:function(e){be(e),N=I.getQualityFor(M),n.on(d.default.DATA_UPDATE_COMPLETED,Te,this),n.on(d.default.INIT_FRAGMENT_LOADED,$,this),n.on(d.default.MEDIA_FRAGMENT_LOADED,J,this),n.on(d.default.QUALITY_CHANGE_REQUESTED,re,this),n.on(d.default.STREAM_COMPLETED,Se,this),n.on(d.default.PLAYBACK_PLAYING,ce,this),n.on(d.default.PLAYBACK_PROGRESS,ue,this),n.on(d.default.PLAYBACK_TIME_UPDATED,ue,this),n.on(d.default.PLAYBACK_RATE_CHANGED,Re,this),n.on(d.default.PLAYBACK_SEEKING,ie,this),n.on(d.default.PLAYBACK_SEEKED,oe,this),n.on(d.default.PLAYBACK_STALLED,fe,this),n.on(d.default.WALLCLOCK_TIME_UPDATED,Ie,this),n.on(d.default.CURRENT_TRACK_CHANGED,Ae,this,c.default.EVENT_PRIORITY_HIGH),n.on(d.default.SOURCEBUFFER_REMOVE_COMPLETED,Ee,this)},createBuffer:Z,dischargePreBuffer:function(){if(k&&B&&"function"==typeof B.discharge){var e=B.getAllBufferRanges();if(0<e.length){for(var t="Beginning "+M+"PreBuffer discharge, adding buffer for:",n=0;n<e.length;n++)t+=" start: "+e.start(n)+", end: "+e.end(n)+";";C.debug(t)}else C.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var r=B.discharge(),i=null,a=0;a<r.length;a++){var o=r[a],s=V.extract(o.streamId,o.representationId);s&&(i!==s&&(k.append(s),i=s),k.append(o))}B.reset(),B=null}},getType:function(){return M},getBuffer:function(){return k},setBuffer:function(e){k=e},getBufferLevel:function(){return L},getRangeAt:de,setMediaSource:be,getMediaSource:function(){return P},appendInitSegment:function(e){var t=V.extract(b.id,e);return!!t&&(C.info("Append Init fragment",M," with representationId:",t.representationId," and quality:",t.quality,", data size:",t.bytes.byteLength),ee(t),!0)},replaceBuffer:function(){X=!0},getIsBufferingCompleted:function(){return O},getIsPruningInProgress:function(){return K},reset:function(e,t){n.off(d.default.DATA_UPDATE_COMPLETED,Te,this),n.off(d.default.INIT_FRAGMENT_LOADED,$,this),n.off(d.default.MEDIA_FRAGMENT_LOADED,J,this),n.off(d.default.QUALITY_CHANGE_REQUESTED,re,this),n.off(d.default.STREAM_COMPLETED,Se,this),n.off(d.default.PLAYBACK_PLAYING,ce,this),n.off(d.default.PLAYBACK_PROGRESS,ue,this),n.off(d.default.PLAYBACK_TIME_UPDATED,ue,this),n.off(d.default.PLAYBACK_RATE_CHANGED,Re,this),n.off(d.default.PLAYBACK_SEEKING,ie,this),n.off(d.default.PLAYBACK_SEEKED,oe,this),n.off(d.default.PLAYBACK_STALLED,fe,this),n.off(d.default.WALLCLOCK_TIME_UPDATED,Ie,this),n.off(d.default.CURRENT_TRACK_CHANGED,Ae,this),n.off(d.default.SOURCEBUFFER_REMOVE_COMPLETED,Ee,this),Ce(e,t)}},C=(0,p.default)(t).getInstance().getLogger(D),V=(0,g.default)(t).getInstance(),Ce(),D}y.__dashjs_factory_name=E,n.default=h.default.getClassFactory(y),t.exports=n.default},{103:103,104:104,108:108,109:109,111:111,117:117,149:149,213:213,225:225,241:241,45:45,46:46,47:47,51:51,54:54}],115:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(45)),o=r(e(46)),s=r(e(54)),u=r(e(159));function l(){var e,t="urn:mpeg:dash:event:2012",n=this.context,r=(0,o.default)(n).getInstance(),i=void 0,l=void 0,f=void 0,c=void 0,d=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0;function _(){if(!p||!g)throw new Error("setConfig function has to be called previously")}function y(){v=!1,l={},f={},d=null,m=!(c={}),h=E()()/1e3}function T(){try{var e,t;m||(t=(e=g.getTime())-h,t=0<h?Math.max(0,t):0,S(f,t,e),S(l,t,e),function(){try{if(c)for(var e=g.getTime(),t=ce()(c),n=0;n<t.length;n++){var r=t[n],a=c[r];null!==a&&(a.duration+a.calculatedPresentationTime)/a.eventStream.timescale<e&&(i.debug("Remove Event "+r+" at time "+e),a=null,delete c[r])}}catch(e){}}(),h=e),m=!1}catch(e){m=!1}}function S(e,t,n){try{if(e)for(var r=ce()(e),a=0;a<r.length;a++){var o,s=r[a],u=e[s];void 0!==u&&((o=u.calculatedPresentationTime/u.eventStream.timescale)<=n&&n<=o+t?I(s,u,e):(function(e,t,n){try{return n<e-t}catch(e){return!1}}(n,t,o)||function(e){try{var t=e.eventStream.period.start+e.eventStream.period.duration;return e.calculatedPresentationTime/1e3>t}catch(e){return!1}}(u))&&(i.debug("Deleting event "+s+" as it is expired or invalid"),delete e[s]))}}catch(e){}}function A(e){try{var t=function(){var t=ce()(e),n=g.getTime();if(!t||0===t.length)return{v:void 0};var r=e[t[0]].eventStream&&e[t[0]].eventStream.period&&!isNaN(e[t[0]].eventStream.period.duration)?e[t[0]].eventStream.period.duration:NaN,i=e[t[0]].eventStream&&e[t[0]].eventStream.period&&!isNaN(e[t[0]].eventStream.period.start)?e[t[0]].eventStream.period.start:NaN;if(isNaN(r)||isNaN(i))return{v:void 0};q()(t).call(t,(function(t){var r=e[t],i=r.calculatedPresentationTime/r.eventStream.timescale;Math.abs(i-n)<300&&I(t,r,e)}))}();if("object"==Le()(t))return t.v}catch(t){}}function I(e,a,o){try{var s=g.getTime();0<a.duration&&(c[e]=a),a.eventStream.schemeIdUri===t&&1==a.eventStream.value?0===a.duration&&0===a.presentationTimeDelta||(i.debug("Starting manifest refresh event "+e+" at "+s),function(){try{_(),p.refreshManifest()}catch(e){}}()):"urn:mpeg:dash:event:callback:2015"===a.eventStream.schemeIdUri&&1==a.eventStream.value?(i.debug("Starting callback event "+e+" at "+s),function(e){try{(0,u.default)(n).create({}).load({method:"get",url:e,request:{responseType:"arraybuffer"}})}catch(e){throw e}}(a.messageData)):(i.debug("Starting event "+e+" at "+s),r.trigger(a.eventStream.schemeIdUri,{event:a})),delete o[e]}catch(e){}}return e={addInlineEvents:function(e){try{if(_(),e)for(var t=0;t<e.length;t++){var n=e[t];l[n.id]=n,i.debug("Add inline event with id "+n.id)}i.debug("Added "+e.length+" inline events")}catch(e){throw e}},addInbandEvents:function(e){try{_();for(var n=0;n<e.length;n++){var a=e[n];a.id in f?i.debug("Repeated event with id "+a.id):(a.eventStream.schemeIdUri===t&&void 0===f[a.id]&&function(e){try{var t,n,a;1==e.eventStream.value&&(t=e.eventStream.timescale||1,n=e.calculatedPresentationTime/t,void 0,a=4294967295==e.calculatedPresentationTime?NaN:(e.calculatedPresentationTime+e.duration)/t,i.info("Manifest validity changed: Valid until: "+n+"; remaining duration: "+a),r.trigger(s.default.MANIFEST_VALIDITY_CHANGED,{id:e.id,validUntil:n,newDuration:a,newManifestValidAfter:NaN}))}catch(e){}}(a),f[a.id]=a,i.debug("Add inband event with id "+a.id))}T()}catch(e){throw e}},start:function(){try{_(),i.debug("Start Event Controller"),v||isNaN(100)||(v=!0,d=U()(T,100))}catch(e){throw e}},setConfig:function(e){try{if(!e)return;e.manifestUpdater&&(p=e.manifestUpdater),e.playbackController&&(g=e.playbackController)}catch(e){throw e}},reset:function(){(function(){try{null!==d&&v&&(clearInterval(d),d=null,v=!1,function(){try{A(f),A(l)}catch(e){}}())}catch(e){throw e}})(),y()}},i=(0,a.default)(n).getInstance().getLogger(e),y(),e}l.__dashjs_factory_name="EventController",n.default=i.default.getSingletonFactory(l),t.exports=n.default},{159:159,45:45,46:46,47:47,54:54}],116:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(226)),o=r(e(149)),s=r(e(97)),u=r(e(217)),l=r(e(46)),f=r(e(54)),c=r(e(51)),d=r(e(47)),h=r(e(45));function p(e){e=e||{};var t,n=this.context,r=(0,l.default)(n).getInstance(),d=e.errHandler,p=e.mediaPlayerModel,g=e.dashMetrics,m=(0,h.default)(n).getInstance(),v=void 0,_=void 0;function E(){for(var e in _)_[e].reset();_={}}function y(e){var t,n,o,s,u,l,c,d,h,p;e.sender&&(t=e.request,n=e.response,o=t.isInitializationRequest(),s=t.mediaInfo.streamInfo,e.error&&(e.request.mediaType!==i.default.AUDIO&&e.request.mediaType!==i.default.VIDEO&&e.request.mediaType!==i.default.FRAGMENTED_TEXT||r.trigger(f.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:e.request.serviceLocation})),n&&s?(l=n,c=t,d=s.id,h=e.type!==f.default.FRAGMENT_LOADING_PROGRESS,(p=new a.default).streamId=d,p.mediaInfo=c.mediaInfo,p.segmentType=c.type,p.start=c.startTime,p.duration=c.duration,p.end=p.start+p.duration,p.bytes=l,p.index=c.index,p.quality=c.quality,p.representationId=c.representationId,p.endFragment=h,u=p,r.trigger(o?f.default.INIT_FRAGMENT_LOADED:f.default.MEDIA_FRAGMENT_LOADED,{chunk:u,request:t})):v.warn("No "+t.mediaType+" bytes to push or stream is inactive."))}return t={getModel:function(t,i){var a=_[i];return a||(a=(0,o.default)(n).create({streamId:t,dashMetrics:g,fragmentLoader:(0,s.default)(n).create({dashMetrics:g,mediaPlayerModel:p,errHandler:d,requestModifier:(0,u.default)(n).getInstance(),settings:e.settings,boxParser:e.boxParser,eventBus:r,events:f.default,errors:c.default,dashConstants:e.dashConstants,urlUtils:e.urlUtils}),debug:m,eventBus:r,events:f.default}),_[i]=a),a},reset:function(){r.off(f.default.FRAGMENT_LOADING_COMPLETED,y,this),r.off(f.default.FRAGMENT_LOADING_PROGRESS,y,this),E()}},v=m.getLogger(t),E(),r.on(f.default.FRAGMENT_LOADING_COMPLETED,y,t),r.on(f.default.FRAGMENT_LOADING_PROGRESS,y,t),t}p.__dashjs_factory_name="FragmentController",n.default=d.default.getClassFactory(p),t.exports=n.default},{108:108,149:149,217:217,226:226,45:45,46:46,47:47,51:51,54:54,97:97}],117:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(54)),o=r(e(46)),s=r(e(47)),u=r(e(45)),l="neverReplace",f="alwaysReplace",c="highestBitrate",d="widestRange",h=c;function p(){var e,t=this.context,n=(0,o.default)(t).getInstance(),r=void 0,s=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=[f,l],E=[c,d];function y(e,t){if(!e||!t)return[];var n=t.id;return s[n]&&s[n][e]?s[n][e].list:[]}function T(e,t){return!e||!t||t&&!s[t.id]?null:s[t.id][e].current}function S(e){var t,r,i,o,u,l,f;e&&e.streamInfo&&(t=e.type,i=(r=e.streamInfo).id,o=T(t,r),s[i]&&s[i][t]&&!M(e,o)&&(s[i][t].current=e,s[i][t].current&&n.trigger(a.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:o,newMediaInfo:e,switchMode:m[t]}),(u=(f={lang:(l=e).lang,viewpoint:l.viewpoint,roles:l.roles,accessibility:l.accessibility,audioChannelConfiguration:l.audioChannelConfiguration}).lang||f.viewpoint||f.role&&0<f.role.length||f.accessibility&&0<f.accessibility.length||f.audioChannelConfiguration&&0<f.audioChannelConfiguration.length?f:null)&&s[i][t].storeLastSettings&&(u.roles&&(u.role=u.roles[0],delete u.roles),u.accessibility&&(u.accessibility=u.accessibility[0]),u.audioChannelConfiguration&&(u.audioChannelConfiguration=u.audioChannelConfiguration[0]),v.setSavedMediaSettings(t,u))))}function A(e,t){e&&t&&(p[e]=t)}function I(e){return e?p[e]:null}function R(){return g||h}function b(e){return e===i.default.AUDIO||e===i.default.VIDEO||e===i.default.TEXT||e===i.default.FRAGMENTED_TEXT||e===i.default.IMAGE}function M(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var n=e.id===t.id,r=e.viewpoint===t.viewpoint,i=e.lang===t.lang,a=e.roles.toString()===t.roles.toString(),o=e.accessibility.toString()===t.accessibility.toString(),s=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return n&&r&&i&&a&&o&&s}function w(){s={},p={audio:null,video:null},m={audio:f,video:l}}function D(e,t){var n,r,i,a=!e.lang||t.lang.match(e.lang),o=!e.viewpoint||e.viewpoint===t.viewpoint,s=!e.role||!!K()(n=t.roles).call(n,(function(t){return t===e.role}))[0],u=!e.accessibility||!!K()(r=t.accessibility).call(r,(function(t){return t===e.accessibility}))[0],l=!e.audioChannelConfiguration||!!K()(i=t.audioChannelConfiguration).call(i,(function(t){return t===e.audioChannelConfiguration}))[0];return a&&o&&s&&u&&l}function C(e){function t(e){var t,n=0,r=[];return q()(e).call(e,(function(e){var i;t=Math.max.apply(Math,te()(i=e.bitrateList).call(i,(function(e){return e.bandwidth}))),n<t?(n=t,r=[e]):t===n&&r.push(e)})),r}function n(e){var t,n=0,r=[];return q()(e).call(e,(function(e){t=e.representationCount,n<t?(n=t,r=[e]):t===n&&r.push(e)})),r}var i=R(),a=[];switch(i){case c:1<(a=t(e)).length&&(a=n(a));break;case d:1<(a=n(e)).length&&(a=t(e));break;default:r.warn("Track selection mode is not supported: "+i)}return a[0]}return e={checkInitialMediaSettingsForType:function(e,t){var n=I(e),r=y(e,t),a=[];e!==i.default.FRAGMENTED_TEXT?(n||A(e,n=v.getSavedMediaSettings(e)),r&&0!==r.length&&(n&&q()(r).call(r,(function(e){D(n,e)&&a.push(e)})),0===a.length?S(C(r)):1<a.length?S(C(a)):S(a[0]))):S(r[0])},addTrack:function(e){if(e){var t=e.type;if(b(t)){var n=e.streamInfo.id;s[n]||(s[n]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var r=s[n][t].list,i=0,a=r.length;i<a;++i)if(M(r[i],e))return;r.push(e);var o=I(t);o&&D(o,e)&&!T(t,e.streamInfo)&&S(e)}}},getTracksFor:y,getCurrentTrackFor:T,isCurrentTrack:function(e){if(!e)return!1;var t=e.type,n=e.streamInfo.id;return s[n]&&s[n][t]&&M(s[n][t].current,e)},setTrack:S,setInitialSettings:A,getInitialSettings:I,setSwitchMode:function(e,t){-1!==Ue()(_).call(_,t)?m[e]=t:r.warn("Track switch mode is not supported: "+t)},getSwitchMode:function(e){return m[e]},setSelectionModeForInitialTrack:function(e){-1!==Ue()(E).call(E,e)?g=e:r.warn("Track selection mode is not supported: "+e)},getSelectionModeForInitialTrack:R,isMultiTrackSupportedByType:b,isTracksEqual:M,matchSettings:D,setConfig:function(e){e&&e.domStorage&&(v=e.domStorage)},reset:w},r=(0,u.default)(t).getInstance().getLogger(e),w(),e}p.__dashjs_factory_name="MediaController";var g=s.default.getSingletonFactory(p);g.TRACK_SWITCH_MODE_NEVER_REPLACE=l,g.TRACK_SWITCH_MODE_ALWAYS_REPLACE=f,g.TRACK_SELECTION_MODE_HIGHEST_BITRATE=c,g.TRACK_SELECTION_MODE_WIDEST_RANGE=d,g.DEFAULT_INIT_TRACK_SELECTION_MODE=h,s.default.updateSingletonFactory(p.__dashjs_factory_name,g),n.default=g,t.exports=n.default},{108:108,45:45,46:46,47:47,54:54}],118:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(45));function o(){var e,t=void 0,n=this.context;return e={createMediaSource:function(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null},attachMediaSource:function(e,t){var n=window.URL.createObjectURL(e);return t.setSource(n),n},detachMediaSource:function(e){e.setSource(null)},setDuration:function(e,t){return e.duration!=t&&(e.duration=t),e.duration},setSeekable:function(e,t,n){e&&"function"==typeof e.setLiveSeekableRange&&"function"==typeof e.clearLiveSeekableRange&&"open"===e.readyState&&0<=t&&t<n&&(e.clearLiveSeekableRange(),e.setLiveSeekableRange(t,n))},signalEndOfStream:function(e){if(e&&"open"===e.readyState){for(var n=e.sourceBuffers,r=0;r<n.length;r++){if(n[r].updating)return;if(0===n[r].buffered.length)return}t.info("call to mediaSource endOfStream"),e.endOfStream()}}},t=(0,a.default)(n).getInstance().getLogger(e),e}o.__dashjs_factory_name="MediaSourceController",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{45:45,47:47}],119:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(109)),o=r(e(46)),s=r(e(54)),u=r(e(47)),l=r(e(45));function f(){var e,t=this.context,n=(0,o.default)(t).getInstance(),r=void 0,u=void 0,f=void 0,c=void 0,d=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,y=void 0,T=void 0,S=void 0,A=void 0,I=void 0,R=void 0,b=void 0,M=void 0,w=void 0,D=void 0;function C(e){var t,i,a,o;p&&isNaN(g)||(t=g,isNaN(t)&&(y?(t=e.liveStartTime,(a=(i=f.getCurrentDVRInfo())?i.range:null)&&(o=j(_.start,!0),isNaN(o)||(r.info("Start time from URI parameters: "+o),t=Math.max(Math.min(t,o),a.start)))):(t=_.start,o=j(_.start,!1),!isNaN(o)&&o<t+_.duration&&(r.info("Start time from URI parameters: "+o),t=Math.max(t,o)))),isNaN(t)||t===d.getTime()||(n.trigger(s.default.PLAYBACK_SEEKING,{seekTime:t}),k(t,!1,!0)))}function N(){return ae()((O()-B()).toFixed(5))}function O(){return _.start+_.duration}function L(){_&&d&&d.getElement()?d.play():S=!0}function x(){return _&&d?d.isPaused():null}function P(){_&&d&&d.pause()}function F(){return _&&d?d.isSeeking():null}function k(e,t,i){_&&d&&(!0===i?e!==d.getTime()&&(d.removeEventListener("seeking",ne),r.info("Requesting internal seek to time: "+e),d.setCurrentTime(e,t)):(n.trigger(s.default.PLAYBACK_SEEK_ASKED),r.info("Requesting seek to time: "+e),d.setCurrentTime(e,t)))}function B(){return _&&d?d.getTime():null}function G(){var e,t=B();return!y||isNaN(I)||(e=I/1e3)<t&&(t-=e),t}function Y(){return _&&d?d.getPlaybackRate():null}function K(){return _&&d?d.getEnded():null}function H(){if(!y||isNaN(I))return NaN;var e=G();if(isNaN(e)||0===e)return 0;var t=(new Date).getTime()+1e3*h.getClientTimeOffset();return Math.max(((t-I-1e3*e)/1e3).toFixed(3),0)}function V(){p=S=!1,g=NaN,I=v=0,d&&(n.off(s.default.STREAM_INITIALIZED,C,this),n.off(s.default.DATA_UPDATE_COMPLETED,Q,this),n.off(s.default.BUFFER_LEVEL_STATE_CHANGED,ge,this),n.off(s.default.LOADING_PROGRESS,pe,this),n.off(s.default.PLAYBACK_PROGRESS,de,this),n.off(s.default.PLAYBACK_TIME_UPDATED,de,this),n.off(s.default.PLAYBACK_ENDED,fe,this),n.off(s.default.STREAM_INITIALIZING,ve,this),W(),d.removeEventListener("canplay",Z),d.removeEventListener("play",$),d.removeEventListener("waiting",J),d.removeEventListener("playing",ee),d.removeEventListener("pause",te),d.removeEventListener("error",ce),d.removeEventListener("seeking",ne),d.removeEventListener("seeked",re),d.removeEventListener("timeupdate",ie),d.removeEventListener("progress",oe),d.removeEventListener("ratechange",se),d.removeEventListener("loadedmetadata",ue),d.removeEventListener("stalled",me),d.removeEventListener("ended",le)),y=_=d=m=null}function j(e,t){var n,r=w.getURIFragmentData();return r&&r.t?(r.t=r.t.split(",")[0],t&&-1!==Ue()(n=r.t).call(n,"posix:")?Ee()(r.t.substring(6)):e+Ee()(r.t)):NaN}function z(){null===m&&(m=U()((function(){n.trigger(s.default.WALLCLOCK_TIME_UPDATED,{isDynamic:y,time:new Date}),y&&x()&&function(){var e=E()();(!A||A+500<e)&&(A=e,ie())}()}),D.get().streaming.wallclockTimeUpdateInterval))}function W(){clearInterval(m),m=null}function X(){var e,t,n,r,i;!x()&&y&&0!==d.getReadyState()&&(n=e=G(),t=(i=(r=f.getCurrentDVRInfo())?r.range:null)?n>i.end?Math.max(i.end-2*_.manifestInfo.minBufferTime,i.start):0<n&&n+.25<i.start&&Math.abs(n-i.start)<31536e4?i.start:n:NaN,isNaN(t)||t===e||k(t))}function Q(e){var t,n;e.error||null!==(n=(t=c.convertDataToRepresentationInfo(e.currentRepresentation))?t.mediaInfo.streamInfo:null)&&_.id===n.id&&(_=n,X())}function Z(){n.trigger(s.default.CAN_PLAY)}function $(){r.info("Native video element event: play"),X(),z(),n.trigger(s.default.PLAYBACK_STARTED,{startTime:B()})}function J(){r.info("Native video element event: waiting"),n.trigger(s.default.PLAYBACK_WAITING,{playingTime:B()})}function ee(){r.info("Native video element event: playing"),n.trigger(s.default.PLAYBACK_PLAYING,{playingTime:B()})}function te(){r.info("Native video element event: pause"),n.trigger(s.default.PLAYBACK_PAUSED,{ended:K()})}function ne(){var e=B();r.info("Seeking to: "+e),z(),n.trigger(s.default.PLAYBACK_SEEKING,{seekTime:e})}function re(){r.info("Native video element event: seeked"),n.trigger(s.default.PLAYBACK_SEEKED),d.addEventListener("seeking",ne)}function ie(){_&&n.trigger(s.default.PLAYBACK_TIME_UPDATED,{timeToEnd:N(),time:B()})}function oe(){n.trigger(s.default.PLAYBACK_PROGRESS)}function se(){var e=Y();r.info("Native video element event: ratechange: ",e),n.trigger(s.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function ue(){r.info("Native video element event: loadedmetadata"),n.trigger(s.default.PLAYBACK_METADATA_LOADED),z()}function le(){r.info("Native video element event: ended"),P(),W(),n.trigger(s.default.PLAYBACK_ENDED,{isLast:u.getActiveStreamInfo().isLast})}function fe(e){m&&e.isLast&&(r.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended"),d.setCurrentTime(O()),P(),W())}function ce(e){var t=e.target||e.srcElement;n.trigger(s.default.PLAYBACK_ERROR,{error:t.error})}function de(){var e,t,n;y&&D.get().streaming.lowLatencyEnabled&&0<D.get().streaming.liveCatchUpPlaybackRate&&!x()&&!F()&&(e=H(),t=Math.abs(e-T.getLiveDelay()),n=T.getLiveCatchupLatencyThreshold(),(D.get().streaming.lowLatencyEnabled&&0<D.get().streaming.liveCatchUpPlaybackRate&&0<B()&&t>D.get().streaming.liveCatchUpMinDrift&&(isNaN(n)||e<=n)?function(){var e,t,n,i,a;d&&(e=D.get().streaming.liveCatchUpPlaybackRate,t=T.getLiveDelay(),i=5*(n=H()-t),a=1-e+2*e/(1+Math.pow(Math.E,-i)),b&&(t/2<function(){var e,t=null;return q()(e=u.getActiveStreamProcessors()).call(e,(function(e){var n=e.getBufferLevel();t=null===t?n:Math.min(t,n)})),t}()?b=!1:0<n&&(a=1)),Math.abs(d.getPlaybackRate()-a)>M&&d.setPlaybackRate(a),0<D.get().streaming.liveCatchUpMaxDrift&&!R&&n>D.get().streaming.liveCatchUpMaxDrift?(r.info("Low Latency catchup mechanism. Latency too high, doing a seek to live point"),R=!0,function(){var e=f.getCurrentDVRInfo();k((e?e.range:null).end-T.getLiveDelay(),!0,!1)}()):R=!1)}:he)())}function he(){d&&d.setPlaybackRate(1)}function pe(e){var t,n;!1!==e.stream||!D.get().streaming.lowLatencyEnabled||isNaN(e.request.duration)||(t=1.2*e.request.duration)>T.getLiveDelay()&&(r.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",t.toFixed(2)),n={streaming:{liveDelay:t}},D.update(n))}function ge(e){e.streamId===_.id&&(D.get().streaming.lowLatencyEnabled?e.state!==a.default.BUFFER_EMPTY||F()||b||(b=!0,he()):d.setStallState(e.mediaType,e.state===a.default.BUFFER_EMPTY))}function me(e){n.trigger(s.default.PLAYBACK_STALLED,{e:e})}function ve(e){!function(e,t){if(e&&e.manifestInfo&&e.manifestInfo.serviceDescriptions){for(var n=void 0,a=0;a<e.manifestInfo.serviceDescriptions.length;a++){var o=e.manifestInfo.serviceDescriptions[a];if(o.schemeIdUri===i.default.SERVICE_DESCRIPTION_LL_SCHEME){n=o;break}}n&&t&&t.supplementalProperties&&"true"===t.supplementalProperties[i.default.SUPPLEMENTAL_PROPERTY_LL_SCHEME]&&(n.latency&&0<n.latency.target&&(r.debug("Apply LL properties coming from service description. Target Latency (ms):",n.latency.target),D.update({streaming:{lowLatencyEnabled:!0,liveDelay:n.latency.target/1e3,liveCatchUpMinDrift:n.latency.max>n.latency.target?(n.latency.max-n.latency.target)/1e3:void 0}})),n.playbackRate&&1<n.playbackRate.max&&(r.debug("Apply LL properties coming from service description. Max PlaybackRate:",n.playbackRate.max),D.update({streaming:{lowLatencyEnabled:!0,liveCatchUpPlaybackRate:n.playbackRate.max-1}})))}}(e.streamInfo,e.mediaInfo)}return e={initialize:function(e,t,r){_=e,d.addEventListener("canplay",Z),d.addEventListener("play",$),d.addEventListener("waiting",J),d.addEventListener("playing",ee),d.addEventListener("pause",te),d.addEventListener("error",ce),d.addEventListener("seeking",ne),d.addEventListener("seeked",re),d.addEventListener("timeupdate",ie),d.addEventListener("progress",oe),d.addEventListener("ratechange",se),d.addEventListener("loadedmetadata",ue),d.addEventListener("stalled",me),d.addEventListener("ended",le),y=_.manifestInfo.isDynamic,p=!(b=R=!1)===t,g=r;var i="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",a=/safari/.test(i)&&!/chrome/.test(i);M=a?.25:.02,n.on(s.default.STREAM_INITIALIZED,C,this),n.on(s.default.DATA_UPDATE_COMPLETED,Q,this),n.on(s.default.LOADING_PROGRESS,pe,this),n.on(s.default.BUFFER_LEVEL_STATE_CHANGED,ge,this),n.on(s.default.PLAYBACK_PROGRESS,de,this),n.on(s.default.PLAYBACK_TIME_UPDATED,de,this),n.on(s.default.PLAYBACK_ENDED,fe,this),n.on(s.default.STREAM_INITIALIZING,ve,this),S&&(S=!1,L())},setConfig:function(e){e&&(e.streamController&&(u=e.streamController),e.dashMetrics&&(f=e.dashMetrics),e.mediaPlayerModel&&(T=e.mediaPlayerModel),e.adapter&&(c=e.adapter),e.videoModel&&(d=e.videoModel),e.timelineConverter&&(h=e.timelineConverter),e.uriFragmentModel&&(w=e.uriFragmentModel),e.settings&&(D=e.settings))},getStartTimeFromUriParameters:j,getTimeToStreamEnd:N,getTime:B,getNormalizedTime:G,getPlaybackRate:Y,getPlayedRanges:function(){return _&&d?d.getPlayedRanges():null},getEnded:K,getIsDynamic:function(){return y},getStreamController:function(){return u},computeAndSetLiveDelay:function(e,t,n){var r,i,a,o=!isNaN(e)&&isFinite(e)?e:NaN,s=c.getSuggestedPresentationDelay(),u=D.get().streaming.lowLatencyEnabled?0:T.getLiveDelay()?T.getLiveDelay():null===D.get().streaming.liveDelayFragmentCount||isNaN(D.get().streaming.liveDelayFragmentCount)||isNaN(o)?!0===D.get().streaming.useSuggestedPresentationDelay&&null!==s&&!isNaN(s)&&0<s?s:isNaN(o)?isNaN(n)?4*_.manifestInfo.minBufferTime:4*n:4*o:o*D.get().streaming.liveDelayFragmentCount;return null!==(a=c.getAvailabilityStartTime())&&(I=a),i=0<t?(r=Math.max(t-10,t/2),Math.min(u,r)):u,v=i},getLiveDelay:function(){return v},setLiveDelay:function(e){!(arguments.length<=1||void 0===arguments[1])&&arguments[1]&&e<v||(v=e)},getCurrentLiveLatency:H,play:L,isPaused:x,pause:P,isSeeking:F,seek:k,reset:V},r=(0,l.default)(t).getInstance().getLogger(e),V(),e}f.__dashjs_factory_name="PlaybackController",n.default=u.default.getSingletonFactory(f),t.exports=n.default},{108:108,109:109,45:45,46:46,47:47,54:54}],120:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(109)),o=r(e(196)),s=r(e(149)),u=r(e(46)),l=r(e(54)),f=r(e(47)),c=r(e(45)),d=r(e(117));function h(e){e=e||{};var t=this.context,n=(0,u.default)(t).getInstance(),r=e.adapter,f=e.dashMetrics,h=e.mediaPlayerModel,p=e.fragmentModel,g=e.abrController,m=e.playbackController,v=e.textController,_=e.streamId,E=e.type,y=e.mimeType,T=e.mediaController,S=e.bufferController,A=e.settings,I=void 0,R=void 0,b=void 0,M=void 0,w=void 0,D=void 0,C=void 0,N=void 0,O=void 0,L=void 0,x=void 0,P=void 0,F=void 0,U=void 0,k=void 0,B=void 0,G=void 0,q=void 0,Y=void 0;function K(){return!1===M}function H(){K()||b&&!S.getIsBufferingCompleted()&&(R.debug("Schedule Controller starts"),M=!1,f.createPlaylistTraceMetrics(b.id,1e3*m.getTime(),m.getPlaybackRate()),z(0))}function V(){M||(R.debug("Schedule Controller stops"),M=!0,clearTimeout(C))}function j(){var e,t;M||w||m.isPaused()&&!A.get().streaming.scheduleWhilePaused||(E===i.default.FRAGMENTED_TEXT||E===i.default.TEXT)&&!v.isTextEnabled()||S.getIsBufferingCompleted()?V():(function(){var e,t=m.getTime(),n=1.5;isNaN(b.fragmentDuration)&&(n=(e=f.getCurrentSchedulingInfo(b.mediaInfo.type))?1.5*e.duration:1.5);var i,o,u,l,c,h=p.getRequests({state:s.default.FRAGMENT_MODEL_EXECUTED,time:t+n,threshold:0})[0];h&&-1===Ue()(U).call(U,h)&&!r.getIsTextTrack(y)&&(i=A.get().streaming.fastSwitchEnabled,o=S.getBufferLevel(),u=g.getAbandonmentStateFor(E),l=!T.isCurrentTrack(h.mediaInfo)&&T.getSwitchMode(h.mediaInfo.type)===d.default.TRACK_SWITCH_MODE_NEVER_REPLACE,c=h.quality<b.quality,i&&(l||c)&&n<=o&&u!==a.default.ABANDON_LOAD?(X(h),Y=!0,R.debug("Reloading outdated fragment at index: ",h.index)):h.quality>b.quality&&!B&&ce(m.getTime()+o))}(),e=0<U.length,B||isNaN(F)||k||e||function(e,t){P[t]=P[t]||{};var n=g.getTopQualityIndexFor(e,t);return P[t][e]!=n&&(R.info("Top quality "+e+" index has changed from "+P[t][e]+" to "+n),P[t][e]=n,1)}(E,_)||L.execute(E,b,O)?(W(!0),!e&&q&&g.checkPlaybackQuality(E),q=b.quality===F&&!k||B?(t=U.shift())&&t.isInitializationRequest()?(n.trigger(l.default.INIT_FRAGMENT_NEEDED,{sender:I,streamId:_,mediaType:E,representationId:t.representationId}),!1):(n.trigger(l.default.MEDIA_FRAGMENT_NEEDED,{sender:I,streamId:_,mediaType:E,seekTarget:N,replacement:t}),!0):(k?(R.debug("Switch track for "+E+", representation id = "+b.id),(B=T.getSwitchMode(E)===d.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE)&&S.replaceBuffer&&S.replaceBuffer(),k=!1):R.debug("Quality has changed, get init request for representationid = "+b.id),n.trigger(l.default.INIT_FRAGMENT_NEEDED,{sender:I,streamId:_,mediaType:E,representationId:b.id}),F=b.quality,!1)):z(500))}function z(e){clearTimeout(C),C=J()(j,e)}function W(e){w!==e?w=e:R.debug("isFragmentProcessingInProgress is already equal to",e)}function X(e){U.push(e)}function Q(e){var t;m&&p&&(t=p.getRequests({state:s.default.FRAGMENT_MODEL_EXECUTED,time:m.getTime(),threshold:0})[0])&&m.getTime()>=t.startTime&&((!x.mediaInfo||t.mediaInfo.type===x.mediaInfo.type&&t.mediaInfo.id!==x.mediaInfo.id)&&e&&n.trigger(l.default.TRACK_CHANGE_RENDERED,{mediaType:E,oldMediaInfo:x.mediaInfo,newMediaInfo:t.mediaInfo}),t.quality===x.quality&&t.adaptationIndex===x.adaptationIndex||!e||n.trigger(l.default.QUALITY_CHANGE_RENDERED,{mediaType:E,oldQuality:x.quality,newQuality:t.quality}),x={mediaInfo:t.mediaInfo,quality:t.quality,adaptationIndex:t.adaptationIndex})}function Z(e){e.request.mediaInfo.streamInfo.id===_&&e.request.mediaType===E&&(V(),W(!1),R.info("Stream is complete"))}function $(e){e.request.mediaInfo.streamInfo.id===_&&e.request.mediaType===E&&(R.info("OnFragmentLoadingCompleted - Url:",e.request?e.request.url:"undefined",e.request.range?", Range:"+e.request.range:""),r.getIsTextTrack(y)&&W(!1),e.error&&e.request.serviceLocation&&!M&&(X(e.request),W(!1),z(0)),B&&(G=e.request))}function ee(){Q(!0)}function te(e){var t,n,r;e.streamId===_&&e.mediaType===E&&(B&&!isNaN(e.startTime)&&(B=!1,p.addExecutedRequest(G)),W(!1),Y&&!isNaN(e.startTime)?(t=m.getTime(),z((n=e.startTime+b.fragmentDuration)<=t+(r=1.5*b.fragmentDuration)?0:1e3*(n-(t+r))),Y=!1):z(0))}function ne(e){e.streamId===_&&e.mediaType===E&&(R.info("onFragmentLoadingAbandoned request: "+e.request.url+" has been aborted"),m.isSeeking()||k||(R.info("onFragmentLoadingAbandoned request: "+e.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),X(e.request)),W(!1),z(0))}function re(e){e.sender.getType()===E&&e.sender.getStreamId()}function ie(e){E===e.mediaType&&_===e.streamId&&V()}function ae(e){e.streamId===_&&e.mediaType===E&&e.hasEnoughSpaceToAppend&&e.quotaExceeded&&M&&H()}function oe(e){e.streamId===_&&e.mediaType===E&&(V(),W(!1))}function se(){p.abortRequests(),V()}function ue(){!M&&A.get().streaming.scheduleWhilePaused||H()}function le(e){ce(e.seekTime),de(0),M&&H();var t=b.DVRWindow&&m?b.DVRWindow.end-m.getTime():NaN;f.updateManifestUpdateInfo({latency:t}),w?(R.debug("onPlaybackSeeking, call fragmentModel.abortRequests in order to seek quicker"),p.abortRequests()):z(0)}function fe(e){f.updatePlayListTraceMetrics({playbackspeed:e.playbackRate.toString()})}function ce(e){N=e}function de(e){D=e}function he(){x={mediaInfo:void(D=0),quality:F=N=NaN,adaptationIndex:NaN},P={},U=[],Y=B=k=!(M=!(w=!(q=!(G=null))))}return I={initialize:function(e){O=e,L=(0,o.default)(t).create({abrController:g,dashMetrics:f,mediaPlayerModel:h,textController:v,settings:A}),n.on(l.default.DATA_UPDATE_STARTED,re,this),n.on(l.default.FRAGMENT_LOADING_COMPLETED,$,this),n.on(l.default.STREAM_COMPLETED,Z,this),n.on(l.default.BUFFER_CLEARED,ae,this),n.on(l.default.BYTES_APPENDED_END_FRAGMENT,te,this),n.on(l.default.QUOTA_EXCEEDED,oe,this),n.on(l.default.PLAYBACK_SEEKING,le,this),n.on(l.default.PLAYBACK_STARTED,ue,this),n.on(l.default.PLAYBACK_RATE_CHANGED,fe,this),n.on(l.default.PLAYBACK_TIME_UPDATED,ee,this),n.on(l.default.URL_RESOLUTION_FAILED,se,this),n.on(l.default.FRAGMENT_LOADING_ABANDONED,ne,this),n.on(l.default.BUFFERING_COMPLETED,ie,this)},getType:function(){return E},getStreamId:function(){return _},setCurrentRepresentation:function(e){b=e},setSeekTarget:ce,setTimeToLoadDelay:de,getTimeToLoadDelay:function(){return D},switchTrackAsked:function(){k=!0},isStarted:K,start:H,stop:V,reset:function(){n.off(l.default.DATA_UPDATE_STARTED,re,this),n.off(l.default.FRAGMENT_LOADING_COMPLETED,$,this),n.off(l.default.STREAM_COMPLETED,Z,this),n.off(l.default.BUFFER_CLEARED,ae,this),n.off(l.default.BYTES_APPENDED_END_FRAGMENT,te,this),n.off(l.default.QUOTA_EXCEEDED,oe,this),n.off(l.default.PLAYBACK_SEEKING,le,this),n.off(l.default.PLAYBACK_STARTED,ue,this),n.off(l.default.PLAYBACK_RATE_CHANGED,fe,this),n.off(l.default.PLAYBACK_TIME_UPDATED,ee,this),n.off(l.default.URL_RESOLUTION_FAILED,se,this),n.off(l.default.FRAGMENT_LOADING_ABANDONED,ne,this),n.off(l.default.BUFFERING_COMPLETED,ie,this),V(),Q(!1),he()},getBufferTarget:function(){return L.getBufferTarget(E,b,O)},processInitRequest:function(e){e&&(W(!0),p.executeRequest(e))},processMediaRequest:function(e){e?(R.debug("Next fragment request url is "+e.url),p.executeRequest(e)):(m.getIsDynamic()&&R.debug("Next fragment seems to be at the bleeding live edge and is not available yet. Rescheduling."),W(!1),z(A.get().streaming.lowLatencyEnabled?100:500))}},R=(0,c.default)(t).getInstance().getLogger(I),he(),I}h.__dashjs_factory_name="ScheduleController",n.default=f.default.getClassFactory(h),t.exports=n.default},{108:108,109:109,117:117,149:149,196:196,45:45,46:46,47:47,54:54}],121:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(109)),o=r(e(105)),s=r(e(99)),u=r(e(46)),l=r(e(54)),f=r(e(47)),c=e(243),d=r(e(45)),h=r(e(213)),p=r(e(220)),m=r(e(101)),_=r(e(122)),E=r(e(118)),y=r(e(225)),T=r(e(51)),S=r(e(115));function A(){var e,t=this.context,n=(0,u.default)(t).getInstance(),r=void 0,f=void 0,A=void 0,I=void 0,R=void 0,b=void 0,M=void 0,w=void 0,D=void 0,C=void 0,N=void 0,O=void 0,L=void 0,x=void 0,P=void 0,F=void 0,U=void 0,k=void 0,G=void 0,Y=void 0,H=void 0,V=void 0,j=void 0,z=void 0,W=void 0,X=void 0,Q=void 0,$=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,se=void 0,ue=void 0,le=void 0,fe=void 0,de=void 0,he=void 0,pe=void 0;function ge(){var e;!Ue()||(e=$.getPlaybackQuality())&&M.addDroppedFrames(e)}function me(){var e;!pe.get().streaming.jumpGaps||0===be()||ee.isSeeking()||ne||z||W||X||40<=++ue&&(e=ee.getTime(),de===e?function(e){for(var t=be(),i=pe.get().streaming.smallGapLimit,a=void 0,o=0;o<t.length;o++){var s=t[o].getBuffer().getAllBufferRanges(),u=void 0;if(s&&!(s.length<=1)){for(var f,c=0;c<s.length;c++)if(e<s.start(c)){u=s.start(c);break}0<u&&0<(f=u-e)&&f<=i&&(void 0===a||a<u)&&(a=u)}}var d=ee.getTimeToStreamEnd();void 0===a&&!isNaN(d)&&d<i&&(a=e+d),0<a&&(!isNaN(d)&&e+d<=a?(r.info("Jumping media gap (discontinuity) at time ",e,". Jumping to end of the stream"),n.trigger(l.default.PLAYBACK_ENDED,{isLast:Ye().isLast})):(r.info("Jumping media gap (discontinuity) at time ",e,". Jumping to time position",a),ee.seek(a,!0,!0)))}(e):de=e,ue=0)}function ve(e){var t=Re(e.seekTime);oe&&(ye(),ie=!1),se&&(r.debug("[PreloadTimer] stop period preload timer."),clearTimeout(se),se=void 0),t===Y&&fe&&fe.deactivate(!0),t&&(t!==Y||fe&&!Y.isActive())?(Be(c.PlayListTrace.END_OF_PERIOD_STOP_REASON),De(t,Y,e.seekTime)):Be(c.PlayListTrace.USER_REQUEST_STOP_REASON),Ge(c.PlayList.SEEK_START_REASON)}function _e(){r.debug("[onPlaybackStarted]"),re?(re=!1,Ge(c.PlayList.INITIAL_PLAYOUT_START_REASON)):ne&&(ne=!1,Ge(c.PlayList.RESUME_FROM_PAUSE_START_REASON),Te())}function Ee(e){r.debug("[onPlaybackPaused]"),e.ended||(ne=!0,Be(c.PlayListTrace.USER_REQUEST_STOP_REASON),Te())}function ye(){r.debug("[toggleEndPeriodTimer] stop end period timer."),clearTimeout(oe),oe=void 0}function Te(){var e,t,i;ie&&(oe?ye():(i=(t=0<(e=ee.getTimeToStreamEnd())?1e3*e:0)<2e3?t/4:t-2e3,r.debug("[toggleEndPeriodTimer] Going to fire preload in",i,"milliseconds"),se=J()(Ie,i),r.debug("[toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in",t,"milliseconds"),oe=J()((function(){n.trigger(l.default.PLAYBACK_ENDED,{isLast:Ye().isLast})}),t)))}function Se(e){var t;e.mediaType!==i.default.AUDIO&&e.mediaType!==i.default.VIDEO||(t=Ye().isLast,Q&&!t&&void 0===oe&&(r.info("[onTrackBufferingCompleted] end of period detected. Track",e.mediaType,"has finished"),!(ie=!0)===ne&&Te()))}function Ae(){var e=Ye().isLast;Q&&e&&(r.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),w.signalEndOfStream(Q))}function Ie(){var e,t,n=Ye().isLast;Q&&!n&&(t=we(),Y.isProtectionCompatible(t)&&(he||Y.isMediaCodecCompatible(t))&&(r.info("[onStreamCanLoadNext] Preloading next stream"),Y.deactivate(!0),t.preload(Q,le),q()(e=(fe=t).getProcessors()).call(e,(function(e){e.setIndexHandlerTime(t.getStartTime())}))))}function Re(e){var t=0,n=null,r=G.length;0<r&&(t+=G[0].getStartTime());for(var i=0;i<r;i++)if(n=G[i],e<(t=ae()((t+n.getDuration()).toFixed(5))))return n;return null}function be(){return Y?Y.getProcessors():[]}function Me(){var e=we();e?De(e,Y,NaN):r.debug("StreamController no next stream found"),Be(e?c.PlayListTrace.END_OF_PERIOD_STOP_REASON:c.PlayListTrace.END_OF_CONTENT_STOP_REASON),oe=void 0,ie=!1}function we(){if(Y){var e=(t=Ye().start,n=Ye().duration,{v:K()(G).call(G,(function(e){return e.getStreamInfo().start===ae()((t+n).toFixed(5))}))[0]});if("object"==Le()(e))return e.v}var t,n}function De(e,t,i){var a;r.info("Switch stream to "+e.getId()+" at t="+i),z||!e||t===e&&e.isActive()||(z=!0,n.trigger(l.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:t?t.getStreamInfo():null,toStreamInfo:e.getStreamInfo()}),a=!1,t&&(a=Y.isProtectionCompatible(e)&&(he||Y.isMediaCodecCompatible(e))&&!i||e.getPreloaded(),t.deactivate(a)),i=isNaN(i)?!a&&t?e.getStreamInfo().start:NaN:i,Y=e,fe=!1,ee.initialize(Ye(),!!t,i),$.getElement()?Ce(i,null===t,!1,a):Oe(i,a))}function Ce(e,t,i,a){var o=void 0;function s(){Q&&"open"==Q.readyState&&(r.debug("MediaSource is open!"),window.URL.revokeObjectURL(o),Q.removeEventListener("sourceopen",s),Q.removeEventListener("webkitsourceopen",s),xe(),t||n.trigger(l.default.SOURCE_INITIALIZED),i?Y.setMediaSource(Q):Oe(e,a))}Q?a?(Oe(e,a),t||n.trigger(l.default.SOURCE_INITIALIZED)):(w.detachMediaSource($),Q.addEventListener("sourceopen",s,!1),Q.addEventListener("webkitsourceopen",s,!1),o=w.attachMediaSource(Q,$),r.debug("MediaSource attached to element.  Waiting on open...")):((Q=w.createMediaSource()).addEventListener("sourceopen",s,!1),Q.addEventListener("webkitsourceopen",s,!1),o=w.attachMediaSource(Q,$),r.debug("MediaSource attached to element.  Waiting on open..."))}function Oe(e,t){var i;!(le=Y.activate(Q,t?le:void 0))||0<(i=ce()(le)).length&&le[i[0]].changeType&&(r.debug("SourceBuffer changeType method supported. Use it to switch codecs in periods transitions"),he=!0),re||isNaN(e)||ee.seek(e),!j&&re||ee.play(),z=!1,n.trigger(l.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Ye()})}function xe(e){var t=e||Ye().manifestInfo.duration,n=w.setDuration(Q,t);r.debug("Duration successfully set to: "+n)}function Pe(){var e=R.getValue();H&&(n.trigger(l.default.PROTECTION_CREATED,{controller:H,manifest:e}),H.setMediaElement($.getElement()),V&&H.setProtectionData(V)),function(){try{var e=b.getStreamsInfo();if(0===e.length)throw new Error("There are no streams");M.updateManifestUpdateInfo({currentTime:ee.getTime(),buffered:$.getBufferRange(),presentationStartTime:e[0].start,clientTimeOffset:k.getClientTimeOffset()});for(var a,s,u,c,d=0,h=e.length;d<h;d++){var p=e[d],g=function(e){for(var t=0,n=G.length;t<n;t++)if(G[t].getId()===e.id)return G[t];return null}(p);g?g.updateData(p):(g=(0,o.default)(t).create({manifestModel:R,mediaPlayerModel:te,dashMetrics:M,manifestUpdater:A,adapter:b,timelineConverter:k,capabilities:f,errHandler:U,baseURLController:C,abrController:N,playbackController:ee,eventController:L,mediaController:O,textController:x,videoModel:$,settings:pe}),G.push(g),g.initialize(p,H)),M.addManifestUpdateStreamInfo(p)}Y||(b.getIsDynamic()&&G.length&&(s=function(e,t){try{var n=NaN;return t&&!isNaN(t.maxFragmentDuration)&&isFinite(t.maxFragmentDuration)?t.maxFragmentDuration:(e&&1===e.length&&function(){var t,r,a,o=e[0],s=B()(t=B()(r=B()(a=[i.default.VIDEO,i.default.AUDIO,i.default.FRAGMENTED_TEXT]).call(a,(function(e,t){var n=b.getMediaInfoForType(o,t);return n&&e.push(n),e}),[])).call(r,(function(e,t){var n=b.getVoRepresentations(t);return n&&0<n.length&&q()(n).call(n,(function(t){t&&e.push(t)})),e}),[])).call(t,(function(e,t){var n=b.convertDataToRepresentationInfo(t);return n&&n.fragmentDuration&&!isNaN(n.fragmentDuration)&&e.push(n.fragmentDuration),e}),[]);n=Math.max.apply(Math,function(e){if(Ne()(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return v()(e)}(s))}(),isFinite(n)?n:NaN)}catch(t){return NaN}}(e,a=e[0].manifestInfo),ee.computeAndSetLiveDelay(s,a.DVRWindowSize,a.minBufferTime)),u=null,c=ee.getStartTimeFromUriParameters(e[0].start,b.getIsDynamic()),isNaN(c)||(u=Re(c)),!u&&b.getIsDynamic()&&G.length&&(r.debug("Dynamic stream: Trying to find the correct starting period"),u=function(){try{return Re(k.calcPresentationTimeFromWallTime(new Date,b.getRegularPeriods()[0])-ee.getLiveDelay())}catch(e){return null}}()),De(null!==u?u:G[0],null,NaN)),n.trigger(l.default.STREAMS_COMPOSED)}catch(e){U.error(new y.default(T.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,e.message+"nostreamscomposed",R.getValue())),X=!0,je()}}()}function Fe(e){e.error?(X=!0,je()):function(){var t=e.manifest;b.updatePeriods(t);var n=b.getStreamsInfo(void 0,1)[0],a=b.getMediaInfoForType(n,i.default.VIDEO)||b.getMediaInfoForType(n,i.default.AUDIO),o=void 0;a&&(o=b.getUseCalculatedLiveEdgeTimeForMediaInfo(a))&&(r.debug("SegmentTimeline detected using calculated Live Edge Time"),pe.update({streaming:{useManifestDateHeaderTimeSource:!1}}));var s=b.getUTCTimingSources(),u=!b.getIsDynamic()||o?s:Z()(s).call(s,te.getUTCTimingSources()),l=F.isHTTPS(e.manifest.url);q()(u).call(u,(function(e){e.value.replace(/.*?:\/\//g,"")===te.getDefaultUtcTimingSource().value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(l?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),l?"https://":"http://"),r.debug("Matching default timing source protocol to manifest protocol: ",e.value))})),C.initialize(t),D.setConfig({dashMetrics:M,baseURLController:C}),D.initialize(u,pe.get().streaming.useManifestDateHeaderTimeSource)}()}function Ue(){return!!Y&&Y.getHasVideoTrack()}function ke(){return!!Y&&Y.getHasAudioTrack()}function Be(e,t){var n;t=t||new Date,q()(n=be()).call(n,(function(n){n.finalisePlayList(t,e)})),M.addPlayList()}function Ge(e){M.createPlaylistMetrics(1e3*ee.getTime(),e)}function qe(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}W=!0,e.error.message&&(t+=" ("+e.error.message+")"),e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),r.fatal("Video Element Error: "+t),e.error&&r.fatal(e.error),U.error(new y.default(e.error.code,t)),je()}}function Ye(){return Y?Y.getStreamInfo():null}function Ke(){if(!(I&&I.hasOwnProperty("load")&&k&&k.hasOwnProperty("initialize")&&k.hasOwnProperty("reset")&&k.hasOwnProperty("getClientTimeOffset")&&R&&U&&M&&ee))throw new Error(i.default.MISSING_CONFIG_ERROR)}function He(e){isNaN(e.newDuration)||xe(e.newDuration)}function Ve(){Y=H=null,oe=void 0,ie=!(j=!(ne=!(re=!(X=W=z=!(G=[]))))),ue=0}function je(){Ke(),D.reset(),Be(W||X?c.PlayListTrace.FAILURE_STOP_REASON:c.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=G?G.length:0;e<t;e++)G[e].reset(W);!function(){n.off(l.default.PLAYBACK_TIME_UPDATED,ge,this),n.off(l.default.PLAYBACK_SEEKING,ve,this),n.off(l.default.PLAYBACK_ERROR,qe,this),n.off(l.default.PLAYBACK_STARTED,_e,this),n.off(l.default.PLAYBACK_PAUSED,Ee,this),n.off(l.default.PLAYBACK_ENDED,Me,this),n.off(l.default.MANIFEST_UPDATED,Fe,this),n.off(l.default.BUFFERING_COMPLETED,Se,this),n.off(l.default.STREAM_BUFFERING_COMPLETED,Ae,this),n.off(l.default.MANIFEST_VALIDITY_CHANGED,He,this),n.off(l.default.TIME_SYNCHRONIZATION_COMPLETED,Pe,this),n.off(l.default.WALLCLOCK_TIME_UPDATED,me,this),n.off(m.default.METRIC_ADDED,ze,this)}(),C.reset(),A.reset(),L.reset(),M.clearAllCurrentMetrics(),R.setValue(null),I.reset(),k.reset(),P.reset(),Q&&(w.detachMediaSource($),Q=null),$=null,H&&(H.setMediaElement(null),V=H=null,R.getValue()&&n.trigger(l.default.PROTECTION_DESTROYED,{data:R.getValue().url})),n.trigger(l.default.STREAM_TEARDOWN_COMPLETE),Ve()}function ze(e){var t;e.metric===a.default.DVR_INFO&&(t=ke()?i.default.AUDIO:i.default.VIDEO,e.mediaType===t&&w.setSeekable(Q,e.value.range.start,e.value.range.end))}return e={initialize:function(e,r){Ke(),j=e,V=r,k.initialize(),(A=(0,s.default)(t).create()).setConfig({manifestModel:R,adapter:b,manifestLoader:I,errHandler:U,settings:pe}),A.initialize(),(L=(0,S.default)(t).getInstance()).setConfig({manifestUpdater:A,playbackController:ee}),L.start(),function(){n.on(l.default.PLAYBACK_TIME_UPDATED,ge,this),n.on(l.default.PLAYBACK_SEEKING,ve,this),n.on(l.default.PLAYBACK_ERROR,qe,this),n.on(l.default.PLAYBACK_STARTED,_e,this),n.on(l.default.PLAYBACK_PAUSED,Ee,this),n.on(l.default.PLAYBACK_ENDED,Me,this),n.on(l.default.MANIFEST_UPDATED,Fe,this),n.on(l.default.BUFFERING_COMPLETED,Se,this),n.on(l.default.STREAM_BUFFERING_COMPLETED,Ae,this),n.on(l.default.MANIFEST_VALIDITY_CHANGED,He,this),n.on(l.default.TIME_SYNCHRONIZATION_COMPLETED,Pe,this),n.on(l.default.WALLCLOCK_TIME_UPDATED,me,this),n.on(m.default.METRIC_ADDED,ze,this)}()},getActiveStreamInfo:Ye,hasVideoTrack:Ue,hasAudioTrack:ke,switchToVideoElement:function(e){Y&&(ee.initialize(Ye()),Ce(e,!1,!0,!1))},getStreamById:function(e){return K()(G).call(G,(function(t){return t.getId()===e}))[0]},getStreamForTime:Re,getTimeRelativeToStreamId:function(e,t){for(var n,r,i=null,a=0,o=0;o<G.length;o++){if(n=(i=G[o]).getStartTime(),r=i.getDuration(),g()(n)&&(a=n),i.getId()===t)return e-a;g()(r)&&(a+=r)}return null},load:function(e){Ke(),I.load(e)},loadWithManifest:function(e){!function(){if(!A||!A.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}(),A.setManifest(e)},getActiveStreamProcessors:be,setConfig:function(e){e&&(e.capabilities&&(f=e.capabilities),e.manifestLoader&&(I=e.manifestLoader),e.manifestModel&&(R=e.manifestModel),e.mediaPlayerModel&&(te=e.mediaPlayerModel),e.protectionController&&(H=e.protectionController),e.adapter&&(b=e.adapter),e.dashMetrics&&(M=e.dashMetrics),e.errHandler&&(U=e.errHandler),e.timelineConverter&&(k=e.timelineConverter),e.videoModel&&($=e.videoModel),e.playbackController&&(ee=e.playbackController),e.abrController&&(N=e.abrController),e.mediaController&&(O=e.mediaController),e.textController&&(x=e.textController),e.settings&&(pe=e.settings),e.baseURLController&&(C=e.baseURLController))},setProtectionData:function(e){V=e},reset:je},r=(0,d.default)(t).getInstance().getLogger(e),D=(0,_.default)(t).getInstance(),w=(0,E.default)(t).getInstance(),P=(0,h.default)(t).getInstance(),F=(0,p.default)(t).getInstance(),Ve(),e}A.__dashjs_factory_name="StreamController",n.default=f.default.getSingletonFactory(A),t.exports=n.default},{101:101,105:105,108:108,109:109,115:115,118:118,122:122,213:213,220:220,225:225,243:243,45:45,46:46,47:47,51:51,54:54,99:99}],122:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(225)),a=e(241),o=r(e(46)),s=r(e(54)),u=r(e(51)),l=r(e(47)),f=r(e(45)),c=r(e(220));function d(){var e,t=this.context,n=(0,o.default)(t).getInstance(),r=(0,c.default)(t).getInstance(),l=void 0,d=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0;function _(e){h=e}function E(e){d=e}function y(e){var t,n,r,i=Date.parse(e);return isNaN(i)&&(n=void 0,r=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e),n=Date.UTC(Ee()(r[1],10),Ee()(r[2],10)-1,Ee()(r[3],10),Ee()(r[4],10),Ee()(r[5],10),r[6]&&(Ee()(r[6],10)||0),r[7]&&1e3*ae()(r[7])||0),r[9]&&r[10]&&(t=60*Ee()(r[9],10)+Ee()(r[10],10),n+=("+"===r[8]?-1:1)*t*60*1e3),i=new Date(n).getTime()),i}function T(e){return Date.parse(e)}function S(e){return Date.parse(e)}function A(e,t,n){n()}function I(e,t,n){var r=y(e);isNaN(r)?n():t(r)}function R(e,t,n,i,o){var s,u,l,f=!1,c=new XMLHttpRequest,d=o?a.HTTPRequest.HEAD:a.HTTPRequest.GET,h=t.match(/\S+/g);t=h.shift(),s=function(){f||(f=!0,h.length?R(e,h.join(" "),n,i,o):i())},u=function(){var t,r;200===c.status&&(t=o?c.getResponseHeader("Date"):c.response,r=e(t),isNaN(r)||(n(r),f=!0))},!r.isRelative(t)||(l=v.resolve())&&(t=r.resolve(t,l.url)),c.open(d,t),c.timeout=5e3,c.onload=u,c.onloadend=s,c.send()}function b(e,t,n){R(S,e,t,n,!0)}function M(){var e=m.getLatestMPDRequestHeaderValueByID("Date"),t=null!==e?new Date(e).getTime():Number.NaN;isNaN(t)?w(!0):(E(t-(new Date).getTime()),w(!1,t/1e3,d))}function w(e,t,r){_(!1),n.trigger(s.default.TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:r,error:e?new i.default(u.default.TIME_SYNC_FAILED_ERROR_CODE,u.default.TIME_SYNC_FAILED_ERROR_MESSAGE):null})}return e={initialize:function(e,t){p=t,d=0,h=!1,g={"urn:mpeg:dash:utc:http-head:2014":b,"urn:mpeg:dash:utc:http-xsdate:2014":le()(R).call(R,null,y),"urn:mpeg:dash:utc:http-iso:2014":le()(R).call(R,null,T),"urn:mpeg:dash:utc:direct:2014":I,"urn:mpeg:dash:utc:http-head:2012":b,"urn:mpeg:dash:utc:http-xsdate:2012":le()(R).call(R,null,y),"urn:mpeg:dash:utc:http-iso:2012":le()(R).call(R,null,T),"urn:mpeg:dash:utc:direct:2012":I,"urn:mpeg:dash:utc:http-ntp:2014":A,"urn:mpeg:dash:utc:ntp:2014":A,"urn:mpeg:dash:utc:sntp:2014":A},h||function e(t,n){var r=n||0,i=t[r],a=function(e,t){var n=!e||!t;n&&p?M():w(n,e,t)};_(!0),i?g.hasOwnProperty(i.schemeIdUri)?g[i.schemeIdUri](i.value,(function(e){var t=(new Date).getTime(),n=e-t;E(n),l.info("Local time: "+new Date(t)),l.info("Server time: "+new Date(e)),l.info("Server Time - Local Time (ms): "+n),a(e,n)}),(function(){e(t,r+1)})):e(t,r+1):(E(0),a())}(e)},getOffsetToDeviceTimeMs:function(){return d},setConfig:function(e){e&&(e.dashMetrics&&(m=e.dashMetrics),e.baseURLController&&(v=e.baseURLController))},reset:function(){_(!1)}},l=(0,f.default)(t).getInstance().getLogger(e),e}d.__dashjs_factory_name="TimeSyncController";var h=l.default.getSingletonFactory(d);h.HTTP_TIMEOUT_MS=5e3,l.default.updateSingletonFactory(d.__dashjs_factory_name,h),n.default=h,t.exports=n.default},{220:220,225:225,241:241,45:45,46:46,47:47,51:51,54:54}],123:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(107)),a=r(e(46)),o=r(e(54)),s=r(e(47)),u=r(e(3)),l=r(e(220)),f=r(e(61)),c="onLoad";function d(e){e=e||{};var t=this.context,n=(0,a.default)(t).getInstance(),r=(0,l.default)(t).getInstance(),s=void 0,d=void 0,h=void 0,p=void 0,g=void 0,m=void 0;function v(e,t,n){var i,a={},o=void 0;a.elements=e,a.type=t,a.resolveType=n,0===a.elements.length&&E(a);for(var s=0;s<a.elements.length;s++)i=a.elements[s],o=r.isHTTPURL(i.url)?i.url:i.originalContent.BaseURL+i.url,m.load(o,i,a)}function _(e){var t,n,r,i,a=void 0,o=(a=e.element,e.resolveObject);a.resolvedContent&&((i=0)===Ue()(t=a.resolvedContent).call(t,"<?xml")&&(i=Ue()(n=a.resolvedContent).call(n,"?>")+2),r=a.resolvedContent.substr(0,i)+"<response>"+a.resolvedContent.substr(i)+"</response>",a.resolvedContent=g.xml_str2json(r)),function(e){var t=void 0;for(t=0;t<e.elements.length;t++)if(!1===e.elements[t].resolved)return!1;return!0}(o)&&E(o)}function E(e){var t=[],r=void 0,i=void 0;if(function(e){var t=[],n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=void 0;for(a=e.elements.length-1;0<=a;a--){if(r=(n=e.elements[a]).type+"_asArray",n.resolvedContent){if(n.resolvedContent)for(o=0;o<n.resolvedContent[r].length;o++)i=n.resolvedContent[r][o],t.push(i)}else delete n.originalContent["xlink:actuate"],delete n.originalContent["xlink:href"],t.push(n.originalContent);for(Ke()(u=n.parentElement[r]).call(u,n.index,1),s=0;s<t.length;s++){var u,l;Ke()(l=n.parentElement[r]).call(l,n.index+s,0,t[s])}t=[]}0<e.elements.length&&h.run(p)}(e),"onActuate"===e.resolveType&&n.trigger(o.default.XLINK_READY,{manifest:p}),e.resolveType===c)switch(e.type){case f.default.PERIOD:for(r=0;r<p[f.default.PERIOD+"_asArray"].length;r++)(i=p[f.default.PERIOD+"_asArray"][r]).hasOwnProperty(f.default.ADAPTATION_SET+"_asArray")&&(t=Z()(t).call(t,y(i[f.default.ADAPTATION_SET+"_asArray"],i,f.default.ADAPTATION_SET,c))),i.hasOwnProperty(f.default.EVENT_STREAM+"_asArray")&&(t=Z()(t).call(t,y(i[f.default.EVENT_STREAM+"_asArray"],i,f.default.EVENT_STREAM,c)));v(t,f.default.ADAPTATION_SET,c);break;case f.default.ADAPTATION_SET:n.trigger(o.default.XLINK_READY,{manifest:p})}}function y(e,t,n,r){var i,a=[],o=void 0,s=void 0;for(s=e.length-1;0<=s;s--)(o=e[s]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===o["xlink:href"]&&Ke()(e).call(e,s,1);for(s=0;s<e.length;s++)(o=e[s]).hasOwnProperty("xlink:href")&&o.hasOwnProperty("xlink:actuate")&&o["xlink:actuate"]===r&&(i={url:o["xlink:href"],parentElement:t,type:n,index:s,resolveType:r,originalContent:o,resolvedContent:null,resolved:!1},a.push(i));return a}return s={resolveManifestOnLoad:function(e){g=new u.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:d}),v(y((p=e).Period_asArray,p,f.default.PERIOD,c),f.default.PERIOD,c)},setMatchers:function(e){e&&(d=e)},setIron:function(e){e&&(h=e)},reset:function(){n.off(o.default.XLINK_ELEMENT_LOADED,_,s),m&&(m.reset(),m=null)}},n.on(o.default.XLINK_ELEMENT_LOADED,_,s),m=(0,i.default)(t).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,settings:e.settings}),s}d.__dashjs_factory_name="XlinkController",n.default=s.default.getClassFactory(d),t.exports=n.default},{107:107,220:220,3:3,46:46,47:47,54:54,61:61}],124:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(138)),a=r(e(125)),o=r(e(126)),s=r(e(131)),u=r(e(136));function l(){var e=this.context;return{createMetricsReporting:function(t){return(0,i.default)(e).getInstance({eventBus:t.eventBus,dashMetrics:t.dashMetrics,metricsConstants:t.metricsConstants,events:t.events}),(0,o.default)(e).create(t)},getReportingFactory:function(){return(0,u.default)(e).getInstance()},getMetricsHandlerFactory:function(){return(0,s.default)(e).getInstance()}}}l.__dashjs_factory_name="MetricsReporting";var f=dashjs.FactoryMaker.getClassFactory(l);f.events=a.default,dashjs.FactoryMaker.updateClassFactory(l.__dashjs_factory_name,f),n.default=f,t.exports=n.default},{125:125,126:126,131:131,136:136,138:138}],125:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r;function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}}(X()(i.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}var a=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(i,((r=e(55))&&r.__esModule?r:{default:r}).default),i);n.default=a,t.exports=n.default},{55:55}],126:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(127)),a=r(e(140)),o=r(e(125));function s(e){e=e||{};var t={},n=this.context,r=e.eventBus,s=e.events;function u(s){var u,l;s.error||(l=ce()(t),q()(u=(0,a.default)(n).getInstance({adapter:e.adapter,constants:e.constants}).getMetrics(s.manifest)).call(u,(function(r){var a=Ve()(r);if(t.hasOwnProperty(a))Ke()(l).call(l,a,1);else try{var o=(0,i.default)(n).create(e);o.initialize(r),t[a]=o}catch(r){}})),q()(l).call(l,(function(e){t[e].reset(),delete t[e]})),r.trigger(o.default.METRICS_INITIALISATION_COMPLETE))}function l(){var e;q()(e=ce()(t)).call(e,(function(e){t[e].reset()})),t={}}return r.on(s.MANIFEST_UPDATED,u),r.on(s.STREAM_TEARDOWN_COMPLETE,l),{reset:function(){r.off(s.MANIFEST_UPDATED,u),r.off(s.STREAM_TEARDOWN_COMPLETE,l)}}}s.__dashjs_factory_name="MetricsCollectionController",n.default=dashjs.FactoryMaker.getClassFactory(s),t.exports=n.default},{125:125,127:127,140:140}],127:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(129)),a=r(e(130)),o=r(e(128));function s(e){e=e||{};var t=void 0,n=void 0,r=void 0,s=this.context;function u(){t&&t.reset(),n&&n.reset(),r&&r.reset()}return{initialize:function(l){try{(r=(0,i.default)(s).create({mediaElement:e.mediaElement})).initialize(l.Range),(n=(0,a.default)(s).create({debug:e.debug,metricsConstants:e.metricsConstants})).initialize(l.Reporting,r),(t=(0,o.default)(s).create({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants,events:e.events})).initialize(l.metrics,n)}catch(l){throw u(),l}},reset:u}}s.__dashjs_factory_name="MetricsController",n.default=dashjs.FactoryMaker.getClassFactory(s),t.exports=n.default},{128:128,129:129,130:130}],128:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(131))&&r.__esModule?r:{default:r};function a(e){e=e||{};var t=[],n=void 0,r=this.context,a=e.eventBus,o=e.events,s=(0,i.default)(r).getInstance({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants});function u(e){q()(t).call(t,(function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)}))}return n={initialize:function(e,r){var i;q()(i=e.split(",")).call(i,(function(e,n,i){var a,o;-1===Ue()(e).call(e,"(")||-1!==Ue()(e).call(e,")")||(o=i[n+1])&&-1===Ue()(o).call(o,"(")&&-1!==Ue()(o).call(o,")")&&(e+=","+o,delete i[n+1]),(a=s.create(e,r))&&t.push(a)})),a.on(o.METRIC_ADDED,u,n),a.on(o.METRIC_UPDATED,u,n)},reset:function(){a.off(o.METRIC_ADDED,u,n),a.off(o.METRIC_UPDATED,u,n),q()(t).call(t,(function(e){return e.reset()})),t=[]}}}a.__dashjs_factory_name="MetricsHandlersController",n.default=dashjs.FactoryMaker.getClassFactory(a),t.exports=n.default},{131:131}],129:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(208))&&r.__esModule?r:{default:r};function a(e){e=e||{};var t,n=!1,r=this.context,a=void 0,o=e.mediaElement;return t={initialize:function(e){e&&e.length&&(q()(e).call(e,(function(e){var t=e.starttime,n=t+e.duration;a.add(t,n)})),n=!!e[0]._useWallClockTime)},reset:function(){a.clear()},isEnabled:function(){var e,t=a.length;if(!t)return!0;e=n?(new Date).getTime()/1e3:o.currentTime;for(var r=0;r<t;r+=1){var i=a.start(r),s=a.end(r);if(i<=e&&e<s)return!0}return!1}},a=(0,i.default)(r).create(),t}a.__dashjs_factory_name="RangeController",n.default=dashjs.FactoryMaker.getClassFactory(a),t.exports=n.default},{208:208}],130:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(136))&&r.__esModule?r:{default:r};function a(e){var t=[],n=(0,i.default)(this.context).getInstance(e);return{initialize:function(e,r){P()(e).call(e,(function(e){var i=n.create(e,r);if(i)return t.push(i),!0}))},reset:function(){q()(t).call(t,(function(e){return e.reset()})),t=[]},report:function(e,n){q()(t).call(t,(function(t){return t.report(e,n)}))}}}a.__dashjs_factory_name="ReportingController",n.default=dashjs.FactoryMaker.getClassFactory(a),t.exports=n.default},{136:136}],131:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(132)),a=r(e(133)),o=r(e(135)),s=r(e(134));function u(e){var t=void 0,n=(e=e||{}).debug?e.debug.getLogger(t):{},r=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,u=this.context,l={BufferLevel:i.default,DVBErrors:a.default,HttpList:o.default,PlayList:s.default,RepSwitchList:s.default,TcpList:s.default};return{create:function(t,i){var a,o=t.match(r);if(o){try{(a=l[o[1]](u).create({eventBus:e.eventBus,metricsConstants:e.metricsConstants})).initialize(o[1],i,o[3],o[5])}catch(t){a=null,n.error("MetricsHandlerFactory: Could not create handler for type "+o[1]+" with args "+o[3]+", "+o[5]+" ("+t.message+")")}return a}},register:function(e,t){l[e]=t},unregister:function(e){delete l[e]}}}u.__dashjs_factory_name="MetricsHandlerFactory",n.default=dashjs.FactoryMaker.getSingletonFactory(u),t.exports=n.default},{132:132,133:133,134:134,135:135}],132:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(139))&&r.__esModule?r:{default:r};function a(e){e=e||{};var t=void 0,n=void 0,r=void 0,a=void 0,o=void 0,s=this.context,u=(0,i.default)(s).getInstance(),l=[],f=e.metricsConstants;function c(){var e=function(){try{var e,t;return B()(e=te()(t=ce()(l)).call(t,(function(e){return l[e]}))).call(e,(function(e,t){return e.level<t.level?e:t}))}catch(e){return}}();e&&o!==e.t&&(o=e.t,t.report(r,e))}return{initialize:function(e,i,o){i&&(n=u.validateN(o),t=i,r=u.reconstructFullMetricName(e,o),a=U()(c,n))},reset:function(){clearInterval(a),n=0,o=t=a=null},handleNewMetric:function(e,t,n){e===f.BUFFER_LEVEL&&(l[n]=t)}}}a.__dashjs_factory_name="BufferLevelHandler",n.default=dashjs.FactoryMaker.getClassFactory(a),t.exports=n.default},{139:139}],133:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(125))&&r.__esModule?r:{default:r};n.default=dashjs.FactoryMaker.getClassFactory((function(e){var t=void 0,n=(e=e||{}).eventBus,r=e.metricsConstants;function a(){n.off(i.default.METRICS_INITIALISATION_COMPLETE,a,this),n.trigger(i.default.BECAME_REPORTING_PLAYER)}return{initialize:function(e,r){r&&(t=r,n.on(i.default.METRICS_INITIALISATION_COMPLETE,a,this))},reset:function(){t=null},handleNewMetric:function(e,n){e===r.DVB_ERRORS&&t&&t.report(e,n)}}})),t.exports=n.default},{125:125}],134:[function(e,t,n){function r(){var e=void 0,t=void 0;return{initialize:function(n,r){e=n,t=r},reset:function(){t=null,e=void 0},handleNewMetric:function(n,r){n===e&&t&&t.report(e,r)}}}Be()(n,"__esModule",{value:!0}),r.__dashjs_factory_name="GenericMetricHandler",n.default=dashjs.FactoryMaker.getClassFactory(r),t.exports=n.default},{}],135:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(139))&&r.__esModule?r:{default:r};function a(e){e=e||{};var t=void 0,n=void 0,r=void 0,a=void 0,o=void 0,s=[],u=(0,i.default)(this.context).getInstance(),l=e.metricsConstants;function f(){s.length&&t&&t.report(a,s),s=[]}return{initialize:function(e,i,s,l){i&&(n=u.validateN(s),t=i,l&&l.length&&(r=l),a=u.reconstructFullMetricName(e,s,l),o=U()(f,n))},reset:function(){clearInterval(o),s=[],t=r=n=o=null},handleNewMetric:function(e,t){e===l.HTTP_REQUEST&&(r&&r!==t.type||s.push(t))}}}a.__dashjs_factory_name="HttpListHandler",n.default=dashjs.FactoryMaker.getClassFactory(a),t.exports=n.default},{139:139}],136:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(137))&&r.__esModule?r:{default:r};function a(e){e=e||{};var t={"urn:dvb:dash:reporting:2014":i.default},n=this.context,r=void 0,a=e.debug?e.debug.getLogger(r):{},o=e.metricsConstants;return{create:function(e,r){var i=void 0;try{(i=t[e.schemeIdUri](n).create({metricsConstants:o})).initialize(e,r)}catch(r){i=null,a.error("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+r.message+")")}return i},register:function(e,n){t[e]=n},unregister:function(e){delete t[e]}}}a.__dashjs_factory_name="ReportingFactory",n.default=dashjs.FactoryMaker.getSingletonFactory(a),t.exports=n.default},{137:137}],137:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(141)),a=r(e(142));function o(e){e=e||{};var t,n=this.context,r=void 0,o=void 0,s=void 0,u=void 0,l=void 0,f=void 0,c=[],d=e.metricsConstants;function h(){u=s=!1,f=l=null}return t={report:function(e,t){Ne()(t)||(t=[t]),u&&f.isEnabled()&&q()(t).call(t,(function(t){var n=r.serialise(t);e!==d.DVB_ERRORS&&(n="metricname="+e+"&"+n),function(e,t,n){function r(){var e=Ue()(c).call(c,i);-1!==e&&(Ke()(c).call(c,e,1),200<=i.status&&i.status<300?t&&t():n&&n())}var i=new XMLHttpRequest;c.push(i);try{i.open("GET",e),i.onloadend=r,i.onerror=r,i.send()}catch(e){i.onerror()}}(n=l+"?"+n,null,(function(){u=!1}))}))},initialize:function(e,t){var n;if(f=t,!(l=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");s||((n=e["dvb:probability"]||e["dvb:priority"]||0)&&(1e3===n||n/1e3>=o.random())&&(u=!0),s=!0)},reset:function(){h()}},r=(0,i.default)(n).getInstance(),o=(0,a.default)(n).getInstance(),h(),t}o.__dashjs_factory_name="DVBReporting",n.default=dashjs.FactoryMaker.getClassFactory(o),t.exports=n.default},{141:141,142:142}],138:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(143)),a=r(e(125));function o(e){var t=void 0,n=void 0,r=(e=e||{}).eventBus,o=e.dashMetrics,s=e.metricsConstants,u=e.events;function l(e){var t=new i.default;if(n){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.mpdurl||(t.mpdurl=n.originalUrl||n.url),t.terror||(t.terror=new Date),o.addDVBErrors(t)}}function f(e){e.error||(n=e.manifest)}function c(e){l({errorcode:i.default.BASE_URL_CHANGED,servicelocation:e.entry})}function d(){l({errorcode:i.default.BECAME_REPORTER})}function h(e){switch(e.metric){case s.HTTP_REQUEST:(0===(t=e.value).responsecode||400<=t.responsecode||t.responsecode<100||600<=t.responsecode)&&l({errorcode:t.responsecode||i.default.CONNECTION_ERROR,url:t.url,terror:t.tresponse,servicelocation:t._serviceLocation})}var t}function p(e){var t=void 0;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:t=i.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:t=i.default.CORRUPT_MEDIA_OTHER;break;default:return}l({errorcode:t})}function g(){r.on(u.MANIFEST_UPDATED,f,t),r.on(u.SERVICE_LOCATION_BLACKLIST_CHANGED,c,t),r.on(u.METRIC_ADDED,h,t),r.on(u.METRIC_UPDATED,h,t),r.on(u.PLAYBACK_ERROR,p,t),r.on(a.default.BECAME_REPORTING_PLAYER,d,t)}return t={initialise:g,reset:function(){r.off(u.MANIFEST_UPDATED,f,t),r.off(u.SERVICE_LOCATION_BLACKLIST_CHANGED,c,t),r.off(u.METRIC_ADDED,h,t),r.off(u.METRIC_UPDATED,h,t),r.off(u.PLAYBACK_ERROR,p,t),r.off(a.default.BECAME_REPORTING_PLAYER,d,t)}},g(),t}o.__dashjs_factory_name="DVBErrorsTranslator",n.default=dashjs.FactoryMaker.getSingletonFactory(o),t.exports=n.default},{125:125,143:143}],139:[function(e,t,n){function r(){return{reconstructFullMetricName:function(e,t,n){var r=e;return t&&(r+="("+t,n&&n.length&&(r+=","+n),r+=")"),r},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}Be()(n,"__esModule",{value:!0}),r.__dashjs_factory_name="HandlerHelpers",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{}],140:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(144)),a=r(e(145)),o=r(e(146));function s(e){var t=(e=e||{}).adapter,n=e.constants;return{getMetrics:function(e){var r,s=[];return e&&e.Metrics_asArray&&q()(r=e.Metrics_asArray).call(r,(function(r){var u,l,f=new i.default,c=t.getIsDynamic(e);r.hasOwnProperty("metrics")&&(f.metrics=r.metrics,r.Range_asArray&&q()(u=r.Range_asArray).call(u,(function(r){var i,o,s,u,l,d=new a.default;d.starttime=(i=e,o=r,u=void 0,l=0,c?l=t.getAvailabilityStartTime(i)/1e3:(s=t.getRegularPeriods(i)).length&&(l=s[0].start),u=l,o&&o.hasOwnProperty(n.START_TIME)&&(u+=o.starttime),u),r.hasOwnProperty("duration")?d.duration=r.duration:d.duration=t.getDuration(e),d._useWallClockTime=c,f.Range.push(d)})),r.Reporting_asArray&&(q()(l=r.Reporting_asArray).call(l,(function(e){var t=new o.default;if(e.hasOwnProperty(n.SCHEME_ID_URI)){for(var r in t.schemeIdUri=e.schemeIdUri,e)e.hasOwnProperty(r)&&(t[r]=e[r]);f.Reporting.push(t)}})),s.push(f)))})),s}}}s.__dashjs_factory_name="ManifestParsing",n.default=dashjs.FactoryMaker.getSingletonFactory(s),t.exports=n.default},{144:144,145:145,146:146}],141:[function(e,t,n){function r(){return{serialise:function e(t){var n=[],r=[],i=void 0,a=void 0;for(i in t)if(t.hasOwnProperty(i)&&0!==Ue()(i).call(i,"_")){if(null==(a=t[i])&&(a=""),Ne()(a)){if(!a.length)continue;r=[],q()(a).call(a,(function(t){var n,i="Object"!==Pe()(n=Object.prototype.toString.call(t)).call(n,8,-1);r.push(i?t:e(t))})),a=te()(r).call(r,encodeURIComponent).join(",")}else"string"==typeof a?a=encodeURIComponent(a):a instanceof Date?a=a.toISOString():"number"==typeof a&&(a=Math.round(a));n.push(i+"="+a)}return n.join("&")}}}Be()(n,"__esModule",{value:!0}),r.__dashjs_factory_name="MetricSerialiser",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{}],142:[function(e,t,n){function r(){var e,t=window.crypto||window.msCrypto,n=Uint32Array,r=Math.pow(2,8*n.BYTES_PER_ELEMENT)-1,i=void 0,a=void 0;function o(){t&&(i=i||new n(10),t.getRandomValues(i),a=0)}return e={random:function(e,n){var s=void 0;return e=e||0,n=n||1,t?(a===i.length&&o(),s=i[a]/r,a+=1):s=Math.random(),s*(n-e)+e}},o(),e}Be()(n,"__esModule",{value:!0}),r.__dashjs_factory_name="RNG",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{}],143:[function(e,t,n){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null}Be()(n,"__esModule",{value:!0}),r.SSL_CONNECTION_FAILED_PREFIX="SSL",r.DNS_RESOLUTION_FAILED="C00",r.HOST_UNREACHABLE="C01",r.CONNECTION_REFUSED="C02",r.CONNECTION_ERROR="C03",r.CORRUPT_MEDIA_ISOBMFF="M00",r.CORRUPT_MEDIA_OTHER="M01",r.BASE_URL_CHANGED="F00",r.BECAME_REPORTER="S00",n.default=r,t.exports=n.default},{}],144:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metrics="",this.Range=[],this.Reporting=[]},t.exports=n.default},{}],145:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},t.exports=n.default},{}],146:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri="",this.value=""},t.exports=n.default},{}],147:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.data={baseUrls:e||null,selectedIdx:t||NaN},this.children=[]}Be()(n,"__esModule",{value:!0});var a=r(e(216)),o=r(e(47));function s(){var e,t=void 0,n=void 0,r=this.context,o=(0,a.default)(r).getInstance();function s(e,t,r){var a=n.getBaseURLsFromElement(r);e[t]?o.areEqual(a,e[t].data.baseUrls)||(e[t].data.baseUrls=a,e[t].data.selectedIdx=NaN):e[t]=new i(a)}function u(){t=new i}return e={reset:u,update:function(e){!function(e){var r;!function(){if(!n||!n.hasOwnProperty("getBaseURLsFromElement")||!n.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var i=n.getBaseURLsFromElement(e);o.areEqual(i,t.data.baseUrls)||(t.data.baseUrls=i,t.data.selectedIdx=NaN),e&&e.Period_asArray&&q()(r=e.Period_asArray).call(r,(function(e,r){var i;s(t.children,r,e),e.AdaptationSet_asArray&&q()(i=e.AdaptationSet_asArray).call(i,(function(e,i){var a,o;s(t.children[r].children,i,e),e.Representation_asArray&&q()(a=M()(o=e.Representation_asArray).call(o,n.getRepresentationSortFunction())).call(a,(function(e,n){s(t.children[r].children[i].children,n,e)}))}))}))}(e)},getForPath:function(e){var n=t,r=[n.data];return e&&q()(e).call(e,(function(e){(n=n.children[e])&&r.push(n.data)})),K()(r).call(r,(function(e){return e.baseUrls.length}))},invalidateSelectedIndexes:function(e){!function e(n,r){var i,a=r||t;n(a.data),a.children&&q()(i=a.children).call(i,(function(t){return e(n,t)}))}((function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=NaN)}))},setConfig:function(e){e.adapter&&(n=e.adapter)}},u(),e}s.__dashjs_factory_name="BaseURLTreeModel",n.default=o.default.getClassFactory(s),t.exports=n.default},{216:216,47:47}],148:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(46)),a=r(e(101)),o=r(e(47)),s=r(e(45)),u=r(e(48)),l=e(241),f=r(e(65)),c=r(e(49)),d="dash.js-v"+(0,e(50).getVersionString)();function h(){var e=void 0,t=void 0,n=void 0,r=void 0,o=void 0,h=void 0,p=this.context,g=(0,i.default)(p).getInstance(),m=(0,u.default)(p).getInstance();function v(){n={pr:1,nor:null,st:null,sf:null,sid:""+c.default.generateUuid(),bs:{audio:1,video:1},cid:null,did:d}}function _(){var e={v:1};return e.sid=m.get().streaming.cmcd.sid?m.get().streaming.cmcd.sid:n.sid,e.cid=m.get().streaming.cmcd.cid?m.get().streaming.cmcd.cid:n.cid,e.did=m.get().streaming.cmcd.did?m.get().streaming.cmcd.did:n.did,e.sid='"'+e.sid+'"',e.cid='"'+e.cid+'"',e.did='"'+e.did+'"',isNaN(n.pr)||1===n.pr||null===n.pr||(e.pr=n.pr),n.st&&(e.st=n.st),n.sf&&(e.sf=n.sf),e}function E(e){try{n.pr=e.playbackRate}catch(e){}}function y(t){try{var r=e.getIsDynamic(t.data)?"l":"v",i=t.protocol&&"MSS"===t.protocol?"s":"d";n.st=r,n.sf=i}catch(t){}}function T(e){try{if(e.state&&e.mediaType){var t=null;switch(e.state){case a.default.BUFFER_LOADED:t=null;break;case a.default.BUFFER_EMPTY:h.isSeeking()&&(t=2),t=4}n.bs[e.mediaType]=t}}catch(e){}}return t={getQueryParameter:function(e){try{return m.get().streaming.cmcd&&m.get().streaming.cmcd.enabled?{key:"Common-Media-Client-Data",value:function(e){try{var t=function(){if(!e)return{v:null};var t=ce()(e),n=t.length;return{v:B()(t).call(t,(function(t,r,i){return t+=r+"="+e[r],i<n-1&&(t+=","),t}),"")}}();if("object"==Le()(t))return t.v}catch(t){return null}}(function(e){try{return e.type===l.HTTPRequest.MPD_TYPE?(function(e){try{n.cid=""+c.default.generateHashCode(e.url)}catch(e){}}(e),function(){var e=_();return e.ot="m",e}()):e.type===l.HTTPRequest.MEDIA_SEGMENT_TYPE?function(e){var t=_(),i=function(e){try{var t=e.quality,n=e.mediaInfo.bitrateList;return Ee()(n[t].bandwidth/1e3)}catch(e){return null}}(e),a=function(e){try{return isNaN(e.duration)?null:Math.round(1e3*e.duration)}catch(e){return null}}(e),s="video"===e.mediaType?"v":"audio"===e.mediaType?"a":"fragmentedText"===e.mediaType?"c":null,u=function(e){try{return Math.round(r.getThroughputHistory().getSafeAverageThroughput(e))}catch(e){return null}}(e.mediaType),l=function(e){try{var t=n.pr,r=o.getCurrentBufferLevel(e);return isNaN(t)||isNaN(r)?null:Ee()(r/t*1e3)}catch(e){return null}}(e.mediaType),f=function(e){try{var t=e.mediaType;return null!==n.bs[t]?n.bs[t]:o.getCurrentBufferLevel(t)<e.duration?3:null}catch(e){}}(e);return i&&(t.br=i),s&&(t.ot=s),isNaN(a)||(t.d=a),isNaN(u)||(t.mtp=u),isNaN(l)||(t.dl=l),isNaN(f)||null===f||(t.bs=f),t}(e):e.type===l.HTTPRequest.INIT_SEGMENT_TYPE?function(){var e=_();return e.ot="i",e}():null}catch(e){return null}}(e))}:null}catch(e){return null}},setConfig:function(e){e&&(e.abrController&&(r=e.abrController),e.dashMetrics&&(o=e.dashMetrics),e.playbackController&&(h=e.playbackController))},reset:function(){g.off(a.default.PLAYBACK_RATE_CHANGED,E,this),g.off(a.default.MANIFEST_LOADED,y,this),g.off(a.default.BUFFER_LEVEL_STATE_CHANGED,T,t),v()},initialize:function(){g.on(a.default.PLAYBACK_RATE_CHANGED,E,t),g.on(a.default.MANIFEST_LOADED,y,t),g.on(a.default.BUFFER_LEVEL_STATE_CHANGED,T,t)}},(0,s.default)(p).getInstance().getLogger(t),e=(0,f.default)(p).getInstance(),v(),t}h.__dashjs_factory_name="CmcdModel",n.default=o.default.getSingletonFactory(h),t.exports=n.default},{101:101,241:241,45:45,46:46,47:47,48:48,49:49,50:50,65:65}],149:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(227)),o="loading",s="executed";function u(e){var t,n=(e=e||{}).eventBus,r=e.events,i=e.dashMetrics,u=e.fragmentLoader,l=e.debug,f=e.streamId,c=void 0,d=void 0,h=void 0;function p(e){var t;return!!e&&(t=!1,P()(d).call(d,(function(n){if(u=e,l=n,!isNaN(u.index)&&u.startTime===l.startTime&&u.adaptationIndex===l.adaptationIndex&&u.type===l.type||(o=e,s=n,isNaN(o.index)&&isNaN(s.index)&&o.quality===s.quality)||(i=n,(r=e).action===a.default.ACTION_COMPLETE&&r.action===i.action))return t=!0;var r,i,o,s,u,l})),t)}function g(e){return isNaN(e.duration)?.25:Math.min(e.duration/8,.5)}function m(e){d=K()(d).call(d,(function(t){var n=g(t);return isNaN(t.startTime)||void 0!==e&&t.startTime>=e-n}))}function v(e,t){t<=e+.5||(d=K()(d).call(d,(function(n){var r=g(n);return isNaN(n.startTime)||n.startTime>=t-r||isNaN(n.duration)||n.startTime+n.duration<=e+r})))}function _(e,t){i.addSchedulingInfo(e,t),i.addRequestsQueue(e.mediaType,h,d)}function E(e){e.sender===u&&(Ke()(h).call(h,Ue()(h).call(h,e.request),1),e.response&&!e.error&&d.push(e.request),_(e.request,e.error?"failed":s),n.trigger(r.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}function y(e){e.sender===u&&n.trigger(r.FRAGMENT_LOADING_PROGRESS,{request:e.request,response:e.response,error:e.error,sender:this})}function T(e){e.sender===u&&n.trigger(r.FRAGMENT_LOADING_ABANDONED,{streamId:f,request:e.request,mediaType:e.mediaType})}function S(){d=[],h=[]}return t={getRequests:function(e){var t=e?e.state instanceof Array?e.state:[e.state]:[],n=[];return q()(t).call(t,(function(t){var r=function(e){var t=void 0;switch(e){case o:t=h;break;case s:t=d;break;default:t=[]}return t}(t);n=Z()(n).call(n,function(e,t){return t.hasOwnProperty("time")?[function(e,t,n){for(var r=e.length-1;0<=r;r--){var i=e[r],a=i.startTime,o=a+i.duration;if(n=isNaN(n)?g(i):n,!isNaN(a)&&!isNaN(o)&&a<=t+n&&t-n<o||isNaN(a)&&isNaN(t))return i}return null}(e,t.time,t.threshold)]:K()(e).call(e,(function(e){for(var n in t)if("state"!==n&&t.hasOwnProperty(n)&&e[n]!=t[n])return!1;return!0}))}(r,e))})),n},isFragmentLoaded:p,isFragmentLoadedOrPending:function(e){var t,n=!1,r=0;if(!(n=p(e)))for(r=0;r<h.length;r++)t=h[r],e.url===t.url&&e.startTime===t.startTime&&(n=!0);return n},removeExecutedRequestsBeforeTime:m,removeExecutedRequestsAfterTime:function(e){d=K()(d).call(d,(function(t){return isNaN(t.startTime)||void 0!==e&&t.startTime<e}))},syncExecutedRequestsWithBufferedRange:function(e,t){if(e&&0!==e.length){for(var n=0,r=0,i=e.length;r<i;r++)v(n,e.start(r)),n=e.end(r);0<t&&v(n,t)}else m()},abortRequests:function(){u.abort(),h=[]},executeRequest:function(e){switch(e.action){case a.default.ACTION_COMPLETE:d.push(e),_(e,s),c.debug("STREAM_COMPLETED"),n.trigger(r.STREAM_COMPLETED,{request:e});break;case a.default.ACTION_DOWNLOAD:_(e,o),h.push(e),t=e,n.trigger(r.FRAGMENT_LOADING_STARTED,{streamId:f,request:t}),u.load(t);break;default:c.warn("Unknown request action.")}var t},reset:function(){n.off(r.LOADING_COMPLETED,E,this),n.off(r.LOADING_DATA_PROGRESS,y,this),n.off(r.LOADING_ABANDONED,T,this),u&&u.reset(),S()},addExecutedRequest:function(e){d.push(e)}},c=l.getLogger(t),S(),n.on(r.LOADING_COMPLETED,E,t),n.on(r.LOADING_DATA_PROGRESS,y,t),n.on(r.LOADING_ABANDONED,T,t),t}u.__dashjs_factory_name="FragmentModel";var l=i.default.getClassFactory(u);l.FRAGMENT_MODEL_LOADING=o,l.FRAGMENT_MODEL_EXECUTED=s,l.FRAGMENT_MODEL_CANCELED="canceled",l.FRAGMENT_MODEL_FAILED="failed",i.default.updateClassFactory(u.__dashjs_factory_name,l),n.default=l,t.exports=n.default},{227:227,47:47}],150:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(46)),a=r(e(54)),o=r(e(47));function s(){var e=this.context,t=(0,i.default)(e).getInstance(),n=void 0;return{getValue:function(){return n},setValue:function(e){(n=e)&&t.trigger(a.default.MANIFEST_LOADED,{data:e})}}}s.__dashjs_factory_name="ManifestModel",n.default=o.default.getSingletonFactory(s),t.exports=n.default},{46:46,47:47,54:54}],151:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(96)),a=r(e(47)),o=r(e(108)),s=r(e(189)),u=r(e(48)),l=e(218);function f(){var e,t=void 0,n=void 0,r=void 0,a={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso&ms"},f=this.context,c=(0,u.default)(f).getInstance();function d(e){var t=void 0;for(t=0;t<r.length;t++)if(r[t].rulename===e)return t;return-1}function h(){return c.get().streaming.lowLatencyEnabled?c.get().streaming.liveDelay||3:c.get().streaming.liveDelay}function p(e,n){g(e,n);var r=new i.default;r.schemeIdUri=e,r.value=n,t.push(r)}function g(e,n){(0,l.checkParameterType)(e,"string"),(0,l.checkParameterType)(n,"string"),q()(t).call(t,(function(r,i){r.schemeIdUri===e&&r.value===n&&Ke()(t).call(t,i,1)}))}return e={getABRCustomRules:function(){return r},addABRCustomRule:function(e,t,n){if("string"!=typeof e||e!==s.default.ABANDON_FRAGMENT_RULES&&e!==s.default.QUALITY_SWITCH_RULES||"string"!=typeof t)throw o.default.BAD_ARGUMENT_ERROR;var i=d(t);-1===i?r.push({type:e,rulename:t,rule:n}):(r[i].type=e,r[i].rule=n)},removeABRCustomRule:function(e){var t;e?-1!==(t=d(e))&&Ke()(r).call(r,t,1):r=[]},getStableBufferTime:function(){if(c.get().streaming.lowLatencyEnabled)return.6*h();var e=c.get().streaming.stableBufferTime;return-1<e?e:c.get().streaming.fastSwitchEnabled?20:12},getRetryAttemptsForType:function(e){var t=isNaN(c.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:c.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return c.get().streaming.lowLatencyEnabled?c.get().streaming.retryAttempts[e]*t:c.get().streaming.retryAttempts[e]},getRetryIntervalsForType:function(e){var t=isNaN(c.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:c.get().streaming.retryIntervals.lowLatencyReductionFactor;return c.get().streaming.lowLatencyEnabled?c.get().streaming.retryIntervals[e]/t:c.get().streaming.retryIntervals[e]},getLiveDelay:h,getLiveCatchupLatencyThreshold:function(){try{var e=c.get().streaming.liveCatchupLatencyThreshold;if(null!==e&&!isNaN(e))return e;var t=h(),n=c.get().streaming.liveCatchUpMinDrift,r=!isNaN(t)&&t?isNaN(n)?h():c.get().streaming.liveCatchUpMinDrift+h():NaN;return r&&!isNaN(r)?2*r:NaN}catch(e){return NaN}},addUTCTimingSource:p,removeUTCTimingSource:g,getUTCTimingSources:function(){return t},clearDefaultUTCTimingSources:function(){t=[]},restoreDefaultUTCTimingSources:function(){p(a.scheme,a.value)},setXHRWithCredentialsForType:function e(t,r){var i;t?n[t]=!!r:q()(i=ce()(n)).call(i,(function(t){e(t,r)}))},getXHRWithCredentialsForType:function(e){var t=n[e];return void 0===t?n.default:t},getDefaultUtcTimingSource:function(){return a},reset:function(){}},n={default:!(t=[])},r=[],e}f.__dashjs_factory_name="MediaPlayerModel",n.default=a.default.getSingletonFactory(f),t.exports=n.default},{108:108,189:189,218:218,47:47,48:48,96:96}],152:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(109)),o=r(e(231)),s=e(241),u=r(e(244)),l=r(e(237)),f=r(e(238)),c=r(e(239)),d=r(e(240)),h=e(242),p=r(e(246)),g=r(e(46)),m=r(e(245)),v=r(e(54)),_=r(e(47));function E(e){var t,n=(e=e||{}).settings,r=this.context,_=(0,g.default)(r).getInstance(),E=void 0;function y(){_.trigger(v.default.METRICS_CHANGED)}function T(e){_.trigger(v.default.METRIC_CHANGED,{mediaType:e}),y()}function S(e,t,n){_.trigger(v.default.METRIC_UPDATED,{mediaType:e,metric:t,value:n}),T(e)}function A(e,t,n){_.trigger(v.default.METRIC_ADDED,{mediaType:e,metric:t,value:n}),T(e)}function I(e,t){var n=null;return e&&(E.hasOwnProperty(e)?n=E[e]:t||(n=new o.default,E[e]=n)),n}function R(e,t,r){var i=I(e);null!==i&&(i[t].push(r),i[t].length>n.get().streaming.metricsMaxListDepth&&i[t].shift())}function b(e,t,n){R(e,t,n),A(e,t,n)}return t={clearCurrentMetricsForType:function(e){delete E[e],T(e)},clearAllCurrentMetrics:function(){E={},y()},getMetricsFor:I,addHttpRequest:function e(t,n,r,i,o,u,l,f,c,d,h,p,g,m,v){var _=new s.HTTPRequest;u&&u!==i&&(e(t,null,r,i,o,null,null,f,c,null,null,null,g,null,null),_.actualurl=u),_.tcpid=n,_.type=r,_.url=i,_.range=f,_.trequest=c,_.tresponse=d,_.responsecode=p,_._tfinish=h,_._stream=t,_._mediaduration=g,_._quality=o,_._responseHeaders=m,_._serviceLocation=l,v?q()(v).call(v,(function(e){var t,n,r,i,a;t=_,n=e.s,r=e.d,i=e.b,(a=new s.HTTPRequestTrace).s=n,a.d=r,a.b=i,t.trace.push(a),t.interval||(t.interval=0),t.interval+=r})):(delete _.interval,delete _.trace),b(t,a.default.HTTP_REQUEST,_)},addRepresentationSwitch:function(e,t,n,r,i){var o=new u.default;o.t=t,o.mt=n,o.to=r,i?o.lto=i:delete o.lto,b(e,a.default.TRACK_SWITCH,o)},addBufferLevel:function(e,t,n){var r=new l.default;r.t=t,r.level=n,b(e,a.default.BUFFER_LEVEL,r)},addBufferState:function(e,t,n){var r=new f.default;r.target=n,r.state=t,b(e,a.default.BUFFER_STATE,r)},addDVRInfo:function(e,t,n,r){var i=new c.default;i.time=t,i.range=r,i.manifestInfo=n,b(e,a.default.DVR_INFO,i)},addDroppedFrames:function(e,t){var n=new d.default,r=I(e).DroppedFrames;t&&(n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,0<r.length&&r[r.length-1]==n||b(e,a.default.DROPPED_FRAMES,n))},addSchedulingInfo:function(e,t,n,r,i,o,s,u,l){var f=new p.default;f.mediaType=e,f.t=t,f.type=n,f.startTime=r,f.availabilityStartTime=i,f.duration=o,f.quality=s,f.range=u,f.state=l,b(e,a.default.SCHEDULING_INFO,f)},addRequestsQueue:function(e,t,n){var r=new m.default;r.loadingRequests=t,r.executedRequests=n,I(e).RequestsQueue=r,A(e,a.default.REQUESTS_QUEUE,r)},addManifestUpdate:function(e,t,n,r,o,s,u,l,f,c){var d=new h.ManifestUpdate;d.mediaType=e,d.type=t,d.requestTime=n,d.fetchTime=r,d.availabilityStartTime=o,d.presentationStartTime=s,d.clientTimeOffset=u,d.currentTime=l,d.buffered=f,d.latency=c,R(i.default.STREAM,a.default.MANIFEST_UPDATE,d),A(e,a.default.MANIFEST_UPDATE,d)},updateManifestUpdateInfo:function(e,t){if(e){for(var n in t)e[n]=t[n];S(e.mediaType,a.default.MANIFEST_UPDATE,e)}},addManifestUpdateStreamInfo:function(e,t,n,r,i){var o;e&&((o=new h.ManifestUpdateStreamInfo).id=t,o.index=n,o.start=r,o.duration=i,e.streamInfo.push(o),S(e.mediaType,a.default.MANIFEST_UPDATE_STREAM_INFO,e))},addManifestUpdateRepresentationInfo:function(e,t,n,r,i,o,s,u){var l;e&&e.representationInfo&&((l=new h.ManifestUpdateRepresentationInfo).id=t,l.index=n,l.streamIndex=r,l.mediaType=i,l.startNumber=s,l.fragmentInfoType=u,l.presentationTimeOffset=o,e.representationInfo.push(l),S(e.mediaType,a.default.MANIFEST_UPDATE_TRACK_INFO,e))},addPlayList:function(e){var t;e.trace&&Ne()(e.trace)?q()(t=e.trace).call(t,(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel})):delete e.trace,b(i.default.STREAM,a.default.PLAY_LIST,e)},addDVBErrors:function(e){b(i.default.STREAM,a.default.DVB_ERRORS,e)}},E={},t}E.__dashjs_factory_name="MetricsModel",n.default=_.default.getSingletonFactory(E),t.exports=n.default},{108:108,109:109,231:231,237:237,238:238,239:239,240:240,241:241,242:242,244:244,245:245,246:246,46:46,47:47,54:54}],153:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(236)),a=r(e(47));function o(){var e=void 0;return{initialize:function(t){if(e=new i.default,!t)return null;var n=Ue()(t).call(t,"#");if(-1!==n)for(var r=t.substr(n+1).split("&"),a=0,o=r.length;a<o;++a){var s,u=r[a],l=Ue()(u).call(u,"=");-1!==l&&(s=u.substring(0,l),e.hasOwnProperty(s)&&(e[s]=u.substr(l+1)))}},getURIFragmentData:function(){return e}}}o.__dashjs_factory_name="URIFragmentModel",n.default=a.default.getSingletonFactory(o),t.exports=n.default},{236:236,47:47}],154:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(46)),o=r(e(54)),s=r(e(45));function u(){var e,t=void 0,n=void 0,r=void 0,i=void 0,u=this.context,l=(0,a.default)(u).getInstance(),f=[];function c(){n&&(n.playbackRate=i||1,n.removeEventListener("canplay",c))}function d(e){n&&(n.readyState<=2&&0<e?n.addEventListener("canplay",c):n.playbackRate=e)}function p(){return 0<f.length}function g(){var e;n&&p()&&0===n.playbackRate&&((e=document.createEvent("Event")).initEvent("waiting",!0,!1),n.dispatchEvent(e))}function m(){return n?n.buffered:null}function v(e,t,r,i,a){if(n)for(var o=0;o<n.textTracks.length;o++)if(n.textTracks[o].kind===e&&(!t||n.textTracks[o].label==t)&&n.textTracks[o].language===r&&n.textTracks[o].isTTML===i&&n.textTracks[o].isEmbedded===a)return n.textTracks[o];return null}return e={initialize:function(){l.on(o.default.PLAYBACK_PLAYING,g,this)},setCurrentTime:function(e,t){if(n){if(n.currentTime==e)return;try{e=t?function(e){var t=m(),n=e,r=9999999999;if(t)for(var i=0;i<t.length;i++){var a=t.start(i),o=t.end(i),s=Math.abs(a-e),u=Math.abs(o-e);if(a<=e&&e<=o)return e;s<r&&(r=s,n=a),u<r&&(r=u,n=o)}return n}(e):e,n.currentTime=e}catch(t){0===n.readyState&&t.code===t.INVALID_STATE_ERR&&J()((function(){n.currentTime=e}),400)}}},play:function(){var e;n&&(n.autoplay=!0,(e=n.play())&&e.catch&&void 0!==h.a&&e.catch((function(e){"NotAllowedError"===e.name&&l.trigger(o.default.PLAYBACK_NOT_ALLOWED),t.warn("Caught pending play exception - continuing ("+e+")")})))},isPaused:function(){return n?n.paused:null},pause:function(){n&&(n.pause(),n.autoplay=!1)},isSeeking:function(){return n?n.seeking:null},getTime:function(){return n?n.currentTime:null},getPlaybackRate:function(){return n?n.playbackRate:null},setPlaybackRate:d,getPlayedRanges:function(){return n?n.played:null},getEnded:function(){return n?n.ended:null},setStallState:function(e,t){(t?function(e){var t=void 0;null===e||n.seeking||-1!==Ue()(f).call(f,e)||(f.push(e),n&&1===f.length&&((t=document.createEvent("Event")).initEvent("waiting",!0,!1),i=n.playbackRate,d(0),n.dispatchEvent(t)))}:function(e){var t=Ue()(f).call(f,e),r=void 0;null!==e&&(-1!==t&&Ke()(f).call(f,t,1),n&&!1===p()&&0===n.playbackRate&&(d(i||1),n.paused||((r=document.createEvent("Event")).initEvent("playing",!0,!1),n.dispatchEvent(r))))})(e)},getElement:function(){return n},setElement:function(e){if(!(null==e||e&&/^(VIDEO|AUDIO)$/i.test(e.nodeName)))throw"element is not video or audio DOM type!";(n=e)&&(n.preload="auto")},setSource:function(e){n&&(e?n.src=e:(n.removeAttribute("src"),n.load()))},getSource:function(){return n?n.src:null},getTTMLRenderingDiv:function(){return r},setTTMLRenderingDiv:function(e){(r=e).style.position="absolute",r.style.display="flex",r.style.overflow="hidden",r.style.pointerEvents="none",r.style.top=0,r.style.left=0},getPlaybackQuality:function(){if(!n)return null;var e="webkitDroppedFrameCount"in n&&"webkitDecodedFrameCount"in n,t=null;return"getVideoPlaybackQuality"in n?t=n.getVideoPlaybackQuality():e&&(t={droppedVideoFrames:n.webkitDroppedFrameCount,totalVideoFrames:n.webkitDroppedFrameCount+n.webkitDecodedFrameCount,creationTime:new Date}),t},addEventListener:function(e,t){n&&n.addEventListener(e,t)},removeEventListener:function(e,t){n&&n.removeEventListener(e,t)},getReadyState:function(){return n?n.readyState:NaN},getBufferRange:m,getClientWidth:function(){return n?n.clientWidth:NaN},getClientHeight:function(){return n?n.clientHeight:NaN},getTextTracks:function(){return n?n.textTracks:[]},getTextTrack:v,addTextTrack:function(e,t,r,i,a){if(!n)return null;var o=v(e,t,r,i,a);return o||((o=n.addTextTrack(e,t,r)).isEmbedded=a,o.isTTML=i),o},appendChild:function(e){n&&(n.appendChild(e),void 0!==e.isTTML&&(n.textTracks[n.textTracks.length-1].isTTML=e.isTTML,n.textTracks[n.textTracks.length-1].isEmbedded=e.isEmbedded))},removeChild:function(e){n&&n.removeChild(e)},getVideoWidth:function(){return n?n.videoWidth:NaN},getVideoHeight:function(){return n?n.videoHeight:NaN},getVideoRelativeOffsetTop:function(){var e=n.parentNode.host||n.parentNode;return e?n.getBoundingClientRect().top-e.parentNode.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function(){var e=n.parentNode.host||n.parentNode;return e?n.getBoundingClientRect().left-e.getBoundingClientRect().left:NaN},reset:function(){l.off(o.default.PLAYBACK_PLAYING,g,this)}},t=(0,s.default)(u).getInstance().getLogger(e),e}u.__dashjs_factory_name="VideoModel",n.default=i.default.getSingletonFactory(u),t.exports=n.default},{45:45,46:46,47:47,54:54}],155:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).requestModifier,n=e.boxParser;function r(e,t){e.reader.read().then(t).catch((function(t){e.onerror&&200===e.response.status&&e.onerror(t)}))}function i(e,t){if(1<(e=K()(e).call(e,(function(n){return n.bytes>t/4/e.length}))).length){var n=(r=0,i=(e[e.length-1].ts-e[0].ts)/e.length,q()(e).call(e,(function(t,n){var a,o=e[n+1];o&&(a=o.ts-t.ts,r+=a<i?a:0)})),{v:r});if("object"==Le()(n))return n.v}var r,i;return null}return{load:function(e){var a=new Date,o=e.request,s=new Headers;o.range&&s.append("Range","bytes="+o.range),o.requestStartDate||(o.requestStartDate=a),t&&t.modifyRequestHeader({setRequestHeader:function(e,t){s.append(e,t)}});var u=void 0;"function"==typeof window.AbortController&&(u=new AbortController,(e.abortController=u).signal.onabort=e.onabort);var l={method:e.method,headers:s,credentials:e.withCredentials?"include":void 0,signal:u?u.signal:void 0};fetch(e.url,l).then((function(t){e.response||(e.response={}),e.response.status=t.status,e.response.statusText=t.statusText,e.response.responseURL=t.url,t.ok||e.onerror();var a="",o=!0,s=!1,u=void 0;try{for(var l,f=T()(c()(d=t.headers).call(d));!(o=(l=f.next()).done);o=!0){var d,h=l.value;a+=h+": "+t.headers.get(h)+"\r\n"}}catch(t){s=!0,u=t}finally{try{!o&&f.return&&f.return()}finally{if(s)throw u}}if(e.response.responseHeaders=a,!t.body)return t.arrayBuffer().then((function(t){var n={loaded:(e.response.response=t).byteLength,total:t.byteLength,stream:!1};e.progress(n),e.onload(),e.onend()}));var p=Ee()(t.headers.get("Content-Length"),10),g=0,m=!1,v=new Uint8Array,_=0;e.reader=t.body.getReader();var y=[];r(e,(function t(a){var o,s,u,l=a.value;if(a.done)return v&&(e.progress({loaded:g,total:isNaN(p)?g:p,lengthComputable:!0,time:i(y,g),stream:!0}),e.response.response=v.buffer),e.onload(),void e.onend();l&&0<l.length&&(v=function(e,t){if(0===e.length)return t;var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(v,l),g+=l.length,y.push({ts:E()(),bytes:l.length}),(o=n.findLastTopIsoBoxCompleted(["moov","mdat"],v,_)).found?(s=o.lastCompletedOffset+o.size,u=void 0,v=s===v.length?(u=v,new Uint8Array):(u=new Uint8Array(v.subarray(0,s)),v.subarray(s)),e.progress({data:u.buffer,lengthComputable:!1,noTrace:!0}),_=0):(_=o.lastCompletedOffset,m||(e.progress({lengthComputable:!1,noTrace:!0}),m=!0))),r(e,t)}))})).catch((function(t){e.onerror&&e.onerror(t)}))},abort:function(e){if(e.abortController)e.abortController.abort();else if(e.reader)try{e.reader.cancel(),e.onabort()}catch(e){}},calculateDownloadedTime:i}}a.__dashjs_factory_name="FetchLoader";var o=i.default.getClassFactory(a);n.default=o,t.exports=n.default},{47:47}],156:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Be()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Be()(n,"__esModule",{value:!0});var a=r(e(159)),o=r(e(155)),s=e(241),u=r(e(47)),l=r(e(225)),f=r(e(148)),c=r(e(49));function d(e){e=e||{};var t,n,r=this.context,u=e.errHandler,d=e.dashMetrics,h=e.mediaPlayerModel,p=e.requestModifier,g=e.boxParser,m=e.useFetch||!1,v=e.errors,_=void 0,E=void 0,y=void 0,T=void 0,S=void 0;return t={load:function(e){e.request?function e(t,n){var i=t.request,f=[],v=!0,A=!0,I=new Date,R=I,b=0,M=void 0;if(!p||!d||!u)throw new Error("config object is not correct or missing");function w(e){A=!1,i.requestStartDate=I,i.requestEndDate=new Date,i.firstByteDate=i.firstByteDate||I,i.checkExistenceOnly||(d.addHttpRequest(i,M.response?M.response.responseURL:null,M.response?M.response.status:null,M.response&&M.response.getAllResponseHeaders?M.response.getAllResponseHeaders():M.response?M.response.responseHeaders:[],e?f:null),i.type===s.HTTPRequest.MPD_TYPE&&d.addManifestUpdate(i.type,i.requestStartDate,i.requestEndDate))}function D(){-1!==Ue()(_).call(_,M)&&(Ke()(_).call(_,Ue()(_).call(_,M),1),A&&(w(!1),0<n?function(){n--;var r={config:t};y.push(r),r.timeout=J()((function(){-1!==Ue()(y).call(y,r)&&(Ke()(y).call(y,Ue()(y).call(y,r),1),e(t,n))}),h.getRetryIntervalsForType(i.type))}():(u.error(new l.default(T[i.type],i.url+" is not available",{request:i,response:M.response})),t.error&&t.error(i,"error",M.response.statusText),t.complete&&t.complete(i,M.response.statusText))))}var C,N=void 0,O=(N=m&&window.fetch&&"arraybuffer"===i.responseType&&i.type===s.HTTPRequest.MEDIA_SEGMENT_TYPE?(0,o.default)(r).create({requestModifier:p,boxParser:g}):(0,a.default)(r).create({requestModifier:p}),p.modifyRequestURL(i.url)),L=function(e){try{var t=[],n=S.getQueryParameter(e);return n&&t.push(n),t}catch(e){return[]}}(i),x=(M={url:O=c.default.addAditionalQueryParameterToUrl(O,L),method:i.checkExistenceOnly?s.HTTPRequest.HEAD:s.HTTPRequest.GET,withCredentials:h.getXHRWithCredentialsForType(i.type),request:i,onload:function(){200<=M.response.status&&M.response.status<=299&&(w(!0),t.success&&t.success(M.response.response,M.response.statusText,M.response.responseURL),t.complete&&t.complete(i,M.response.statusText))},onend:D,onerror:D,progress:function(e){var n=new Date;v&&(v=!1,(!e.lengthComputable||e.lengthComputable&&e.total!==e.loaded)&&(i.firstByteDate=n)),e.lengthComputable&&(i.bytesLoaded=e.loaded,i.bytesTotal=e.total),e.noTrace||(f.push({s:R,d:e.time?e.time:n.getTime()-R.getTime(),b:[e.loaded?e.loaded-b:0]}),R=n,b=e.loaded),t.progress&&e&&t.progress(e)},onabort:function(){t.abort&&t.abort(i)},loader:N},(new Date).getTime());isNaN(i.delayLoadingTime)||x>=i.delayLoadingTime?(_.push(M),N.load(M)):(C={httpRequest:M},E.push(C),C.delayTimeout=J()((function(){if(-1!==Ue()(E).call(E,C)){Ke()(E).call(E,Ue()(E).call(E,C),1);try{I=new Date,R=I,_.push(C.httpRequest),N.load(C.httpRequest)}catch(e){C.httpRequest.onerror()}}}),i.delayLoadingTime-x))}(e,h.getRetryAttemptsForType(e.request.type)):e.error&&e.error(e.request,"error")},abort:function(){q()(y).call(y,(function(e){clearTimeout(e.timeout),e.config.request&&e.config.abort&&e.config.abort(e.config.request)})),y=[],q()(E).call(E,(function(e){return clearTimeout(e.delayTimeout)})),E=[],q()(_).call(_,(function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.loader.abort(e)})),_=[]}},_=[],E=[],y=[],S=(0,f.default)(r).getInstance(),i(n={},s.HTTPRequest.MPD_TYPE,v.DOWNLOAD_ERROR_ID_MANIFEST_CODE),i(n,s.HTTPRequest.XLINK_EXPANSION_TYPE,v.DOWNLOAD_ERROR_ID_XLINK_CODE),i(n,s.HTTPRequest.INIT_SEGMENT_TYPE,v.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),i(n,s.HTTPRequest.MEDIA_SEGMENT_TYPE,v.DOWNLOAD_ERROR_ID_CONTENT_CODE),i(n,s.HTTPRequest.INDEX_SEGMENT_TYPE,v.DOWNLOAD_ERROR_ID_CONTENT_CODE),i(n,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,v.DOWNLOAD_ERROR_ID_CONTENT_CODE),i(n,s.HTTPRequest.OTHER_TYPE,v.DOWNLOAD_ERROR_ID_CONTENT_CODE),T=n,t}d.__dashjs_factory_name="HTTPLoader";var h=u.default.getClassFactory(d);n.default=h,t.exports=n.default},{148:148,155:155,159:159,225:225,241:241,47:47,49:49}],157:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(156));function o(){var e=void 0;function t(){e={}}function n(){t()}return n(),{getLoader:function(t){for(var n in e)if(e.hasOwnProperty(n)&&l()(t).call(t,n))return e[n];return a.default},registerLoader:function(t,n){e[t]=n},unregisterLoader:function(t){e[t]&&delete e[t]},unregisterAllLoader:t,reset:n}}o.__dashjs_factory_name="SchemeLoaderFactory";var s=i.default.getSingletonFactory(o);n.default=s,t.exports=n.default},{156:156,47:47}],158:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(157));function o(e){e=e||{};var t=this.context,n=void 0,r=void 0;return n=(0,a.default)(t).getInstance(),{load:function(i){var a=n.getLoader(i&&i.request?i.request.url:null);(r=a(t).create({errHandler:e.errHandler,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,useFetch:e.useFetch||null,dashMetrics:e.dashMetrics,boxParser:e.boxParser?e.boxParser:null,constants:e.constants?e.constants:null,dashConstants:e.dashConstants?e.dashConstants:null,urlUtils:e.urlUtils?e.urlUtils:null,errors:e.errors})).load(i)},abort:function(){r&&r.abort()}}}o.__dashjs_factory_name="URLLoader";var s=i.default.getClassFactory(o);n.default=s,t.exports=n.default},{157:157,47:47}],159:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).requestModifier;return{load:function(e){var n=new Date,r=e.request,i=new XMLHttpRequest;i.open(e.method,e.url,!0),r.responseType&&(i.responseType=r.responseType),r.range&&i.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=n),t&&(i=t.modifyRequestHeader(i)),i.withCredentials=e.withCredentials,i.onload=e.onload,i.onloadend=e.onend,i.onerror=e.onerror,i.onprogress=e.progress,i.onabort=e.onabort,i.send(),e.response=i},abort:function(e){var t=e.response;t.onloadend=t.onerror=t.onprogress=void 0,t.abort()}}}a.__dashjs_factory_name="XHRLoader";var o=i.default.getClassFactory(a);n.default=o,t.exports=n.default},{47:47}],160:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}Be()(n,"__esModule",{value:!0});var i=(function(e,t,n){n&&r(e,n)}(a,0,[{key:"findCencContentProtection",value:function(e){for(var t=null,n=0;n<e.length;++n){var r=e[n];"urn:mpeg:dash:mp4protection:2011"===r.schemeIdUri.toLowerCase()&&"cenc"===r.value.toLowerCase()&&(t=r)}return t}},{key:"getPSSHData",value:function(e){var t=8,n=new DataView(e),r=n.getUint8(t);return t+=20,0<r&&(t+=4+16*n.getUint32(t)),t+=4,Pe()(e).call(e,t)}},{key:"getPSSHForKeySystem",value:function(e,t){var n=a.parsePSSHList(t);return e&&n.hasOwnProperty(e.uuid.toLowerCase())?n[e.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e,t){return"pssh"in e?(e.pssh.__text=e.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),t.decodeArray(e.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(e){if(null==e)return[];for(var t=new DataView(e.buffer||e),n={},r=0;;){var i,a,o=void 0,s=r;if(r>=t.buffer.byteLength)break;if(i=r+t.getUint32(r),r+=4,1886614376===t.getUint32(r))if(r+=4,0===(a=t.getUint8(r))||1===a){var u;r++,r+=3,o="";var l=void 0,f=void 0;for(l=0;l<4;l++)o+=1===(f=t.getUint8(r+l).toString(16)).length?"0"+f:f;for(r+=4,o+="-",l=0;l<2;l++)o+=1===(f=t.getUint8(r+l).toString(16)).length?"0"+f:f;for(r+=2,o+="-",l=0;l<2;l++)o+=1===(f=t.getUint8(r+l).toString(16)).length?"0"+f:f;for(r+=2,o+="-",l=0;l<2;l++)o+=1===(f=t.getUint8(r+l).toString(16)).length?"0"+f:f;for(r+=2,o+="-",l=0;l<6;l++)o+=1===(f=t.getUint8(r+l).toString(16)).length?"0"+f:f;r+=6,o=o.toLowerCase(),t.getUint32(r),r+=4,n[o]=Pe()(u=t.buffer).call(u,s,i),r=i}else r=i;else r=i}return n}}]),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a)}n.default=i,t.exports=n.default},{}],161:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(163)),a=r(e(164)),o=r(e(162)),s=r(e(169)),u=r(e(171)),l=r(e(172)),f=r(e(170)),c=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],d=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function h(){var e=void 0,t=this.context;function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("function"==typeof e[r[ce()(r)[0]]])return r}return null}return e={createProtectionSystem:function(r){var o=null,s=(0,a.default)(t).getInstance();s.setConfig({debug:r.debug,BASE64:r.BASE64}),s.initialize();var h,p,g,m,v,_,E=(g=(p=(h=r).debug).getLogger(e),m=h.eventBus,v=h.errHandler,(_=h.videoModel?h.videoModel.getElement():null)&&void 0===_.onencrypted||_&&void 0===_.mediaKeys?n(_,d)?(g.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,l.default)(t).create({debug:p,eventBus:m,events:h.events,api:n(_,d)})):n(_,c)?(g.info("EME detected on this user agent! (ProtectionModel_01b)"),(0,f.default)(t).create({debug:p,eventBus:m,errHandler:v,events:h.events,api:n(_,c)})):(g.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(g.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,u.default)(t).create({debug:p,eventBus:m,events:h.events})));return!o&&E&&(o=(0,i.default)(t).create({protectionModel:E,protectionKeyController:s,eventBus:r.eventBus,debug:r.debug,events:r.events,BASE64:r.BASE64,constants:r.constants}),r.capabilities.setEncryptedMediaSupported(!0)),o}}}h.__dashjs_factory_name="Protection";var p=dashjs.FactoryMaker.getClassFactory(h);p.events=o.default,p.errors=s.default,dashjs.FactoryMaker.updateClassFactory(h.__dashjs_factory_name,p),n.default=p,t.exports=n.default},{162:162,163:163,164:164,169:169,170:170,171:171,172:172}],162:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r;function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}}(X()(i.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}var a=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(i,((r=e(55))&&r.__esModule?r:{default:r}).default),i);n.default=a,t.exports=n.default},{55:55}],163:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(160)),a=r(e(182)),o=r(e(181)),s=r(e(169)),u=r(e(225));function l(e){var t,n=(e=e||{}).protectionKeyController,r=e.protectionModel,l=e.eventBus,f=e.events,c=e.debug,d=e.BASE64,h=e.constants,p=[],g=void 0,m=void 0,v=void 0,_=void 0,E=void 0,y=void 0,T=void 0;function S(){if(!(l&&l.hasOwnProperty("on")&&n&&n.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function A(e,t){var a=i.default.getPSSHForKeySystem(T,e),o=b(T);if(a){for(var c=r.getAllInitData(),d=0;d<c.length;d++)if(n.initDataEquals(a,c[d]))return void g.warn("DRM: Ignoring initData because we have already seen it!");try{r.createKeySession(a,o,D(T),t)}catch(e){l.trigger(f.KEY_SESSION_CREATED,{data:null,error:new u.default(s.default.KEY_SESSION_CREATED_ERROR_CODE,s.default.KEY_SESSION_CREATED_ERROR_MESSAGE+e.message)})}}else e?r.createKeySession(e,o,D(T),t):l.trigger(f.KEY_SESSION_CREATED,{data:null,error:new u.default(s.default.KEY_SESSION_CREATED_ERROR_CODE,s.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(T?T.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function I(e,t){S(),r.loadKeySession(e,t,D(T))}function R(e){S(),e?(r.setMediaElement(e),l.on(f.NEED_KEY,x,this)):null===e&&(r.setMediaElement(e),l.off(f.NEED_KEY,x,this))}function b(e){var t,n=null;return e&&(t=e.systemString,_&&(n=t in _?_[t]:null)),n}function w(e){var t=b(e),n=[],r=[],i=t&&t.audioRobustness&&0<t.audioRobustness.length?t.audioRobustness:y,s=t&&t.videoRobustness&&0<t.videoRobustness.length?t.videoRobustness:y,u=D(e),l=t&&t.distinctiveIdentifier?t.distinctiveIdentifier:"optional",f=t&&t.persistentState?t.persistentState:"temporary"===u?"optional":"required";return q()(v).call(v,(function(e){e.type===h.AUDIO?n.push(new a.default(e.codec,i)):e.type===h.VIDEO&&r.push(new a.default(e.codec,s))})),new o.default(n,r,l,f,[u])}function D(e){var t=b(e);return t&&t.sessionType?t.sessionType:E}function C(e,t){var i=this,a=[];e=M()(e).call(e,(function(t,n){return(_&&_[t.ks.systemString]&&0<=_[t.ks.systemString].priority?_[t.ks.systemString].priority:e.length)-(_&&_[n.ks.systemString]&&0<=_[n.ks.systemString].priority?_[n.ks.systemString].priority:e.length)}));var o,c=void 0;if(T)for(c=0;c<e.length&&(T!==e[c].ks||"break"!=(a.push({ks:e[c].ks,configs:[w(T)]}),l.on(f.KEY_SYSTEM_ACCESS_COMPLETE,(function n(r){l.off(f.KEY_SYSTEM_ACCESS_COMPLETE,n,i),r.error?t||l.trigger(f.KEY_SYSTEM_SELECTED,{error:new u.default(s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+r.error)}):(g.info("DRM: KeySystem Access Granted"),l.trigger(f.KEY_SYSTEM_SELECTED,{data:r.data}),e[c].sessionId?I(e[c].sessionId,e[c].initData):e[c].initData&&A(e[c].initData,e[c].cdmData))}),i),r.requestKeySystemAccess(a),"break"));c++);else void 0===T?function(){T=null,m.push(e);for(var h=0;h<e.length;h++)a.push({ks:e[h].ks,configs:[w(e[h].ks)]});function p(e){l.off(f.KEY_SYSTEM_ACCESS_COMPLETE,p,i),e.error?(T=void 0,l.off(f.INTERNAL_KEY_SYSTEM_SELECTED,o,i),t||l.trigger(f.KEY_SYSTEM_SELECTED,{data:null,error:new u.default(s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+e.error)})):(v=e.data,g.info("DRM: KeySystem Access Granted ("+v.keySystem.systemString+")!  Selecting key system..."),r.selectKeySystem(v))}var v=void 0;o=function e(a){if(l.off(f.INTERNAL_KEY_SYSTEM_SELECTED,e,i),l.off(f.KEY_SYSTEM_ACCESS_COMPLETE,p,i),a.error)T=void 0,t||l.trigger(f.KEY_SYSTEM_SELECTED,{data:null,error:new u.default(s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+a.error)});else{if(!r)return;T=r.getKeySystem(),l.trigger(f.KEY_SYSTEM_SELECTED,{data:v});var o=b(T);o&&o.serverCertificate&&0<o.serverCertificate.length&&r.setServerCertificate(d.decodeArray(o.serverCertificate).buffer);for(var h,g=0;g<m.length;g++)for(c=0;c<m[g].length;c++)if(T===m[g][c].ks){n.isClearKey(T)&&o&&o.hasOwnProperty("clearkeys")&&(h={kids:ce()(o.clearkeys)},m[g][c].initData=(new TextEncoder).encode(Ve()(h))),m[g][c].sessionId?I(m[g][c].sessionId,m[g][c].initData):null!==m[g][c].initData&&A(m[g][c].initData,m[g][c].cdmData);break}}},l.on(f.INTERNAL_KEY_SYSTEM_SELECTED,o,i),l.on(f.KEY_SYSTEM_ACCESS_COMPLETE,p,i),r.requestKeySystemAccess(a)}():m.push(e)}function N(e,t){l.trigger(f.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function O(e){e.error?l.trigger(f.KEY_STATUSES_CHANGED,{data:null,error:e.error}):g.debug("DRM: key status = "+e.status)}function L(e){g.debug("DRM: onKeyMessage");var t=e.data;l.trigger(f.KEY_MESSAGE,{data:t});var a=t.messageType?t.messageType:"license-request",o=t.message,c=t.sessionToken,d=b(T),h=T?T.systemString:null,p=n.getLicenseServer(T,d,a),m={sessionToken:c,messageType:a};if(o&&0!==o.byteLength){if(!p)return g.debug("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+c.getSessionID()),void N(m);if(n.isClearKey(T)){var v=n.processClearKeyLicenseRequest(T,d,o);if(v)return g.debug("DRM: ClearKey license request handled by application!"),N(m),void r.updateKeySession(c,v)}var _,E,y,S,A,I,R,M,w,D=null;d&&d.serverURL?"string"==typeof(_=d.serverURL)&&""!==_?D=_:"object"==Le()(_)&&_.hasOwnProperty(a)&&(D=_[a]):D=d&&d.laURL&&""!==d.laURL?d.laURL:(D=T.getLicenseServerURLFromInitData(i.default.getPSSHData(c.initData)))||e.data.laURL,(D=p.getServerURLFromMessage(D,o,a))?(y=!(E={}),S=function(e){if(e)for(var t in e)"authorization"===t.toLowerCase()&&(y=!0),E[t]=e[t]},d&&S(d.httpRequestHeaders),S(T.getRequestHeadersFromMessage(o)),d&&"boolean"==typeof d.withCredentials&&(y=d.withCredentials),A=function(e,t,n,r){var i=e.response?p.getErrorResponse(e.response,n,r):"NONE";N(t,new u.default(s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+n+' update, XHR complete. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState+".  Response is "+i))},I=T.getLicenseRequestFromMessage(o),R=p.getHTTPMethod(a),M=p.getResponseType(h,a),w=d&&!isNaN(d.httpTimeout)?d.httpTimeout:8e3,function e(t,n,r,i,a,o,s,u,l,f,c){var d=new XMLHttpRequest;for(var h in d.open(r,t,!0),d.responseType=i,d.withCredentials=a,0<u&&(d.timeout=u),n)d.setRequestHeader(h,n[h]);var p=function(){s--,J()((function(){e(t,n,r,i,a,o,s,u,l,f,c)}),1e3)};d.onload=function(){200===this.status||s<=0?l(this):(g.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+s),p())},d.ontimeout=d.onerror=function(){s<=0?c(this):(g.warn("License request network request failed . Retrying it... Pending retries: "+s),p())},d.onabort=function(){f(this)},d.send(o)}(D,E,R,M,y,I,3,w,(function(e){var t;r&&(200===e.status&&null!==(t=p.getLicenseMessage(e.response,h,a))?(N(m),r.updateKeySession(c,t)):A(e,m,h,a))}),(function(e){N(m,new u.default(s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+h+' update, XHR aborted. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))}),(function(e){N(m,new u.default(s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+h+' update, XHR error. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))}))):N(m,new u.default(s.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}else N(m,new u.default(s.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function x(e,t){if(g.debug("DRM: onNeedKey"),"cenc"===e.key.initDataType)if(0===v.length&&(g.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(t=void 0===t?1:t+1)<5))p.push(J()((function(){x(e,t)}),500));else{var a=e.key.initData;if(ArrayBuffer.isView(a)&&(a=a.buffer),T){var o=i.default.getPSSHForKeySystem(T,a);if(o)for(var s=r.getAllInitData(),u=0;u<s.length;u++)if(n.initDataEquals(o,s[u]))return void g.warn("DRM: Ignoring initData because we have already seen it!")}g.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(a)));var l=n.getSupportedKeySystems(a,_);0!==l.length?C(l,!1):g.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!")}else g.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType)}return t={initializeForMedia:function(e){if(!e)throw new Error("mediaInfo can not be null or undefined");S(),l.on(f.INTERNAL_KEY_MESSAGE,L,this),l.on(f.INTERNAL_KEY_STATUS_CHANGED,O,this),v.push(e);var t=n.getSupportedKeySystemsFromContentProtection(e.contentProtection);t&&0<t.length&&C(t,!0)},createKeySession:A,loadKeySession:I,removeKeySession:function(e){S(),r.removeKeySession(e)},closeKeySession:function(e){S(),r.closeKeySession(e)},setServerCertificate:function(e){S(),r.setServerCertificate(e)},setMediaElement:R,setSessionType:function(e){E=e},setRobustnessLevel:function(e){y=e},setProtectionData:function(e){_=e,n.setProtectionData(e)},getSupportedKeySystemsFromContentProtection:function(e){return S(),n.getSupportedKeySystemsFromContentProtection(e)},getKeySystems:function(){return n?n.getKeySystems():[]},setKeySystems:function(e){n&&n.setKeySystems(e)},stop:function(){r&&r.stop()},reset:function(){S(),l.off(f.INTERNAL_KEY_MESSAGE,L,this),l.off(f.INTERNAL_KEY_STATUS_CHANGED,O,this),R(null),T=void 0,r&&(r.reset(),r=null),q()(p).call(p,(function(e){return clearTimeout(e)})),p=[],v=[]}},g=c.getLogger(t),m=[],v=[],E="temporary",y="",t}l.__dashjs_factory_name="ProtectionController",n.default=dashjs.FactoryMaker.getClassFactory(l),t.exports=n.default},{160:160,169:169,181:181,182:182,225:225}],164:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(160)),a=r(e(165)),o=r(e(167)),s=r(e(168)),u=r(e(166)),l=r(e(174)),f=r(e(175)),c=r(e(176)),d=r(e(173)),h=r(e(110));function p(){var e=this.context,t=void 0,n=void 0,r=void 0,p=void 0,g=void 0,m=void 0,v=void 0;return t={initialize:function(){p=[];var t=(0,u.default)(e).getInstance({BASE64:g});p.push(t),t=(0,s.default)(e).getInstance({BASE64:g}),p.push(t),t=(0,a.default)(e).getInstance({BASE64:g}),p.push(t),m=t,t=(0,o.default)(e).getInstance({BASE64:g,debug:n}),p.push(t),v=t},setProtectionData:function(e){for(var t,n,r=0;r<p.length;r++){var i=p[r];i.hasOwnProperty("init")&&i.init((t=i.systemString,n=void 0,n=null,e&&(n=t in e?e[t]:null),n))}},isClearKey:function(e){return e===m||e===v},initDataEquals:function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new Uint8Array(e),r=new Uint8Array(t),i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0},getKeySystems:function(){return p},setKeySystems:function(e){p=e},getKeySystemBySystemString:function(e){for(var t=0;t<p.length;t++)if(p[t].systemString===e)return p[t];return null},getSupportedKeySystemsFromContentProtection:function(e){var t,n=void 0,r=void 0,i=void 0,a=void 0,o=[];if(e)for(i=0;i<p.length;++i)for(r=p[i],a=0;a<e.length;++a)(n=e[a]).schemeIdUri.toLowerCase()===r.schemeIdURI&&(t=r.getInitData(n),o.push({ks:p[i],initData:t,cdmData:r.getCDMData(),sessionId:r.getSessionId(n)}));return o},getSupportedKeySystems:function(e,t){for(var n,r,a=[],o=i.default.parsePSSHList(e),s=void 0,u=0;u<p.length;++u)n=(s=p[u]).systemString,r=!t||n in t,s.uuid in o&&r&&a.push({ks:s,initData:o[s.uuid],cdmData:s.getCDMData(),sessionId:s.getSessionId()});return a},getLicenseServer:function(t,n,r){if("license-release"===r||"individualization-request"===r)return null;var i=null;return n&&n.hasOwnProperty("drmtoday")?i=(0,l.default)(e).getInstance({BASE64:g}):t.systemString===h.default.WIDEVINE_KEYSTEM_STRING?i=(0,c.default)(e).getInstance():t.systemString===h.default.PLAYREADY_KEYSTEM_STRING?i=(0,f.default)(e).getInstance():t.systemString===h.default.CLEARKEY_KEYSTEM_STRING&&(i=(0,d.default)(e).getInstance()),i},processClearKeyLicenseRequest:function(e,t,n){try{return e.getClearKeysFromProtectionData(t,n)}catch(e){return r.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(e){e&&(e.debug&&(n=e.debug,r=n.getLogger(t)),e.BASE64&&(g=e.BASE64))}}}p.__dashjs_factory_name="ProtectionKeyController",n.default=dashjs.FactoryMaker.getSingletonFactory(p),t.exports=n.default},{110:110,160:160,165:165,166:166,167:167,168:168,173:173,174:174,175:175,176:176}],165:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(179)),a=r(e(177)),o=r(e(160)),s=r(e(110)),u=s.default.CLEARKEY_KEYSTEM_STRING;function l(e){var t=(e=e||{}).BASE64;return{uuid:"e2719d58-a985-b3c9-781a-b030af78d30e",schemeIdURI:"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e",systemString:u,getInitData:function(e){return o.default.parseInitDataFromContentProtection(e,t)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:function(e,t){var n=null;if(e){for(var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),o=[],s=0;s<r.kids.length;s++){var u=r.kids[s],l=e.clearkeys&&e.clearkeys.hasOwnProperty(u)?e.clearkeys[u]:null;if(!l)throw new Error("DRM: ClearKey keyID ("+u+") is not known!");o.push(new i.default(u,l))}n=new a.default(o)}return n}}}l.__dashjs_factory_name="KeySystemClearKey",n.default=dashjs.FactoryMaker.getSingletonFactory(l),t.exports=n.default},{110:110,160:160,177:177,179:179}],166:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(160)),a=r(e(110)),o=a.default.PLAYREADY_KEYSTEM_STRING,s=void 0;function u(e){var t="utf-16",n=(e=e||{}).BASE64;function r(){if(!n||!n.hasOwnProperty("decodeArray")||!n.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:"9a04f079-9840-4286-ab92-e65be0885f95",schemeIdURI:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",systemString:o,getInitData:function(e){var t,a,o,s=new Uint8Array([112,115,115,104,0,0,0,0]),u=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),l=0,f=null,c=void 0,d=void 0;if(r(),!e)return null;if("pssh"in e)return i.default.parseInitDataFromContentProtection(e,n);if("pro"in e)f=n.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;f=n.decodeArray(e.prheader.__text)}return t=f.length,a=4+s.length+u.length+4+t,o=new ArrayBuffer(a),c=new Uint8Array(o),(d=new DataView(o)).setUint32(0,a),l+=4,c.set(s,4),l+=s.length,c.set(u,l),l+=u.length,d.setUint32(l,t),l+=4,c.set(f,l),c.buffer},getRequestHeadersFromMessage:function(e){for(var n=void 0,r={},i=new DOMParser,a=new("utf-16"===t?Uint16Array:Uint8Array)(e),o=String.fromCharCode.apply(null,a),s=(n=i.parseFromString(o,"application/xml")).getElementsByTagName("name"),u=n.getElementsByTagName("value"),l=0;l<s.length;l++)r[s[l].childNodes[0].nodeValue]=u[l].childNodes[0].nodeValue;return r.hasOwnProperty("Content")&&(r["Content-Type"]=r.Content,delete r.Content),r.hasOwnProperty("Content-Type")||(r["Content-Type"]="text/xml; charset=utf-8"),r},getLicenseRequestFromMessage:function(e){var i=null,a=new DOMParser,o=new("utf-16"===t?Uint16Array:Uint8Array)(e);r();var s=String.fromCharCode.apply(null,o),u=a.parseFromString(s,"application/xml");if(!u.getElementsByTagName("PlayReadyKeyMessage")[0])return e;var l=u.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return l&&(i=n.decode(l)),i},getLicenseServerURLFromInitData:function(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),r=6,i=new DOMParser,a=0;a<n;a++){var o=t.getUint16(r,!0);r+=2;var s=t.getUint16(r,!0);if(r+=2,1===o){var u=Pe()(e).call(e,r,r+s),l=String.fromCharCode.apply(null,new Uint16Array(u)),f=i.parseFromString(l,"application/xml");if(f.getElementsByTagName("LA_URL")[0]){var c=f.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(c)return c}if(f.getElementsByTagName("LUI_URL")[0]){var d=f.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(d)return d}}else r+=s}return null},getCDMData:function(){var e=void 0,t=void 0,i=void 0,a=void 0;if(r(),s&&s.cdmData){for(e=[],a=0;a<s.cdmData.length;++a)e.push(s.cdmData.charCodeAt(a)),e.push(0);for(e=String.fromCharCode.apply(null,e),e=n.encode(e),t='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",e),i=[],a=0;a<t.length;++a)i.push(t.charCodeAt(a)),i.push(0);return new Uint8Array(i).buffer}return null},getSessionId:function(e){return s&&s.sessionId?s.sessionId:e&&e.sessionId?e.sessionId:null},setPlayReadyMessageFormat:function(e){if("utf-8"!==e&&"utf-16"!==e)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');t=e},init:function(e){e&&(s=e)}}}u.__dashjs_factory_name="KeySystemPlayReady",n.default=dashjs.FactoryMaker.getSingletonFactory(u),t.exports=n.default},{110:110,160:160}],167:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(179)),a=r(e(177)),o=r(e(160)),s=r(e(110)),u=s.default.CLEARKEY_KEYSTEM_STRING;function l(e){var t=e.BASE64,n=e.debug.getLogger(void 0);return{uuid:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",schemeIdURI:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",systemString:u,getInitData:function(e){return o.default.parseInitDataFromContentProtection(e,t)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:function(e,t){var r=null;if(e){for(var o=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),s=[],u=0;u<o.kids.length;u++){var l=o.kids[u],f=e.clearkeys&&e.clearkeys.hasOwnProperty(l)?e.clearkeys[l]:null;if(!f)throw new Error("DRM: ClearKey keyID ("+l+") is not known!");s.push(new i.default(l,f))}r=new a.default(s),n.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return r}}}l.__dashjs_factory_name="KeySystemW3CClearKey",n.default=dashjs.FactoryMaker.getSingletonFactory(l),t.exports=n.default},{110:110,160:160,177:177,179:179}],168:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(160)),a=r(e(110)),o=a.default.WIDEVINE_KEYSTEM_STRING;function s(e){var t=null,n=(e=e||{}).BASE64;return{uuid:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",schemeIdURI:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",systemString:o,init:function(e){e&&(t=e)},getInitData:function(e){return i.default.parseInitDataFromContentProtection(e,n)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(e){return t&&t.sessionId?t.sessionId:e&&e.sessionId?e.sessionId:null}}}s.__dashjs_factory_name="KeySystemWidevine",n.default=dashjs.FactoryMaker.getSingletonFactory(s),t.exports=n.default},{110:110,160:160}],169:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r;function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}}(X()(i.prototype),"constructor",this).call(this),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}var a=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(i,((r=e(52))&&r.__esModule?r:{default:r}).default),i);n.default=a,t.exports=n.default},{52:52}],170:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(164)),a=r(e(183)),o=r(e(225)),s=r(e(178)),u=r(e(181)),l=r(e(180)),f=r(e(169));function c(e){e=e||{};var t,n=this.context,r=e.eventBus,c=e.events,d=e.debug,h=e.api,p=e.errHandler,g=void 0,m=void 0,v=void 0,_=void 0,E=void 0,y=void 0,T=void 0,S=void 0;function A(){m&&b();for(var e=0;e<y.length;e++)I(y[e]);r.trigger(c.TEARDOWN_COMPLETE)}function I(e){try{m[h.cancelKeyRequest](v.systemString,e.sessionID)}catch(t){r.trigger(c.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.sessionID+") "+t.message})}}function R(e,t){if(t&&e){for(var n=e.length,r=0;r<n;r++)if(e[r].sessionID==t)return e[r];return null}return null}function b(){m.removeEventListener(h.keyerror,S),m.removeEventListener(h.needkey,S),m.removeEventListener(h.keymessage,S),m.removeEventListener(h.keyadded,S)}return t={getAllInitData:function(){for(var e=[],t=0;t<E.length;t++)e.push(E[t].initData);for(t=0;t<y.length;t++)e.push(y[t].initData);return e},requestKeySystemAccess:function(e){for(var t=(t=m)||document.createElement("video"),n=!1,i=0;i<e.length;i++)for(var a=e[i].ks.systemString,o=e[i].configs,s=null,f=0;f<o.length;f++){var d=o[f].videoCapabilities;if(d&&0!==d.length){s=[];for(var h=0;h<d.length;h++)""!==t.canPlayType(d[h].contentType,a)&&s.push(d[h])}if(s&&(!s||0!==s.length)){n=!0;var p=new u.default(null,s),g=_.getKeySystemBySystemString(a);r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{data:new l.default(g,p)});break}}n||r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return v},selectKeySystem:function(e){v=e.keySystem,r.trigger(c.INTERNAL_KEY_SYSTEM_SELECTED)},setMediaElement:function(e){if(m!==e){if(m){b();for(var t=0;t<y.length;t++)I(y[t]);y=[]}(m=e)&&(m.addEventListener(h.keyerror,S),m.addEventListener(h.needkey,S),m.addEventListener(h.keymessage,S),m.addEventListener(h.keyadded,S),r.trigger(c.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(e){if(!v)throw new Error("Can not create sessions until you have selected a key system");if(T||0===y.length){var t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return E.push(t),m[h.generateKeyRequest](v.systemString,new Uint8Array(e)),t}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(e,t){var n=e.sessionID;if(_.isClearKey(v))for(var r=0;r<t.keyPairs.length;r++)m[h.addKey](v.systemString,t.keyPairs[r].key,t.keyPairs[r].keyID,n);else m[h.addKey](v.systemString,new Uint8Array(t),new Uint8Array(e.initData),n)},closeKeySession:I,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:A,reset:A},g=d.getLogger(t),E=[],y=[],_=(v=m=null,i.default)(n).getInstance(),S={handleEvent:function(e){var t,n=null;switch(e.type){case h.needkey:var i=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;r.trigger(c.NEED_KEY,{key:new a.default(i,"cenc")});break;case h.keyerror:if(n=(n=R(y,e.sessionId))||R(E,e.sessionId)){var u=f.default.MEDIA_KEYERR_CODE,l="";switch(e.errorCode.code){case 1:u=f.default.MEDIA_KEYERR_UNKNOWN_CODE,l+="MEDIA_KEYERR_UNKNOWN - "+f.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:u=f.default.MEDIA_KEYERR_CLIENT_CODE,l+="MEDIA_KEYERR_CLIENT - "+f.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:u=f.default.MEDIA_KEYERR_SERVICE_CODE,l+="MEDIA_KEYERR_SERVICE - "+f.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:u=f.default.MEDIA_KEYERR_OUTPUT_CODE,l+="MEDIA_KEYERR_OUTPUT - "+f.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:u=f.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,l+="MEDIA_KEYERR_HARDWARECHANGE - "+f.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:u=f.default.MEDIA_KEYERR_DOMAIN_CODE,l+="MEDIA_KEYERR_DOMAIN - "+f.default.MEDIA_KEYERR_DOMAIN_MESSAGE}l+="  System Code = "+e.systemCode,r.trigger(c.KEY_ERROR,{data:new o.default(u,l,n)})}else g.error("No session token found for key error");break;case h.keyadded:(n=(n=R(y,e.sessionId))||R(E,e.sessionId))?(g.debug("DRM: Key added."),r.trigger(c.KEY_ADDED,{data:n})):g.debug("No session token found for key added");break;case h.keymessage:(T=null!==e.sessionId&&void 0!==e.sessionId)?!(n=R(y,e.sessionId))&&0<E.length&&(n=E.shift(),y.push(n),n.sessionID=e.sessionId,r.trigger(c.KEY_SESSION_CREATED,{data:n})):0<E.length&&(n=E.shift(),y.push(n),0!==E.length&&p.error(new o.default(f.default.MEDIA_KEY_MESSAGE_ERROR_CODE,f.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),n?(t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message,n.keyMessage=t,r.trigger(c.INTERNAL_KEY_MESSAGE,{data:new s.default(n,t,e.defaultURL)})):g.warn("No session token found for key message")}}},t}c.__dashjs_factory_name="ProtectionModel_01b",n.default=dashjs.FactoryMaker.getClassFactory(c),t.exports=n.default},{164:164,169:169,178:178,180:180,181:181,183:183,225:225}],171:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(164)),a=r(e(183)),o=r(e(169)),s=r(e(225)),u=r(e(178)),l=r(e(180)),f=r(e(110));function c(e){e=e||{};var t,n=this.context,r=e.eventBus,c=e.events,d=e.debug,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,E=void 0;function y(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function T(e){for(var t=0;t<v.length;t++)if(v[t]===e){Ke()(v).call(v,t,1);break}}function S(e){var t=void 0,n=void 0;return e&&0<e.length&&(e[0]&&("string"==typeof e[0]?t=e[0]:n=e[0]),e[1]&&("string"==typeof e[1]?t=e[1]:n=e[1])),{status:t,keyId:n}}function A(e,t,n,i){var a={session:e,initData:t,sessionId:i,handleEvent:function(e){var t;switch(e.type){case"keystatuseschange":r.trigger(c.KEY_STATUSES_CHANGED,{data:this}),q()(t=e.target.keyStatuses).call(t,(function(){var e=S(arguments);switch(e.status){case"expired":r.trigger(c.INTERNAL_KEY_STATUS_CHANGED,{error:new s.default(o.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,o.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)});break;default:r.trigger(c.INTERNAL_KEY_STATUS_CHANGED,e)}}));break;case"message":var n=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;r.trigger(c.INTERNAL_KEY_MESSAGE,{data:new u.default(this,n,void 0,e.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getUsable:function(){var t,n=!1;return q()(t=e.keyStatuses).call(t,(function(){"usable"===S(arguments).status&&(n=!0)})),n},getSessionType:function(){return n}};return e.addEventListener("keystatuseschange",a),e.addEventListener("message",a),e.closed.then((function(){T(a),h.debug("DRM: Session closed.  SessionID = "+a.getSessionID()),r.trigger(c.KEY_SESSION_CLOSED,{data:a.getSessionID()})})),v.push(a),a}return t={getAllInitData:function(){for(var e=[],t=0;t<v.length;t++)v[t].initData&&e.push(v[t].initData);return e},requestKeySystemAccess:function(e){!function e(t,n){void 0!==navigator.requestMediaKeySystemAccess&&"function"==typeof navigator.requestMediaKeySystemAccess?function(n){var i=t[n].ks,a=t[n].configs,o=i.systemString;o===f.default.PLAYREADY_KEYSTEM_STRING&&"required"===a[0].persistentState&&(o+=".recommendation"),navigator.requestMediaKeySystemAccess(o,a).then((function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,n=new l.default(i,t);n.mksa=e,r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{data:n})})).catch((function(i){++n<t.length?e(t,n):r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! "+i.message})}))}(n):r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Insecure origins are not allowed"})}(e,0)},getKeySystem:function(){return p},selectKeySystem:function(e){e.mksa.createMediaKeys().then((function(t){p=e.keySystem,m=t,g?g.setMediaKeys(m).then((function(){r.trigger(c.INTERNAL_KEY_SYSTEM_SELECTED)})):r.trigger(c.INTERNAL_KEY_SYSTEM_SELECTED)})).catch((function(){r.trigger(c.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})}))},setMediaElement:function(e){g!==e&&(g&&(g.removeEventListener("encrypted",_),g.setMediaKeys&&g.setMediaKeys(null)),(g=e)&&(g.addEventListener("encrypted",_),g.setMediaKeys&&m&&g.setMediaKeys(m)))},setServerCertificate:function(e){if(!p||!m)throw new Error("Can not set server certificate until you have selected a key system");m.setServerCertificate(e).then((function(){h.info("DRM: License server certificate successfully updated."),r.trigger(c.SERVER_CERTIFICATE_UPDATED)})).catch((function(e){r.trigger(c.SERVER_CERTIFICATE_UPDATED,{error:new s.default(o.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,o.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+e.name)})}))},createKeySession:function(e,t,n){if(!p||!m)throw new Error("Can not create sessions until you have selected a key system");var i=m.createSession(n),a=A(i,e,n),u=this.getKeySystem().systemString===f.default.CLEARKEY_KEYSTEM_STRING&&t&&t.clearkeys?"keyids":"cenc";i.generateRequest(u,e).then((function(){h.debug("DRM: Session created.  SessionID = "+a.getSessionID()),r.trigger(c.KEY_SESSION_CREATED,{data:a})})).catch((function(e){T(a),r.trigger(c.KEY_SESSION_CREATED,{data:null,error:new s.default(o.default.KEY_SESSION_CREATED_ERROR_CODE,o.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+e.name)})}))},updateKeySession:function(e,t){var n=e.session;E.isClearKey(p)&&(t=t.toJWK()),n.update(t).catch((function(t){r.trigger(c.KEY_ERROR,{data:new s.default(o.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+t.name,e)})}))},loadKeySession:function(e,t,n){if(!p||!m)throw new Error("Can not load sessions until you have selected a key system");for(var i=0;i<v.length;i++)if(e===v[i].sessionId)return void h.warn("DRM: Ignoring session ID because we have already seen it!");var a=m.createSession(n),u=A(a,t,n,e);a.load(e).then((function(t){t?(h.debug("DRM: Session loaded.  SessionID = "+u.getSessionID()),r.trigger(c.KEY_SESSION_CREATED,{data:u})):(T(u),r.trigger(c.KEY_SESSION_CREATED,{data:null,error:new s.default(o.default.KEY_SESSION_CREATED_ERROR_CODE,o.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+e+")")}))})).catch((function(t){T(u),r.trigger(c.KEY_SESSION_CREATED,{data:null,error:new s.default(o.default.KEY_SESSION_CREATED_ERROR_CODE,o.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+e+")! "+t.name)})}))},removeKeySession:function(e){e.session.remove().then((function(){h.debug("DRM: Session removed.  SessionID = "+e.getSessionID()),r.trigger(c.KEY_SESSION_REMOVED,{data:e.getSessionID()})}),(function(t){r.trigger(c.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionID()+"). "+t.name})}))},closeKeySession:function(e){y(e).catch((function(t){T(e),r.trigger(c.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionID()+") "+t.name})}))},stop:function(){for(var e=void 0,t=0;t<v.length;t++)(e=v[t]).getUsable()||y(e).catch((function(){T(e)}))},reset:function(){var e=v.length,t=void 0;0!==e?function(){for(var n=function(e){T(e),0===v.length&&(g?(g.removeEventListener("encrypted",_),g.setMediaKeys(null).then((function(){r.trigger(c.TEARDOWN_COMPLETE)}))):r.trigger(c.TEARDOWN_COMPLETE))},i=0;i<e;i++)!function(e){t.session.closed.then((function(){n(e)})),y(t).catch((function(){n(e)}))}(t=v[i])}():r.trigger(c.TEARDOWN_COMPLETE)}},h=d.getLogger(t),v=[],E=(m=g=p=null,i.default)(n).getInstance(),_={handleEvent:function(e){switch(e.type){case"encrypted":var t;e.initData&&(t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData,r.trigger(c.NEED_KEY,{key:new a.default(t,e.initDataType)}))}}},t}c.__dashjs_factory_name="ProtectionModel_21Jan2015",n.default=dashjs.FactoryMaker.getClassFactory(c),t.exports=n.default},{110:110,164:164,169:169,178:178,180:180,183:183,225:225}],172:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(164)),a=r(e(183)),o=r(e(225)),s=r(e(169)),u=r(e(178)),l=r(e(181)),f=r(e(180));function c(e){e=e||{};var t,n=this.context,r=e.eventBus,c=e.events,d=e.debug,h=e.api,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,E=void 0,y=void 0,T=void 0;function S(){try{for(var e=0;e<E.length;e++)A(E[e]);g&&g.removeEventListener(h.needkey,y),r.trigger(c.TEARDOWN_COMPLETE)}catch(e){r.trigger(c.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function A(e){var t=e.session;t.removeEventListener(h.error,e),t.removeEventListener(h.message,e),t.removeEventListener(h.ready,e),t.removeEventListener(h.close,e);for(var n=0;n<E.length;n++)if(E[n]===e){Ke()(E).call(E,n,1);break}t[h.release]()}function I(){function e(){g.removeEventListener("loadedmetadata",t),g[h.setMediaKeys](v),r.trigger(c.VIDEO_ELEMENT_SELECTED)}var t=null;1<=g.readyState?e():(t=le()(e).call(e,this),g.addEventListener("loadedmetadata",t))}return t={getAllInitData:function(){for(var e=[],t=0;t<E.length;t++)e.push(E[t].initData);return e},requestKeySystemAccess:function(e){for(var t=!1,n=0;n<e.length;n++)for(var i=e[n].ks.systemString,a=e[n].configs,o=null,s=null,u=0;u<a.length;u++){var d=a[u].audioCapabilities,p=a[u].videoCapabilities;if(d&&0!==d.length){o=[];for(var g=0;g<d.length;g++)window[h.MediaKeys].isTypeSupported(i,d[g].contentType)&&o.push(d[g])}if(p&&0!==p.length){s=[];for(var m=0;m<p.length;m++)window[h.MediaKeys].isTypeSupported(i,p[m].contentType)&&s.push(p[m])}if(!(!o&&!s||o&&0===o.length||s&&0===s.length)){t=!0;var v=new l.default(o,s),_=T.getKeySystemBySystemString(i);r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{data:new f.default(_,v)});break}}t||r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return m},selectKeySystem:function(e){try{v=e.mediaKeys=new window[h.MediaKeys](e.keySystem.systemString),m=e.keySystem,_=e,g&&I(),r.trigger(c.INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){r.trigger(c.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+m.systemString+")! Could not create MediaKeys -- TODO"})}},setMediaElement:function(e){g!==e&&(g&&g.removeEventListener(h.needkey,y),(g=e)&&(g.addEventListener(h.needkey,y),v&&I()))},createKeySession:function(e,t,n,i){if(!m||!v||!_)throw new Error("Can not create sessions until you have selected a key system");var a=null;if(_.ksConfiguration.videoCapabilities&&0<_.ksConfiguration.videoCapabilities.length&&(a=_.ksConfiguration.videoCapabilities[0]),null===a&&_.ksConfiguration.audioCapabilities&&0<_.ksConfiguration.audioCapabilities.length&&(a=_.ksConfiguration.audioCapabilities[0]),null===a)throw new Error("Can not create sessions for unknown content types.");var l=a.contentType,f=v.createSession(l,new Uint8Array(e),i?new Uint8Array(i):null),d={session:f,initData:e,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case h.error:r.trigger(c.KEY_ERROR,{data:new o.default(s.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case h.message:var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;r.trigger(c.INTERNAL_KEY_MESSAGE,{data:new u.default(this,t,e.destinationURL)});break;case h.ready:p.debug("DRM: Key added."),r.trigger(c.KEY_ADDED);break;case h.close:p.debug("DRM: Session closed.  SessionID = "+this.getSessionID()),r.trigger(c.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}};f.addEventListener(h.error,d),f.addEventListener(h.message,d),f.addEventListener(h.ready,d),f.addEventListener(h.close,d),E.push(d),p.debug("DRM: Session created.  SessionID = "+d.getSessionID()),r.trigger(c.KEY_SESSION_CREATED,{data:d})},updateKeySession:function(e,t){var n=e.session;T.isClearKey(m)?n.update(new Uint8Array(t.toJWK())):n.update(new Uint8Array(t))},closeKeySession:A,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:S,reset:S},p=d.getLogger(t),E=[],T=(_=v=m=g=null,i.default)(n).getInstance(),y={handleEvent:function(e){switch(e.type){case h.needkey:var t;e.initData&&(t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData,r.trigger(c.NEED_KEY,{key:new a.default(t,"cenc")}))}}},t}c.__dashjs_factory_name="ProtectionModel_3Feb2014",n.default=dashjs.FactoryMaker.getClassFactory(c),t.exports=n.default},{164:164,169:169,178:178,180:180,181:181,183:183,225:225}],173:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(179)),a=r(e(177));function o(){return{getServerURLFromMessage:function(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var r=0;r<n.kids.length;r++)e+=n.kids[r]+"&";return e.substring(0,e.length-1)},getHTTPMethod:function(){return"GET"},getResponseType:function(){return"json"},getLicenseMessage:function(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],n=0;n<c()(e).length;n++){var r=c()(e)[n],o=r.kid.replace(/=/g,""),s=r.k.replace(/=/g,"");t.push(new i.default(o,s))}return new a.default(t)},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}o.__dashjs_factory_name="ClearKey",n.default=dashjs.FactoryMaker.getSingletonFactory(o),t.exports=n.default},{177:177,179:179}],174:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(110))&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).BASE64,n={};return n[i.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(e){return t.decodeArray(e.license)},getErrorResponse:function(e){return e}},n[i.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(e){return n[e].responseType},getLicenseMessage:function(e,r){return function(){if(!t||!t.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),n[r].getLicenseMessage(e)},getErrorResponse:function(e,t){return n[t].getErrorResponse(e)}}}a.__dashjs_factory_name="DRMToday",n.default=dashjs.FactoryMaker.getSingletonFactory(a),t.exports=n.default},{110:110}],175:[function(e,t,n){function r(){var e="http://schemas.xmlsoap.org/soap/envelope/";function t(e){var t=String.fromCharCode.apply(null,new Uint8Array(e));return decodeURIComponent(escape(t))}return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(n){return function(n){if(window.DOMParser){var r=t(n),i=(new window.DOMParser).parseFromString(r,"text/xml"),a=i?i.getElementsByTagNameNS(e,"Envelope")[0]:null,o=a?a.getElementsByTagNameNS(e,"Body")[0]:null;if(o&&o.getElementsByTagNameNS(e,"Fault")[0])return null}return n}.call(this,n)},getErrorResponse:function(n){return function(n){var r,i,a="",o="",s="";if(window.DOMParser){var u=t(n),l=(new window.DOMParser).parseFromString(u,"text/xml"),f=l?l.getElementsByTagNameNS(e,"Envelope")[0]:null,c=f?f.getElementsByTagNameNS(e,"Body")[0]:null,d=c?c.getElementsByTagNameNS(e,"Fault")[0]:null,h=d?d.getElementsByTagName("detail")[0]:null,p=h?h.getElementsByTagName("Exception")[0]:null,g=null;if(null===d)return u;a=(g=d.getElementsByTagName("faultstring")[0].firstChild)?g.nodeValue:null,null!==p&&(o=(g=p.getElementsByTagName("StatusCode")[0])?g.firstChild.nodeValue:null,r=(s=(g=p.getElementsByTagName("Message")[0])?g.firstChild.nodeValue:null)?Re()(s).call(s,"[")+1:-1,i=s?Ue()(s).call(s,"]"):-1,s=s?s.substring(r,i):"")}var m="code: "+o+", name: "+a;return s&&(m+=", message: "+s),m}.call(this,n)}}}Be()(n,"__esModule",{value:!0}),r.__dashjs_factory_name="PlayReady",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{}],176:[function(e,t,n){function r(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}Be()(n,"__esModule",{value:!0}),r.__dashjs_factory_name="Widevine",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{}],177:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}Be()(n,"__esModule",{value:!0});var i=(function(e,t,n){t&&r(e.prototype,t)}(a,[{key:"toJWK",value:function(){var e=void 0,t=this.keyPairs.length,n={keys:[]};for(e=0;e<t;e++){var r={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};c()(n).push(r)}this.type&&(n.type=this.type);var i=Ve()(n),a=i.length,o=new ArrayBuffer(a),s=new Uint8Array(o);for(e=0;e<a;e++)s[e]=i.charCodeAt(e);return o}}]),a);function a(e,t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t&&"persistent"!==t&&"temporary"!==t)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=e,this.type=t}n.default=i,t.exports=n.default},{}],178:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sessionToken=t,this.message=n,this.defaultURL=r,this.messageType=i||"license-request"},t.exports=n.default},{}],179:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keyID=t,this.key=n},t.exports=n.default},{}],180:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keySystem=t,this.ksConfiguration=n},t.exports=n.default},{}],181:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(t,n,r,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initDataTypes=["cenc"],t&&t.length&&(this.audioCapabilities=t),n&&n.length&&(this.videoCapabilities=n),this.distinctiveIdentifier=r,this.persistentState=i,this.sessionTypes=a},t.exports=n.default},{}],182:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.contentType=t,this.robustness=n},t.exports=n.default},{}],183:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initData=t,this.initDataType=n},t.exports=n.default},{}],184:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r};function a(){var e=[],t=0,n=0;return{push:function(r,i){var a=i&&i.droppedVideoFrames?i.droppedVideoFrames:0,o=i&&i.totalVideoFrames?i.totalVideoFrames:0,s=a-t;t=a;var u=o-n;n=o,isNaN(r)||(e[r]?(e[r].droppedVideoFrames+=s,e[r].totalVideoFrames+=u):e[r]={droppedVideoFrames:s,totalVideoFrames:u})},getFrameHistory:function(){return e},reset:function(r){e=[],t=r.droppedVideoFrames,n=r.totalVideoFrames}}}a.__dashjs_factory_name="DroppedFramesHistory";var o=i.default.getClassFactory(a);n.default=o,t.exports=n.default},{47:47}],185:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).abrController,n=e.switchHistory,r=e.droppedFramesHistory,i=e.currentRequest,a=e.useBufferOccupancyABR,o=e.streamProcessor?e.streamProcessor.getScheduleController():null,s=e.streamProcessor?e.streamProcessor.getRepresentationInfo():null;function u(){return s?s.mediaInfo:null}return{getMediaType:function(){var e=u();return e?e.type:null},getMediaInfo:u,getDroppedFramesHistory:function(){return r},getCurrentRequest:function(){return i},getSwitchHistory:function(){return n},getStreamInfo:function(){var e=u();return e?e.streamInfo:null},getScheduleController:function(){return o},getAbrController:function(){return t},getRepresentationInfo:function(){return s},useBufferOccupancyABR:function(){return a}}}a.__dashjs_factory_name="RulesContext",n.default=i.default.getClassFactory(a),t.exports=n.default},{47:47}],186:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r},a={DEFAULT:.5,STRONG:1,WEAK:0};function o(e,t,n){var r;return{quality:void 0===e?-1:e,reason:void 0===t?null:t,priority:(r=n)!==a.DEFAULT&&r!==a.STRONG&&r!==a.WEAK?a.DEFAULT:r}}o.__dashjs_factory_name="SwitchRequest";var s=i.default.getClassFactory(o);s.NO_CHANGE=-1,s.PRIORITY=a,i.default.updateClassFactory(o.__dashjs_factory_name,s),n.default=s,t.exports=n.default},{47:47}],187:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(186));function o(){var e=[],t=[];return{push:function(n){n.newValue===a.default.NO_CHANGE&&(n.newValue=n.oldValue),e[n.oldValue]||(e[n.oldValue]={noDrops:0,drops:0,dropSize:0});var r,i=n.newValue-n.oldValue,o=i<0?1:0,s=o?-i:0,u=o?0:1;e[n.oldValue].drops+=o,e[n.oldValue].dropSize+=s,e[n.oldValue].noDrops+=u,t.push({idx:n.oldValue,noDrop:u,drop:o,dropSize:s}),8<t.length&&(r=t.shift(),e[r.idx].drops-=r.drop,e[r.idx].dropSize-=r.dropSize,e[r.idx].noDrops-=r.noDrop)},getSwitchRequests:function(){return e},reset:function(){e=[],t=[]}}}o.__dashjs_factory_name="SwitchRequestHistory";var s=i.default.getClassFactory(o);n.default=s,t.exports=n.default},{186:186,47:47}],188:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(47));function o(e){var t=(e=e||{}).settings,n=void 0,r=void 0,a=void 0,o=void 0,s=void 0;function u(e,t,n,r){var i=Math.pow(.5,n/r.fast);e.fastEstimate=(1-i)*t+i*e.fastEstimate;var a=Math.pow(.5,n/r.slow);e.slowEstimate=(1-a)*t+a*e.slowEstimate,e.totalWeight+=n}function l(e,u,l){var f,c,d,h,p;return t.get().streaming.abr.movingAverageMethod!==i.default.MOVING_AVERAGE_SLIDING_WINDOW?function(e,t){var n=e?s.throughputHalfLife:s.latencyHalfLife,r=e?a[t]:o[t];if(!r||r.totalWeight<=0)return NaN;var i=r.fastEstimate/(1-Math.pow(.5,r.totalWeight/n.fast)),u=r.slowEstimate/(1-Math.pow(.5,r.totalWeight/n.slow));return e?Math.min(i,u):Math.max(i,u)}(e,u):(h=function(e,t,i){var a=void 0,o=void 0;o=e?(a=n[t],i?3:4):(a=r[t],4);if(a){if(o>=a.length)o=a.length;else if(e)for(var s=1;s<o;++s){var u=a[a.length-s]/a[a.length-s-1];if((1.3<=u||u<=1/1.3)&&(o+=1)===a.length)break}}else o=0;return o}(c=e,d=u,l),p=(c?n:r)[d],0!==h&&p&&0!==p.length?B()(f=p=Pe()(p).call(p,-h)).call(f,(function(e,t){return e+t}))/p.length:NaN)}function f(e,t){return l(!0,e,t)}function c(e){n[e]=n[e]||[],r[e]=r[e]||[],a[e]=a[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0},o[e]=o[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function d(){n={},r={},a={},o={}}var h={push:function(e,l,f){if(l.trace&&l.trace.length){var d,h,p,g,m,v=l.tresponse.getTime()-l.trequest.getTime()||1,_=l._tfinish.getTime()-l.tresponse.getTime()||1,E=B()(d=l.trace).call(d,(function(e,t){return e+t.b[0]}),0),y=t.get().streaming.lowLatencyEnabled?B()(h=l.trace).call(h,(function(e,t){return e+t.d}),0):f?_:v+_,T=Math.round(8*E/y);if(c(e),m=_,(g=e)===i.default.VIDEO?m<t.get().streaming.cacheLoadThresholds[i.default.VIDEO]:g===i.default.AUDIO&&m<t.get().streaming.cacheLoadThresholds[i.default.AUDIO]){if(0<n[e].length&&!n[e].hasCachedEntries)return;n[e].hasCachedEntries=!0}else n[e]&&n[e].hasCachedEntries&&(delete n[p=e],delete r[p],delete a[p],delete o[p],c(p));n[e].push(T),20<n[e].length&&n[e].shift(),r[e].push(v),20<r[e].length&&r[e].shift(),u(a[e],T,.001*_,s.throughputHalfLife),u(o[e],v,1,s.latencyHalfLife)}},getAverageThroughput:f,getSafeAverageThroughput:function(e,n){var r=f(e,n);return isNaN(r)||(r*=t.get().streaming.abr.bandwidthSafetyFactor),r},getAverageLatency:function(e){return l(!1,e)},reset:d};return s={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},d(),h}o.__dashjs_factory_name="ThroughputHistory",n.default=a.default.getClassFactory(o),t.exports=n.default},{108:108,47:47}],189:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(195)),a=r(e(193)),o=r(e(190)),s=r(e(192)),u=r(e(194)),l=r(e(191)),f=r(e(47)),c=r(e(186)),d="qualitySwitchRules",h="abandonFragmentRules";function p(e){e=e||{};var t=this.context,n=e.mediaPlayerModel,r=e.dashMetrics,f=e.settings,p=void 0,g=void 0;function m(e){return K()(e).call(e,(function(e){return e.quality>c.default.NO_CHANGE}))}function v(e){var n,r,i={},a=void 0,o=void 0,s=void 0;if(0!==e.length){for(i[c.default.PRIORITY.STRONG]=c.default.NO_CHANGE,i[c.default.PRIORITY.WEAK]=c.default.NO_CHANGE,i[c.default.PRIORITY.DEFAULT]=c.default.NO_CHANGE,a=0,n=e.length;a<n;a+=1)(r=e[a]).quality!==c.default.NO_CHANGE&&(i[r.priority]=i[r.priority]>c.default.NO_CHANGE?Math.min(i[r.priority],r.quality):r.quality);return i[c.default.PRIORITY.WEAK]!==c.default.NO_CHANGE&&(o=i[c.default.PRIORITY.WEAK]),i[c.default.PRIORITY.DEFAULT]!==c.default.NO_CHANGE&&(o=i[c.default.PRIORITY.DEFAULT]),i[c.default.PRIORITY.STRONG]!==c.default.NO_CHANGE&&(o=i[c.default.PRIORITY.STRONG]),o!==c.default.NO_CHANGE&&(s=o),(0,c.default)(t).create(s)}}return{initialize:function(){var e;p=[],g=[],f.get().streaming.abr.useDefaultABRRules&&(p.push((0,l.default)(t).create({dashMetrics:r,mediaPlayerModel:n,settings:f})),p.push((0,i.default)(t).create({dashMetrics:r})),p.push((0,a.default)(t).create({dashMetrics:r})),p.push((0,u.default)(t).create()),p.push((0,s.default)(t).create()),g.push((0,o.default)(t).create({dashMetrics:r,mediaPlayerModel:n,settings:f}))),q()(e=n.getABRCustomRules()).call(e,(function(e){e.type===d&&p.push(e.rule(t).create()),e.type===h&&g.push(e.rule(t).create())}))},reset:function(){var e;q()(e=[p,g]).call(e,(function(e){e&&e.length&&q()(e).call(e,(function(e){return e.reset&&e.reset()}))})),p=[],g=[]},getMaxQuality:function(e){return v(m(te()(p).call(p,(function(t){return t.getMaxIndex(e)}))))||(0,c.default)(t).create()},shouldAbandonFragment:function(e){return v(m(te()(g).call(g,(function(t){return t.shouldAbandon(e)}))))||(0,c.default)(t).create()}}}p.__dashjs_factory_name="ABRRulesCollection";var g=f.default.getClassFactory(p);g.QUALITY_SWITCH_RULES=d,g.ABANDON_FRAGMENT_RULES=h,f.default.updateSingletonFactory(p.__dashjs_factory_name,g),n.default=g,t.exports=n.default},{186:186,190:190,191:191,192:192,193:193,194:194,195:195,47:47}],190:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(186)),a=r(e(47)),o=r(e(45));function s(e){e=e||{};var t,n=this.context,r=e.mediaPlayerModel,a=e.dashMetrics,u=e.settings,l=void 0,f=void 0,c=void 0,d=void 0;function h(){f={},c={},d=[]}return t={shouldAbandon:function(e){var t=(0,i.default)(n).create(i.default.NO_CHANGE,{name:s.__dashjs_factory_name});if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getCurrentRequest")&&e.hasOwnProperty("getRepresentationInfo")&&e.hasOwnProperty("getAbrController")))return t;var o,h,p,g,m=e.getMediaInfo(),v=e.getMediaType(),_=e.getCurrentRequest();if(!isNaN(_.index)){if(p=v,g=_.index,f[p]=f[p]||{},f[p][g]=f[p][g]||{},r.getStableBufferTime()<a.getCurrentBufferLevel(v))return t;var E=f[v][_.index];if(null===E||null===_.firstByteDate||c.hasOwnProperty(E.id))return t;if(void 0===E.firstByteTime&&(d[v]=[],E.firstByteTime=_.firstByteDate.getTime(),E.segmentDuration=_.duration,E.bytesTotal=_.bytesTotal,E.id=_.index),E.bytesLoaded=_.bytesLoaded,E.elapsedTime=(new Date).getTime()-E.firstByteTime,0<E.bytesLoaded&&0<E.elapsedTime&&(o=v,h=Math.round(8*E.bytesLoaded/E.elapsedTime),d[o]=d[o]||[],d[o].push(h)),5<=d[v].length&&500<E.elapsedTime&&E.bytesLoaded<E.bytesTotal){var y,T,S,A,I,R,b,M=B()(y=d[v]).call(y,(function(e,t){return e+t}),0);if(E.measuredBandwidthInKbps=Math.round(M/d[v].length),E.estimatedTimeOfDownload=+(8*E.bytesTotal/E.measuredBandwidthInKbps/1e3).toFixed(2),E.estimatedTimeOfDownload<1.8*E.segmentDuration||0===e.getRepresentationInfo().quality)return t;c.hasOwnProperty(E.id)||(T=e.getAbrController(),S=E.bytesTotal-E.bytesLoaded,A=T.getBitrateList(m),I=T.getQualityForBitrate(m,E.measuredBandwidthInKbps*u.get().streaming.abr.bandwidthSafetyFactor),b=void 0!==(R=T.getMinAllowedIndexFor(v))?Math.max(R,I):I,E.bytesTotal*A[b].bitrate/A[T.getQualityFor(v)].bitrate<S&&(t.quality=b,t.reason.throughput=E.measuredBandwidthInKbps,t.reason.fragmentID=E.id,c[E.id]=E,l.debug("["+v+"] frag id",E.id," is asking to abandon and switch to quality to ",b," measured bandwidth was",E.measuredBandwidthInKbps),delete f[v][E.id]))}else E.bytesLoaded===E.bytesTotal&&delete f[v][E.id]}return t},reset:h},l=(0,o.default)(n).getInstance().getLogger(t),h(),t}s.__dashjs_factory_name="AbandonRequestsRule",n.default=a.default.getClassFactory(s),t.exports=n.default},{186:186,45:45,47:47}],191:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(109)),a=r(e(186)),o=r(e(47)),s=e(241),u=r(e(46)),l=r(e(54)),f=r(e(45));function c(e){e=e||{};var t=this.context,n=e.dashMetrics,r=e.mediaPlayerModel,o=(0,u.default)(t).getInstance(),c=void 0,d=void 0,h=void 0;function p(e,t,n){var r=B()(n).call(n,(function(e,t,r){return t>n[e]?r:e}),0);if(0===r)return null;var i=Math.max(e,10+2*t.length),a=(n[r]-1)/(i/10-1);return{gp:a,Vp:10/a}}function g(e){var t,n,i={},a=te()(t=e.getMediaInfo().bitrateList).call(t,(function(e){return e.bandwidth})),o=te()(n=o=te()(a).call(a,(function(e){return Math.log(e)}))).call(n,(function(e){return e-o[0]+1})),s=r.getStableBufferTime(),u=p(s,a,o);return u?(i.state=1,i.bitrates=a,i.utilities=o,i.stableBufferTime=s,i.Vp=u.Vp,i.gp=u.gp,i.lastQuality=0,m(i)):i.state=0,i}function m(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN}function v(e,t){var i,a,o,s=r.getStableBufferTime();e.stableBufferTime!==s&&((i=p(s,e.bitrates,e.utilities)).Vp===e.Vp&&i.gp===e.gp||(o=(a=n.getCurrentBufferLevel(t))+e.placeholderBuffer,o-=10,o*=i.Vp/e.Vp,o+=10,e.stableBufferTime=s,e.Vp=i.Vp,e.gp=i.gp,e.placeholderBuffer=Math.max(0,o-a)))}function _(e,t){return e.Vp*(e.utilities[t]+e.gp)}function y(e,t){for(var n,r,i,a=e.bitrates[t],o=e.utilities[t],s=0,u=t-1;0<=u;--u)e.utilities[u]<e.utilities[t]&&(n=e.bitrates[u],r=e.utilities[u],i=e.Vp*(e.gp+(a*r-n*o)/(a-n)),s=Math.max(s,i));return s}function T(){for(var e in h)h.hasOwnProperty(e)&&2===h[e].state&&(h[e].placeholderBuffer=0)}function S(){for(var e in h){var t;!h.hasOwnProperty(e)||0!==(t=h[e]).state&&(t.state=1,m(t))}}function A(){}function I(e){var t,n;e&&e.chunk&&e.chunk.mediaInfo&&(t=h[e.chunk.mediaInfo.type])&&0!==t.state&&(n=e.chunk.start,isNaN(t.mostAdvancedSegmentStart)||n>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=n,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=n,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,b(t,e.chunk.mediaInfo.type))}function R(e){var t;e&&e.metric===i.default.HTTP_REQUEST&&e.value&&e.value.type===s.HTTPRequest.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length&&(t=h[e.mediaType])&&0!==t.state&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),b(t,e.mediaType))}function b(e,t){var r,i,a;isNaN(e.lastSegmentStart)||isNaN(e.lastSegmentRequestTimeMs)||isNaN(e.placeholderBuffer)||(e.placeholderBuffer*=.99,isNaN(e.lastSegmentFinishTimeMs)||(r=n.getCurrentBufferLevel(t)+.001*(e.lastSegmentFinishTimeMs-e.lastSegmentRequestTimeMs),i=_(e,e.lastQuality),a=Math.max(0,i-r),e.placeholderBuffer=Math.min(a,e.placeholderBuffer)),e.lastSegmentWasReplacement&&!isNaN(e.lastSegmentDurationS)&&(e.placeholderBuffer+=e.lastSegmentDurationS),e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN)}function M(e){var t;!e||(t=h[e.mediaType])&&0!==t.state&&(t.abrQuality=e.newQuality)}function w(e){var t,r,i,a;!e||(t=h[e.mediaType])&&0!==t.state&&(r=n.getCurrentBufferLevel(e.mediaType),void 0,i=0<t.abrQuality?y(t,t.abrQuality):10,a=Math.max(0,i-r),t.placeholderBuffer=Math.min(t.placeholderBuffer,a))}function D(){h={}}return c={getMaxIndex:function(e){var r=(0,a.default)(t).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getScheduleController")&&e.hasOwnProperty("getStreamInfo")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("useBufferOccupancyABR")))return r;var i=e.getMediaInfo(),o=e.getMediaType(),s=e.getScheduleController(),u=e.getStreamInfo(),l=e.getAbrController(),f=l.getThroughputHistory(),c=u?u.id:null,p=u&&u.manifestInfo&&u.manifestInfo.isDynamic,T=e.useBufferOccupancyABR();if(r.reason=r.reason||{},!T)return r;s.setTimeToLoadDelay(0);var S,A,I,R=(A=(S=e).getMediaType(),(I=h[A])?0!==I.state&&v(I,A):(I=g(S),h[A]=I),I);if(0===R.state)return r;var b,M,w,D,C=n.getCurrentBufferLevel(o),N=f.getAverageThroughput(o,p),O=f.getSafeAverageThroughput(o,p),L=f.getAverageLatency(o),x=void 0;if(r.reason.state=R.state,r.reason.throughput=N,r.reason.latency=L,isNaN(N))return r;switch(R.state){case 1:x=l.getQualityForBitrate(i,O,L),r.quality=x,r.reason.throughput=O,R.placeholderBuffer=Math.max(0,y(R,x)-C),R.lastQuality=x,!isNaN(R.lastSegmentDurationS)&&C>=R.lastSegmentDurationS&&(R.state=2);break;case 2:b=R,M=o,D=E()(),isNaN(b.lastSegmentFinishTimeMs)?isNaN(b.lastCallTimeMs)||(w=.001*(D-b.lastCallTimeMs),b.placeholderBuffer+=Math.max(0,w)):(w=.001*(D-b.lastSegmentFinishTimeMs),b.placeholderBuffer+=Math.max(0,w)),b.lastCallTimeMs=D,b.lastSegmentStart=NaN,b.lastSegmentRequestTimeMs=NaN,b.lastSegmentFinishTimeMs=NaN,v(b,M),x=function(e,t){for(var n=e.bitrates.length,r=NaN,i=NaN,a=0;a<n;++a){var o=(e.Vp*(e.utilities[a]+e.gp)-t)/e.bitrates[a];(isNaN(i)||i<=o)&&(i=o,r=a)}return r}(R,C+R.placeholderBuffer);var P=l.getQualityForBitrate(i,O,L);x>R.lastQuality&&P<x&&(x=Math.max(P,R.lastQuality));var F=Math.max(0,C+R.placeholderBuffer-_(R,x));F<=R.placeholderBuffer?(R.placeholderBuffer-=F,F=0):(F-=R.placeholderBuffer,R.placeholderBuffer=0,x<l.getTopQualityIndexFor(o,c)?s.setTimeToLoadDelay(1e3*F):F=0),r.quality=x,r.reason.throughput=N,r.reason.latency=L,r.reason.bufferLevel=C,r.reason.placeholderBuffer=R.placeholderBuffer,r.reason.delay=F,R.lastQuality=x;break;default:d.debug("BOLA ABR rule invoked in bad state."),r.quality=l.getQualityForBitrate(i,O,L),r.reason.state=R.state,r.reason.throughput=O,r.reason.latency=L,R.state=1,m(R)}return r},reset:function(){D(),o.off(l.default.BUFFER_EMPTY,T,c),o.off(l.default.PLAYBACK_SEEKING,S,c),o.off(l.default.PERIOD_SWITCH_STARTED,A,c),o.off(l.default.MEDIA_FRAGMENT_LOADED,I,c),o.off(l.default.METRIC_ADDED,R,c),o.off(l.default.QUALITY_CHANGE_REQUESTED,M,c),o.off(l.default.FRAGMENT_LOADING_ABANDONED,w,c)}},d=(0,f.default)(t).getInstance().getLogger(c),D(),o.on(l.default.BUFFER_EMPTY,T,c),o.on(l.default.PLAYBACK_SEEKING,S,c),o.on(l.default.PERIOD_SWITCH_STARTED,A,c),o.on(l.default.MEDIA_FRAGMENT_LOADED,I,c),o.on(l.default.METRIC_ADDED,R,c),o.on(l.default.QUALITY_CHANGE_REQUESTED,M,c),o.on(l.default.FRAGMENT_LOADING_ABANDONED,w,c),c}c.__dashjs_factory_name="BolaRule",n.default=o.default.getClassFactory(c),t.exports=n.default},{109:109,186:186,241:241,45:45,46:46,47:47,54:54}],192:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(186)),o=r(e(45));function s(){var e,t=this.context,n=void 0;return e={getMaxIndex:function(e){var r=(0,a.default)(t).create();if(!e||!e.hasOwnProperty("getDroppedFramesHistory"))return r;var i=e.getDroppedFramesHistory();if(i){for(var o,s=i.getFrameHistory(),u=0,l=a.default.NO_CHANGE,f=1;f<s.length;f++)if(s[f]&&(u=s[f].droppedVideoFrames,375<(o=s[f].totalVideoFrames)&&.15<u/o)){l=f-1,n.debug("index: "+l+" Dropped Frames: "+u+" Total Frames: "+o);break}return(0,a.default)(t).create(l,{droppedFrames:u})}return r}},n=(0,o.default)(t).getInstance().getLogger(e),e}s.__dashjs_factory_name="DroppedFramesRule",n.default=i.default.getClassFactory(s),t.exports=n.default},{186:186,45:45,47:47}],193:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(46)),a=r(e(54)),o=r(e(47)),s=r(e(45)),u=r(e(186)),l=r(e(108)),f=r(e(109));function c(e){e=e||{};var t=this.context,n=(0,i.default)(t).getInstance(),r=e.dashMetrics,o=void 0,c=void 0,d=void 0;function h(){d={}}function p(){h()}return o={getMaxIndex:function(e){var n=(0,u.default)(t).create();if(!e||!e.hasOwnProperty("getMediaType"))return n;!function(){if(!r||!r.hasOwnProperty("getCurrentBufferLevel")||!r.hasOwnProperty("getCurrentBufferState"))throw new Error(l.default.MISSING_CONFIG_ERROR)}();var i,a,o,s,h,p,g,m=e.getMediaType(),v=r.getCurrentBufferState(m),_=e.getRepresentationInfo().fragmentDuration;return v&&function(e,t){d[e]=d[e]||{};var n=!1;return d[e].firstBufferLoadedEvent?n=!0:t&&t.state===f.default.BUFFER_LOADED&&(d[e].firstBufferLoadedEvent=!0,n=!0),n}(m,v)&&_&&(v.state===f.default.BUFFER_EMPTY?(c.debug("["+m+"] Switch to index 0; buffer is empty."),n.quality=0,n.reason="InsufficientBufferRule: Buffer is empty"):(i=e.getMediaInfo(),o=(a=e.getAbrController()).getThroughputHistory(),s=r.getCurrentBufferLevel(m),h=o.getAverageThroughput(m),p=o.getAverageLatency(m),g=h*(s/_)*.5,n.quality=a.getQualityForBitrate(i,g,p),n.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering")),n},reset:function(){h(),n.off(a.default.PLAYBACK_SEEKING,p,o)}},c=(0,s.default)(t).getInstance().getLogger(o),h(),n.on(a.default.PLAYBACK_SEEKING,p,o),o}c.__dashjs_factory_name="InsufficientBufferRule",n.default=o.default.getClassFactory(c),t.exports=n.default},{108:108,109:109,186:186,45:45,46:46,47:47,54:54}],194:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(45)),o=r(e(186));function s(){var e,t=this.context,n=void 0;return e={getMaxIndex:function(e){for(var r=e?e.getSwitchHistory():null,i=r?r.getSwitchRequests():[],a=0,s=0,u=0,l=(0,o.default)(t).create(),f=0;f<i.length;f++)if(void 0!==i[f]&&(a+=i[f].drops,s+=i[f].noDrops,u+=i[f].dropSize,6<=a+s&&.075<a/s)){l.quality=0<f&&0<i[f].drops?f-1:f,l.reason={index:l.quality,drops:a,noDrops:s,dropSize:u},n.debug("Switch history rule index: "+l.quality+" samples: "+(a+s)+" drops: "+a);break}return l}},n=(0,a.default)(t).getInstance().getLogger(e),e}s.__dashjs_factory_name="SwitchHistoryRule",n.default=i.default.getClassFactory(s),t.exports=n.default},{186:186,45:45,47:47}],195:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(45)),o=r(e(186)),s=r(e(108)),u=r(e(109));function l(e){e=e||{};var t,n=this.context,r=e.dashMetrics,i=void 0;return t={getMaxIndex:function(e){var t=(0,o.default)(n).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("useBufferOccupancyABR")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("getScheduleController")))return t;!function(){if(!r||!r.hasOwnProperty("getCurrentBufferState"))throw new Error(s.default.MISSING_CONFIG_ERROR)}();var a=e.getMediaInfo(),l=e.getMediaType(),f=r.getCurrentBufferState(l),c=e.getScheduleController(),d=e.getAbrController(),h=e.getStreamInfo(),p=h&&h.manifestInfo?h.manifestInfo.isDynamic:null,g=d.getThroughputHistory(),m=g.getSafeAverageThroughput(l,p),v=g.getAverageLatency(l),_=e.useBufferOccupancyABR();return isNaN(m)||!f||_||d.getAbandonmentStateFor(l)!==u.default.ABANDON_LOAD&&(f.state!==u.default.BUFFER_LOADED&&!p||(t.quality=d.getQualityForBitrate(a,m,v),c.setTimeToLoadDelay(0),i.debug("["+l+"] requesting switch to index: ",t.quality,"Average throughput",Math.round(m),"kbps"),t.reason={throughput:m,latency:v})),t},reset:function(){}},i=(0,a.default)(n).getInstance().getLogger(t),t}l.__dashjs_factory_name="ThroughputRule",n.default=i.default.getClassFactory(l),t.exports=n.default},{108:108,109:109,186:186,45:45,47:47}],196:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(47)),o=r(e(109));function s(e){var t=(e=e||{}).dashMetrics,n=e.mediaPlayerModel,r=e.textController,a=e.abrController,s=e.settings;function u(e,u,l){var f,c,d,h=NaN;return e&&u?h=e===i.default.FRAGMENTED_TEXT?r.isTextEnabled()?isNaN(u.fragmentDuration)?(f=t.getCurrentSchedulingInfo(o.default.SCHEDULING_INFO))?f.duration:0:u.fragmentDuration:0:e===i.default.AUDIO&&l?(c=t.getCurrentBufferLevel(i.default.VIDEO),isNaN(u.fragmentDuration)?c:Math.max(c,u.fragmentDuration)):(d=u.mediaInfo.streamInfo,a.isPlayingAtTopQuality(d)?d.manifestInfo.duration>=s.get().streaming.longFormContentDurationThreshold?s.get().streaming.bufferTimeAtTopQualityLongForm:s.get().streaming.bufferTimeAtTopQuality:n.getStableBufferTime()):h}return{execute:function(e,n,r){return!e||!n||t.getCurrentBufferLevel(e)<u(e,n,r)},getBufferTarget:u}}s.__dashjs_factory_name="BufferLevelRule",n.default=a.default.getClassFactory(s),t.exports=n.default},{108:108,109:109,47:47}],197:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r};function a(){var e=0;function t(e){return"red"===e?"rgb(255, 0, 0)":"green"===e?"rgb(0, 255, 0)":"blue"===e?"rgb(0, 0, 255)":"cyan"===e?"rgb(0, 255, 255)":"magenta"===e?"rgb(255, 0, 255)":"yellow"===e?"rgb(255, 255, 0)":"white"===e?"rgb(255, 255, 255)":"black"===e?"rgb(0, 0, 0)":e}function n(e,n){var r=e.videoHeight/15;return n?"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(n.foreground?t(n.foreground):"rgb(255, 255, 255)")+"; font-style: "+(n.italics?"italic":"normal")+"; text-decoration: "+(n.underline?"underline":"none")+"; white-space: pre; background-color: "+(n.background?t(n.background):"transparent")+";":"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}return{createHTMLCaptionsFromScreen:function(t,r,i,a){var o=null,s=!1,u=-1,l={start:r,end:i,spans:[]},f="style_cea608_white_black",c={},d={},h=[],p=void 0,g=void 0;for(p=0;p<15;++p){var m=a.rows[p],v="",_=null;if(!1===m.isEmpty()){var E=function(e){for(var t="",n=0;n<e.length;++n)t+=e[n].uchar;return t.length-t.replace(/^\s+/,"").length}(m.chars);null===o&&(o={x:E,y1:p,y2:p+1,p:[]}),E!==u&&s&&(o.p.push(l),l={start:r,end:i,spans:[]},o.y2=p,o.name="region_"+o.x+"_"+o.y1+"_"+o.y2,!1===c.hasOwnProperty(o.name)?(h.push(o),c[o.name]=o):c[o.name].p.contat(o.p),o={x:E,y1:p,y2:p+1,p:[]});for(var y=0;y<m.chars.length;++y){var T,S=m.chars[y],A=S.penState;null!==_&&A.equals(_)||(0<qe()(v).call(v).length&&(l.spans.push({name:f,line:v,row:p}),v=""),T="style_cea608_"+A.foreground+"_"+A.background,A.underline&&(T+="_underline"),A.italics&&(T+="_italics"),d.hasOwnProperty(T)||(d[T]=JSON.parse(Ve()(A))),_=A,f=T),v+=S.uchar}0<qe()(v).call(v).length&&l.spans.push({name:f,line:v,row:p}),s=!0,u=E}else s=!1,u=-1,o&&(o.p.push(l),l={start:r,end:i,spans:[]},o.y2=p,o.name="region_"+o.x+"_"+o.y1+"_"+o.y2,!1===c.hasOwnProperty(o.name)?(h.push(o),c[o.name]=o):c[o.name].p.contat(o.p),o=null)}o&&(o.p.push(l),o.y2=p+1,o.name="region_"+o.x+"_"+o.y1+"_"+o.y2,!1===c.hasOwnProperty(o.name)?(h.push(o),c[o.name]=o):c[o.name].p.contat(o.p),o=null);var I,R=[];for(p=0;p<h.length;++p){var b=h[p],M="sub_cea608_"+e++,w=document.createElement("div");w.id=M;var D="left: "+3.125*(I=b).x+"%; top: "+6.66*I.y1+"%; width: "+(100-3.125*I.x)+"%; height: "+6.66*Math.max(I.y2-1-I.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;";w.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+D;var C=document.createElement("div");C.className="paragraph bodyStyle",C.style.cssText=n(t);var N=document.createElement("div");N.className="cueUniWrapper",N.style.cssText="unicode-bidi: normal; direction: ltr;";for(var O=0;O<b.p.length;++O){var L=b.p[O],x=0;for(g=0;g<L.spans.length;++g){var P,F,U,k,B,G=L.spans[g];0<G.line.length&&(0!==g&&x!=G.row&&((F=document.createElement("br")).className="lineBreak",N.appendChild(F)),U=!1,x===G.row&&(U=!0),x=G.row,k=d[G.name],(B=document.createElement("span")).className="spanPadding "+G.name+" customSpanColor",B.style.cssText=n(t,k),0!==g&&U?g===L.spans.length-1?B.textContent=G.line.replace(/\s+$/g,""):B.textContent=G.line:1<L.spans.length&&g<L.spans.length-1&&G.row===L.spans[g+1].row?B.textContent=G.line.replace(/^\s+/g,""):B.textContent=qe()(P=G.line).call(P),N.appendChild(B))}}C.appendChild(N),w.appendChild(C);var q={bodyStyle:["%",90]};for(var Y in d)d.hasOwnProperty(Y)&&(q[Y]=["%",90]);R.push({type:"html",start:r,end:i,cueHTMLElement:w,cueID:M,cellResolution:[32,15],isFromCEA608:!0,fontSize:q,lineHeight:{},linePadding:{}})}return R}}}a.__dashjs_factory_name="EmbeddedTextHtmlRender",n.default=i.default.getSingletonFactory(a),t.exports=n.default},{47:47}],198:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(46)),o=r(e(54)),s=r(e(47)),u=r(e(213)),l=r(e(104)),f=r(e(200)),c=r(e(225)),d=r(e(51)),h="NotFragmentedTextBufferController";function p(e){e=e||{};var t=this.context,n=(0,a.default)(t).getInstance(),r=(0,f.default)(t).getInstance(),s=e.errHandler,p=e.streamInfo,g=e.type,m=e.mimeType,v=e.fragmentModel,_=void 0,E=void 0,y=void 0,T=void 0,S=void 0,A=void 0;function I(e){T=e}function R(e){e.sender.getStreamId()!==p.id||e.sender.getType()!==g||e.error||null===A.extract(p.id,e.currentRepresentation.id)&&(E=!1,n.trigger(o.default.INIT_FRAGMENT_NEEDED,{sender:_,streamId:p.id,mediaType:g,representationId:e.currentRepresentation.id}))}function b(e){e.chunk.streamId===p.id&&e.chunk.mediaInfo.type===g&&e.chunk.bytes&&(A.save(e.chunk),S.append(e.chunk),E=!0,n.trigger(o.default.STREAM_COMPLETED,{request:e.request}))}return _={getBufferControllerType:function(){return h},initialize:function(e){I(e),A=(0,u.default)(t).getInstance()},createBuffer:function(e){var n,a=e[0];try{return S=(0,l.default)(t).create(T,a),y||((n=S.getBuffer()).hasOwnProperty(i.default.INITIALIZE)&&n.initialize(m,p,e,v),y=!0),S}catch(e){var o,u;if(a&&(a.isText||-1!==Ue()(o=a.codec).call(o,'codecs="stpp')||-1!==Ue()(u=a.codec).call(u,'codecs="wvtt')))try{S=r.getTextSourceBuffer()}catch(e){s.error(new c.default(d.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,d.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+g+" : "+e.message))}else s.error(new c.default(d.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,d.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+g))}},getType:function(){return g},getBuffer:function(){return S},getBufferLevel:function(){return 0},setMediaSource:I,getMediaSource:function(){return T},getIsBufferingCompleted:function(){return E},getIsPruningInProgress:function(){return!1},dischargePreBuffer:function(){},appendInitSegment:function(e){return null!==A.extract(p.id,e)},getRangeAt:function(){return null},reset:function(e){n.off(o.default.DATA_UPDATE_COMPLETED,R,_),n.off(o.default.INIT_FRAGMENT_LOADED,b,_),!e&&S&&(S.abort(),S.reset(),S=null)},updateTimestampOffset:function(e){S.timestampOffset===e||isNaN(e)||(S.timestampOffset=e)}},T=null,E=y=!1,n.on(o.default.DATA_UPDATE_COMPLETED,R,_),n.on(o.default.INIT_FRAGMENT_LOADED,b,_),_}p.__dashjs_factory_name=h,n.default=s.default.getClassFactory(p),t.exports=n.default},{104:104,108:108,200:200,213:213,225:225,46:46,47:47,51:51,54:54}],199:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(47)),o=r(e(114)),s=r(e(198));function u(e){e=e||{};var t,n=this.context,r=void 0;function a(){return r.getBuffer()}return t={getBufferControllerType:function(){return r.getBufferControllerType()},initialize:function(e,t){return r.initialize(e,t)},createBuffer:function(e){return r.createBuffer(e)},getType:function(){return r.getType()},getBuffer:a,setBuffer:function(e){r.setBuffer(e)},getBufferLevel:function(){return r.getBufferLevel()},setMediaSource:function(e){r.setMediaSource(e)},getMediaSource:function(){return r.getMediaSource()},getIsBufferingCompleted:function(){return r.getIsBufferingCompleted()},getIsPruningInProgress:function(){return r.getIsPruningInProgress()},dischargePreBuffer:function(){return r.dischargePreBuffer()},appendInitSegment:function(e){r.appendInitSegment(e)},getRangeAt:function(e){return r.getRangeAt(e)},reset:function(e){r.reset(e)},updateTimestampOffset:function(e){var t=a();t.timestampOffset===e||isNaN(e)||(t.timestampOffset=e)}},r=e.type===i.default.FRAGMENTED_TEXT?(0,o.default)(n).create({streamInfo:e.streamInfo,type:e.type,mediaPlayerModel:e.mediaPlayerModel,manifestModel:e.manifestModel,fragmentModel:e.fragmentModel,errHandler:e.errHandler,mediaController:e.mediaController,representationController:e.representationController,adapter:e.adapter,textController:e.textController,abrController:e.abrController,playbackController:e.playbackController,settings:e.settings}):(0,s.default)(n).create({streamInfo:e.streamInfo,type:e.type,mimeType:e.mimeType,fragmentModel:e.fragmentModel,errHandler:e.errHandler}),t}u.__dashjs_factory_name="TextBufferController",n.default=a.default.getClassFactory(u),t.exports=n.default},{108:108,114:114,198:198,47:47}],200:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(47)),o=r(e(201)),s=r(e(202)),u=r(e(221)),l=r(e(219)),f=r(e(46)),c=r(e(54)),d=e(218);function h(){var e,t=this.context,n=void 0,r=void 0,a=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,E=void 0,y=void 0,T=void 0,S=void 0,A=void 0,I=void 0,R=void 0,b=void 0,M=void 0,w=void 0;function D(){return!(I&&!R)}function C(){M=b=!(I=!0)}return e={setConfig:function(e){e&&(e.errHandler&&(r=e.errHandler),e.adapter&&(a=e.adapter),e.manifestModel&&(h=e.manifestModel),e.mediaController&&(p=e.mediaController),e.videoModel&&(g=e.videoModel),e.streamController&&(m=e.streamController),e.textTracks&&(v=e.textTracks),e.vttParser&&(_=e.vttParser),e.ttmlParser&&(E=e.ttmlParser),n.setConfig({errHandler:r,adapter:a,manifestModel:h,mediaController:p,videoModel:g,streamController:m,textTracks:v,vttParser:_,ttmlParser:E}))},getTextSourceBuffer:function(){return n},getAllTracksAreDisabled:function(){return I},addEmbeddedTrack:function(e){n.addEmbeddedTrack(e)},getTextDefaultLanguage:function(){return T.lang||""},setTextDefaultLanguage:function(e){(0,d.checkParameterType)(e,"string"),T.lang=e},setTextDefaultEnabled:function(e){(0,d.checkParameterType)(e,"boolean"),(A=e)?I=!1:this.setTextTrack(-1)},getTextDefaultEnabled:function(){return A},setInitialSettings:function(e){T=e},enableText:function(e){(0,d.checkParameterType)(e,"boolean"),!A&&e&&(A=!0),D()!==e&&(e&&this.setTextTrack(S),e||(S=this.getCurrentTrackIdx(),b?this.setTextTrack(-1):M=!0))},isTextEnabled:D,setTextTrack:function(e){var t=n.getConfig(),r=t.fragmentModel,a=t.fragmentedTracks,o=t.videoModel,s=void 0,u=void 0;I=-1===e;var l=v.getCurrentTrackIdx();if(l!==e){v.setModeForTrackIdx(l,i.default.TEXT_HIDDEN),v.setCurrentTrackIdx(e),v.setModeForTrackIdx(e,i.default.TEXT_SHOWING);var f=v.getCurrentTrackInfo();if(f&&f.isFragmented&&!f.isEmbedded)for(var c=0;c<a.length;c++){var d=a[c];if(f.lang===d.lang&&f.index===d.index&&(d.id?f.id===d.id:f.id===d.index))if(d!==p.getCurrentTrackFor(i.default.FRAGMENTED_TEXT,m.getActiveStreamInfo()))r.abortRequests(),r.removeExecutedRequestsBeforeTime(),n.remove(),v.deleteCuesFromTrackIdx(l),p.setTrack(d),n.setCurrentFragmentedTrackIdx(c);else if(-1===l){for(var h=m.getActiveStreamProcessors(),g=0;g<h.length;g++)if(h[g].getType()===i.default.FRAGMENTED_TEXT){u=h[g];break}u.setIndexHandlerTime(o.getTime()),u.getScheduleController().start()}}else if(f&&!f.isFragmented){for(h=m.getActiveStreamProcessors(),c=0;c<h.length;c++)if(h[c].getType()===i.default.TEXT){s=(u=h[c]).getMediaInfoArr();break}if(u&&s)for(c=0;c<s.length;c++)if(s[c].index===f.index&&s[c].lang===f.lang){u.selectMediaInfo(s[c]);break}}}},getCurrentTrackIdx:function(){return v.getCurrentTrackIdx()},enableForcedTextStreaming:function(e){(0,d.checkParameterType)(e,"boolean"),R=e},reset:function(){C(),n.resetEmbedded(),n.reset()}},T={},v=(M=b=R=A=!(S=-1),s.default)(t).getInstance(),_=(0,u.default)(t).getInstance(),E=(0,l.default)(t).getInstance(),n=(0,o.default)(t).getInstance(),y=(0,f.default)(t).getInstance(),v.initialize(),y.on(c.default.TEXT_TRACKS_QUEUE_INITIALIZED,(function(e){var t=this,n=e.tracks,r=e.index;T&&P()(n).call(n,(function(e,n){if(p.matchSettings(T,e))return t.setTextTrack(n),r=n,!0})),A&&!M||this.setTextTrack(-1),S=r,y.trigger(c.default.TEXT_TRACKS_ADDED,{enabled:D(),index:r,tracks:n}),b=!0}),e),y.on(c.default.PERIOD_SWITCH_STARTED,(function(e){void 0===w&&null!==e.fromStreamInfo&&(w=this.getCurrentTrackIdx())}),e),y.on(c.default.STREAM_COMPLETED,(function(){void 0===w&&(w=this.getCurrentTrackIdx())}),e),y.on(c.default.PERIOD_SWITCH_COMPLETED,(function(){void 0!==w&&(this.setTextTrack(w),w=void 0)}),e),C(),e}h.__dashjs_factory_name="TextController",n.default=a.default.getSingletonFactory(h),t.exports=n.default},{108:108,201:201,202:202,218:218,219:219,221:221,46:46,47:47,54:54}],201:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=e(241),o=r(e(233)),s=r(e(206)),u=r(e(208)),l=r(e(47)),f=r(e(45)),c=r(e(202)),d=r(e(197)),h=r(e(9)),p=r(e(2)),g=r(e(46)),m=r(e(54)),v=r(e(225)),_=r(e(51));function E(){var e=this.context,t=(0,g.default)(e).getInstance(),n=!1,r=void 0,l=void 0,E=void 0,y=void 0,T=void 0,S=void 0,A=void 0,I=void 0,R=void 0,b=void 0,w=void 0,D=void 0,C=void 0,N=void 0,O=void 0,L=void 0,x=void 0,P=void 0,F=void 0,U=void 0,k=void 0,B=void 0,G=void 0,Y=void 0,K=void 0,H=void 0;function V(){O=NaN,F=C=null,N=!(L=[])}function j(){V(),w=[],I=null}function z(e){var t=e.chunk;t.mediaInfo.embeddedCaptions&&$(t.bytes,t)}function W(){k=[],(D=(0,c.default)(e).getInstance()).setConfig({videoModel:x}),D.initialize(),E=(0,s.default)(e).getInstance(),Y=[],n=!(G=U=null),K=(B=0,d.default)(e).getInstance();var r=P.getActiveStreamProcessors();for(var i in r)if("video"===r[i].getType()){H=r[i].getRepresentationInfo().MSETimeOffset;break}t.on(m.default.VIDEO_CHUNK_RECEIVED,z,this),t.on(m.default.BUFFER_CLEARED,ee,this)}function X(e){U=e}function Q(e,t){var n,r,a=new o.default,s={subtitle:"subtitles",caption:"captions"};a.captionData=e,a.lang=t.lang,a.labels=t.labels,a.id=t.id?t.id:t.index,a.index=t.index,a.isTTML=(n=!1,t.codec&&0<=t.codec.search(i.default.STPP)&&(n=!0),t.mimeType&&0<=t.mimeType.search(i.default.TTML)&&(n=!0),n),a.defaultTrack=function(e){var t=!1;return 1<k.length&&e.isEmbedded?t=e.id&&e.id===i.default.CC1:1===k.length?e.id&&"string"==typeof e.id&&"CC"===e.id.substring(0,2)&&(t=!0):0===k.length&&(t=e.index===w[0].index),t}(t),a.isFragmented=!T.getIsTextTrack(t.mimeType),a.isEmbedded=!!t.isEmbedded,a.kind=r=(r=0<t.roles.length?s[t.roles[0]]:s.caption)===s.caption||r===s.subtitle?r:s.caption,a.roles=t.roles,a.accessibility=t.accessibility;var u=(w?w.length:0)+k.length;D.addTextTrack(a,u)}function $(e,t){var n,r=void 0,o=void 0,s=void 0,u=void 0,f=void 0,c=void 0,d=t.mediaInfo,g=d.type,m=d.mimeType,T=d.codec||m;if(T){if(g===i.default.FRAGMENTED_TEXT)if(N||"InitializationSegment"!==t.segmentType){if(!N)return;if(n=(f=E.getSamplesInfo(e)).sampleList,null===F&&0<n.length&&(F=n[0].cts-t.start*O),0<=T.search(i.default.STPP))for(I=null!==I?I:J(T),o=0;o<n.length;o++){var A=(z=n[o]).cts,R=A-F;this.buffered.add(R/O,(R+z.duration)/O);var b=new DataView(e,z.offset,z.subSizes[0]),w=(c=h.default.Utils.dataViewToString(b,i.default.UTF8),[]),L=z.offset+z.subSizes[0];for(s=1;s<z.subSizes.length;s++){var P=new Uint8Array(e,L,z.subSizes[s]),V=String.fromCharCode.apply(null,P);w.push(V),L+=z.subSizes[s]}try{var j=S.getValue().ttmlTimeIsRelative?A/O:0;r=I.parse(c,j,A/O,(A+z.duration)/O,w);D.addCaptions(U,F/O,r)}catch(e){C.removeExecutedRequestsBeforeTime(),this.remove(),l.error("TTML parser error: "+e.message)}}else{var z,W=[];for(o=0;o<n.length;o++){(z=n[o]).cts-=F,this.buffered.add(z.cts/O,(z.cts+z.duration)/O);var X=Pe()(e).call(e,z.offset,z.offset+z.size),Z=h.default.parseBuffer(X);for(s=0;s<Z.boxes.length;s++){var $=Z.boxes[s];if(l.debug("VTT box1: "+$.type),"vtte"!==$.type&&"vttc"===$.type)for(l.debug("VTT vttc boxes.length = "+$.boxes.length),u=0;u<$.boxes.length;u++){var ee,te,ne,re=$.boxes[u];l.debug("VTT box2: "+re.type),"payl"===re.type&&(ee=re.cue_text,l.debug("VTT cue_text = "+ee),te=z.cts/O,ne=(z.cts+z.duration)/O,W.push({start:te,end:ne,data:ee,styles:{}}),l.debug("VTT "+te+"-"+ne+" : "+ee))}}}0<W.length&&D.addCaptions(U,0,W)}}else N=!0,O=E.getMediaTimescaleFromMoov(e);else if(g===i.default.TEXT){b=new DataView(e,0,e.byteLength),c=h.default.Utils.dataViewToString(b,i.default.UTF8);try{r=J(T).parse(c,0),D.addCaptions(D.getCurrentTrackIdx(),0,r)}catch(e){y.error(new v.default(_.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,_.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+e.message,c))}}else if(g===i.default.VIDEO)if(t.segmentType===a.HTTPRequest.INIT_SEGMENT_TYPE){if(0===B)for(B=E.getMediaTimescaleFromMoov(e),o=0;o<k.length;o++)Q(null,k[o])}else{if(0===B)return void l.warn("CEA-608: No timescale for embeddedTextTrack yet");var ie=(f=E.getSamplesInfo(e)).lastSequenceNumber;if(!Y[0]&&!Y[1]){var ae,oe=void 0;for(o=0;o<k.length;o++){if(k[o].id===i.default.CC1?oe=D.getTrackIdxForId(i.default.CC1):k[o].id===i.default.CC3&&(oe=D.getTrackIdxForId(i.default.CC3)),-1===oe)return void l.warn("CEA-608: data before track is ready.");ae=function(e){return function(t,n,r){var i;(i=x.getTTMLRenderingDiv()?K.createHTMLCaptionsFromScreen(x.getElement(),t,n,r):[{start:t,end:n,data:r.getDisplayText(),styles:{}}])&&D.addCaptions(e,0,i)}}(oe),Y[o]=new p.default.Cea608Parser(o+1,{newCue:ae},null)}}if(B){if(null!==G&&ie!==G+f.numSequences)for(o=0;o<Y.length;o++)Y[o]&&Y[o].reset();for(var se=function(e,t){var n;if(0===t.length)return null;for(var r={splits:[],fields:[[],[]]},i=new DataView(e),a=0;a<t.length;a++)for(var o=t[a],s=p.default.findCea608Nalus(i,o.offset,o.size),u=null,l=0,f=0;f<s.length;f++)for(var c=p.default.extractCea608DataFromRange(i,s[f]),d=0;d<2;d++)0<c[d].length&&(o.cts!==u?l=0:l+=1,r.fields[d].push([o.cts+H*B,c[d],l]),u=o.cts);return q()(n=r.fields).call(n,(function(e){M()(e).call(e,(function(e,t){return e[0]===t[0]?e[2]-t[2]:e[0]-t[0]}))})),r}(e,f.sampleList),ue=0;ue<Y.length;ue++){var le=se.fields[ue],fe=Y[ue];if(fe)for(o=0;o<le.length;o++)fe.addData(le[o][0]/B,le[o][1])}G=ie}}}else l.error("No text type defined")}function J(e){var t=void 0;return 0<=e.search(i.default.VTT)?t=R:(0<=e.search(i.default.TTML)||0<=e.search(i.default.STPP))&&(t=b),t}function ee(e){q()(k).call(k,(function(t){var n=D.getTrackIdxForId(t.id);0<=n&&D.deleteCuesFromTrackIdx(n,e.from,e.to)}))}return r={initialize:function(t,a,o,l){n||W(),D.setConfig({videoModel:x}),D.initialize(),E=E||(0,s.default)(e).getInstance(),function(t,n,a,o){var s=!T.getIsTextTrack(t);if(w=Z()(w).call(w,a),s){C=o,r.buffered=(0,u.default)(e).create(),L=A.getTracksFor(i.default.FRAGMENTED_TEXT,n);for(var l=A.getCurrentTrackFor(i.default.FRAGMENTED_TEXT,n),f=0;f<L.length;f++)if(L[f]===l){X(f);break}}for(f=0;f<w.length;f++)Q(null,w[f])}(t,a,o,l)},append:$,abort:function(){D.deleteAllTextTracks(),V(),E=null,w=[]},addEmbeddedTrack:function(e){if(n||W(),e)if(e.id===i.default.CC1||e.id===i.default.CC3){for(var t=0;t<k.length;t++)if(k[t].id===e.id)return;k.push(e)}else l.warn("Embedded track "+e.id+" not supported!")},resetEmbedded:function(){t.off(m.default.VIDEO_CHUNK_RECEIVED,z,this),t.off(m.default.BUFFER_CLEARED,ee,this),D&&D.deleteAllTextTracks(),n=!1,k=[],Y=[null,null],G=null},setConfig:function(e){e&&(e.errHandler&&(y=e.errHandler),e.adapter&&(T=e.adapter),e.manifestModel&&(S=e.manifestModel),e.mediaController&&(A=e.mediaController),e.videoModel&&(x=e.videoModel),e.streamController&&(P=e.streamController),e.textTracks&&(D=e.textTracks),e.vttParser&&(R=e.vttParser),e.ttmlParser&&(b=e.ttmlParser))},getConfig:function(){return{fragmentModel:C,fragmentedTracks:L,videoModel:x}},setCurrentFragmentedTrackIdx:X,remove:function(e,t){void 0===e&&e===t&&(e=this.buffered.start(0),t=this.buffered.end(this.buffered.length-1)),this.buffered.remove(e,t)},reset:function(){j(),D=x=P=null}},l=(0,f.default)(e).getInstance().getLogger(r),j(),r}E.__dashjs_factory_name="TextSourceBuffer",n.default=l.default.getSingletonFactory(E),t.exports=n.default},{108:108,197:197,2:2,202:202,206:206,208:208,225:225,233:233,241:241,45:45,46:46,47:47,51:51,54:54,9:9}],202:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(46)),o=r(e(54)),s=r(e(47)),u=r(e(45)),l=e(17),f=e(218);function c(){var e,t=this.context,n=(0,a.default)(t).getInstance(),r=void 0,s=void 0,c=void 0,d=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,E=void 0,y=void 0,T=void 0,S=void 0,A=void 0,I=void 0;function R(e){var t=d[e].kind,n=void 0!==d[e].id?d[e].id:d[e].lang,r=d[e].lang,i=d[e].isTTML,a=d[e].isEmbedded;return c.addTextTrack(t,n,r,i,a)}function b(e,t){var r=c.getClientWidth(),i=c.getClientHeight(),a=c.getVideoWidth(),s=c.getVideoHeight(),u=c.getVideoRelativeOffsetTop(),l=c.getVideoRelativeOffsetLeft();if(0!==a&&0!==s){var f=a/s,d=!1;e.isFromCEA608&&(f=3.5/3,d=!0);var h,p=function(e,t,n,r,i,a){var o=0,s=0;n/r<e/t?o=(s=t)/r*n:s=(o=e)/n*r;var u,l,f=0,c=0;return i<o/s?f=(c=s)*i:c=(f=o)/i,u=(e-f)/2,l=(t-c)/2,a?{x:u+.1*f,y:l+.1*c,w:.8*f,h:.8*c}:{x:u,y:l,w:f,h:c}}.call(this,r,i,a,s,f,d),y=p.w,A=p.h,R=p.x,b=p.y;if(y!=v||A!=_||R!=g||b!=m||t){g=R+l,m=b+u,v=y,_=A,!E||(h=E.style)&&(h.left=g+"px",h.top=m+"px",h.width=v+"px",h.height=_+"px",h.zIndex=T&&document[T]||S?I:null,n.trigger(o.default.CAPTION_CONTAINER_RESIZE,{}));var M=e.activeCues;if(M)for(var w=M.length,D=0;D<w;++D){var C=M[D];C.scaleCue(C)}}}}function w(e){var t,n=void 0,r=void 0,i=void 0,a=void 0,o=void 0;if(e.cellResolution){var s=[v/e.cellResolution[0],_/e.cellResolution[1]];if(e.linePadding)for(n in e.linePadding)if(e.linePadding.hasOwnProperty(n)){r=(e.linePadding[n]*s[0]).toString();for(var u=document.getElementsByClassName("spanPadding"),l=0;l<u.length;l++)u[l].style.cssText=u[l].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r),u[l].style.cssText=u[l].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}if(e.fontSize){for(n in e.fontSize)if(e.fontSize.hasOwnProperty(n)){"%"===e.fontSize[n][0]?i=e.fontSize[n][1]/100:"c"===e.fontSize[n][0]&&(i=e.fontSize[n][1]),r=(i*s[1]).toString(),o="defaultFontSize"!==n?document.getElementsByClassName(n):document.getElementsByClassName("paragraph");for(var f=0;f<o.length;f++)o[f].style.cssText=o[f].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}if(e.lineHeight)for(n in e.lineHeight)if(e.lineHeight.hasOwnProperty(n)){"%"===e.lineHeight[n][0]?a=e.lineHeight[n][1]/100:"c"===e.fontSize[n][0]&&(a=e.lineHeight[n][1]),r=(a*s[1]).toString(),o=document.getElementsByClassName(n);for(var c=0;c<o.length;c++)o[c].style.cssText=o[c].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}}}e.isd&&((t=document.getElementById(e.cueID))&&E.removeChild(t),D(e))}function D(e){var t;E&&(t=document.createElement("div"),E.appendChild(t),A=(0,l.renderHTML)(e.isd,t,(function(t){var n=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,r=/^#(.*)$/;if(n.test(t)){var i=n.exec(t),a=Ee()(i[4],10)-1;return"data:image/png;base64,"+btoa(e.images[a])}return r.test(t)?(a=(i=r.exec(t))[1],"data:image/png;base64,"+e.embeddedImages[a]):null}),E.clientHeight,E.clientWidth,!1,(function(e){r.info("renderCaption :",e)}),A,!0),t.id=e.cueID,n.trigger(o.default.CAPTION_RENDERED,{captionDiv:t,currentTrackIdx:p}))}function C(e){return 0<=e&&d[e]?c.getTextTrack(d[e].kind,d[e].id,d[e].lang,d[e].isTTML,d[e].isEmbedded):null}function N(e){var t;e!==p&&(t=C(p=e),function(e){x.call(this),e&&"html"===e.renderingType?function(){var e=document.getElementById("native-cue-style");if(!e){(e=document.createElement("style")).id="native-cue-style",document.head.appendChild(e);var t=e.sheet,n=c.getElement();try{n&&(n.id?t.insertRule("#"+n.id+"::cue {background: transparent}",0):0!==n.classList.length?t.insertRule("."+n.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0))}catch(e){r.info(""+e.message)}}}.call(this):L.call(this)}.call(this,t),y&&(clearInterval(y),y=null),t&&"html"===t.renderingType&&(b.call(this,t,!0),y=U()(le()(b).call(b,this,t),500)))}function O(e,t,n){if(e.cues)for(var r=e.cues,i=r.length-1;0<=i;i--)a=r[i],o=t,s=n,(isNaN(o)||a.startTime>=o)&&(isNaN(s)||a.endTime<=s)&&e.removeCue(r[i]);var a,o,s}function L(){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}function x(){if(E)for(;E.firstChild;)E.removeChild(E.firstChild)}return e={initialize:function(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&(s=window.VTTCue||window.TextTrackCue,d=[],h=[],S=!(p=-1),I=2147483647,A=y=E=null,void(_=v=m=g=0)!==document.fullscreenElement?T="fullscreenElement":void 0!==document.webkitIsFullScreen?T="webkitIsFullScreen":document.msFullscreenElement?T="msFullscreenElement":document.mozFullScreen&&(T="mozFullScreen"))},setDisplayCConTop:function(e){(0,f.checkParameterType)(e,"boolean"),S=e,E&&!document[T]&&(E.style.zIndex=e?I:null)},addTextTrack:function(e,t){var a=this;d.length!==t?(d.push(e),d.length===t&&function(){M()(d).call(d,(function(e,t){return e.index-t.index})),E=c.getTTMLRenderingDiv();for(var e=-1,t=0;t<d.length;t++){var r=R.call(a,t);h.push(r),d[t].defaultTrack&&(r.default=!0,e=t);var s=C(t);s&&(s.mode=i.default.TEXT_SHOWING,E&&(d[t].isTTML||d[t].isEmbedded)?s.renderingType="html":s.renderingType="default"),a.addCaptions(t,0,d[t].captionData),n.trigger(o.default.TEXT_TRACK_ADDED)}N.call(a,e),0<=e&&function(){n.on(o.default.PLAYBACK_METADATA_LOADED,(function t(){var r=C(e);r&&b.call(this,r,!0),n.off(o.default.PLAYBACK_METADATA_LOADED,t,this)}),a);for(var t=0;t<d.length;t++){var r=C(t);r&&(r.mode=t===e?i.default.TEXT_SHOWING:i.default.TEXT_HIDDEN)}}(),n.trigger(o.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:p,tracks:d})}()):r.error("Trying to add too many tracks.")},addCaptions:function(e,t,a){var u=C(e),l=this;if(u&&Ne()(a)&&0!==a.length)for(var f=0;f<a.length;f++){var c=void 0,d=a[f];u.cellResolution=d.cellResolution,u.isFromCEA608=d.isFromCEA608,"html"===d.type&&E?((c=new s(d.start-t,d.end-t,"")).cueHTMLElement=d.cueHTMLElement,c.isd=d.isd,c.images=d.images,c.embeddedImages=d.embeddedImages,c.cueID=d.cueID,c.scaleCue=le()(w).call(w,l),c.cellResolution=d.cellResolution,c.lineHeight=d.lineHeight,c.linePadding=d.linePadding,c.fontSize=d.fontSize,E.style.left=g+"px",E.style.top=m+"px",E.style.width=v+"px",E.style.height=_+"px",c.onenter=function(){u.mode===i.default.TEXT_SHOWING&&(this.isd?(D(this),r.debug("Cue enter id:"+this.cueID)):(E.appendChild(this.cueHTMLElement),w.call(l,this),n.trigger(o.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:p})))},c.onexit=function(){if(E)for(var e=E.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&(r.debug("Cue exit id:"+e[t].id),E.removeChild(e[t]),--t)}):d.data&&(c=new s(d.start-t,d.end-t,d.data),d.styles&&(void 0!==d.styles.align&&"align"in c&&(c.align=d.styles.align),void 0!==d.styles.line&&"line"in c&&(c.line=d.styles.line),void 0!==d.styles.position&&"position"in c&&(c.position=d.styles.position),void 0!==d.styles.size&&"size"in c&&(c.size=d.styles.size)),c.onenter=function(){u.mode===i.default.TEXT_SHOWING&&n.trigger(o.default.CAPTION_RENDERED,{currentTrackIdx:p})});try{c?u.addCue(c):r.error("impossible to display subtitles.")}catch(e){throw O(u),u.addCue(c),e}}},getCurrentTrackIdx:function(){return p},setCurrentTrackIdx:N,getTrackIdxForId:function(e){for(var t=-1,n=0;n<d.length;n++)if(d[n].id===e){t=n;break}return t},getCurrentTrackInfo:function(){return d[p]},setModeForTrackIdx:function(e,t){var n=C(e);n&&n.mode!==t&&(n.mode=t)},deleteCuesFromTrackIdx:function(e,t,n){var r=C(e);r&&O(r,t,n)},deleteAllTextTracks:function(){for(var e=h?h.length:0,t=0;t<e;t++){var n=C(t);n&&(O.call(this,n),n.mode="disabled")}h=[],d=[],y&&(clearInterval(y),y=null),p=-1,x.call(this)},deleteTextTrack:function(e){c.removeChild(h[e]),Ke()(h).call(h,e,1)},setConfig:function(e){e&&e.videoModel&&(c=e.videoModel)}},r=(0,u.default)(t).getInstance().getLogger(e),e}c.__dashjs_factory_name="TextTracks",n.default=s.default.getSingletonFactory(c),t.exports=n.default},{108:108,17:17,218:218,45:45,46:46,47:47,54:54}],203:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(108)),o=r(e(234)),s=r(e(204)),u=r(e(224)),l=e(80);function f(e){var t,n=this.context,r=void 0;function i(){r&&r.reset()}return t={provide:function(e,t){if("function"==typeof t){var n,i=r.getCurrentTrack(),a=void 0;if(!i||i.segmentDuration<=0||null==e)t(null);else{isNaN(i.segmentDuration)&&(a=r.getThumbnailRequestForTime(e))&&(i.segmentDuration=a.duration),n=e%i.segmentDuration;var s,u,f,c,d=Math.floor(n*i.tilesHor*i.tilesVert/i.segmentDuration),h=new o.default;if(h.width=Math.floor(i.widthPerTile),h.height=Math.floor(i.heightPerTile),h.x=Math.floor(d%i.tilesHor)*i.widthPerTile,h.y=Math.floor(d/i.tilesHor)*i.heightPerTile,"readThumbnail"in i)return i.readThumbnail(e,(function(e){h.url=e,t(h)}));a?(h.url=a.url,i.segmentDuration=NaN):(s=Math.floor(e/i.segmentDuration),h.url=(f=s+(u=i).startNumber,c=(0,l.replaceTokenForTemplate)(u.templateUrl,"Number",f),c=(0,l.replaceTokenForTemplate)(c,"Time",(f-1)*u.segmentDuration),c=(0,l.replaceTokenForTemplate)(c,"Bandwidth",u.bandwidth),(0,l.unescapeDollarsInTemplate)(c))),t(h)}}},setTrackByIndex:function(e){r.setTrackByIndex(e)},getCurrentTrackIndex:function(){return r.getCurrentTrackIndex()},getBitrateList:function(){var e=r.getTracks(),t=0;return te()(e).call(e,(function(e){var n=new u.default;return n.mediaType=a.default.IMAGE,n.qualityIndex=t++,n.bitrate=e.bitrate,n.width=e.width,n.height=e.height,n}))},reset:i},i(),r=(0,s.default)(n).create({streamInfo:e.streamInfo,adapter:e.adapter,baseURLController:e.baseURLController,timelineConverter:e.timelineConverter,debug:e.debug,eventBus:e.eventBus,events:e.events,dashConstants:e.dashConstants}),t}f.__dashjs_factory_name="ThumbnailController",n.default=i.default.getClassFactory(f),t.exports=n.default},{108:108,204:204,224:224,234:234,47:47,80:80}],204:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(108)),a=r(e(61)),o=r(e(47)),s=r(e(235)),u=r(e(220)),l=e(80),f=r(e(54)),c=r(e(206)),d=r(e(159)),h=r(e(57)),p=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function g(e){var t,n=this.context,r=e.adapter,o=e.baseURLController,g=e.streamInfo,m=e.timelineConverter,v=e.debug,_=e.eventBus,E=e.events,y=e.dashConstants,T=(0,u.default)(n).getInstance(),S=void 0,A=void 0,I=void 0,R=void 0,b=void 0,w=void 0;function D(){N(),b=(0,d.default)(n).create({}),w=(0,c.default)(n).getInstance(),(A=(0,h.default)(n).create({timelineConverter:m,baseURLController:o,debug:v,eventBus:_,events:E,dashConstants:y,urlUtils:T})).initialize(!!r&&r.getIsDynamic()),function(){if(g&&r&&(R=r.getMediaInfoForType(g,i.default.IMAGE))){var e=r.getVoRepresentations(R);e&&0<e.length&&q()(e).call(e,(function(e){(e.segmentInfoType===a.default.SEGMENT_TEMPLATE&&0<e.segmentDuration&&e.media||e.segmentInfoType===a.default.SEGMENT_TIMELINE)&&C(e),e.segmentInfoType===a.default.SEGMENT_BASE&&C(e,!0)})),0<S.length&&(M()(S).call(S,(function(e,t){return e.bitrate-t.bitrate})),I=S.length-1)}}()}function C(e,t){var n,a,u,c=new s.default;c.id=e.id,c.bitrate=e.bandwidth,c.width=e.width,c.height=e.height,c.tilesHor=1,c.tilesVert=1,e.essentialProperties&&q()(n=e.essentialProperties).call(n,(function(e){var t;0<=Ue()(p).call(p,e.schemeIdUri)&&e.value&&(2!==(t=e.value.split("x")).length||isNaN(t[0])||isNaN(t[1])||(c.tilesHor=Ee()(t[0],10),c.tilesVert=Ee()(t[1],10)))})),t?_.trigger(f.default.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,{mimeType:R.mimeType,mediaType:i.default.IMAGE,representation:e,callback:function(e,t){var n=[];e=function(e,t){for(var n,i,a=[],o=0,s=void 0,u=(s=0,e.length);s<u;s++)n=e[s],(i=(0,l.getTimeBasedSegment)(m,r.getIsDynamic(),t,n.startTime,n.duration,n.timescale,n.media,n.mediaRange,o))&&(a.push(i),o++);return a}(e,t),c.segmentDuration=e[0].duration,c.readThumbnail=function(r,i){var a=null;P()(n).call(n,(function(e){if(e.start<=r&&e.end>r)return a=e.url,!0})),a?i(a):P()(e).call(e,(function(e){if(e.mediaStartTime<=r&&e.mediaStartTime+e.duration>r){var a=o.resolve(t.path);return b.load({method:"get",url:a.url,request:{range:e.mediaRange,responseType:"arraybuffer"},onload:function(t){var r,a=w.getSamplesInfo(t.target.response),o=new Blob([Pe()(r=t.target.response).call(r,a.sampleList[0].offset,a.sampleList[0].offset+a.sampleList[0].size)],{type:"image/jpeg"}),s=window.URL.createObjectURL(o);n.push({start:e.mediaStartTime,end:e.mediaStartTime+e.duration,url:s}),i&&i(s)}}),!0}}))}}}):(c.startNumber=e.startNumber,c.segmentDuration=e.segmentDuration,c.timescale=e.timescale,c.templateUrl=(a=e,(u=T.isRelative(a.media)?T.resolve(a.media,o.resolve(a.path).url):a.media)?(0,l.replaceIDForTemplate)(u,a.id):"")),0<c.tilesHor&&0<c.tilesVert&&(c.widthPerTile=c.width/c.tilesHor,c.heightPerTile=c.height/c.tilesVert,S.push(c))}function N(){S=[],I=-1,R=null}return t={initialize:D,getTracks:function(){return S},reset:N,setTrackByIndex:function(e){S&&0!==S.length&&(e>=S.length&&(e=S.length-1),I=e)},getCurrentTrack:function(){return I<0?null:S[I]},getCurrentTrackIndex:function(){return I},getThumbnailRequestForTime:function(e){for(var t=void 0,n=r.getVoRepresentations(R),i=0;i<n.length;i++)if(S[I].id===n[i].id){t=n[i];break}return A.getSegmentRequestForTime(R,t,e)}},D(),t}n.THUMBNAILS_SCHEME_ID_URIS=p,g.__dashjs_factory_name="ThumbnailTracks",n.default=o.default.getClassFactory(g)},{108:108,159:159,206:206,220:220,235:235,47:47,54:54,57:57,61:61,80:80}],205:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(51)),a=r(e(46)),o=r(e(54)),s=r(e(113)),u=r(e(223)),l=r(e(222)),f=r(e(47)),c=r(e(225)),d=e(218);function h(){var e,t=this.context,n=(0,a.default)(t).getInstance(),r=void 0,f=void 0,h=void 0,p=void 0;function g(){r.reset()}return e={chooseSelector:function(e){(0,d.checkParameterType)(e,"boolean"),p=e?h:f},select:function(e){if(e){var t=e.baseUrls,r=e.selectedIdx;if(!isNaN(r))return t[r];var a=p.select(t);return a?(e.selectedIdx=Ue()(t).call(t,a),a):(n.trigger(o.default.URL_RESOLUTION_FAILED,{error:new c.default(i.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,i.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(p===f&&g()))}},reset:g,setConfig:function(e){e.selector&&(p=e.selector)}},r=(0,s.default)(t).create({updateEventName:o.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:o.default.SERVICE_LOCATION_BLACKLIST_ADD}),f=(0,l.default)(t).create({blacklistController:r}),h=(0,u.default)(t).create({blacklistController:r}),p=f,e}h.__dashjs_factory_name="BaseURLSelector",n.default=f.default.getClassFactory(h),t.exports=n.default},{113:113,218:218,222:222,223:223,225:225,46:46,47:47,51:51,54:54}],206:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(45)),a=r(e(214)),s=r(e(47)),u=r(e(9)),l=r(e(230));function f(){var e,t=void 0,n=this.context;function r(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var t=u.default.parseBuffer(e),r=(0,a.default)(n).create();return r.setData(t),r}return e={parse:r,findLastTopIsoBoxCompleted:function(e,t,n){if(void 0===n&&(n=0),!t||n+8>=t.byteLength)return new l.default(0,!1);for(var r,i,a,o,s=t instanceof ArrayBuffer?new Uint8Array(t):t,u=void 0,f=0;n<s.byteLength;){var c=(a=s)[(o=n)+3]>>>0|a[o+2]<<8>>>0|a[o+1]<<16>>>0|a[o]<<24>>>0,d=(r=s,i=n+4,String.fromCharCode(r[i++])+String.fromCharCode(r[i++])+String.fromCharCode(r[i++])+String.fromCharCode(r[i]));if(0==c)break;n+c<=s.byteLength&&(0<=Ue()(e).call(e,d)?u=new l.default(n,!0,c):f=n+c),n+=c}return u||new l.default(f,!1)},getMediaTimescaleFromMoov:function(e){var t=r(e),n=t?t.getBox("mdhd"):void 0;return n?n.timescale:NaN},getSamplesInfo:function(e){if(!e||0===e.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var t,n,i,a=r(e),s=a.getBoxes("moof"),u=a.getBoxes("mfhd"),l=void 0,f=void 0,c=void 0,d=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,E=a.getBoxes("moof").length,y=u[u.length-1].sequence_number,T=(f=[],-1),S=-1;for(p=0;p<s.length;p++){var A=s[p],I=A.getChildBoxes("traf");for(d=0;d<I.length;d++){var R=I[d],b=R.getChildBox("tfhd"),M=R.getChildBox("tfdt"),w=(l=M.baseMediaDecodeTime,R.getChildBoxes("trun")),D=R.getChildBoxes("subs");for(h=0;h<w.length;h++){var C=w[h],N=C.sample_count;for(v=(b.base_data_offset||0)+(C.data_offset||0),c=0;c<N;c++){t=void 0!==(i=C.samples[c]).sample_duration?i.sample_duration:b.default_sample_duration,n=void 0!==i.sample_size?i.sample_size:b.default_sample_size;var O={dts:l,cts:l+(void 0!==i.sample_composition_time_offset?i.sample_composition_time_offset:0),duration:t,offset:A.offset+v,size:n,subSizes:[n]};if(D)for(g=0;g<D.length;g++){var L=D[g];if(T<L.entry_count-1&&S<c&&(T++,S+=o()(L)[T].sample_delta),c==S){O.subSizes=[];var x=o()(L)[T];for(m=0;m<x.subsample_count;m++)O.subSizes.push(x.subsamples[m].subsample_size)}}f.push(O),v+=n,l+=t}}_=l-M.baseMediaDecodeTime}}return{sampleList:f,lastSequenceNumber:y,totalDuration:_,numSequences:E}},findInitRange:function(e){var n=null,i=r(e);if(!i)return n;var a=i.getBox("ftyp"),o=i.getBox("moov");return t.debug("Searching for initialization."),o&&o.isComplete&&(n=(a?a.offset:o.offset)+"-"+(o.offset+o.size-1),t.debug("Found the initialization.  Range: "+n)),n}},t=(0,i.default)(n).getInstance().getLogger(e),e}f.__dashjs_factory_name="BoxParser",n.default=s.default.getSingletonFactory(f),t.exports=n.default},{214:214,230:230,45:45,47:47,9:9}],207:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r};function a(){var e,t=void 0;return t=!(e={supportsMediaSource:function(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t},supportsEncryptedMedia:function(){return t},supportsCodec:function(e){return!(!("MediaSource"in window)||!MediaSource.isTypeSupported(e))||!(!("WebKitMediaSource"in window)||!WebKitMediaSource.isTypeSupported(e))},setEncryptedMediaSupported:function(e){t=e}}),e}a.__dashjs_factory_name="Capabilities",n.default=i.default.getSingletonFactory(a),t.exports=n.default},{47:47}],208:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r},a=e(218);function o(){return{customTimeRangeArray:[],length:0,add:function(e,t){var n=0;for(n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);for(Ke()(r=this.customTimeRangeArray).call(r,n,0,{start:e,end:t}),n=0;n<this.customTimeRangeArray.length-1;n++){var r;this.mergeRanges(n,n+1)&&n--}this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++){var r;if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)Ke()(r=this.customTimeRangeArray).call(r,n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){var i;Ke()(i=this.customTimeRangeArray).call(i,n+1,0,{start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}}this.length=this.customTimeRangeArray.length},mergeRanges:function(e,t){var n,r,i,a,o=this.customTimeRangeArray[e],s=this.customTimeRangeArray[t];return o.start<=s.start&&s.start<=o.end&&o.end<=s.end?(o.end=s.end,Ke()(n=this.customTimeRangeArray).call(n,t,1),!0):s.start<=o.start&&o.start<=s.end&&s.end<=o.end?(o.start=s.start,Ke()(r=this.customTimeRangeArray).call(r,t,1),!0):s.start<=o.start&&o.start<=s.end&&o.end<=s.end?(Ke()(i=this.customTimeRangeArray).call(i,e,1),!0):o.start<=s.start&&s.start<=o.end&&s.end<=o.end&&(Ke()(a=this.customTimeRangeArray).call(a,t,1),!0)},start:function(e){return(0,a.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].start},end:function(e){return(0,a.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].end}}}o.__dashjs_factory_name="CustomTimeRanges",n.default=i.default.getClassFactory(o),t.exports=n.default},{218:218,47:47}],209:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(45)),o=r(e(108)),s=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],u="dashjs_?_bitrate",l="dashjs_?_settings",f="localStorage",c="lastBitrate",d="lastMediaSettings";function h(e){e=e||{};var t,n=this.context,r=e.settings,i=void 0,h=void 0;function p(e){if(void 0!==h)return h;h=!1;var t=void 0;try{"undefined"!=typeof window&&(t=window[e])}catch(e){return i.warn("DOMStorage access denied: "+e.message),h}if(!t||e!==f&&"sessionStorage"!==e)return h;try{t.setItem("1","1"),t.removeItem("1"),h=!0}catch(e){i.warn("DOMStorage is supported, but cannot be used: "+e.message)}return h}function g(){return 6e5*Math.round((new Date).getTime()/6e5)}function m(e,t){return p(e)&&r.get().streaming[t+"CachingInfo"].enabled}function v(){if(!r)throw new Error(o.default.MISSING_CONFIG_ERROR)}return t={getSavedBitrateSettings:function(e){var t=NaN;if(v(),m(f,c)){var n=u.replace(/\?/,e);try{var a=JSON.parse(localStorage.getItem(n))||{},o=(new Date).getTime()-Ee()(a.timestamp,10)>=r.get().streaming.lastBitrateCachingInfo.ttl||!1,s=ae()(a.bitrate);isNaN(s)||o?o&&localStorage.removeItem(n):(t=s,i.debug("Last saved bitrate for "+e+" was "+s))}catch(e){return null}}return t},setSavedBitrateSettings:function(e,t){if(m(f,c)&&t){var n=u.replace(/\?/,e);try{localStorage.setItem(n,Ve()({bitrate:t.toFixed(3),timestamp:g()}))}catch(e){i.error(e.message)}}},getSavedMediaSettings:function(e){var t=null;if(v(),m(f,d)){var n=l.replace(/\?/,e);try{var i=JSON.parse(localStorage.getItem(n))||{},a=(new Date).getTime()-Ee()(i.timestamp,10)>=r.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;t=i.settings;a&&(localStorage.removeItem(n),t=null)}catch(e){return null}}return t},setSavedMediaSettings:function(e,t){if(m(f,d)){var n=l.replace(/\?/,e);try{localStorage.setItem(n,Ve()({settings:t,timestamp:g()}))}catch(e){i.error(e.message)}}}},i=(0,a.default)(n).getInstance().getLogger(t),p(f)&&q()(s).call(s,(function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){i.error(e.message)}}})),t}h.__dashjs_factory_name="DOMStorage";var p=i.default.getSingletonFactory(h);n.default=p,t.exports=n.default},{108:108,45:45,47:47}],210:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r};function a(){function e(e,t){try{return new window.URL(e,t).toString()}catch(t){return e}}function t(e,t){var n=s;if(!t)return e;if(!f(e))return e;c(e)&&(n=u),d(e)&&(n=l);var r=n(t),i="/"!==r.charAt(r.length-1)&&"/"!==e.charAt(0)?"/":"";return[r,e].join(i)}var n=void 0,r=/^[a-z][a-z0-9+\-_.]*:/i,i=/^https?:\/\//i,a=/^https:\/\//i,o=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i;function s(e){var t=Ue()(e).call(e,"/"),n=Re()(e).call(e,"/");return-1!==t?n===t+1?e:(-1!==Ue()(e).call(e,"?")&&(e=e.substring(0,Ue()(e).call(e,"?"))),e.substring(0,n+1)):""}function u(e){var t=e.match(o);return t?t[1]:""}function l(e){var t=e.match(r);return t?t[0]:""}function f(e){return!r.test(e)}function c(e){return f(e)&&"/"===e.charAt(0)}function d(e){return 0===Ue()(e).call(e,"//")}return function(){try{new window.URL("x","http://y"),n=e}catch(e){}finally{n=n||t}}(),{parseBaseUrl:s,parseOrigin:u,parseScheme:l,isRelative:f,isPathAbsolute:c,isSchemeRelative:d,isHTTPURL:function(e){return i.test(e)},isHTTPS:function(e){return a.test(e)},removeHostname:function(e){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(e)[2].substring(1)},resolve:function(e,t){return n(e,t)}}}a.__dashjs_factory_name="DefaultURLUtils",n.default=i.default.getSingletonFactory(a),t.exports=n.default},{47:47}],211:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r};function a(e){e=e||{};var t=void 0,n=new DataView(e.data),r=0;function i(e,t){var i,a=!0;if(void 0===t&&(t=!1),i=16777215<e.tag?(n.getUint32(r)!==e.tag&&(a=!1),4):65535<e.tag?(256*n.getUint16(r)+n.getUint8(r+2)!==e.tag&&(a=!1),3):255<e.tag?(n.getUint16(r)!==e.tag&&(a=!1),2):(n.getUint8(r)!==e.tag&&(a=!1),1),!a&&e.required&&!t)throw new Error("required tag not found");return a&&(r+=i),a}function a(e){var t=1,i=128,a=-1,o=0,s=n.getUint8(r),u=0;for(u=0;u<8;u+=1){if((s&i)===i){o=void 0===e?s&~i:s,a=u;break}i>>=1}for(u=0;u<a;u+=1,t+=1)o=o<<8|255&n.getUint8(r+t);return r+=t,o}return t={getPos:function(){return r},setPos:function(e){r=e},consumeTag:i,consumeTagAndSize:function(e,t){var n=i(e,t);return n&&a(),n},parseTag:function(e){var n;return i(e),n=a(),t[e.parse](n)},skipOverElement:function(e,t){var n,o=i(e,t);return o&&(n=a(),r+=n),o},getMatroskaCodedNum:a,getMatroskaFloat:function(e){var t=void 0;switch(e){case 4:t=n.getFloat32(r),r+=4;break;case 8:t=n.getFloat64(r),r+=8}return t},getMatroskaUint:function(e){for(var t=0,i=0;i<e;i+=1)t<<=8,t|=255&n.getUint8(r+i);return r+=e,t},moreData:function(){return r<n.byteLength}}}a.__dashjs_factory_name="EBMLParser",n.default=i.default.getClassFactory(a),t.exports=n.default},{47:47}],212:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(46)),a=r(e(54)),o=r(e(47));function s(){var e=this.context,t=(0,i.default)(e).getInstance();return{error:function(e){t.trigger(a.default.ERROR,{error:e})}}}s.__dashjs_factory_name="ErrorHandler",n.default=o.default.getSingletonFactory(s),t.exports=n.default},{46:46,47:47,54:54}],213:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r};function a(){var e={};return{save:function(t){var n=t.streamId,r=t.representationId;e[n]=e[n]||{},e[n][r]=t},extract:function(t,n){return e&&e[t]&&e[t][n]?e[t][n]:null},reset:function(){e={}}}}a.__dashjs_factory_name="InitCache",n.default=i.default.getSingletonFactory(a),t.exports=n.default},{47:47}],214:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(229)),a=r(e(47));function o(){var e=void 0;function t(t){var r=[];if(!t||!e||"function"!=typeof e.fetchAll)return r;for(var i,a=e.fetchAll(t),o=0,s=a.length;o<s;o++)(i=n(a[o]))&&r.push(i);return r}function n(e){if(!e)return null;var t=new i.default(e);return e.hasOwnProperty("_incomplete")&&(t.isComplete=!e._incomplete),t}return{getBox:function(t){return t&&e&&e.boxes&&0!==e.boxes.length&&"function"==typeof e.fetch?n(e.fetch(t)):null},getBoxes:t,setData:function(t){e=t},getLastBox:function(){if(!e||!e.boxes||!e.boxes.length)return null;var n=t(e.boxes[e.boxes.length-1].type);return 0<n.length?n[n.length-1]:null}}}o.__dashjs_factory_name="IsoFile",n.default=a.default.getClassFactory(o),t.exports=n.default},{229:229,47:47}],215:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(108));function o(e){var t=(e=e||{}).timelineConverter;return{getLiveEdge:function(e){!function(){if(!t||!t.hasOwnProperty("getExpectedLiveEdge"))throw new Error(a.default.MISSING_CONFIG_ERROR)}();var n=e.DVRWindow?e.DVRWindow.end:0,r=n;return e.useCalculatedLiveEdgeTime&&(r=t.getExpectedLiveEdge(),t.setClientTimeOffset(r-n)),r},reset:function(){t=null}}}o.__dashjs_factory_name="LiveEdgeFinder",n.default=i.default.getClassFactory(o),t.exports=n.default},{108:108,47:47}],216:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(12));function o(){return{areEqual:function(e,t){return(0,a.default)(e,t)}}}o.__dashjs_factory_name="ObjectUtils",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{12:12,47:47}],217:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r};function a(){return{modifyRequestURL:function(e){return e},modifyRequestHeader:function(e){return e}}}a.__dashjs_factory_name="RequestModifier",n.default=i.default.getSingletonFactory(a),t.exports=n.default},{47:47}],218:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.checkParameterType=function(e,t){if(Le()(e)!==t)throw i.default.BAD_ARGUMENT_ERROR},n.checkInteger=function(e){if(null===e||isNaN(e)||e%1!=0)throw i.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"},n.checkRange=function(e,t,n){if(e<t||n<e)throw i.default.BAD_ARGUMENT_ERROR+" : argument out of range"},n.checkIsVideoOrAudioType=function(e){if("string"!=typeof e||e!==i.default.AUDIO&&e!==i.default.VIDEO)throw i.default.BAD_ARGUMENT_ERROR};var r,i=(r=e(108))&&r.__esModule?r:{default:r}},{108:108}],219:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(45)),o=r(e(46)),s=r(e(54)),u=e(17);function l(){var e,t=this.context,n=(0,o.default)(t).getInstance(),r=void 0,i=0;return e={parse:function(e,t,a,o,l){var f,c,d="",h=[],p=void 0,g={},m={},v="",_="",E={onOpenTag:function(e,t,n){if("image"===t&&"http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===e){if(!n[" imagetype"]||"PNG"!==n[" imagetype"].value)return void r.warn("smpte-tt imagetype != PNG. Discarded");v=n["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){v&&(m[v]=qe()(_).call(_)),v=_=""},onText:function(e){v&&(_+=e)}};if(!e)throw d="no ttml data to parse",new Error(d);g.data=e,n.trigger(s.default.TTML_TO_PARSE,g);var y=(0,u.fromXML)(g.data,(function(e){d=e}),E);n.trigger(s.default.TTML_PARSED,{ttmlString:g.data,ttmlDoc:y});var T,S=y.getMediaTimeEvents();for(p=0;p<S.length;p++){var A,I=(0,u.generateISD)(y,S[p],(function(e){d=e}));P()(A=I.contents).call(A,(function(e){return e.contents.length}))&&(f=S[p]+t<a?a:S[p]+t)<(c=S[p+1]+t>o?o:S[p+1]+t)&&h.push({start:f,end:c,type:"html",cueID:(void 0,T="cue_TTML_"+i,i++,T),isd:I,images:l,embeddedImages:m})}if(""!==d)throw r.error(d),new Error(d);return h}},r=(0,a.default)(t).getInstance().getLogger(e),e}l.__dashjs_factory_name="TTMLParser",n.default=i.default.getSingletonFactory(l),t.exports=n.default},{17:17,45:45,46:46,47:47,54:54}],220:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(210));function o(){var e=void 0,t=[],n=this.context;function r(n,r,i){var a=function(n){var r=void 0;for(r=0;r<t.length;r++)if(t[r].regex.test(n))return t[r].utils;return e}(i||r);return a&&"function"==typeof a[n]?a[n](r,i):e[n](r,i)}return e=(0,a.default)(n).getInstance(),{registerUrlRegex:function(e,n){t.push({regex:e,utils:n})},parseBaseUrl:function(e){return r("parseBaseUrl",e)},parseOrigin:function(e){return r("parseOrigin",e)},parseScheme:function(e){return r("parseScheme",e)},isRelative:function(e){return r("isRelative",e)},isPathAbsolute:function(e){return r("isPathAbsolute",e)},isSchemeRelative:function(e){return r("isSchemeRelative",e)},isHTTPURL:function(e){return r("isHTTPURL",e)},isHTTPS:function(e){return r("isHTTPS",e)},removeHostname:function(e){return r("removeHostname",e)},resolve:function(e,t){return r("resolve",e,t)}}}o.__dashjs_factory_name="URLUtils";var s=i.default.getSingletonFactory(o);n.default=s,t.exports=n.default},{210:210,47:47}],221:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Be()(n,"__esModule",{value:!0});var i=r(e(47)),a=r(e(45));function o(){var e,t=this.context,n=void 0,r=void 0,i=void 0,o=void 0,s=void 0;function u(e){var t=e.split(":"),n=t.length-1;return e=60*Ee()(t[n-1],10)+ae()(t[n]),2==n&&(e+=3600*Ee()(t[0],10)),e}return e={parse:function(e){var t,a=[],l=void 0;if(!e)return a;t=(e=e.split(r)).length,l=-1;for(var f,c,d=0;d<t;d++){var h,p,g,m,v,_,E=e[d];0<E.length&&"WEBVTT"!==E&&E.match(i)&&(c=f=void 0,(c=(f=E.split(i))[1].split(s)).shift(),f[1]=c[0],c.shift(),p=(h={cuePoints:f,styles:function(e){var t={};return q()(e).call(e,(function(e){var n;1<e.split(/:/).length&&((n=e.split(/:/)[1])&&-1!=n.search(/%/)&&(n=Ee()(n.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=n),(e.match(/line/)||e.match(/L/))&&(t.line=n),(e.match(/position/)||e.match(/P/))&&(t.position=n),(e.match(/size/)||e.match(/S/))&&(t.size=n))})),t}(c)}).cuePoints,g=h.styles,m=function(e,t){for(var n,r=t,a="",o="";""!==e[r]&&r<e.length;)r++;if(1<(n=r-t))for(var s=0;s<n;s++){if((o=e[t+s]).match(i)){a="";break}a+=o,s!==n-1&&(a+="\n")}else(o=e[t]).match(i)||(a=o);return a}(e,d+1),v=u(p[0].replace(o,"")),_=u(p[1].replace(o,"")),!isNaN(v)&&!isNaN(_)&&l<=v&&v<_?""!==m?(l=v,a.push({start:v,end:_,data:m,styles:g})):n.error("Skipping cue due to empty/malformed cue text"):n.error("Skipping cue due to incorrect cue timing"))}return a}},n=(0,a.default)(t).getInstance().getLogger(e),r=/(?:\r\n|\r|\n)/gm,i=/-->/,o=/(^[\s]+|[\s]+$)/g,s=/\s\b/g,e}o.__dashjs_factory_name="VTTParser",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{45:45,47:47}],222:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(47))&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).blacklistController;return{select:function(e){var n=0,r=void 0;return e&&P()(e).call(e,(function(e,r){return n=r,!t.contains(e.serviceLocation)}))&&(r=e[n]),r}}}a.__dashjs_factory_name="BasicSelector",n.default=i.default.getClassFactory(a),t.exports=n.default},{47:47}],223:[function(e,t,n){Be()(n,"__esModule",{value:!0});var i,a=(i=e(47))&&i.__esModule?i:{default:i};function o(e){var t=(e=e||{}).blacklistController;return{select:function(e){var n,i;return e&&function(e){var t,n,i,a=0,o=[],s=0;if((i=K()(t=M()(e).call(e,(function(e,t){var n=e.dvb_priority-t.dvb_priority;return isNaN(n)?0:n}))).call(t,(function(e,t,n){return!t||n[0].dvb_priority&&e.dvb_priority&&n[0].dvb_priority===e.dvb_priority}))).length)return 1<i.length&&(q()(i).call(i,(function(e){a+=e.dvb_weight,o.push(a)})),n=Math.floor(Math.random()*(a-1)),r()(o).call(o,(function(e,t){return s=t,!(n<e)}))),i[s]}((i=[],K()(n=K()(e).call(e,(function(e){return!t.contains(e.serviceLocation)||(e.dvb_priority&&i.push(e.dvb_priority),!1)}))).call(n,(function(e){return!i.length||!e.dvb_priority||-1===Ue()(i).call(i,e.dvb_priority)}))))}}}o.__dashjs_factory_name="DVBSelector",n.default=a.default.getClassFactory(o),t.exports=n.default},{47:47}],224:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN},t.exports=n.default},{}],225:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.code=t||null,this.message=n||null,this.data=r||null},t.exports=n.default},{}],226:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},t.exports=n.default},{}],227:[function(e,t,n){Be()(n,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}var i=e(241),a=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(o,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===i.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(e){this.type=e&&e.init?i.HTTPRequest.INIT_SEGMENT_TYPE:i.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=e&&e.url?e.url:null,this.range=e&&e.range?e.range.start+"-"+e.range.end:null,this.mediaType=e&&e.mediaType?e.mediaType:null}}]),o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.action=o.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=e||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}a.ACTION_DOWNLOAD="download",a.ACTION_COMPLETE="complete",n.default=a,t.exports=n.default},{241:241}],228:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(a,((r=e(227))&&r.__esModule?r:{default:r}).default),a);function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}}(X()(a.prototype),"constructor",this).call(this,e),this.checkForExistenceOnly=!0}n.default=i,t.exports=n.default},{227:227}],229:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Be()(e,r.key,r)}}Be()(n,"__esModule",{value:!0});var i=(function(e,t,n){t&&r(e.prototype,t)}(a,[{key:"getChildBox",value:function(e){for(var t=0;t<this.boxes.length;t++)if(this.boxes[t].type===e)return this.boxes[t]}},{key:"getChildBoxes",value:function(e){for(var t=[],n=0;n<this.boxes.length;n++)this.boxes[n].type===e&&t.push(this.boxes[n]);return t}}]),a);function a(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.offset=e._offset,this.type=e.type,this.size=e.size,this.boxes=[],e.boxes)for(var t=0;t<e.boxes.length;t++)this.boxes.push(new a(e.boxes[t]));switch(this.isComplete=!0,e.type){case"sidx":if(this.timescale=e.timescale,this.earliest_presentation_time=e.earliest_presentation_time,this.first_offset=e.first_offset,this.references=e.references,e.references)for(this.references=[],t=0;t<e.references.length;t++){var n={reference_type:e.references[t].reference_type,referenced_size:e.references[t].referenced_size,subsegment_duration:e.references[t].subsegment_duration};this.references.push(n)}break;case"emsg":this.id=e.id,this.value=e.value,this.timescale=e.timescale,this.scheme_id_uri=e.scheme_id_uri,this.presentation_time_delta=1===e.version?e.presentation_time:e.presentation_time_delta,this.event_duration=e.event_duration,this.message_data=e.message_data;break;case"mdhd":this.timescale=e.timescale;break;case"mfhd":this.sequence_number=e.sequence_number;break;case"subs":this.entry_count=e.entry_count,this.entries=o()(e);break;case"tfhd":this.base_data_offset=e.base_data_offset,this.sample_description_index=e.sample_description_index,this.default_sample_duration=e.default_sample_duration,this.default_sample_size=e.default_sample_size,this.default_sample_flags=e.default_sample_flags,this.flags=ge()(e);break;case"tfdt":this.version=e.version,this.baseMediaDecodeTime=e.baseMediaDecodeTime,this.flags=ge()(e);break;case"trun":if(this.sample_count=e.sample_count,this.first_sample_flags=e.first_sample_flags,this.data_offset=e.data_offset,this.flags=ge()(e),this.samples=e.samples,e.samples){this.samples=[];t=0;for(var r=e.samples.length;t<r;t++){var i={sample_size:e.samples[t].sample_size,sample_duration:e.samples[t].sample_duration,sample_composition_time_offset:e.samples[t].sample_composition_time_offset};this.samples.push(i)}}}}n.default=i,t.exports=n.default},{}],230:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastCompletedOffset=t,this.found=n,this.size=r},t.exports=n.default},{}],231:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},t.exports=n.default},{}],232:[function(e,t,n){Be()(n,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}var i=r(e(108)),a=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Le()(t));e.prototype=he()(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(D.a?D()(e,t):e.__proto__=t)}(o,r(e(227)).default),o);function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,n){for(o=!0;o;){var r=e,i=t,a=n,o=!1;null===r&&(r=Function.prototype);var s=N()(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=X()(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=void 0}}(X()(o.prototype),"constructor",this).call(this),this.url=e||null,this.type=t||null,this.mediaType=i.default.STREAM,this.responseType=""}n.default=a,t.exports=n.default},{108:108,227:227}],233:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1},t.exports=n.default},{}],234:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},t.exports=n.default},{}],235:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""},t.exports=n.default},{}],236:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null},t.exports=n.default},{}],237:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.level=null},t.exports=n.default},{}],238:[function(e,t,n){Be()(n,"__esModule",{value:!0});var r,i=(r=e(109))&&r.__esModule?r:{default:r};n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=null,this.state=i.default.BUFFER_EMPTY},t.exports=n.default},{109:109}],239:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.time=null,this.range=null,this.manifestInfo=null},t.exports=n.default},{}],240:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.time=null,this.droppedFrames=null},t.exports=n.default},{}],241:[function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){r(this,i),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null}Be()(n,"__esModule",{value:!0}),i.GET="GET",i.HEAD="HEAD",i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.OTHER_TYPE="other",n.HTTPRequest=i,n.HTTPRequestTrace=function e(){r(this,e),this.s=null,this.d=null,this.b=[]}},{}],242:[function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Be()(n,"__esModule",{value:!0}),n.ManifestUpdate=function e(){r(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},n.ManifestUpdateStreamInfo=function e(){r(this,e),this.id=null,this.index=null,this.start=null,this.duration=null},n.ManifestUpdateRepresentationInfo=function e(){r(this,e),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null}},{}],243:[function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){r(this,i),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]}function a(){r(this,a),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null}Be()(n,"__esModule",{value:!0}),i.INITIAL_PLAYOUT_START_REASON="initial_playout",i.SEEK_START_REASON="seek",i.RESUME_FROM_PAUSE_START_REASON="resume",i.METRICS_COLLECTION_START_REASON="metrics_collection_start",a.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",a.REBUFFERING_REASON="rebuffering",a.USER_REQUEST_STOP_REASON="user_request",a.END_OF_PERIOD_STOP_REASON="end_of_period",a.END_OF_CONTENT_STOP_REASON="end_of_content",a.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",a.FAILURE_STOP_REASON="failure",n.PlayList=i,n.PlayListTrace=a},{}],244:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.mt=null,this.to=null,this.lto=null},t.exports=n.default},{}],245:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadingRequests=[],this.executedRequests=[]},t.exports=n.default},{}],246:[function(e,t,n){Be()(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},t.exports=n.default},{}]},{},[4])}).call(this,n(113))},function(e,t,n){var r=n(207);e.exports=r},function(e,t,n){var r=n(208),i=Array.prototype;e.exports=function(e){var t=e.every;return e===i||e instanceof Array&&t===i.every?r:t}},function(e,t,n){n(209);var r=n(19);e.exports=r("Array").every},function(e,t,n){"use strict";var r=n(4),i=n(64).every,a=n(55),o=n(37),s=a("every"),u=o("every");r({target:"Array",proto:!0,forced:!s||!u},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(54);var r=n(211),i=n(50),a=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.entries;return e===a||e instanceof Array&&t===a.entries||o.hasOwnProperty(i(e))?r:t}},function(e,t,n){var r=n(212);e.exports=r},function(e,t,n){n(81);var r=n(19);e.exports=r("Array").entries},function(e,t,n){var r=n(214);e.exports=r},function(e,t,n){var r=n(215),i=String.prototype;e.exports=function(e){var t=e.startsWith;return"string"==typeof e||e===i||e instanceof String&&t===i.startsWith?r:t}},function(e,t,n){n(216);var r=n(19);e.exports=r("String").startsWith},function(e,t,n){"use strict";var r,i=n(4),a=n(56).f,o=n(34),s=n(137),u=n(46),l=n(138),f=n(48),c="".startsWith,d=Math.min,h=l("startsWith");i({target:"String",proto:!0,forced:!!(f||h||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!h},{startsWith:function(e){var t=String(u(this));s(e);var n=o(d(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return c?c.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(26),i=n(51),a=n(16)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){n(54);var r=n(219),i=n(50),a=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.keys;return e===a||e instanceof Array&&t===a.keys||o.hasOwnProperty(i(e))?r:t}},function(e,t,n){var r=n(220);e.exports=r},function(e,t,n){n(81);var r=n(19);e.exports=r("Array").keys},function(e,t,n){var r=n(222);e.exports=r},function(e,t,n){n(131),n(60),n(54),n(223),n(227),n(228);var r=n(11);e.exports=r.Promise},function(e,t,n){"use strict";var r,i,a,o,s=n(4),u=n(48),l=n(18),f=n(44),c=n(139),d=n(53),h=n(140),p=n(49),g=n(224),m=n(26),v=n(47),_=n(104),E=n(51),y=n(120),T=n(141),S=n(144),A=n(145),I=n(146).set,R=n(225),b=n(148),M=n(226),w=n(105),D=n(149),C=n(62),N=n(115),O=n(16),L=n(101),x=O("species"),P="Promise",F=C.get,U=C.set,k=C.getterFor(P),B=c,G=l.TypeError,q=l.document,Y=l.process,K=f("fetch"),H=w.f,V=H,j="process"==E(Y),z=!!(q&&q.createEvent&&l.dispatchEvent),W=N(P,(function(){if(!(y(B)!==String(B))){if(66===L)return!0;if(!j&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!B.prototype.finally)return!0;if(L>=51&&/native code/.test(B))return!1;var e=B.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[x]=t,!(e.then((function(){}))instanceof t)})),X=W||!S((function(e){B.all(e).catch((function(){}))})),Q=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},Z=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;R((function(){for(var i=t.value,a=1==t.state,o=0;r.length>o;){var s,u,l,f=r[o++],c=a?f.ok:f.fail,d=f.resolve,h=f.reject,p=f.domain;try{c?(a||(2===t.rejection&&te(e,t),t.rejection=1),!0===c?s=i:(p&&p.enter(),s=c(i),p&&(p.exit(),l=!0)),s===f.promise?h(G("Promise-chain cycle")):(u=Q(s))?u.call(s,d,h):d(s)):h(i)}catch(e){p&&!l&&p.exit(),h(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&J(e,t)}))}},$=function(e,t,n){var r,i;z?((r=q.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},(i=l["on"+e])?i(r):"unhandledrejection"===e&&M("Unhandled promise rejection",n)},J=function(e,t){I.call(l,(function(){var n,r=t.value;if(ee(t)&&(n=D((function(){j?Y.emit("unhandledRejection",r,e):$("unhandledrejection",e,r)})),t.rejection=j||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){I.call(l,(function(){j?Y.emit("rejectionHandled",e):$("rejectionhandled",e,t.value)}))},ne=function(e,t,n,r){return function(i){e(t,n,i,r)}},re=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Z(e,t,!0))},ie=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw G("Promise can't be resolved itself");var i=Q(n);i?R((function(){var r={done:!1};try{i.call(n,ne(ie,e,r,t),ne(re,e,r,t))}catch(n){re(e,r,n,t)}})):(t.value=n,t.state=1,Z(e,t,!1))}catch(n){re(e,{done:!1},n,t)}}};W&&(B=function(e){_(this,B,P),v(e),r.call(this);var t=F(this);try{e(ne(ie,this,t),ne(re,this,t))}catch(e){re(this,t,e)}},(r=function(e){U(this,{type:P,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(B.prototype,{then:function(e,t){var n=k(this),r=H(A(this,B));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=j?Y.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Z(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=F(e);this.promise=e,this.resolve=ne(ie,e,t),this.reject=ne(re,e,t)},w.f=H=function(e){return e===B||e===a?new i(e):V(e)},u||"function"!=typeof c||(o=c.prototype.then,d(c.prototype,"then",(function(e,t){var n=this;return new B((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof K&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return b(B,K.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:W},{Promise:B}),p(B,P,!1,!0),g(P),a=f(P),s({target:P,stat:!0,forced:W},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),s({target:P,stat:!0,forced:u||W},{resolve:function(e){return b(u&&this===a?B:this,e)}}),s({target:P,stat:!0,forced:X},{all:function(e){var t=this,n=H(t),r=n.resolve,i=n.reject,a=D((function(){var n=v(t.resolve),a=[],o=0,s=1;T(e,(function(e){var u=o++,l=!1;a.push(void 0),s++,n.call(t,e).then((function(e){l||(l=!0,a[u]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=H(t),r=n.reject,i=D((function(){var i=v(t.resolve);T(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){"use strict";var r=n(44),i=n(43),a=n(16),o=n(28),s=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r,i,a,o,s,u,l,f,c=n(18),d=n(56).f,h=n(51),p=n(146).set,g=n(147),m=c.MutationObserver||c.WebKitMutationObserver,v=c.process,_=c.Promise,E="process"==h(v),y=d(c,"queueMicrotask"),T=y&&y.value;T||(r=function(){var e,t;for(E&&(e=v.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():a=void 0,e}}a=void 0,e&&e.enter()},E?o=function(){v.nextTick(r)}:m&&!g?(s=!0,u=document.createTextNode(""),new m(r).observe(u,{characterData:!0}),o=function(){u.data=s=!s}):_&&_.resolve?(l=_.resolve(void 0),f=l.then,o=function(){f.call(l,r)}):o=function(){p.call(c,r)}),e.exports=T||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},function(e,t,n){var r=n(18);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){"use strict";var r=n(4),i=n(47),a=n(105),o=n(149),s=n(141);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,l=o((function(){var n=i(t.resolve),a=[],o=0,u=1;s(e,(function(e){var i=o++,s=!1;a.push(void 0),u++,n.call(t,e).then((function(e){s||(s=!0,a[i]={status:"fulfilled",value:e},--u||r(a))}),(function(e){s||(s=!0,a[i]={status:"rejected",reason:e},--u||r(a))}))})),--u||r(a)}));return l.error&&u(l.value),n.promise}})},function(e,t,n){"use strict";var r=n(4),i=n(48),a=n(139),o=n(20),s=n(44),u=n(145),l=n(148),f=n(53);r({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof a||a.prototype.finally||f(a.prototype,"finally",s("Promise").prototype.finally)},function(e,t,n){var r=n(230);e.exports=r},function(e,t,n){n(231);var r=n(11);e.exports=r.Number.isFinite},function(e,t,n){n(4)({target:"Number",stat:!0},{isFinite:n(232)})},function(e,t,n){var r=n(18).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},function(e,t,n){var r=n(150);e.exports=r},function(e,t,n){var r=n(4),i=n(151);r({target:"Array",stat:!0,forced:!n(144)((function(e){Array.from(e)}))},{from:i})},function(e,t,n){var r=n(236);e.exports=r},function(e,t,n){n(237);var r=n(11);e.exports=r.Date.now},function(e,t,n){n(4)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(e,t,n){n(54),n(60);var r=n(152);e.exports=r},function(e,t,n){var r=n(240);e.exports=r},function(e,t,n){n(241),e.exports=9007199254740991},function(e,t,n){n(4)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(243);e.exports=r},function(e,t,n){n(244);var r=n(11);e.exports=r.Number.isInteger},function(e,t,n){n(4)({target:"Number",stat:!0},{isInteger:n(245)})},function(e,t,n){var r=n(26),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){var r=n(247);e.exports=r},function(e,t,n){var r=n(248),i=Array.prototype;e.exports=function(e){var t=e.sort;return e===i||e instanceof Array&&t===i.sort?r:t}},function(e,t,n){n(249);var r=n(19);e.exports=r("Array").sort},function(e,t,n){"use strict";var r=n(4),i=n(47),a=n(33),o=n(20),s=n(55),u=[],l=u.sort,f=o((function(){u.sort(void 0)})),c=o((function(){u.sort(null)})),d=s("sort");r({target:"Array",proto:!0,forced:f||!c||!d},{sort:function(e){return void 0===e?l.call(a(this)):l.call(a(this),i(e))}})},function(e,t,n){var r=n(251);e.exports=r},function(e,t,n){n(252);var r=n(11);e.exports=r.Object.setPrototypeOf},function(e,t,n){n(4)({target:"Object",stat:!0},{setPrototypeOf:n(127)})},function(e,t,n){var r=n(254);e.exports=r},function(e,t,n){n(255);var r=n(11).Object,i=e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)};r.getOwnPropertyDescriptor.sham&&(i.sham=!0)},function(e,t,n){var r=n(4),i=n(20),a=n(40),o=n(56).f,s=n(28),u=i((function(){o(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},function(e,t,n){var r=n(257);e.exports=r},function(e,t,n){n(258),n(260),n(154);var r=n(11);e.exports=r.URL},function(e,t,n){"use strict";n(60);var r,i=n(4),a=n(28),o=n(153),s=n(18),u=n(96),l=n(53),f=n(104),c=n(31),d=n(136),h=n(151),p=n(119).codeAt,g=n(259),m=n(49),v=n(154),_=n(62),E=s.URL,y=v.URLSearchParams,T=v.getState,S=_.set,A=_.getterFor("URL"),I=Math.floor,R=Math.pow,b=/[A-Za-z]/,M=/[\d+-.A-Za-z]/,w=/\d/,D=/^(0x|0X)/,C=/^[0-7]+$/,N=/^\d+$/,O=/^[\dA-Fa-f]+$/,L=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,x=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,P=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\u0009\u000A\u000D]/g,U=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=B(t.slice(1,-1))))return"Invalid host";e.host=n}else if(z(e)){if(t=g(t),L.test(t))return"Invalid host";if(null===(n=k(t)))return"Invalid host";e.host=n}else{if(x.test(t))return"Invalid host";for(n="",r=h(t),i=0;i<r.length;i++)n+=V(r[i],q);e.host=n}},k=function(e){var t,n,r,i,a,o,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=D.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?N:8==a?C:O).test(i))return e;o=parseInt(i,a)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=R(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*R(256,3-r);return s},B=function(e){var t,n,r,i,a,o,s,u=[0,0,0,0,0,0,0,0],l=0,f=null,c=0,d=function(){return e.charAt(c)};if(":"==d()){if(":"!=e.charAt(1))return;c+=2,f=++l}for(;d();){if(8==l)return;if(":"!=d()){for(t=n=0;n<4&&O.test(d());)t=16*t+parseInt(d(),16),c++,n++;if("."==d()){if(0==n)return;if(c-=n,l>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;c++}if(!w.test(d()))return;for(;w.test(d());){if(a=parseInt(d(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;c++}u[l]=256*u[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==d()){if(c++,!d())return}else if(d())return;u[l++]=t}else{if(null!==f)return;c++,f=++l}}if(null!==f)for(o=l-f,l=7;0!=l&&o>0;)s=u[l],u[l--]=u[f+o-1],u[f+--o]=s;else if(8!=l)return;return u},G=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=I(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},q={},Y=d({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),K=d({},Y,{"#":1,"?":1,"{":1,"}":1}),H=d({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),V=function(e,t){var n=p(e,0);return n>32&&n<127&&!c(t,e)?e:encodeURIComponent(e)},j={ftp:21,file:null,http:80,https:443,ws:80,wss:443},z=function(e){return c(j,e.scheme)},W=function(e){return""!=e.username||""!=e.password},X=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Q=function(e,t){var n;return 2==e.length&&b.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Z=function(e){var t;return e.length>1&&Q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},$=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Q(t[0],!0)||t.pop()},J=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},re={},ie={},ae={},oe={},se={},ue={},le={},fe={},ce={},de={},he={},pe={},ge={},me={},ve={},_e={},Ee={},ye={},Te=function(e,t,n,i){var a,o,s,u,l,f=n||ee,d=0,p="",g=!1,m=!1,v=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(P,"")),t=t.replace(F,""),a=h(t);d<=a.length;){switch(o=a[d],f){case ee:if(!o||!b.test(o)){if(n)return"Invalid scheme";f=ne;continue}p+=o.toLowerCase(),f=te;break;case te:if(o&&(M.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";p="",f=ne,d=0;continue}if(n&&(z(e)!=c(j,p)||"file"==p&&(W(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(z(e)&&j[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?f=he:z(e)&&i&&i.scheme==e.scheme?f=re:z(e)?f=se:"/"==a[d+1]?(f=ie,d++):(e.cannotBeABaseURL=!0,e.path.push(""),f=_e)}break;case ne:if(!i||i.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==o){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,f=ye;break}f="file"==i.scheme?he:ae;continue;case re:if("/"!=o||"/"!=a[d+1]){f=ae;continue}f=ue,d++;break;case ie:if("/"==o){f=le;break}f=ve;continue;case ae:if(e.scheme=i.scheme,o==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==o||"\\"==o&&z(e))f=oe;else if("?"==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",f=Ee;else{if("#"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),f=ve;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",f=ye}break;case oe:if(!z(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,f=ve;continue}f=le}else f=ue;break;case se:if(f=ue,"/"!=o||"/"!=p.charAt(d+1))continue;d++;break;case ue:if("/"!=o&&"\\"!=o){f=le;continue}break;case le:if("@"==o){g&&(p="%40"+p),g=!0,s=h(p);for(var _=0;_<s.length;_++){var E=s[_];if(":"!=E||v){var y=V(E,H);v?e.password+=y:e.username+=y}else v=!0}p=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&z(e)){if(g&&""==p)return"Invalid authority";d-=h(p).length+1,p="",f=fe}else p+=o;break;case fe:case ce:if(n&&"file"==e.scheme){f=ge;continue}if(":"!=o||m){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&z(e)){if(z(e)&&""==p)return"Invalid host";if(n&&""==p&&(W(e)||null!==e.port))return;if(u=U(e,p))return u;if(p="",f=me,n)return;continue}"["==o?m=!0:"]"==o&&(m=!1),p+=o}else{if(""==p)return"Invalid host";if(u=U(e,p))return u;if(p="",f=de,n==ce)return}break;case de:if(!w.test(o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&z(e)||n){if(""!=p){var T=parseInt(p,10);if(T>65535)return"Invalid port";e.port=z(e)&&T===j[e.scheme]?null:T,p=""}if(n)return;f=me;continue}return"Invalid port"}p+=o;break;case he:if(e.scheme="file","/"==o||"\\"==o)f=pe;else{if(!i||"file"!=i.scheme){f=ve;continue}if(o==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==o)e.host=i.host,e.path=i.path.slice(),e.query="",f=Ee;else{if("#"!=o){Z(a.slice(d).join(""))||(e.host=i.host,e.path=i.path.slice(),$(e)),f=ve;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",f=ye}}break;case pe:if("/"==o||"\\"==o){f=ge;break}i&&"file"==i.scheme&&!Z(a.slice(d).join(""))&&(Q(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),f=ve;continue;case ge:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Q(p))f=ve;else if(""==p){if(e.host="",n)return;f=me}else{if(u=U(e,p))return u;if("localhost"==e.host&&(e.host=""),n)return;p="",f=me}continue}p+=o;break;case me:if(z(e)){if(f=ve,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=r&&(f=ve,"/"!=o))continue}else e.fragment="",f=ye;else e.query="",f=Ee;break;case ve:if(o==r||"/"==o||"\\"==o&&z(e)||!n&&("?"==o||"#"==o)){if(".."===(l=(l=p).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?($(e),"/"==o||"\\"==o&&z(e)||e.path.push("")):J(p)?"/"==o||"\\"==o&&z(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Q(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(o==r||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",f=Ee):"#"==o&&(e.fragment="",f=ye)}else p+=V(o,K);break;case _e:"?"==o?(e.query="",f=Ee):"#"==o?(e.fragment="",f=ye):o!=r&&(e.path[0]+=V(o,q));break;case Ee:n||"#"!=o?o!=r&&("'"==o&&z(e)?e.query+="%27":e.query+="#"==o?"%23":V(o,q)):(e.fragment="",f=ye);break;case ye:o!=r&&(e.fragment+=V(o,Y))}d++}},Se=function(e){var t,n,r=f(this,Se,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),s=S(r,{type:"URL"});if(void 0!==i)if(i instanceof Se)t=A(i);else if(n=Te(t={},String(i)))throw TypeError(n);if(n=Te(s,o,null,t))throw TypeError(n);var u=s.searchParams=new y,l=T(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},a||(r.href=Ie.call(r),r.origin=Re.call(r),r.protocol=be.call(r),r.username=Me.call(r),r.password=we.call(r),r.host=De.call(r),r.hostname=Ce.call(r),r.port=Ne.call(r),r.pathname=Oe.call(r),r.search=Le.call(r),r.searchParams=xe.call(r),r.hash=Pe.call(r))},Ae=Se.prototype,Ie=function(){var e=A(this),t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,l=t+":";return null!==i?(l+="//",W(e)&&(l+=n+(r?":"+r:"")+"@"),l+=G(i),null!==a&&(l+=":"+a)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Re=function(){var e=A(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&z(e)?t+"://"+G(e.host)+(null!==n?":"+n:""):"null"},be=function(){return A(this).scheme+":"},Me=function(){return A(this).username},we=function(){return A(this).password},De=function(){var e=A(this),t=e.host,n=e.port;return null===t?"":null===n?G(t):G(t)+":"+n},Ce=function(){var e=A(this).host;return null===e?"":G(e)},Ne=function(){var e=A(this).port;return null===e?"":String(e)},Oe=function(){var e=A(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Le=function(){var e=A(this).query;return e?"?"+e:""},xe=function(){return A(this).searchParams},Pe=function(){var e=A(this).fragment;return e?"#"+e:""},Fe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&u(Ae,{href:Fe(Ie,(function(e){var t=A(this),n=String(e),r=Te(t,n);if(r)throw TypeError(r);T(t.searchParams).updateSearchParams(t.query)})),origin:Fe(Re),protocol:Fe(be,(function(e){var t=A(this);Te(t,String(e)+":",ee)})),username:Fe(Me,(function(e){var t=A(this),n=h(String(e));if(!X(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=V(n[r],H)}})),password:Fe(we,(function(e){var t=A(this),n=h(String(e));if(!X(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=V(n[r],H)}})),host:Fe(De,(function(e){var t=A(this);t.cannotBeABaseURL||Te(t,String(e),fe)})),hostname:Fe(Ce,(function(e){var t=A(this);t.cannotBeABaseURL||Te(t,String(e),ce)})),port:Fe(Ne,(function(e){var t=A(this);X(t)||(""==(e=String(e))?t.port=null:Te(t,e,de))})),pathname:Fe(Oe,(function(e){var t=A(this);t.cannotBeABaseURL||(t.path=[],Te(t,e+"",me))})),search:Fe(Le,(function(e){var t=A(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Te(t,e,Ee)),T(t.searchParams).updateSearchParams(t.query)})),searchParams:Fe(xe),hash:Fe(Pe,(function(e){var t=A(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Te(t,e,ye)):t.fragment=null}))}),l(Ae,"toJSON",(function(){return Ie.call(this)}),{enumerable:!0}),l(Ae,"toString",(function(){return Ie.call(this)}),{enumerable:!0}),E){var Ue=E.createObjectURL,ke=E.revokeObjectURL;Ue&&l(Se,"createObjectURL",(function(e){return Ue.apply(E,arguments)})),ke&&l(Se,"revokeObjectURL",(function(e){return ke.apply(E,arguments)}))}m(Se,"URL"),i({global:!0,forced:!o,sham:!a},{URL:Se})},function(e,t,n){"use strict";var r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,u=function(e){return e+22+75*(e<26)},l=function(e,t,n){var r=0;for(e=n?o(e/700):e>>1,e+=o(e/t);e>455;r+=36)e=o(e/35);return o(r+36*e/(e+38))},f=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,f=128,c=0,d=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(s(n));var h=r.length,p=h;for(h&&r.push("-");p<i;){var g=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=f&&n<g&&(g=n);var m=p+1;if(g-f>o((2147483647-c)/m))throw RangeError(a);for(c+=(g-f)*m,f=g,t=0;t<e.length;t++){if((n=e[t])<f&&++c>2147483647)throw RangeError(a);if(n==f){for(var v=c,_=36;;_+=36){var E=_<=d?1:_>=d+26?26:_-d;if(v<E)break;var y=v-E,T=36-E;r.push(s(u(E+y%T))),v=o(y/T)}r.push(s(u(v))),d=l(c,m,p==h),c=0,++p}}++c,++f}return r.join("")};e.exports=function(e){var t,n,a=[],o=e.toLowerCase().replace(i,".").split(".");for(t=0;t<o.length;t++)n=o[t],a.push(r.test(n)?"xn--"+f(n):n);return a.join(".")}},function(e,t){},function(e,t,n){var r=n(262);e.exports=r},function(e,t,n){var r=n(263),i=Array.prototype;e.exports=function(e){var t=e.some;return e===i||e instanceof Array&&t===i.some?r:t}},function(e,t,n){n(264);var r=n(19);e.exports=r("Array").some},function(e,t,n){"use strict";var r=n(4),i=n(64).some,a=n(55),o=n(37),s=a("some"),u=o("some");r({target:"Array",proto:!0,forced:!s||!u},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(112);var r=n(11);e.exports=r.setInterval},function(e,t,n){var r=n(267);e.exports=r},function(e,t,n){var r=n(268),i=Array.prototype;e.exports=function(e){var t=e.reduce;return e===i||e instanceof Array&&t===i.reduce?r:t}},function(e,t,n){n(269);var r=n(19);e.exports=r("Array").reduce},function(e,t,n){"use strict";var r=n(4),i=n(270).left,a=n(55),o=n(37),s=a("reduce"),u=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(47),i=n(33),a=n(73),o=n(34),s=function(e){return function(t,n,s,u){r(n);var l=i(t),f=a(l),c=o(l.length),d=e?c-1:0,h=e?-1:1;if(s<2)for(;;){if(d in f){u=f[d],d+=h;break}if(d+=h,e?d<0:c<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:c>d;d+=h)d in f&&(u=n(u,f[d],d,l));return u}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){n(54);var r=n(272),i=n(50),a=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===a||e instanceof Array&&t===a.forEach||o.hasOwnProperty(i(e))?r:t}},function(e,t,n){var r=n(273);e.exports=r},function(e,t,n){n(274);var r=n(19);e.exports=r("Array").forEach},function(e,t,n){"use strict";var r=n(4),i=n(275);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,n){"use strict";var r=n(64).forEach,i=n(55),a=n(37),o=i("forEach"),s=a("forEach");e.exports=o&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var r=n(277);e.exports=r},function(e,t,n){var r=n(278),i=Array.prototype;e.exports=function(e){var t=e.filter;return e===i||e instanceof Array&&t===i.filter?r:t}},function(e,t,n){n(279);var r=n(19);e.exports=r("Array").filter},function(e,t,n){"use strict";var r=n(4),i=n(64).filter,a=n(68),o=n(37),s=a("filter"),u=o("filter");r({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(281);e.exports=r},function(e,t,n){n(282);var r=n(11);e.exports=r.String.fromCodePoint},function(e,t,n){var r=n(4),i=n(63),a=String.fromCharCode,o=String.fromCodePoint;r({target:"String",stat:!0,forced:!!o&&1!=o.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(284);e.exports=r},function(e,t,n){n(133),n(285);var r=n(59);e.exports=r.f("hasInstance")},function(e,t,n){"use strict";var r=n(26),i=n(43),a=n(78),o=n(16)("hasInstance"),s=Function.prototype;o in s||i.f(s,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=a(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(287);e.exports=r},function(e,t,n){n(288);var r=n(11);e.exports=r.Object.getPrototypeOf},function(e,t,n){var r=n(4),i=n(20),a=n(33),o=n(78),s=n(124);r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},function(e,t,n){var r=n(290);e.exports=r},function(e,t,n){var r=n(291),i=Array.prototype;e.exports=function(e){var t=e.concat;return e===i||e instanceof Array&&t===i.concat?r:t}},function(e,t,n){n(130);var r=n(19);e.exports=r("Array").concat},function(e,t,n){var r=n(293);e.exports=r},function(e,t,n){var r=n(294),i=Array.prototype;e.exports=function(e){var t=e.map;return e===i||e instanceof Array&&t===i.map?r:t}},function(e,t,n){n(295);var r=n(19);e.exports=r("Array").map},function(e,t,n){"use strict";var r=n(4),i=n(64).map,a=n(68),o=n(37),s=a("map"),u=o("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(297);e.exports=r},function(e,t,n){n(298);var r=n(11);e.exports=r.Math.sign},function(e,t,n){n(4)({target:"Math",stat:!0},{sign:n(299)})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){var r=n(301);e.exports=r},function(e,t,n){n(302);var r=n(11);e.exports=r.parseFloat},function(e,t,n){var r=n(4),i=n(303);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(e,t,n){var r=n(18),i=n(106).trim,a=n(84),o=r.parseFloat,s=1/o(a+"-0")!=-1/0;e.exports=s?function(e){var t=i(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},function(e,t,n){var r=n(305);e.exports=r},function(e,t,n){n(306);var r=n(11);e.exports=r.Reflect.ownKeys},function(e,t,n){n(4)({target:"Reflect",stat:!0},{ownKeys:n(155)})},function(e,t,n){var r=n(308);e.exports=r},function(e,t,n){var r=n(309),i=Function.prototype;e.exports=function(e){var t=e.bind;return e===i||e instanceof Function&&t===i.bind?r:t}},function(e,t,n){n(310);var r=n(19);e.exports=r("Function").bind},function(e,t,n){n(4)({target:"Function",proto:!0},{bind:n(311)})},function(e,t,n){"use strict";var r=n(47),i=n(26),a=[].slice,o={},s=function(e,t,n){if(!(t in o)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";o[t]=Function("C,a","return new C("+r.join(",")+")")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),o=function(){var r=n.concat(a.call(arguments));return this instanceof o?s(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(o.prototype=t.prototype),o}},function(e,t,n){var r=n(313);e.exports=r},function(e,t,n){n(314);var r=n(11);e.exports=r.Object.keys},function(e,t,n){var r=n(4),i=n(33),a=n(80);r({target:"Object",stat:!0,forced:n(20)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},function(e,t,n){var r=n(316);e.exports=r},function(e,t,n){var r=n(317),i=RegExp.prototype;e.exports=function(e){return(e===i||e instanceof RegExp)&&!("flags"in e)?r(e):e.flags}},function(e,t,n){n(318);var r=n(319);e.exports=function(e){return r.call(e)}},function(e,t){},function(e,t,n){"use strict";var r=n(32);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(321);e.exports=r},function(e,t,n){var r=n(322),i=Array.prototype;e.exports=function(e){var t=e.copyWithin;return e===i||e instanceof Array&&t===i.copyWithin?r:t}},function(e,t,n){n(323);var r=n(19);e.exports=r("Array").copyWithin},function(e,t,n){var r=n(4),i=n(324),a=n(82);r({target:"Array",proto:!0},{copyWithin:i}),a("copyWithin")},function(e,t,n){"use strict";var r=n(33),i=n(63),a=n(34),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=a(n.length),u=i(e,s),l=i(t,s),f=arguments.length>2?arguments[2]:void 0,c=o((void 0===f?s:i(f,s))-l,s-u),d=1;for(l<u&&u<l+c&&(d=-1,l+=c-1,u+=c-1);c-- >0;)l in n?n[u]=n[l]:delete n[u],u+=d,l+=d;return n}},function(e,t,n){var r=n(326);e.exports=r},function(e,t,n){n(327);var r=n(11);e.exports=r.parseInt},function(e,t,n){var r=n(4),i=n(328);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t,n){var r=n(18),i=n(106).trim,a=n(84),o=r.parseInt,s=/^[+-]?0[Xx]/,u=8!==o(a+"08")||22!==o(a+"0x16");e.exports=u?function(e,t){var n=i(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},function(e,t,n){var r=n(330);e.exports=r},function(e,t,n){var r=n(331),i=Array.prototype;e.exports=function(e){var t=e.fill;return e===i||e instanceof Array&&t===i.fill?r:t}},function(e,t,n){n(332);var r=n(19);e.exports=r("Array").fill},function(e,t,n){var r=n(4),i=n(333),a=n(82);r({target:"Array",proto:!0},{fill:i}),a("fill")},function(e,t,n){"use strict";var r=n(33),i=n(63),a=n(34);e.exports=function(e){for(var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>s;)t[s++]=e;return t}},function(e,t,n){var r=n(335);e.exports=r},function(e,t,n){n(134);var r=n(59);e.exports=r.f("species")},function(e,t,n){var r=n(337);e.exports=r},function(e,t,n){var r=n(338),i=Array.prototype;e.exports=function(e){var t=e.lastIndexOf;return e===i||e instanceof Array&&t===i.lastIndexOf?r:t}},function(e,t,n){n(339);var r=n(19);e.exports=r("Array").lastIndexOf},function(e,t,n){var r=n(4),i=n(340);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(e,t,n){"use strict";var r=n(40),i=n(61),a=n(34),o=n(55),s=n(37),u=Math.min,l=[].lastIndexOf,f=!!l&&1/[1].lastIndexOf(1,-0)<0,c=o("lastIndexOf"),d=s("indexOf",{ACCESSORS:!0,1:0}),h=f||!c||!d;e.exports=h?function(e){if(f)return l.apply(this,arguments)||0;var t=r(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=u(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:l},function(e,t,n){var r=n(342);e.exports=r},function(e,t,n){n(135);var r=n(59);e.exports=r.f("toPrimitive")},function(e,t,n){var r=n(129);e.exports=r},function(e,t,n){var r=n(156);e.exports=r},function(e,t,n){n(4)({target:"Array",stat:!0},{isArray:n(66)})},function(e,t,n){var r=n(157);e.exports=r},function(e,t,n){n(348);var r=n(19);e.exports=r("Array").slice},function(e,t,n){"use strict";var r=n(4),i=n(26),a=n(66),o=n(63),s=n(34),u=n(40),l=n(67),f=n(16),c=n(68),d=n(37),h=c("slice"),p=d("slice",{ACCESSORS:!0,0:0,1:2}),g=f("species"),m=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!h||!p},{slice:function(e,t){var n,r,f,c=u(this),d=s(c.length),h=o(e,d),p=o(void 0===t?d:t,d);if(a(c)&&("function"!=typeof(n=c.constructor)||n!==Array&&!a(n.prototype)?i(n)&&null===(n=n[g])&&(n=void 0):n=void 0,n===Array||void 0===n))return m.call(c,h,p);for(r=new(void 0===n?Array:n)(v(p-h,0)),f=0;h<p;h++,f++)h in c&&l(r,f,c[h]);return r.length=f,r}})},function(e,t,n){var r=n(350);e.exports=r},function(e,t,n){var r=n(351),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||e instanceof Array&&t===i.indexOf?r:t}},function(e,t,n){n(352);var r=n(19);e.exports=r("Array").indexOf},function(e,t,n){"use strict";var r=n(4),i=n(97).indexOf,a=n(55),o=n(37),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,l=a("indexOf"),f=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!l||!f},{indexOf:function(e){return u?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(158);e.exports=r},function(e,t,n){var r=n(4),i=n(28);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(43).f})},function(e,t,n){var r=n(356);e.exports=r},function(e,t,n){var r=n(357),i=String.prototype;e.exports=function(e){var t=e.trim;return"string"==typeof e||e===i||e instanceof String&&t===i.trim?r:t}},function(e,t,n){n(358);var r=n(19);e.exports=r("String").trim},function(e,t,n){"use strict";var r=n(4),i=n(106).trim;r({target:"String",proto:!0,forced:n(359)("trim")},{trim:function(){return i(this)}})},function(e,t,n){var r=n(20),i=n(84);e.exports=function(e){return r((function(){return!!i[e]()||"​᠎"!="​᠎"[e]()||i[e].name!==e}))}},function(e,t,n){var r=n(361);e.exports=r},function(e,t,n){var r=n(362),i=Array.prototype;e.exports=function(e){var t=e.splice;return e===i||e instanceof Array&&t===i.splice?r:t}},function(e,t,n){n(363);var r=n(19);e.exports=r("Array").splice},function(e,t,n){"use strict";var r=n(4),i=n(63),a=n(61),o=n(34),s=n(33),u=n(100),l=n(67),f=n(68),c=n(37),d=f("splice"),h=c("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min;r({target:"Array",proto:!0,forced:!d||!h},{splice:function(e,t){var n,r,f,c,d,h,m=s(this),v=o(m.length),_=i(e,v),E=arguments.length;if(0===E?n=r=0:1===E?(n=0,r=v-_):(n=E-2,r=g(p(a(t),0),v-_)),v+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(f=u(m,r),c=0;c<r;c++)(d=_+c)in m&&l(f,c,m[d]);if(f.length=r,n<r){for(c=_;c<v-r;c++)h=c+n,(d=c+r)in m?m[h]=m[d]:delete m[h];for(c=v;c>v-r+n;c--)delete m[c-1]}else if(n>r)for(c=v-r;c>_;c--)h=c+n-1,(d=c+r-1)in m?m[h]=m[d]:delete m[h];for(c=0;c<n;c++)m[c+_]=arguments[c+2];return m.length=v-r+n,f}})},function(e,t,n){var r=n(365);e.exports=r},function(e,t,n){n(366);var r=n(11);r.JSON||(r.JSON={stringify:JSON.stringify}),e.exports=function(e,t,n){return r.JSON.stringify.apply(null,arguments)}},function(e,t,n){var r=n(4),i=n(44),a=n(20),o=i("JSON","stringify"),s=/[\uD800-\uDFFF]/g,u=/^[\uD800-\uDBFF]$/,l=/^[\uDC00-\uDFFF]$/,f=function(e,t,n){var r=n.charAt(t-1),i=n.charAt(t+1);return u.test(e)&&!l.test(i)||l.test(e)&&!u.test(r)?"\\u"+e.charCodeAt(0).toString(16):e},c=a((function(){return'"\\udf06\\ud834"'!==o("\udf06\ud834")||'"\\udead"'!==o("\udead")}));o&&r({target:"JSON",stat:!0,forced:c},{stringify:function(e,t,n){var r=o.apply(null,arguments);return"string"==typeof r?r.replace(s,f):r}})},function(e,t,n){var r=n(368);e.exports=r},function(e,t,n){var r=n(369),i=String.prototype;e.exports=function(e){var t=e.padStart;return"string"==typeof e||e===i||e instanceof String&&t===i.padStart?r:t}},function(e,t,n){n(370);var r=n(19);e.exports=r("String").padStart},function(e,t,n){"use strict";var r=n(4),i=n(371).start;r({target:"String",proto:!0,forced:n(373)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(34),i=n(372),a=n(46),o=Math.ceil,s=function(e){return function(t,n,s){var u,l,f=String(a(t)),c=f.length,d=void 0===s?" ":String(s),h=r(n);return h<=c||""==d?f:(u=h-c,(l=i.call(d,o(u/d.length))).length>u&&(l=l.slice(0,u)),e?f+l:l+f)}};e.exports={start:s(!1),end:s(!0)}},function(e,t,n){"use strict";var r=n(61),i=n(46);e.exports="".repeat||function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t,n){var r=n(75);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(e,t,n){var r=n(375);e.exports=r},function(e,t,n){n(376);var r=n(11).Object,i=e.exports=function(e,t){return r.defineProperties(e,t)};r.defineProperties.sham&&(i.sham=!0)},function(e,t,n){var r=n(4),i=n(28);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:n(96)})},function(e,t,n){var r=n(378);e.exports=r},function(e,t,n){n(379);var r=n(11);e.exports=r.Object.getOwnPropertyDescriptors},function(e,t,n){var r=n(4),i=n(28),a=n(155),o=n(40),s=n(56),u=n(67);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),i=s.f,l=a(r),f={},c=0;l.length>c;)void 0!==(n=i(r,t=l[c++]))&&u(f,t,n);return f}})},function(e,t,n){var r=n(381);e.exports=r},function(e,t,n){n(132);var r=n(11);e.exports=r.Object.getOwnPropertySymbols},function(e,t,n){var r=n(383);e.exports=function(e){if(r(e))return e}},function(e,t,n){e.exports=n(384)},function(e,t,n){var r=n(156);e.exports=r},function(e,t,n){var r=n(69),i=n(386),a=n(128);e.exports=function(e,t){if(void 0!==a&&i(Object(e))){var n=[],o=!0,s=!1,u=void 0;try{for(var l,f=r(e);!(o=(l=f.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){s=!0,u=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw u}}return n}}},function(e,t,n){e.exports=n(387)},function(e,t,n){n(54),n(60);var r=n(388);e.exports=r},function(e,t,n){var r=n(50),i=n(16),a=n(52),o=i("iterator");e.exports=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||a.hasOwnProperty(r(t))}},function(e,t,n){var r=n(390),i=n(392),a=n(394);e.exports=function(e,t){var n;if(e){if("string"==typeof e)return a(e,t);var o=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?r(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(e,t):void 0}}},function(e,t,n){e.exports=n(391)},function(e,t,n){var r=n(150);e.exports=r},function(e,t,n){e.exports=n(393)},function(e,t,n){var r=n(157);e.exports=r},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(397);e.exports=r},function(e,t,n){var r=n(398),i=n(400),a=Array.prototype,o=String.prototype;e.exports=function(e){var t=e.includes;return e===a||e instanceof Array&&t===a.includes?r:"string"==typeof e||e===o||e instanceof String&&t===o.includes?i:t}},function(e,t,n){n(399);var r=n(19);e.exports=r("Array").includes},function(e,t,n){"use strict";var r=n(4),i=n(97).includes,a=n(82);r({target:"Array",proto:!0,forced:!n(37)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,n){n(401);var r=n(19);e.exports=r("String").includes},function(e,t,n){"use strict";var r=n(4),i=n(137),a=n(46);r({target:"String",proto:!0,forced:!n(138)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){e.exports=n(403)},function(e,t,n){var r=n(158);e.exports=r},function(e,t,n){"use strict";n.r(t);var r=n(14),i=n.n(r),a=n(5),o=n.n(a),s=n(38),u=n.n(s),l=n(12),f=n.n(l),c=(n(205),n(9)),d=n.n(c),h=n(0),p=n.n(h),g=n(3),m=n.n(g),v=n(2),_=n.n(v),E=n(39),y=n.n(E),T=function(e,t){var n,r,i,a,o,s,u,l,f,c;return t<60?{current:e,duration:t}:t<3600?{current:y()(n=String(_()(e/60))).call(n,2,0)+":"+y()(r=String(_()(e%60))).call(r,2,0),duration:y()(i=String(_()(t/60))).call(i,2,0)+":"+y()(a=String(_()(t%60))).call(a,2,0)}:{current:y()(o=String(_()(e/60/60))).call(o,2,0)+":"+y()(s=String(_()(e/60%60))).call(s,2,0)+":"+y()(u=String(_()(e%60))).call(u,2,0),duration:y()(l=String(_()(t/60/60))).call(l,2,0)+":"+y()(f=String(_()(t/60%60))).call(f,2,0)+":"+y()(c=String(_()(t%60))).call(c,2,0)}};function S(e){return"number"==typeof e}function A(e){return"string"==typeof e}var I=n(167),R=n.n(I),b=n(110),M=n.n(b),w=n(24),D=n.n(w),C=n(13),N=n.n(C),O=n(111),L=n.n(O),x=n(21),P=n.n(x),F=n(25),U=n.n(F),k=n(168),B=n.n(k),G=n(169),q=n.n(G),Y=n(170),K=n.n(Y),H=n(15),V=n.n(H),j=n(8),z=n.n(j),W={streaming:{metricsMaxListDepth:1e3,abandonLoadTimeout:1e4,liveDelayFragmentCount:NaN,liveDelay:null,scheduleWhilePaused:!0,fastSwitchEnabled:!1,bufferPruningInterval:10,bufferToKeep:20,bufferAheadToKeep:80,jumpGaps:!0,smallGapLimit:1.5,stableBufferTime:12,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,longFormContentDurationThreshold:600,wallclockTimeUpdateInterval:50,lowLatencyEnabled:!1,keepProtectionMediaKeys:!1,useManifestDateHeaderTimeSource:!0,useSuggestedPresentationDelay:!0,useAppendWindowEnd:!0,manifestUpdateRetryInterval:100,liveCatchUpMinDrift:.02,liveCatchUpMaxDrift:0,liveCatchUpPlaybackRate:.5,lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},retryIntervals:{MPD:500,XLinkExpansion:500,InitializationSegment:1e3,IndexSegment:1e3,MediaSegment:1e3,BitstreamSwitchingSegment:1e3,other:1e3,lowLatencyReductionFactor:10},retryAttempts:{MPD:3,XLinkExpansion:1,InitializationSegment:3,IndexSegment:3,MediaSegment:3,BitstreamSwitchingSegment:3,other:3,lowLatencyMultiplyFactor:5},abr:{movingAverageMethod:"slidingWindow",ABRStrategy:"abrDynamic",bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useBufferOccupancyABR:!1,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0}},cmcd:{enabled:!1,sid:null,cid:null,did:null}}};function X(e,t){var n=P()(e);if(L.a){var r=L()(e);t&&(r=N()(r).call(r,(function(t){return D()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)m()(n=X(Object(r),!0)).call(n,(function(t){K()(e,t,r[t])}));else if(M.a)R()(e,M()(r));else{var i;m()(i=X(Object(r))).call(i,(function(t){p()(e,t,D()(r,t))}))}}return e}window.MediaPlayer=function(e){return function(e){var t=f()(dashjs.MediaPlayer().create()),n=e=u()({rootEle:"",videoEle:"",autoplay:!0,controls:!1,loop:!1,startTime:null,playbackRate:1,volume:.5,src:""},e),r=n.rootEle,a=n.videoEle,s=(n.autoplay,n.controls,n.loop,n.startTime,n.playbackRate,n.volume,n.src);if("string"==typeof a)a=document.querySelector(a);else if("object"!==o()(a)||"VIDEO"!==a.nodeName)throw new Error("videoEle will be  id / class,or video element");if("string"==typeof r)r=document.querySelector(r);else if("object"!==o()(r)||"VIDEO"!==r.nodeName)throw new Error("rootEle will be  id / class,or video element");return t.initialize(a,s,!1),t.videoEle=a,t.rootEle=r,function(e,t){u()(e,t)}(a,e),function(e){u()(e,{globalVariable:{qualityDep:{},qualityTimeout:null,qualityAfterStartTime:null,pictureinpicture:!1,hasMini:!1,fullScreen:!1,qualityChangeFinish:null,loopListener:null}})}(t),function(e,t){var n;m()(n=["autoplay","controls","paused","loop","ended","duration","currentTime","playbackRate","volume","muted","error","src"]).call(n,(function(n){p()(e,n,{get:function(){return t[n]},set:function(){throw"".concat(n," is readOnly")}})})),p()(e,"progress",{get:function(){var t;return d()(t=(e.currentTime/e.duration).toFixed(4)).call(t,0,6)},set:function(){throw"progress is readOnly"}}),p()(e,"formatTime",{get:function(){return T(e.currentTime,e.duration)},set:function(){throw"formatTime is readOnly"}}),p()(e,"audioTracksList",{get:function(){return e.getTracksFor("audio")},set:function(){throw"audioTracksList is readOnly"}}),p()(e,"textTracksList",{get:function(){return e.getTracksFor("text")},set:function(){throw"textTracksList is readOnly"}}),p()(e,"videoTracksList",{get:function(){return e.getTracksFor("video")},set:function(){throw"videoTracksList is readOnly"}}),p()(e,"pictureinpicture",{get:function(){return e.globalVariable.pictureinpicture},set:function(){throw"pictureinpicture is readOnly"}}),p()(e,"Mini",{get:function(){return e.globalVariable.hasMini},set:function(){throw"hasMini is readOnly"}}),p()(e,"fullScreen",{get:function(){return e.globalVariable.fullScreen},set:function(){throw"hasMini is readOnly"}})}(t,a),function(e){u()(e,{listener:function(t,n){if(!t||!n)throw"listener(event, callback) ,Both parameters are required";var r=function(){n&&n.apply(this,arguments)};return e.on(t,r),function(){e.off(t,r)}},once:function(t,n){if(!t||!n)throw"listener(event, callback) ,Both parameters are required";var r=function r(){n&&n.apply(this,arguments),e.off(t,r)};return e.on(t,r),function(){e.off(t,r)}}})}(t),function(e){var t=e.globalVariable;u()(e,{play:function(t){e.once("playbackPlaying",(function(){"function"==typeof t&&t()})),z()(e).play()},pause:function(t){e.once("playbackPaused",(function(){"function"==typeof t&&t()})),z()(e).pause()},forward:function(t,n){if(!S(t))throw new TypeError("forward( time , callback ?),time must be Number");var r=e.currentTime+t;e.seek(r>e.duration?e.duration:r);e.once("playbackPlaying",(function(){"function"==typeof n&&n()}))},backUp:function(t,n){if(!S(t))throw new TypeError("forward( time , callback ?),time must be Number");var r=e.currentTime-t;e.seek(r<0?0:r);e.once("playbackPlaying",(function(){"function"==typeof n&&n()}))},setSeek:function(t,n){if(!S(t))throw new TypeError("forward( time , callback ?),time must be Number");e.seek(t);e.once("playbackPlaying",(function(){"function"==typeof n&&n()}))},setPlaybackRate:e.setPlaybackRate,setVolume:e.setVolume,setMute:e.setMute,getQuality:function(t){if(t){if(!t||"video"!=t&&"audio"!=t&&"text"!=t&&"fragmentedText"!=t&&"embeddedText"!=t&&"image"!=t)throw new RangeError('param:type choose from "video" | "audio" | "text" | "fragmentedText" | "embeddedText" | "image" | falsity ');var n;return V()(n=e.getBitrateInfoListFor(t)).call(n,(function(e){return Q({},e)}))}var r,i={};return m()(r=["video","audio","text","fragmentedText","embeddedText","image"]).call(r,(function(t){var n;i[t]=V()(n=e.getBitrateInfoListFor(t)).call(n,(function(e){return Q({},e)}))})),i},setQuality:function(n,r,a){var o,s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"immediately";if(!n||"video"!=n&&"audio"!=n&&"text"!=n&&"fragmentedText"!=n&&"embeddedText"!=n&&"image"!=n)throw new RangeError('param:type choose from "video" | "audio" | "text" | "fragmentedText" | "embeddedText" | "image" | falsity ');if(isNaN(r))throw new TypeError("setQuality(type, qualityIndex,callback?,mode?), qualityIndex:Number from  getQuality(type?)");if(!q()(o=V()(s=e.getQuality(n)).call(s,(function(e){return e.qualityIndex}))).call(o,r))throw new TypeError("setQuality(type, qualityIndex,callback?,mode?), qualityIndex:Number from  getQuality(type?)");t.qualityDep[n]=r,clearTimeout(t.qualityTimeout),t.qualityTimeout=i()((function(){e.once("qualityChangeRequested",(function(){if("delay"==u)return"function"==typeof t.qualityChangeFinish&&t.qualityChangeFinish(),t.qualityChangeFinish=e.once("qualityChangeRendered",(function(){"function"==typeof a&&a()})),!1;var n=e.paused;e.pause(),t.qualityAfterStartTime||(t.qualityAfterStartTime=e.currentTime),t.qualityAfterStartTime-15<0?e.seek(e.duration-1):(t.qualityAfterStartTime,e.duration,e.seek(t.qualityAfterStartTime-15)),e.once("playbackSeeking",(function(r){t.qualityAfterStartTime&&(e.seek(t.qualityAfterStartTime),t.qualityAfterStartTime=null,e.play(),n&&e.pause(),"function"==typeof t.qualityChangeFinish&&t.qualityChangeFinish(),t.qualityChangeFinish=e.once("qualityChangeRendered",(function(){"function"==typeof a&&a()}))),t.qualityDep={}}))}));var n=t.qualityDep;for(var r in n)e.setQualityFor(r,n[r])}),100)},autoQuality:function(){e.updateSettings(W)},switchPictureInPicture:function(n){var r=e.videoEle;if("pictureInPictureEnabled"in document)return r!==document.pictureInPictureElement?(r.requestPictureInPicture(),t.pictureinpicture=!0):(document.exitPictureInPicture(),t.pictureinpicture=!1);throw n=n||"The current browser does not support picture in picture. Please try using another browser",new EvalError(n)},switchMiniMode:function(n,r){var i=e.rootEle.querySelector("#CJ-canvas-screen");if(i&&"CANVAS"==i.nodeName)return e.rootEle.removeChild(i),t.hasMini=!1,!1;if("object"!==o()(n))throw new TypeError("param:size will be Object");if(!n.width&&!n.height)throw new TypeError("param:size must have property width or height");if("object"!==o()(r))throw new TypeError("param:position will be Object");if(!(r.top||r.left||r.right||r.bottom))throw new TypeError("param:position must have property {top,left} or {top,right} or {bottom,left} or {bottom,right}");if(!(A(r.top||"")&&A(r.left||"")&&A(r.right||"")&&A(r.bottom||"")))throw new TypeError("param:position Same format as position in style");var a=e.videoEle,s=document.createElement("canvas");s.id="CJ-canvas-screen",n.width&&n.height?(s.width=n.width,s.height=n.height):n.width?(s.width=n.width,s.height=n.width/a.offsetWidth*a.offsetHeight):n.height&&(s.width=n.height/a.offsetHeight*a.offsetWidth,s.height=n.height),u()(s.style,{position:"fixed",top:r.top,left:r.left,bottom:r.bottom,right:r.right,transform:"translate(0, 0)","z-index":9999});var l=s.getContext("2d");!function e(){if(a.ended)return;l.drawImage(a,0,0,s.width,s.height),window.requestAnimationFrame(e)}();var f=0,c=0,d=0,h=0,p=!1,g=0,m=0,v=0,_=0,E=[s.offsetLeft,s.offsetTop],y=E[0],T=E[1];return s.onmousedown=function(e){p=!0,e.clientX,e.clientY,f=e.clientX,c=e.clientY;var t=[document.documentElement.clientWidth,document.documentElement.clientHeight];v=t[0],_=t[1];var n=s.style.transform.match(/(\-?\+?\d*\.?\d)/g),r=B()(n,2);g=r[0],m=r[1];var i=[s.offsetLeft,s.offsetTop];y=i[0],T=i[1]},s.onmousemove=function(e){if(p){var t;d=e.clientX-f,h=e.clientY-c;var n=Number(g)+Number(d),r=Number(m)+Number(h);y+n<=0?n=-y:y+n+s.width>=v&&(n=v-y-s.width),T+r<=0?r=-T:T+r+s.height>=_&&(r=_-T-s.height),u()(s.style,{transform:U()(t="translate(".concat(n,"px, ")).call(t,r,"px)")})}},s.onmouseup=function(e){p=!1},s.onmouseleave=function(e){p=!1},t.hasMini=!0,e.rootEle.append(s),!0},switchFullScreen:function(n){if("exitFullscreen"in document)return document.fullscreen?(document.exitFullscreen(),t.fullScreen=!1):(e.rootEle.requestFullscreen(),t.fullScreen=!0);throw n=n||"The current browser does not support full screen. Please try using another browser",new EvalError(n)},setLoop:function(n){if("boolean"!=typeof n)throw new TypeError("loop(value), param:value must be Boolean");n?(t.loopListener=e.listener("playbackTimeUpdated",(function(){e.currentTime+.2>e.duration&&e.seek(0)})),e.videoEle.loop=!0):("function"==typeof t.loopListener&&t.loopListener(),t.loopListener=null,e.videoEle.loop=!1)},getAutoPlay:function(){return e.autoplay},resetVideo:function(e){}})}(t),function(e){e.once("canPlay",(function(){e.autoplay?e.play():e.pause(),e.setPlaybackRate(e.playbackRate),e.setVolume(e.volume),e.loop&&e.setLoop(!0)}));var t=e.listener("playbackNotAllowed",(function(){i()((function(){e.autoplay?e.play():e.pause()}),100)}));e.once("playbackPlaying",(function(){t()})),e.updateSettings({streaming:{scheduleWhilePaused:!0,fastSwitchEnabled:!0,stableBufferTime:1,abr:{useDefaultABRRules:!0,autoSwitchBitrate:{audio:!0,video:!1}}}})}(t),t}(e)},window.MediaPlayer.version="0.1.0"}]);