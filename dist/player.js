!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=134)}([function(e,t,n){"use strict";var r=n(4),a=n(35).f,i=n(82),o=n(1),s=n(36),u=n(15),l=n(9),f=function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,d,c,h,p,g,m,v,_=e.target,E=e.global,y=e.stat,T=e.proto,S=E?r:y?r[_]:(r[_]||{}).prototype,A=E?o:o[_]||(o[_]={}),I=A.prototype;for(c in t)n=!i(E?c:_+(y?".":"#")+c,e.forced)&&S&&l(S,c),p=A[c],n&&(g=e.noTargetGet?(v=a(S,c))&&v.value:S[c]),h=n&&g?g:t[c],n&&typeof p==typeof h||(m=e.bind&&n?s(h,r):e.wrap&&n?f(h):T&&"function"==typeof h?s(Function.call,h):h,(e.sham||h&&h.sham||p&&p.sham)&&u(m,"sham",!0),A[c]=m,T&&(l(o,d=_+"Prototype")||u(o,d,{}),o[d][c]=h,e.real&&I&&!I[c]&&u(I,c,h)))}},function(e,t){e.exports={}},function(e,t,n){var r=n(4),a=n(55),i=n(9),o=n(57),s=n(58),u=n(78),l=a("wks"),f=r.Symbol,d=u?f:f&&f.withoutSetter||o;e.exports=function(e){return i(l,e)||(s&&i(f,e)?l[e]=f[e]:l[e]=d("Symbol."+e)),l[e]}},function(e,t,n){var r=n(1);e.exports=function(e){return r[e+"Prototype"]}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(75))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(1),a=n(9),i=n(30),o=n(16).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});a(t,e)||o(t,e,{value:i.f(e)})}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(5);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(7);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(20);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(33),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},function(e,t,n){var r=n(8),a=n(5),i=n(9),o=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(i(s,e))return s[e];t||(t={});var n=[][e],l=!!i(t,"ACCESSORS")&&t.ACCESSORS,f=i(t,0)?t[0]:u,d=i(t,1)?t[1]:void 0;return s[e]=!!n&&!a((function(){if(l&&!r)return!0;var e={length:-1};l?o(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,f,d)}))}},function(e,t,n){var r=n(46),a=n(20);e.exports=function(e){return r(a(e))}},function(e,t,n){var r=n(8),a=n(16),i=n(31);e.exports=r?function(e,t,n){return a.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(8),a=n(77),i=n(10),o=n(43),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=o(t,!0),i(n),a)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(1),a=n(4),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(a[e]):r[e]&&r[e][t]||a[e]&&a[e][t]}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(63),a=n(16).f,i=n(15),o=n(9),s=n(141),u=n(2)("toStringTag");e.exports=function(e,t,n,l){if(e){var f=n?e:e.prototype;o(f,u)||a(f,u,{configurable:!0,value:t}),l&&!r&&i(f,"toString",s)}}},function(e,t,n){var r=n(63),a=n(24),i=n(2)("toStringTag"),o="Arguments"==a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?a(t):"Object"==(r=a(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports={}},function(e,t,n){var r=n(15);e.exports=function(e,t,n,a){a&&a.enumerable?e[t]=n:r(e,t,n)}},function(e,t,n){n(50);var r=n(143),a=n(4),i=n(23),o=n(15),s=n(25),u=n(2)("toStringTag");for(var l in r){var f=a[l],d=f&&f.prototype;d&&i(d)!==u&&o(d,u,l),s[l]=s.Array}},function(e,t,n){var r=n(36),a=n(46),i=n(11),o=n(12),s=n(64),u=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,f=4==e,d=6==e,c=5==e||d;return function(h,p,g,m){for(var v,_,E=i(h),y=a(E),T=r(p,g,3),S=o(y.length),A=0,I=m||s,R=t?I(h,S):n?I(h,0):void 0;S>A;A++)if((c||A in y)&&(_=T(v=y[A],A,E),e))if(t)R[A]=_;else if(_)switch(e){case 3:return!0;case 5:return v;case 6:return A;case 2:u.call(R,v)}else if(f)return!1;return d?-1:l||f?f:R}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(e,t,n){"use strict";var r=n(5);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){var r=n(2);t.f=r},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var r=n(79).charAt,a=n(34),i=n(81),o=a.set,s=a.getterFor("String Iterator");i(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,a=t.index;return a>=n.length?{value:void 0,done:!0}:(e=r(n,a),t.index+=e.length,{value:e,done:!1})}))},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r,a,i,o=n(140),s=n(4),u=n(7),l=n(15),f=n(9),d=n(44),c=n(45),h=s.WeakMap;if(o){var p=new h,g=p.get,m=p.has,v=p.set;r=function(e,t){return v.call(p,e,t),t},a=function(e){return g.call(p,e)||{}},i=function(e){return m.call(p,e)}}else{var _=d("state");c[_]=!0,r=function(e,t){return l(e,_,t),t},a=function(e){return f(e,_)?e[_]:{}},i=function(e){return f(e,_)}}e.exports={set:r,get:a,has:i,enforce:function(e){return i(e)?a(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=a(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(8),a=n(59),i=n(31),o=n(14),s=n(43),u=n(9),l=n(77),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=o(e),t=s(t,!0),l)try{return f(e,t)}catch(e){}if(u(e,t))return i(!a.f.call(e,t),e[t])}},function(e,t,n){var r=n(21);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(33),a=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?a(n+t,0):i(n,t)}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(24);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(43),a=n(16),i=n(31);e.exports=function(e,t,n){var o=r(t);o in e?a.f(e,o,i(0,n)):e[o]=n}},function(e,t,n){var r=n(5),a=n(2),i=n(65),o=a("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r=n(136),a=n(89);function i(t){return e.exports=i="function"==typeof a&&"symbol"==typeof r?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e},i(t)}e.exports=i},function(e,t,n){var r=n(7);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(55),a=n(57),i=r("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(5),a=n(24),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(9),a=n(11),i=n(44),o=n(85),s=i("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=a(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,n){var r,a=n(10),i=n(60),o=n(62),s=n(45),u=n(87),l=n(56),f=n(44),d=f("IE_PROTO"),c=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=r?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=l("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=a(e),n=new c,c.prototype=null,n[d]=e):n=p(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(86),a=n(62);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t,n){"use strict";var r=n(14),a=n(38),i=n(25),o=n(34),s=n(81),u=o.set,l=o.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,a("keys"),a("values"),a("entries")},function(e,t,n){var r=n(17);e.exports=r("navigator","userAgent")||""},function(e,t,n){e.exports=n(165)},function(e,t,n){var r=n(23),a=n(25),i=n(2)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){var r=n(19),a=n(76);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(4),a=n(7),i=r.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(5);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!r.call({1:2},1);t.f=i?function(e){var t=a(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(8),a=n(16),i=n(10),o=n(49);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=o(t),s=r.length,u=0;s>u;)a.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(14),a=n(12),i=n(37),o=function(e){return function(t,n,o){var s,u=r(t),l=a(u.length),f=i(o,l);if(e&&n!=n){for(;l>f;)if((s=u[f++])!=s)return!0}else for(;l>f;f++)if((e||f in u)&&u[f]===n)return e||f||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r={};r[n(2)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(7),a=n(39),i=n(2)("species");e.exports=function(e,t){var n;return a(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!a(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r,a,i=n(4),o=n(51),s=i.process,u=s&&s.versions,l=u&&u.v8;l?a=(r=l.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(a=r[1]),e.exports=a&&+a},function(e,t,n){var r=n(86),a=n(62).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){e.exports=n(164)},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){"use strict";var r=n(21),a=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new a(e)}},function(e,t,n){e.exports=n(251)},function(e,t,n){var r=n(20),a="["+n(54)+"]",i=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t,n){e.exports=n(348)},function(e,t,n){n(6)("iterator")},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(4),a=n(139),i=r["__core-js_shared__"]||a("__core-js_shared__",{});e.exports=i},function(e,t,n){var r=n(8),a=n(5),i=n(56);e.exports=!r&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(58);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(33),a=n(20),i=function(e){return function(t,n){var i,o,s=String(a(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):i:e?s.slice(u,u+2):o-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,n){var r=n(76),a=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return a.call(e)}),e.exports=r.inspectSource},function(e,t,n){"use strict";var r=n(0),a=n(83),i=n(47),o=n(88),s=n(22),u=n(15),l=n(26),f=n(2),d=n(19),c=n(25),h=n(84),p=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,m=f("iterator"),v=function(){return this};e.exports=function(e,t,n,f,h,_,E){a(n,t,f);var y,T,S,A=function(e){if(e===h&&M)return M;if(!g&&e in b)return b[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",R=!1,b=e.prototype,w=b[m]||b["@@iterator"]||h&&b[h],M=!g&&w||A(h),D="Array"==t&&b.entries||w;if(D&&(y=i(D.call(new e)),p!==Object.prototype&&y.next&&(d||i(y)===p||(o?o(y,p):"function"!=typeof y[m]&&u(y,m,v)),s(y,I,!0,!0),d&&(c[I]=v))),"values"==h&&w&&"values"!==w.name&&(R=!0,M=function(){return w.call(this)}),d&&!E||b[m]===M||u(b,m,M),c[t]=M,h)if(T={values:A("values"),keys:_?M:A("keys"),entries:A("entries")},E)for(S in T)(g||R||!(S in b))&&l(b,S,T[S]);else r({target:t,proto:!0,forced:g||R},T);return T}},function(e,t,n){var r=n(5),a=/#|\.prototype\./,i=function(e,t){var n=s[o(e)];return n==l||n!=u&&("function"==typeof t?r(t):!!t)},o=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},function(e,t,n){"use strict";var r=n(84).IteratorPrototype,a=n(48),i=n(31),o=n(22),s=n(25),u=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=a(r,{next:i(1,n)}),o(e,l,!1,!0),s[l]=u,e}},function(e,t,n){"use strict";var r,a,i,o=n(47),s=n(15),u=n(9),l=n(2),f=n(19),d=l("iterator"),c=!1;[].keys&&("next"in(i=[].keys())?(a=o(o(i)))!==Object.prototype&&(r=a):c=!0),null==r&&(r={}),f||u(r,d)||s(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:c}},function(e,t,n){var r=n(5);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(9),a=n(14),i=n(61).indexOf,o=n(45);e.exports=function(e,t){var n,s=a(e),u=0,l=[];for(n in s)!r(o,n)&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){var r=n(17);e.exports=r("document","documentElement")},function(e,t,n){var r=n(10),a=n(142);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),a(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){e.exports=n(144)},function(e,t,n){n(91),n(92),n(93),n(146),n(147),n(94),n(148),n(74),n(149),n(150),n(151),n(152),n(95),n(153),n(96),n(154),n(155),n(156),n(157);var r=n(1);e.exports=r.Symbol},function(e,t,n){"use strict";var r=n(0),a=n(5),i=n(39),o=n(7),s=n(11),u=n(12),l=n(40),f=n(64),d=n(41),c=n(2),h=n(65),p=c("isConcatSpreadable"),g=h>=51||!a((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),m=d("concat"),v=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!g||!m},{concat:function(e){var t,n,r,a,i,o=s(this),d=f(o,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(v(i=-1===t?o:arguments[t])){if(c+(a=u(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<a;n++,c++)n in i&&l(d,c,i[n])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(d,c++,i)}return d.length=c,d}})},function(e,t){},function(e,t,n){"use strict";var r=n(0),a=n(4),i=n(17),o=n(19),s=n(8),u=n(58),l=n(78),f=n(5),d=n(9),c=n(39),h=n(7),p=n(10),g=n(11),m=n(14),v=n(43),_=n(31),E=n(48),y=n(49),T=n(66),S=n(145),A=n(67),I=n(35),R=n(16),b=n(59),w=n(15),M=n(26),D=n(55),C=n(44),N=n(45),O=n(57),L=n(2),x=n(30),P=n(6),F=n(22),U=n(34),k=n(28).forEach,B=C("hidden"),G=L("toPrimitive"),q=U.set,Y=U.getterFor("Symbol"),K=Object.prototype,H=a.Symbol,V=i("JSON","stringify"),j=I.f,z=R.f,W=S.f,X=b.f,Q=D("symbols"),Z=D("op-symbols"),$=D("string-to-symbol-registry"),J=D("symbol-to-string-registry"),ee=D("wks"),te=a.QObject,ne=!te||!te.prototype||!te.prototype.findChild,re=s&&f((function(){return 7!=E(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=j(K,t);r&&delete K[t],z(e,t,n),r&&e!==K&&z(K,t,r)}:z,ae=function(e,t){var n=Q[e]=E(H.prototype);return q(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},ie=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof H},oe=function(e,t,n){e===K&&oe(Z,t,n),p(e);var r=v(t,!0);return p(n),d(Q,r)?(n.enumerable?(d(e,B)&&e[B][r]&&(e[B][r]=!1),n=E(n,{enumerable:_(0,!1)})):(d(e,B)||z(e,B,_(1,{})),e[B][r]=!0),re(e,r,n)):z(e,r,n)},se=function(e,t){p(e);var n=m(t),r=y(n).concat(de(n));return k(r,(function(t){s&&!ue.call(n,t)||oe(e,t,n[t])})),e},ue=function(e){var t=v(e,!0),n=X.call(this,t);return!(this===K&&d(Q,t)&&!d(Z,t))&&(!(n||!d(this,t)||!d(Q,t)||d(this,B)&&this[B][t])||n)},le=function(e,t){var n=m(e),r=v(t,!0);if(n!==K||!d(Q,r)||d(Z,r)){var a=j(n,r);return!a||!d(Q,r)||d(n,B)&&n[B][r]||(a.enumerable=!0),a}},fe=function(e){var t=W(m(e)),n=[];return k(t,(function(e){d(Q,e)||d(N,e)||n.push(e)})),n},de=function(e){var t=e===K,n=W(t?Z:m(e)),r=[];return k(n,(function(e){!d(Q,e)||t&&!d(K,e)||r.push(Q[e])})),r};(u||(M((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=O(e),n=function(e){this===K&&n.call(Z,e),d(this,B)&&d(this[B],t)&&(this[B][t]=!1),re(this,t,_(1,e))};return s&&ne&&re(K,t,{configurable:!0,set:n}),ae(t,e)}).prototype,"toString",(function(){return Y(this).tag})),M(H,"withoutSetter",(function(e){return ae(O(e),e)})),b.f=ue,R.f=oe,I.f=le,T.f=S.f=fe,A.f=de,x.f=function(e){return ae(L(e),e)},s&&(z(H.prototype,"description",{configurable:!0,get:function(){return Y(this).description}}),o||M(K,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:H}),k(y(ee),(function(e){P(e)})),r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=String(e);if(d($,t))return $[t];var n=H(t);return $[t]=n,J[n]=t,n},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(d(J,e))return J[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(e,t){return void 0===t?E(e):se(E(e),t)},defineProperty:oe,defineProperties:se,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:fe,getOwnPropertySymbols:de}),r({target:"Object",stat:!0,forced:f((function(){A.f(1)}))},{getOwnPropertySymbols:function(e){return A.f(g(e))}}),V)&&r({target:"JSON",stat:!0,forced:!u||f((function(){var e=H();return"[null]"!=V([e])||"{}"!=V({a:e})||"{}"!=V(Object(e))}))},{stringify:function(e,t,n){for(var r,a=[e],i=1;arguments.length>i;)a.push(arguments[i++]);if(r=t,(h(t)||void 0!==e)&&!ie(e))return c(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ie(t))return t}),a[1]=t,V.apply(null,a)}});H.prototype[G]||w(H.prototype,G,H.prototype.valueOf),F(H,"Symbol"),N[B]=!0},function(e,t,n){n(6)("hasInstance")},function(e,t,n){n(6)("species")},function(e,t,n){n(6)("toPrimitive")},function(e,t,n){var r=n(0),a=n(4),i=n(51),o=[].slice,s=function(e){return function(t,n){var r=arguments.length>2,a=r?o.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,a)}:t,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(i)},{setTimeout:s(a.setTimeout),setInterval:s(a.setInterval)})},function(e,t,n){"use strict";var r=n(8),a=n(5),i=n(49),o=n(67),s=n(59),u=n(11),l=n(46),f=Object.assign,d=Object.defineProperty;e.exports=!f||a((function(){if(r&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||"abcdefghijklmnopqrst"!=i(f({},t)).join("")}))?function(e,t){for(var n=u(e),a=arguments.length,f=1,d=o.f,c=s.f;a>f;)for(var h,p=l(arguments[f++]),g=d?i(p).concat(d(p)):i(p),m=g.length,v=0;m>v;)h=g[v++],r&&!c.call(p,h)||(n[h]=p[h]);return n}:f},function(e,t,n){e.exports=n(168)},function(e,t,n){var r=n(186);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(2)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var r=n(4);e.exports=r.Promise},function(e,t,n){var r=n(26);e.exports=function(e,t,n){for(var a in t)n&&n.unsafe&&e[a]?e[a]=t[a]:r(e,a,t[a],n);return e}},function(e,t,n){var r=n(10),a=n(105),i=n(12),o=n(36),s=n(53),u=n(106),l=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,f,d){var c,h,p,g,m,v,_,E=o(t,n,f?2:1);if(d)c=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(a(h)){for(p=0,g=i(e.length);g>p;p++)if((m=f?E(r(_=e[p])[0],_[1]):E(e[p]))&&m instanceof l)return m;return new l(!1)}c=h.call(e)}for(v=c.next;!(_=v.call(c)).done;)if("object"==typeof(m=u(c,E,_.value,f))&&m&&m instanceof l)return m;return new l(!1)}).stop=function(e){return new l(!0,e)}},function(e,t,n){var r=n(2),a=n(25),i=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[i]===e)}},function(e,t,n){var r=n(10);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(2)("iterator"),a=!1;try{var i=0,o={next:function(){return{done:!!i++}},return:function(){a=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){var r=n(10),a=n(21),i=n(2)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[i])?t:a(n)}},function(e,t,n){var r,a,i,o=n(4),s=n(5),u=n(24),l=n(36),f=n(87),d=n(56),c=n(110),h=o.location,p=o.setImmediate,g=o.clearImmediate,m=o.process,v=o.MessageChannel,_=o.Dispatch,E=0,y={},T=function(e){if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},S=function(e){return function(){T(e)}},A=function(e){T(e.data)},I=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};p&&g||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++E]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(E),E},g=function(e){delete y[e]},"process"==u(m)?r=function(e){m.nextTick(S(e))}:_&&_.now?r=function(e){_.now(S(e))}:v&&!c?(i=(a=new v).port2,a.port1.onmessage=A,r=l(i.postMessage,i,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(I)||"file:"===h.protocol?r="onreadystatechange"in d("script")?function(e){f.appendChild(d("script")).onreadystatechange=function(){f.removeChild(this),T(e)}}:function(e){setTimeout(S(e),0)}:(r=I,o.addEventListener("message",A,!1))),e.exports={set:p,clear:g}},function(e,t,n){var r=n(51);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(10),a=n(7),i=n(70);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){n(32),n(207);var r=n(1);e.exports=r.Array.from},function(e,t,n){"use strict";var r=n(36),a=n(11),i=n(106),o=n(105),s=n(12),u=n(40),l=n(53);e.exports=function(e){var t,n,f,d,c,h,p=a(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,_=void 0!==v,E=l(p),y=0;if(_&&(v=r(v,m>2?arguments[2]:void 0,2)),null==E||g==Array&&o(E))for(n=new g(t=s(p.length));t>y;y++)h=_?v(p[y],y):p[y],u(n,y,h);else for(c=(d=E.call(p)).next,n=new g;!(f=c.call(d)).done;y++)h=_?i(d,v,[f.value,y],!0):f.value,u(n,y,h);return n.length=y,n}},function(e,t,n){e.exports=n(212)},function(e,t,n){var r=n(10),a=n(53);e.exports=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){e.exports=n(222)},function(e,t,n){e.exports=n(230)},function(e,t,n){var r=n(5),a=n(2),i=n(19),o=a("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){"use strict";n(50);var r=n(0),a=n(17),i=n(119),o=n(26),s=n(103),u=n(22),l=n(83),f=n(34),d=n(69),c=n(9),h=n(36),p=n(23),g=n(10),m=n(7),v=n(48),_=n(31),E=n(116),y=n(53),T=n(2),S=a("fetch"),A=a("Headers"),I=T("iterator"),R=f.set,b=f.getterFor("URLSearchParams"),w=f.getterFor("URLSearchParamsIterator"),M=/\+/g,D=Array(4),C=function(e){return D[e-1]||(D[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},N=function(e){try{return decodeURIComponent(e)}catch(t){return e}},O=function(e){var t=e.replace(M," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(C(n--),N);return t}},L=/[!'()~]|%20/g,x={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=function(e){return x[e]},F=function(e){return encodeURIComponent(e).replace(L,P)},U=function(e,t){if(t)for(var n,r,a=t.split("&"),i=0;i<a.length;)(n=a[i++]).length&&(r=n.split("="),e.push({key:O(r.shift()),value:O(r.join("="))}))},k=function(e){this.entries.length=0,U(this.entries,e)},B=function(e,t){if(e<t)throw TypeError("Not enough arguments")},G=l((function(e,t){R(this,{type:"URLSearchParamsIterator",iterator:E(b(e).entries),kind:t})}),"Iterator",(function(){var e=w(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),q=function(){d(this,q,"URLSearchParams");var e,t,n,r,a,i,o,s,u,l=arguments.length>0?arguments[0]:void 0,f=this,h=[];if(R(f,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:k}),void 0!==l)if(m(l))if("function"==typeof(e=y(l)))for(n=(t=e.call(l)).next;!(r=n.call(t)).done;){if((o=(i=(a=E(g(r.value))).next).call(a)).done||(s=i.call(a)).done||!i.call(a).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}else for(u in l)c(l,u)&&h.push({key:u,value:l[u]+""});else U(h,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},Y=q.prototype;s(Y,{append:function(e,t){B(arguments.length,2);var n=b(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){B(arguments.length,1);for(var t=b(this),n=t.entries,r=e+"",a=0;a<n.length;)n[a].key===r?n.splice(a,1):a++;t.updateURL()},get:function(e){B(arguments.length,1);for(var t=b(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){B(arguments.length,1);for(var t=b(this).entries,n=e+"",r=[],a=0;a<t.length;a++)t[a].key===n&&r.push(t[a].value);return r},has:function(e){B(arguments.length,1);for(var t=b(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){B(arguments.length,1);for(var n,r=b(this),a=r.entries,i=!1,o=e+"",s=t+"",u=0;u<a.length;u++)(n=a[u]).key===o&&(i?a.splice(u--,1):(i=!0,n.value=s));i||a.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=b(this),a=r.entries,i=a.slice();for(a.length=0,n=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(a[t].key>e.key){a.splice(t,0,e);break}t===n&&a.push(e)}r.updateURL()},forEach:function(e){for(var t,n=b(this).entries,r=h(e,arguments.length>1?arguments[1]:void 0,3),a=0;a<n.length;)r((t=n[a++]).value,t.key,this)},keys:function(){return new G(this,"keys")},values:function(){return new G(this,"values")},entries:function(){return new G(this,"entries")}},{enumerable:!0}),o(Y,I,Y.entries),o(Y,"toString",(function(){for(var e,t=b(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(F(e.key)+"="+F(e.value));return n.join("&")}),{enumerable:!0}),u(q,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:q}),i||"function"!=typeof S||"function"!=typeof A||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,a=[e];return arguments.length>1&&(m(t=arguments[1])&&(n=t.body,"URLSearchParams"===p(n)&&((r=t.headers?new A(t.headers):new A).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:_(0,String(n)),headers:_(0,r)}))),a.push(t)),S.apply(this,a)}}),e.exports={URLSearchParams:q,getState:b}},function(e,t,n){e.exports=n(244)},function(e,t,n){e.exports=n(256)},function(e,t,n){e.exports=n(268)},function(e,t,n){e.exports=n(271)},function(e,t,n){e.exports=n(274)},function(e,t,n){var r=n(17),a=n(66),i=n(67),o=n(10);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){e.exports=n(298)},function(e,t,n){e.exports=n(313)},function(e,t,n){n(339);var r=n(1);e.exports=r.Array.isArray},function(e,t,n){e.exports=n(340)},function(e,t,n){var r=n(341),a=Array.prototype;e.exports=function(e){var t=e.slice;return e===a||e instanceof Array&&t===a.slice?r:t}},function(e,t,n){n(349);var r=n(1).Object,a=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(a.sham=!0)},function(e,t,n){"use strict";var r=n(18),a=r(n(128)),i=r(n(366));e.exports={utils:{formatTime:function(e,t){var n,r,o,s,u,l,f,d,c,h,p,g,m=t<3600;return t<60?{current:(0,i.default)(n=String((0,a.default)(e))).call(n,2,0),duration:(0,i.default)(r=String((0,a.default)(t))).call(r,2,0)}:m?{current:(0,i.default)(o=String((0,a.default)(e/60))).call(o,2,0)+":"+(0,i.default)(s=String((0,a.default)(e%60))).call(s,2,0),duration:(0,i.default)(u=String((0,a.default)(t/60))).call(u,2,0)+":"+(0,i.default)(l=String((0,a.default)(t%60))).call(l,2,0)}:{current:(0,i.default)(f=String((0,a.default)(e/60/60))).call(f,2,0)+":"+(0,i.default)(d=String((0,a.default)(e/60%60))).call(d,2,0)+":"+(0,i.default)(c=String((0,a.default)(e%60))).call(c,2,0),duration:(0,i.default)(h=String((0,a.default)(t/60/60))).call(h,2,0)+":"+(0,i.default)(p=String((0,a.default)(t/60%60))).call(p,2,0)+":"+(0,i.default)(g=String((0,a.default)(t%60))).call(g,2,0)}}},isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e}}},function(e,t,n){"use strict";(function(e){var t=n(18)(n(42)),r=n(163);r.version="0.2.7","undefined"!=typeof window&&(window.MediaPlayer=r),"object"===(0,t.default)(e)&&"object"===(0,t.default)(e.exports)&&(e.exports=r,e.exports.default=r)}).call(this,n(135)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports=n(137)},function(e,t,n){var r=n(138);e.exports=r},function(e,t,n){n(74),n(32),n(27);var r=n(30);e.exports=r.f("iterator")},function(e,t,n){var r=n(4),a=n(15);e.exports=function(e,t){try{a(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(4),a=n(80),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(a(i))},function(e,t,n){"use strict";var r=n(63),a=n(23);e.exports=r?{}.toString:function(){return"[object "+a(this)+"]"}},function(e,t,n){var r=n(7);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(90);n(158),n(159),n(160),n(161),n(162),e.exports=r},function(e,t,n){var r=n(14),a=n(66).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(r(e))}},function(e,t,n){n(6)("asyncIterator")},function(e,t){},function(e,t,n){n(6)("isConcatSpreadable")},function(e,t,n){n(6)("match")},function(e,t,n){n(6)("matchAll")},function(e,t,n){n(6)("replace")},function(e,t,n){n(6)("search")},function(e,t,n){n(6)("split")},function(e,t,n){n(6)("toStringTag")},function(e,t,n){n(6)("unscopables")},function(e,t,n){n(22)(Math,"Math",!0)},function(e,t,n){var r=n(4);n(22)(r.JSON,"JSON",!0)},function(e,t,n){n(6)("asyncDispose")},function(e,t,n){n(6)("dispose")},function(e,t,n){n(6)("observable")},function(e,t,n){n(6)("patternMatch")},function(e,t,n){n(6)("replaceAll")},function(e,t,n){"use strict";var r=n(18),a=r(n(68)),i=r(n(42)),o=r(n(52)),s=r(n(99)),u=(n(171),n(365)),l=n(374),f=n(417),d=n(418);e.exports=function(e){return function(e){var t=(0,s.default)(dashjs.MediaPlayer().create()),n=e=(0,o.default)({rootEle:"",videoEle:"",autoplay:!0,controls:!1,loop:!1,startTime:null,playbackRate:1,volume:.5,src:"",maxBitrate:-1,initialBitrate:-1,autoQuality:!0},e),r=n.rootEle,c=n.videoEle,h=(n.autoplay,n.controls,n.loop,n.startTime,n.playbackRate,n.volume,n.src),p=n.maxBitrate,g=n.initialBitrate,m=n.autoQuality;if("string"==typeof c)c=document.querySelector(c);else if("object"!==(0,i.default)(c)||"VIDEO"!==c.nodeName)throw new Error("videoEle will be  id / class,or video element");if("string"==typeof r)r=document.querySelector(r);else if("object"!==(0,i.default)(r)||"VIDEO"!==r.nodeName)throw new Error("rootEle will be  id / class,or video element");return t.initialize(c,h,!1),t.videoEle=c,t.rootEle=r,delete e.maxBitrate,delete e.initialBitrate,delete e.autoQuality,function(e,t){(0,o.default)(e,t)}(c,e),d(t),u(t,c),f(t),l(t),function(e){e.once("canPlay",(function(){e.autoplay?e.play():e.pause(),e.setPlaybackRate(e.playbackRate),e.setVolume(e.volume),e.loop&&e.setLoop(!0)}));var t=e.listener("playbackNotAllowed",(function(){(0,a.default)((function(){e.autoplay?e.play():e.pause()}),100)}));e.once("playbackPlaying",(function(){t()}))}(t),t.updateSettings({streaming:{scheduleWhilePaused:!0,fastSwitchEnabled:!0,stableBufferTime:1,abr:{useDefaultABRRules:!0,maxBitrate:{audio:-1,video:p},initialBitrate:{audio:-1,video:g},autoSwitchBitrate:{audio:!0,video:m}}}}),t}(e)}},function(e,t,n){n(97);var r=n(1);e.exports=r.setTimeout},function(e,t,n){var r=n(166);e.exports=r},function(e,t,n){n(167);var r=n(1);e.exports=r.Object.assign},function(e,t,n){var r=n(0),a=n(98);r({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},function(e,t,n){var r=n(169);e.exports=r},function(e,t,n){n(170);var r=n(1).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){n(0)({target:"Object",stat:!0,sham:!n(8)},{create:n(48)})},function(e,t,n){"use strict";(function(e){var t=n(18),r=t(n(172)),i=t(n(177)),o=t(n(181)),u=t(n(187)),l=t(n(191)),f=t(n(200)),d=t(n(205)),c=t(n(208)),h=t(n(115)),p=t(n(213)),g=t(n(217)),m=t(n(117)),v=t(n(226)),_=t(n(118)),E=t(n(233)),y=t(n(239)),T=t(n(121)),S=t(n(245)),A=t(n(71)),I=t(n(122)),R=t(n(260)),b=t(n(264)),w=t(n(123)),M=t(n(124)),D=t(n(68)),C=t(n(125)),N=t(n(278)),O=t(n(283)),L=t(n(288)),x=t(n(292)),P=t(n(127)),F=t(n(99)),U=t(n(301)),k=t(n(307)),B=t(n(128)),G=t(n(317)),q=t(n(323)),Y=t(n(326)),K=t(n(332)),H=t(n(335)),V=t(n(337)),j=t(n(42)),z=t(n(130)),W=t(n(343)),X=t(n(73)),Q=t(n(350)),Z=t(n(356)),$=t(n(361));/*! v3.1.2-, 2020-07-14T14:02:27Z */!function e(t,n,r){function a(o,s){if(!n[o]){if(!t[o]){if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){return a(t[o][1][e]||e)}),l,l.exports,e,t,n,r)}return n[o].exports}for(var i=!1,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){var r,i,o,u=function(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):(r<2048?t.push(192|r>>6):(r<65536?t.push(224|r>>12):(t.push(240|r>>18),t.push(128|63&r>>12)),t.push(128|63&r>>6)),t.push(128|63&r))}return t},l=function(e){for(var t=[],n=0;n<e.length;){var r=e[n++];r<128||(r<224?r=(31&r)<<6:(r<240?r=(15&r)<<12:(r=(7&r)<<18,r|=(63&e[n++])<<12),r|=(63&e[n++])<<6),r|=63&e[n++]),t.push(String.fromCharCode(r))}return t.join("")},f={};function d(e){for(var t=0,n=[],a=0|e.length/3;0<a--;){var i=(e[t]<<16)+(e[t+1]<<8)+e[t+2];t+=3,n.push(r.charAt(63&i>>18)),n.push(r.charAt(63&i>>12)),n.push(r.charAt(63&i>>6)),n.push(r.charAt(63&i))}return 2==e.length-t?(i=(e[t]<<16)+(e[t+1]<<8),n.push(r.charAt(63&i>>18)),n.push(r.charAt(63&i>>12)),n.push(r.charAt(63&i>>6)),n.push("=")):1==e.length-t&&(i=e[t]<<16,n.push(r.charAt(63&i>>18)),n.push(r.charAt(63&i>>12)),n.push("==")),n.join("")}function c(e){for(var t=0,n=[],r=0|e.length/4;0<r--;){var a=(i[e.charCodeAt(t)]<<18)+(i[e.charCodeAt(t+1)]<<12)+(i[e.charCodeAt(t+2)]<<6)+i[e.charCodeAt(t+3)];n.push(255&a>>16),n.push(255&a>>8),n.push(255&a),t+=4}return n&&("="==e.charAt(t-2)?(n.pop(),n.pop()):"="==e.charAt(t-1)&&n.pop()),n}r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(){for(var e=[],t=0;t<r.length;++t)e[r.charCodeAt(t)]=t;return e["=".charCodeAt(0)]=0,e}(),o={encode:function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},decode:function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")}},f.decodeArray=function(e){var t=c(e);return new Uint8Array(t)},f.encodeASCII=function(e){return d(o.encode(e))},f.decodeASCII=function(e){var t=c(e);return o.decode(t)},f.encode=function(e){return d(u(e))},f.decode=function(e){var t=c(e);return l(t)},void 0!==n&&(n.decode=f.decode,n.decodeArray=f.decodeArray,n.encode=f.encode,n.encodeASCII=f.encodeASCII)},{}],2:[function(e,t,n){!function(e){function t(e){var t=e;return a.hasOwnProperty(e)&&(t=a[e]),String.fromCharCode(t)}function n(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t}function r(e,t,n,r,a){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=a||!1}var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},i={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},o={17:2,18:4,21:6,22:8,23:10,19:13,20:15},s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},u={25:2,26:4,29:6,30:8,31:10,27:13,28:15},l=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}};function d(e,t,n,a,i,o){this.uchar=e||" ",this.penState=new r(t,n,a,i,o)}function c(){this.chars=[];for(var e=0;e<32;e++)this.chars.push(new d);this.pos=0,this.currPenState=new r}function h(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new c);this.currRow=14,this.nrRollUpRows=null,this.reset()}function p(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new h,this.nonDisplayedMemory=new h,this.lastOutputScreen=new h,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}function g(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new p(1,t),new p(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}r.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}},d.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}},c.prototype={equals:function(e){for(var t=!0,n=0;n<32;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<32;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<32;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(f.log("ERROR","Negative cursor position "+this.pos),this.pos=0):32<this.pos&&(f.log("ERROR","Too large cursor position "+this.pos),this.pos=32)},moveCursor:function(e){var t=this.pos+e;if(1<e)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){144<=e&&this.backSpace();var n=t(e);32<=this.pos?f.log("ERROR","Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1))},clearFromPos:function(e){for(var t=e;t<32;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;n<32;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}},h.prototype={reset:function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},equals:function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){f.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){f.log("INFO","pacData = "+(0,$.default)(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var n,r,a=this.rows[this.currRow];null!==e.indent&&(n=e.indent,r=Math.max(n-1,0),a.setCursor(e.indent),e.color=a.chars[r].penState.foreground);var i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)},setBkgData:function(e){f.log("INFO","bkgData = "+(0,$.default)(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){var e,t,n,r;null!==this.nrRollUpRows?(f.log("TEXT",this.getDisplayText()),n=this.currRow+1-this.nrRollUpRows,(r=(0,Z.default)(e=this.rows).call(e,n,1)[0]).clear(),(0,Z.default)(t=this.rows).call(t,this.currRow,0,r),f.log("INFO","Rolling up")):f.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(e){e=e||!1;for(var t,n=[],r="",a=0;a<15;a++){var i=this.rows[a].getTextString();i&&(t=a+1,e?n.push("Row "+t+': "'+i+'"'):n.push((0,Q.default)(i).call(i)))}return 0<n.length&&(r=e?"["+n.join(" | ")+"]":n.join("\n")),r},getTextAndFormat:function(){return this.rows}},p.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,f.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";f.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(f.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){f.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){f.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){f.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){f.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){f.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){f.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){f.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){f.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){f.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){f.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){f.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){var e;f.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode&&(e=this.displayedMemory,this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,f.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())),this.outputDataUpdate()},cc_TO:function(e){f.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t,n={flash:!1};n.underline=e%2==1,n.italics=46<=e,n.italics?n.foreground="white":(t=Math.floor(e/2)-16,n.foreground=["white","green","blue","cyan","red","yellow","magenta"][t]),f.log("INFO","MIDROW: "+(0,$.default)(n)),this.writeScreen.setPen(n)},outputDataUpdate:function(){var e=f.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}},g.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var r,a=!1;this.lastTime=e,f.setTime(e);for(var i=0;i<t.length;i+=2){var o=127&t[i],s=127&t[i+1];16<=o&&o<=31&&o===this.lastCmdA&&s===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,f.log("DEBUG","Repeated command ("+n([o,s])+") is dropped")):0!=o||0!=s?(f.log("DATA","["+n([t[i],t[i+1]])+"] -> ("+n([o,s])+")"),(r=(r=(r=(r=this.parseCmd(o,s))||this.parseMidrow(o,s))||this.parsePAC(o,s))||this.parseBackgroundAttributes(o,s))||(a=this.parseChars(o,s))&&(this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-1].insertChars(a):f.log("WARNING","No channel found yet. TEXT-MODE?")),r?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,f.log("WARNING","Couldn't parse cleaned data "+n([o,s])+" orig: "+n([t[i],t[i+1]])))):this.dataCounters.padding+=2}},parseCmd:function(e,t){var n;if(!((20===e||21===e||28===e||29===e)&&32<=t&&t<=47||(23===e||31===e)&&33<=t&&t<=35))return!1;n=20===e||21===e||23===e?1:2;var r=this.channels[n-1];return 20===e||21===e||28===e||29===e?32===t?r.cc_RCL():33===t?r.cc_BS():34===t?r.cc_AOF():35===t?r.cc_AON():36===t?r.cc_DER():37===t?r.cc_RU(2):38===t?r.cc_RU(3):39===t?r.cc_RU(4):40===t?r.cc_FON():41===t?r.cc_RDC():42===t?r.cc_TR():43===t?r.cc_RTD():44===t?r.cc_EDM():45===t?r.cc_CR():46===t?r.cc_ENM():47===t&&r.cc_EOC():r.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},parseMidrow:function(e,t){var r=null;if((17===e||25===e)&&32<=t&&t<=47){if((r=17===e?1:2)!==this.currChNr)return f.log("ERROR","Mismatch channel in midrow parsing"),!1;var a=this.channels[r-1];return a.insertChars([32]),a.cc_MIDROW(t),f.log("DEBUG","MIDROW ("+n([e,t])+")"),this.lastCmdA=e,this.lastCmdB=t,!0}return!1},parsePAC:function(e,t){var n,r;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127||(16===e||24===e)&&64<=t&&t<=95))return!1;n=e<=23?1:2,r=64<=t&&t<=95?1==n?i[e]:s[e]:1==n?o[e]:u[e];var a=this.interpretPAC(r,t);return this.channels[n-1].setPAC(a),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},interpretPAC:function(e,t){var n={color:null,italics:!1,indent:null,underline:!1,row:e},r=95<t?t-96:t-64;return n.underline=1==(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},parseChars:function(e,r){var a,i,o,s=null,u=null;return 17<=(o=25<=e?(s=2,e-8):(s=1,e))&&o<=19?(r,a=17===o?r+80:18===o?r+112:r+144,f.log("INFO","Special char '"+t(a)+"' in channel "+s),u=[a],this.lastCmdA=e,this.lastCmdB=r):32<=e&&e<=127&&(u=0===r?[e]:[e,r],this.lastCmdA=null,this.lastCmdB=null),u&&(i=n(u),f.log("DEBUG","Char codes =  "+i.join(","))),u},parseBackgroundAttributes:function(e,t){var n,r,a;return((16===e||24===e)&&32<=t&&t<=47||(23===e||31===e)&&45<=t&&t<=47)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=l[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),a=e<24?1:2,this.channels[a-1].setBkgData(n),this.lastCmdA=e,this.lastCmdB=t,!0)},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}},e.logger=f,e.PenState=r,e.CaptionScreen=h,e.Cea608Parser=g,e.findCea608Nalus=function(e,t,n){for(var r,a=t,i=[];a<t+n;){if(r=e.getUint32(a),6==(31&e.getUint8(a+4)))for(var o=a+5,s=-1;o<a+4+r-1;){s=0;for(var u=255;255===u;)s+=u=e.getUint8(o),o++;var l=0;for(u=255;255===u;)l+=u=e.getUint8(o),o++;!function(e,t,n,r){if(4!==e||t<8)return null;var a=n.getUint8(r),i=n.getUint16(r+1),o=n.getUint32(r+3),s=n.getUint8(r+7);return 181==a&&49==i&&1195456820==o&&3==s}(s,l,e,o)||i.push([o,l]),o+=l}a+=r+4}return i},e.extractCea608DataFromRange=function(e,t){var n=t[0],r=[[],[]];n+=8;var a=31&e.getUint8(n);n+=2;for(var i=0;i<a;i++){var o=e.getUint8(n),s=4&o,u=3&o;n++;var l=e.getUint8(n);n++;var f=e.getUint8(n);n++,s&&(127&l)+(127&f)!=0&&(0==u?(r[0].push(l),r[0].push(f)):1==u&&(r[1].push(l),r[1].push(f)))}return r}}(void 0===n?(void 0).cea608parser={}:n)},{}],3:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function(e){void 0===(e=e||{}).escapeMode&&(e.escapeMode=!0),void 0===e.attributePrefix&&(e.attributePrefix="_"),e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1),void 0===e.ignoreRoot&&(e.ignoreRoot=!1);var t=1,n=3,r=4,a=8,i=9;function o(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function s(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function u(e,t,n,r){for(var a=0;a<e.length;a++){var i=e[a];if("string"==typeof i){if(i==r)break}else if(i instanceof RegExp){if(i.test(r))break}else if("function"==typeof i&&i(t,n,r))break}return a!=e.length}function l(t,n,r){switch(e.arrayAccessForm){case"property":t[n]instanceof Array?t[n+"_asArray"]=t[n]:t[n+"_asArray"]=[t[n]]}!(t[n]instanceof Array)&&0<e.arrayAccessFormPaths.length&&u(e.arrayAccessFormPaths,t,n,r)&&(t[n]=[t[n]])}function f(e){var t,n=e.split(/[-T:+Z]/g),r=new Date(n[0],n[1]-1,n[2]),a=n[5].split(".");return r.setHours(n[3],n[4],a[0]),1<a.length&&r.setMilliseconds(a[1]),n[6]&&n[7]?(t=60*n[6]+Number(n[7]),t=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*t:t),r.setMinutes(r.getMinutes()-t-r.getTimezoneOffset())):-1!==(0,W.default)(e).call(e,"Z",e.length-1)&&(r=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()))),r}function d(t,n,r,a){var i="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+n;if(null!=r)for(var o=0;o<r.length;o++){var u=r[o],l=t[u];e.escapeMode&&(l=s(l)),i+=" "+u.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?i+='"'+l+'"':i+="'"+l+"'"}return i+(a?"/>":">")}function c(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function h(t,n){var r,a,i,o;return"property"==e.arrayAccessForm&&(i=n.toString(),o="_asArray",-1!==(0,W.default)(i).call(i,o,i.length-o.length))||0==(0,W.default)(r=n.toString()).call(r,e.attributePrefix)||0==(0,W.default)(a=n.toString()).call(a,"__")||t[n]instanceof Function}function p(e){var t=0;if(e instanceof Object)for(var n in e)h(e,n)||t++;return t}function g(t){var n=[];if(t instanceof Object)for(var r in t){var a,i;-1==(0,W.default)(a=r.toString()).call(a,"__")&&0==(0,W.default)(i=r.toString()).call(i,e.attributePrefix)&&n.push(r)}return n}function m(t){var n,r,a="";return t instanceof Object?a+=(r="",null!=(n=t).__cdata&&(r+="<![CDATA["+n.__cdata+"]]>"),null!=n.__text&&(e.escapeMode?r+=s(n.__text):r+=n.__text),r):null!=t&&(e.escapeMode?a+=s(t):a+=t),a}function v(e,t){return""===e?t:e+"."+t}this.parseXmlString=function(e){var t;if(window.ActiveXObject||window,void 0===e)return null;if(window.DOMParser){var n=new window.DOMParser;try{0<(t=n.parseFromString(e,"text/xml")).getElementsByTagNameNS("*","parsererror").length&&(t=null)}catch(e){t=null}}else 0==(0,W.default)(e).call(e,"<?")&&(e=e.substr((0,W.default)(e).call(e,"?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?f(e):e},this.xml2json=function(s){return function s(d,c){if(d.nodeType==i){for(var h=new Object,p=d.childNodes,g=0;g<p.length;g++)(E=p[g]).nodeType==t&&(e.ignoreRoot?h=s(E):(h={})[A=o(E)]=s(E));return h}if(d.nodeType==t){var m,v;(h=new Object).__cnt=0;var _=[];for(p=d.childNodes,g=0;g<p.length;g++){var E,y,T,S,A=o(E=p[g]);E.nodeType!=a&&(O=h,L=A,x=y=c+"."+A,E.nodeType==t&&0<e.xmlElementsFilter.length&&!u(e.xmlElementsFilter,O,L,x)||(h.__cnt++,null==h[A]?(T=s(E,y),"#text"==A&&!/[^\s]/.test(T)||((S={})[A]=T,_.push(S)),h[A]=T,l(h,A,y)):(null!=h[A]&&(h[A]instanceof Array||(h[A]=[h[A]],l(h,A,y))),T=s(E,y),"#text"==A&&!/[^\s]/.test(T)||((S={})[A]=T,_.push(S)),h[A][h[A].length]=T)))}h.__children=_;for(var I=o(d),R=0;R<d.attributes.length;R++){var b=d.attributes[R];h.__cnt++;for(var w=b.value,M=0,D=e.matchers.length;M<D;M++){var C=e.matchers[M];C.test(b,I)&&(w=C.converter(b.value))}h[e.attributePrefix+b.name]=w}var N=d.prefix;return null!=N&&""!=N&&(h.__cnt++,h.__prefix=N),null!=h["#text"]&&(h.__text=h["#text"],h.__text instanceof Array&&(h.__text=h.__text.join("\n")),e.stripWhitespaces&&(h.__text=(0,Q.default)(m=h.__text).call(m)),delete h["#text"],"property"==e.arrayAccessForm&&delete h["#text_asArray"],h.__text=function(t,n,r){if(0<e.datetimeAccessFormPaths.length){var a=r.split(".#")[0];return u(e.datetimeAccessFormPaths,t,n,a)?f(t):t}return t}(h.__text,A,c+"."+A)),null!=h["#cdata-section"]&&(h.__cdata=h["#cdata-section"],delete h["#cdata-section"],"property"==e.arrayAccessForm&&delete h["#cdata-section_asArray"]),0==h.__cnt&&"text"==e.emptyNodeForm?h="":1==h.__cnt&&null!=h.__text?h=h.__text:1!=h.__cnt||null==h.__cdata||e.keepCData?1<h.__cnt&&null!=h.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==h.__text||""==(0,Q.default)(v=h.__text).call(v))&&delete h.__text:h=h.__cdata,delete h.__cnt,!e.enableToStringFunc||null==h.__text&&null==h.__cdata||(h.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),h}if(d.nodeType==n||d.nodeType==r)return d.nodeValue;var O,L,x}(s)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(t){return function t(n,r){var a,i,o,s,l,f="";if(0<p(n))for(var _ in n)h(n,_)||""!=r&&(o=n,l=v(r,s=_),0!=e.jsonPropertiesFilter.length&&""!=l&&!u(e.jsonPropertiesFilter,o,s,l))||(i=g(a=n[_]),null==a||null==a?f+=d(a,_,i,!0):a instanceof Object?a instanceof Array?f+=function(e,n,r,a){var i="";if(0==e.length)i+=d(e,n,r,!0);else for(var o=0;o<e.length;o++)i+=d(e[o],n,g(e[o]),!1),i+=t(e[o],v(a,n)),i+=c(e[o],n);return i}(a,_,i,r):a instanceof Date?(f+=d(a,_,i,!1),f+=a.toISOString(),f+=c(a,_)):0<p(a)||null!=a.__text||null!=a.__cdata?(f+=d(a,_,i,!1),f+=t(a,v(r,_)),f+=c(a,_)):f+=d(a,_,i,!0):(f+=d(a,_,i,!1),f+=m(a),f+=c(a,_)));return f+m(n)}(t,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.2.0"}},t.exports=n.default},{}],4:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=e(5),i=r(e(124)),o=r(e(161)),s=r(e(102)),u=r(e(45));dashjs.Protection=o.default,dashjs.MetricsReporting=i.default,dashjs.MediaPlayerFactory=s.default,dashjs.Debug=u.default,n.default=dashjs,n.MediaPlayer=a.MediaPlayer,n.Protection=o.default,n.MetricsReporting=i.default,n.MediaPlayerFactory=s.default,n.Debug=u.default},{102:102,124:124,161:161,45:45,5:5}],5:[function(t,n,r){(function(e){function n(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(r,"__esModule",{value:!0});var a=n(t(100)),i=n(t(47)),o=n(t(45)),s=t(50),u="undefined"!=typeof window&&window||e,l=u.dashjs;(l=l||(u.dashjs={})).MediaPlayer=a.default,l.FactoryMaker=i.default,l.Debug=o.default,l.Version=(0,s.getVersionString)(),r.default=l,r.MediaPlayer=a.default,r.FactoryMaker=i.default,r.Debug=o.default}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{100:100,45:45,47:47,50:50}],6:[function(e,t,n){n.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){for(var t,n=l(e),r=n[0],o=n[1],s=new i(function(e,t){return 3*(e+t)/4-t}(r,o)),u=0,f=0<o?r-4:r,d=0;d<f;d+=4)t=a[e.charCodeAt(d)]<<18|a[e.charCodeAt(d+1)]<<12|a[e.charCodeAt(d+2)]<<6|a[e.charCodeAt(d+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===o&&(t=a[e.charCodeAt(d)]<<2|a[e.charCodeAt(d+1)]>>4,s[u++]=255&t),1===o&&(t=a[e.charCodeAt(d)]<<10|a[e.charCodeAt(d+1)]<<4|a[e.charCodeAt(d+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s},n.fromByteArray=function(e){for(var t,n=e.length,a=n%3,i=[],o=0,s=n-a;o<s;o+=16383)i.push(function(e,t,n){for(var a,i=[],o=t;o<n;o+=3)a=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(function(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}(a));return i.join("")}(e,o,s<o+16383?s:o+16383));return 1==a?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2==a&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)r[s]=o[s],a[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=(0,W.default)(e).call(e,"=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],7:[function(e,t,n){},{}],8:[function(e,t,n){var r=e(6),a=e(13);n.Buffer=s,n.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},n.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(i<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,n){if("number"!=typeof e)return u(e,t,n);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}function u(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|h(e,t),r=o(n),a=r.write(e,t);return a!==n&&(r=(0,z.default)(r).call(r,0,a)),r}(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(0,j.default)(e));if(N(e,ArrayBuffer)||e&&N(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=s.prototype,r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var a=function(e){if(s.isBuffer(e)){var t=0|c(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||O(e.length)?o(0):d(e):"Buffer"===e.type&&(0,V.default)(e.data)?d(e.data):void 0}(e);if(a)return a;if(void 0!==H.default&&null!=K.default&&"function"==typeof e[K.default])return s.from(e[K.default]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(0,j.default)(e))}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),o(e<0?0:0|c(e))}function d(e){for(var t=e.length<0?0:0|c(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function c(e){if(i<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||N(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(0,j.default)(e));var n=e.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return D(e).length;default:if(a)return r?-1:M(e).length;t=(""+t).toLowerCase(),a=!0}}function p(e,t,n){var a,i,o,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var a="",i=t;i<n;++i)a+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[i]);return a}(this,t,n);case"utf8":case"utf-8":return y(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}(this,t,n);case"base64":return a=this,o=n,0===(i=t)&&o===a.length?r.fromByteArray(a):r.fromByteArray((0,z.default)(a).call(a,i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=(0,z.default)(e).call(e,t,n),a="",i=0;i<r.length;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}(this,t,n);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,a){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),O(n=+n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,a);if("number"==typeof t)return t&=255,"function"==typeof(0,W.default)(Uint8Array.prototype)?a?(0,W.default)(Uint8Array.prototype).call(e,t,n):(0,Y.default)(Uint8Array.prototype).call(e,t,n):v(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,a){var i=1,o=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o/=i=2,s/=2,n/=2}function u(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(a)for(var l=-1,f=n;f<o;f++)if(u(e,f)===u(t,-1===l?0:f-l)){if(-1===l&&(l=f),f-l+1===s)return l*i}else-1!==l&&(f-=f-l),l=-1;else for(o<n+s&&(n=o-s),f=n;0<=f;f--){for(var d=!0,c=0;c<s;c++)if(u(e,f+c)!==u(t,c)){d=!1;break}if(d)return f}return-1}function _(e,t,n,r){return C(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return C(function(e,t){for(var n,r,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function y(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var i,o,s,u,l=e[a],f=null,d=239<l?4:223<l?3:191<l?2:1;if(a+d<=n)switch(d){case 1:l<128&&(f=l);break;case 2:128==(192&(i=e[a+1]))&&127<(u=(31&l)<<6|63&i)&&(f=u);break;case 3:i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&2047<(u=(15&l)<<12|(63&i)<<6|63&o)&&(u<55296||57343<u)&&(f=u);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&65535<(u=(15&l)<<18|(63&i)<<12|(63&o)<<6|63&s)&&u<1114112&&(f=u)}null===f?(f=65533,d=1):65535<f&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),a+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,(0,z.default)(e).call(e,r,r+=T));return n}(r)}n.kMaxLength=i,(s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),(0,X.default)(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),(0,X.default)(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),void 0!==H.default&&null!=q.default&&s[q.default]===s&&(0,X.default)(s,q.default,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=u,s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,n){var r,a,i,s,u;return s=t,u=n,l(i=e),i<=0||void 0===s?o(i):"string"==typeof u?(0,G.default)(r=o(i)).call(r,s,u):(0,G.default)(a=o(i)).call(a,s)},s.allocUnsafe=f,s.allocUnsafeSlow=f,s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(N(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),N(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!(0,V.default)(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(a=t=0;a<e.length;++a)t+=e[a].length;for(var n=s.allocUnsafe(t),r=0,a=0;a<e.length;++a){var i=e[a];if(N(i,Uint8Array)&&(i=s.from(i)),!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,r),r+=i.length}return n},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?y(this,0,e):p.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e,t="",r=n.INSPECT_MAX_BYTES;t=(0,Q.default)(e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ")).call(e);return this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s.prototype.compare=function(e,t,n,r,a){if(N(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(0,j.default)(e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(a<=r&&n<=t)return 0;if(a<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),u=Math.min(i,o),l=(0,z.default)(c=this).call(c,r,a),f=(0,z.default)(e).call(e,t,n),d=0;d<u;++d){var c;if(l[d]!==f[d]){i=l[d],o=f[d];break}}return i<o?-1:o<i?1:0},s.prototype.includes=function(e,t,n){var r;return-1!==(0,W.default)(r=this).call(r,e,t,n)},s.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||a<n)&&(n=a),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var i,o,s,u,l=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var a=e.length-n;(!r||a<(r=Number(r)))&&(r=a);var i=t.length;i/2<r&&(r=i/2);for(var o=0;o<r;++o){var s=(0,B.default)(t.substr(2*o,2),16);if(O(s))return o;e[n+o]=s}return o}(this,e,t,n);case"utf8":case"utf-8":return s=t,u=n,C(M(e,this.length-s),this,s,u);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return this,i=t,o=n,C(D(e),this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(l)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),l=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:(0,z.default)(Array.prototype).call(this._arr||this,0)}};var T=4096;function S(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,r,a,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(a<t||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,i){return t=+t,n>>>=0,i||I(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function b(e,t,n,r,i){return t=+t,n>>>=0,i||I(e,0,n,8),a.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=s.prototype,r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var r=this[e+--t],a=1;0<t&&(a*=256);)r+=this[e+--t]*a;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return(a*=128)<=r&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var r=t,a=1,i=this[e+--r];0<r&&(a*=256);)i+=this[e+--r]*a;return(a*=128)<=i&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||S(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||S(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||S(e,4,this.length),a.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||S(e,4,this.length),a.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||S(e,8,this.length),a.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||S(e,8,this.length),a.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||A(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||A(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[t+a]=255&e;0<=--a&&(i*=256);)this[t+a]=e/i&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){var a;e=+e,t>>>=0,r||A(this,e,t,n,(a=Math.pow(2,8*n-1))-1,-a);var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){var a;e=+e,t>>>=0,r||A(this,e,t,n,(a=Math.pow(2,8*n-1))-1,-a);var i=n-1,o=1,s=0;for(this[t+i]=255&e;0<=--i&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return b(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return b(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){var a;if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),t=t||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof(0,k.default)(Uint8Array.prototype))(0,k.default)(a=this).call(a,t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;0<=o;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var a;1===e.length&&(a=e.charCodeAt(0),("utf8"===r&&a<128||"latin1"===r)&&(e=a))}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(i=t;i<n;++i)this[i]=e;else{var o=s.isBuffer(e)?e:s.from(e,r),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%u]}return this};var w=/[^+/0-9A-Za-z-_]/g;function M(e,t){var n;t=t||1/0;for(var r=e.length,a=null,i=[],o=0;o<r;++o){if(55295<(n=e.charCodeAt(o))&&n<57344){if(!a){if(56319<n){-1<(t-=3)&&i.push(239,191,189);continue}if(o+1===r){-1<(t-=3)&&i.push(239,191,189);continue}a=n;continue}if(n<56320){-1<(t-=3)&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&-1<(t-=3)&&i.push(239,191,189);if(a=null,n<128){if(--t<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function D(e){return r.toByteArray(function(e){var t;if((e=(0,Q.default)(t=e=e.split("=")[0]).call(t).replace(w,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function C(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}function N(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function O(e){return e!=e}},{13:13,6:6}],9:[function(e,t,n){var r={parseBuffer:function(e){return new a(e).parse()},addBoxProcessor:function(e,t){"string"==typeof e&&"function"==typeof t&&(i.prototype._boxProcessors[e]=t)},createFile:function(){return new a},createBox:function(e,t,n){var r=i.create(e);return t&&t.append(r,n),r},createFullBox:function(e,t,n){var a=r.createBox(e,t,n);return a.version=0,a.flags=0,a},Utils:{}};r.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(n).decode(e);var r=[],a=0;if("utf-8"===n)for(;a<e.byteLength;){var i=e.getUint8(a++);i<128||(i<224?i=(31&i)<<6:(i<240?i=(15&i)<<12:(i=(7&i)<<18,i|=(63&e.getUint8(a++))<<12),i|=(63&e.getUint8(a++))<<6),i|=63&e.getUint8(a++)),r.push(String.fromCharCode(i))}else for(;a<e.byteLength;)r.push(String.fromCharCode(e.getUint8(a++)));return r.join("")},r.Utils.utf8ToByteArray=function(e){var t,n;if("undefined"!=typeof TextEncoder)t=(new TextEncoder).encode(e);else for(t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):(r<2048?t.push(192|r>>6):(r<65536?t.push(224|r>>12):(t.push(240|r>>18),t.push(128|63&r>>12)),t.push(128|63&r>>6)),t.push(128|63&r))}return t},r.Utils.appendBox=function(e,t,n){if(t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,-1!==n)if(null!=n){var r,a,i=-1;if("number"==typeof n)i=n;else{if("string"==typeof n)a=n;else{if("object"!=(0,j.default)(n)||!n.type)return void e.boxes.push(t);a=n.type}for(var o=0;o<e.boxes.length;o++)if(a===e.boxes[o].type){i=o+1;break}}(0,Z.default)(r=e.boxes).call(r,i,0,t)}else e.boxes.push(t)},void 0!==n&&(n.parseBuffer=r.parseBuffer,n.addBoxProcessor=r.addBoxProcessor,n.createFile=r.createFile,n.createBox=r.createBox,n.createFullBox=r.createFullBox,n.Utils=r.Utils),r.Cursor=function(e){this.offset=void 0===e?0:e};var a=function(e){this._cursor=new r.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};a.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},a.prototype.fetchAll=function(e,t){var n=[];return a._sweep.call(this,e,n,t),n},a.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=i.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},a._sweep=function(e,t,n){for(var r in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&n)return;a._sweep.call(this.boxes[r],e,t,n)}},a.prototype.write=function(){for(var e=0,t=0;t<this.boxes.length;t++)e+=this.boxes[t].getLength(!1);var n=new Uint8Array(e);for(this._rawo=new DataView(n.buffer),this.bytes=n,t=this._cursor.offset=0;t<this.boxes.length;t++)this.boxes[t].write();return n.buffer},a.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)};var i=function(){this._cursor=new r.Cursor};i.parse=function(e){var t=new i;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},i.create=function(e){var t=new i;return t.type=e,t.boxes=[],t},i.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],i.prototype._boxProcessors={},i.prototype._procField=function(e,t,n){this._parsing?this[e]=this._readField(t,n):this._writeField(t,n,this[e])},i.prototype._procFieldArray=function(e,t,n,r){var a;if(this._parsing)for(this[e]=[],a=0;a<t;a++)this[e][a]=this._readField(n,r);else for(a=0;a<this[e].length;a++)this._writeField(n,r,this[e][a])},i.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},i.prototype._procEntries=function(e,t,n){var r;if(this._parsing)for(this[e]=[],r=0;r<t;r++)this[e].push({}),n.call(this,this[e][r]);else for(r=0;r<t;r++)n.call(this,this[e][r])},i.prototype._procSubEntries=function(e,t,n,r){var a;if(this._parsing)for(e[t]=[],a=0;a<n;a++)e[t].push({}),r.call(this,e[t][a]);else for(a=0;a<n;a++)r.call(this,e[t][a])},i.prototype._procEntryField=function(e,t,n,r){this._parsing?e[t]=this._readField(n,r):this._writeField(n,r,e[t])},i.prototype._procSubBoxes=function(e,t){var n;if(this._parsing)for(this[e]=[],n=0;n<t;n++)this[e].push(i.parse(this));else for(n=0;n<t;n++)this._rawo?this[e][n].write():this.size+=this[e][n].getLength()},i.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}},i.prototype._readInt=function(e){var t=null,n=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(n);break;case 16:t=this._raw.getInt16(n);break;case 32:t=this._raw.getInt32(n);break;case 64:var r=this._raw.getInt32(n),a=this._raw.getInt32(4+n);t=r*Math.pow(2,32)+a}return this._cursor.offset+=e>>3,t},i.prototype._readUint=function(e){var t,n,r=null,a=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:r=this._raw.getUint8(a);break;case 16:r=this._raw.getUint16(a);break;case 24:r=((t=this._raw.getUint16(a))<<8)+(n=this._raw.getUint8(2+a));break;case 32:r=this._raw.getUint32(a);break;case 64:t=this._raw.getUint32(a),n=this._raw.getUint32(4+a),r=t*Math.pow(2,32)+n}return this._cursor.offset+=e>>3,r},i.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},i.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},i.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},i.prototype._readData=function(e){var t=0<e?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(0<t){var n=new Uint8Array(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,n}return null},i.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),t=null;return 0<e&&(t=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),t?r.Utils.dataViewToString(t):t},i.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{var e;switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==(0,W.default)(e=this._boxContainers).call(e,this.type)?this._parseContainerBox():this._data=this._readData())}},i.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},i.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(i.parse(this))},i.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)},i.prototype.getLength=function(){var e;if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==(0,W.default)(e=this._boxContainers).call(e,this.type))for(var t=0;t<this.boxes.length;t++)this.size+=this.boxes[t].getLength();return this._data&&this._writeData(this._data),this.size},i.prototype.write=function(){var e;switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==(0,W.default)(e=this._boxContainers).call(e,this.type))for(var t=0;t<this.boxes.length;t++)this.boxes[t].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},i.prototype._writeInt=function(e,t){if(this._rawo){var n=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(n,t);break;case 16:this._rawo.setInt16(n,t);break;case 32:this._rawo.setInt32(n,t);break;case 64:var r=Math.floor(t/Math.pow(2,32)),a=t-r*Math.pow(2,32);this._rawo.setUint32(n,r),this._rawo.setUint32(4+n,a)}this._cursor.offset+=e>>3}else this.size+=e>>3},i.prototype._writeUint=function(e,t){if(this._rawo){var n,r,a=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(a,t);break;case 16:this._rawo.setUint16(a,t);break;case 24:n=(16776960&t)>>8,r=255&t,this._rawo.setUint16(a,n),this._rawo.setUint8(2+a,r);break;case 32:this._rawo.setUint32(a,t);break;case 64:r=t-(n=Math.floor(t/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(a,n),this._rawo.setUint32(4+a,r)}this._cursor.offset+=e>>3}else this.size+=e>>3},i.prototype._writeString=function(e,t){for(var n=0;n<e;n++)this._writeUint(8,t.charCodeAt(n))},i.prototype._writeTerminatedString=function(e){if(0!==e.length){for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)}},i.prototype._writeTemplate=function(e,t){var n=Math.floor(t),r=(t-n)*Math.pow(2,e/2);this._writeUint(e/2,n),this._writeUint(e/2,r)},i.prototype._writeData=function(e){if(e)if(this._rawo){if(e instanceof Array){for(var t=this._cursor.offset-this._rawo.byteOffset,n=0;n<e.length;n++)this._rawo.setInt8(t+n,e[n]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},i.prototype._writeUTF8String=function(e){var t=r.Utils.utf8ToByteArray(e);if(this._rawo)for(var n=new DataView(this._rawo.buffer,this._cursor.offset,t.length),a=0;a<t.length;a++)n.setUint8(a,t[a]);else this.size+=t.length},i.prototype._writeField=function(e,t,n){switch(e){case"uint":this._writeUint(t,n);break;case"int":this._writeInt(t,n);break;case"template":this._writeTemplate(t,n);break;case"string":-1==t?this._writeTerminatedString(n):this._writeString(t,n);break;case"data":this._writeData(n);break;case"utf8":this._writeUTF8String(n)}},i.prototype._boxProcessors.avc1=i.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},i.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"segment_duration","uint",1===this.version?64:32),this._procEntryField(e,"media_time","int",1===this.version?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)}))},i.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},i.prototype._boxProcessors.free=i.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},i.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},i.prototype._boxProcessors.ftyp=i.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},i.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},i.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},i.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},i.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},i.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},i.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},i.prototype._boxProcessors.mp4a=i.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},i.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},i.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},i.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},i.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&(0,U.default)(this)&&this._procField("scheme_uri","string",-1)},i.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},i.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,(function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)}))},i.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},i.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,(function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,(function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)}))}))},i.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,(function(e){this._procEntryField(e,"subsample_size","uint",1===this.version?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)}))}))},i.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},i.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},i.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&(0,U.default)(this)&&this._procField("base_data_offset","uint",64),2&(0,U.default)(this)&&this._procField("sample_description_offset","uint",32),8&(0,U.default)(this)&&this._procField("default_sample_duration","uint",32),16&(0,U.default)(this)&&this._procField("default_sample_size","uint",32),32&(0,U.default)(this)&&this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,(function(e){this._procEntryField(e,"time","uint",1===this.version?64:32),this._procEntryField(e,"moof_offset","uint",1===this.version?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))}))},i.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},i.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&(0,U.default)(this)&&this._procField("data_offset","int",32),4&(0,U.default)(this)&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,(function(e){256&(0,U.default)(this)&&this._procEntryField(e,"sample_duration","uint",32),512&(0,U.default)(this)&&this._procEntryField(e,"sample_size","uint",32),1024&(0,U.default)(this)&&this._procEntryField(e,"sample_flags","uint",32),2048&(0,U.default)(this)&&this._procEntryField(e,"sample_composition_time_offset",1===this.version?"int":"uint",32)}))},i.prototype._boxProcessors["url "]=i.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},i.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},i.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},i.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},i.prototype._boxProcessors.vtte=function(){}},{}],10:[function(e,t,n){(function(e){function t(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return V.default?(0,V.default)(e):"[object Array]"===t(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==(0,j.default)(e)},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===t(e)},n.isObject=function(e){return"object"==(0,j.default)(e)&&null!==e},n.isDate=function(e){return"[object Date]"===t(e)},n.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==(0,j.default)(e)||void 0===e},n.isBuffer=e.isBuffer}).call(this,{isBuffer:e(22)})},{22:22}],11:[function(e,t,n){var r=F.default||function(e){function t(){}return t.prototype=e,new t},a=P.default||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},i=(0,x.default)(Function.prototype)||function(e){var t=this;return function(){return t.apply(e,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=o).EventEmitter=o).prototype._events=void 0,o.prototype._maxListeners=void 0;var s,u=10;try{var l={};X.default&&(0,X.default)(l,"x",{value:0}),s=0===l.x}catch(e){s=!1}function f(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function d(e,t,n,a){var i,o,s,u;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return(i=e._events)?(i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]):(i=e._events=r(null),e._eventsCount=0),o?("function"==typeof o?o=i[t]=a?[n,o]:[o,n]:a?o.unshift(n):o.push(n),o.warned||(u=f(e))&&0<u&&o.length>u&&(o.warned=!0,(s=new Error("Possible EventEmitter memory leak detected. "+o.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.')).name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,"object"==("undefined"==typeof console?"undefined":(0,j.default)(console))&&console.warn&&console.warn("%s: %s",s.name,s.message))):(o=i[t]=n,++e._eventsCount),e}function c(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=i.call(c,r);return a.listener=n,r.wrapFn=a}function p(e,t,n){var r=e._events;if(!r)return[];var a=r[t];return a?"function"==typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):m(a,a.length):[]}function g(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}s?(0,X.default)(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');u=e}}):o.defaultMaxListeners=u,o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(e,t,n,r){var a,i,o,s,u="error"===e,l=this._events;if(l)u=u&&null==l.error;else if(!u)return!1;if(u){if(1<arguments.length&&(a=t),a instanceof Error)throw a;var f=new Error('Unhandled "error" event. ('+a+")");throw f.context=a,f}if(!(i=l[e]))return!1;var d,c="function"==typeof i;switch(d=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,a=m(e,r),i=0;i<r;++i)a[i].call(n)}(i,c,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var a=e.length,i=m(e,a),o=0;o<a;++o)i[o].call(n,r)}(i,c,this,t);break;case 3:!function(e,t,n,r,a){if(t)e.call(n,r,a);else for(var i=e.length,o=m(e,i),s=0;s<i;++s)o[s].call(n,r,a)}(i,c,this,t,n);break;case 4:!function(e,t,n,r,a,i){if(t)e.call(n,r,a,i);else for(var o=e.length,s=m(e,o),u=0;u<o;++u)s[u].call(n,r,a,i)}(i,c,this,t,n,r);break;default:for(o=new Array(d-1),s=1;s<d;s++)o[s-1]=arguments[s];!function(e,t,n,r){if(t)e.apply(n,r);else for(var a=e.length,i=m(e,a),o=0;o<a;++o)i[o].apply(n,r)}(i,c,this,o)}return!0},o.prototype.on=o.prototype.addListener=function(e,t){return d(this,e,t,!1)},o.prototype.prependListener=function(e,t){return d(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,a,i,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(a=this._events))return this;if(!(n=a[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=r(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;0<=o;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i),1===n.length&&(a[e]=n[0]),a.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.removeAllListeners=function(e){var t,n=this._events;if(!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=r(null):delete n[e]),this;if(0===arguments.length){for(var i,o=a(n),s=0;s<o.length;++s)"removeListener"!==(i=o[s])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(s=t.length-1;0<=s;s--)this.removeListener(e,t[s]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},o.prototype.listenerCount=g,o.prototype.eventNames=function(){return 0<this._eventsCount?(0,L.default)(this._events):[]}},{}],12:[function(e,t,n){var r=V.default,a=P.default,i=Object.prototype.hasOwnProperty;t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==(0,j.default)(t)&&"object"==(0,j.default)(n)){var o,s,u=r(t),l=r(n);if(u&&l){if((p=t.length)!=n.length)return!1;for(o=p;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(u!=l)return!1;var f=t instanceof Date,d=n instanceof Date;if(f!=d)return!1;if(f&&d)return t.getTime()==n.getTime();var c=t instanceof RegExp,h=n instanceof RegExp;if(c!=h)return!1;if(c&&h)return t.toString()==n.toString();var p,g=a(t);if((p=g.length)!==a(n).length)return!1;for(o=p;0!=o--;)if(!i.call(n,g[o]))return!1;for(o=p;0!=o--;)if(!e(t[s=g[o]],n[s]))return!1;return!0}return t!=t&&n!=n}},{}],13:[function(e,t,n){n.read=function(e,t,n,r,a){var i,o,s=8*a-r-1,u=(1<<s)-1,l=u>>1,f=-7,d=n?a-1:0,c=n?-1:1,h=e[t+d];for(d+=c,i=h&(1<<-f)-1,h>>=-f,f+=s;0<f;i=256*i+e[t+d],d+=c,f-=8);for(o=i&(1<<-f)-1,i>>=-f,f+=r;0<f;o=256*o+e[t+d],d+=c,f-=8);if(0===i)i=1-l;else{if(i===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),i-=l}return(h?-1:1)*o*Math.pow(2,i-r)},n.write=function(e,t,n,r,a,i){var o,s,u,l=8*i-a-1,f=(1<<l)-1,d=f>>1,c=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),2<=(t+=1<=o+d?c/u:c*Math.pow(2,1-d))*u&&(o++,u/=2),f<=o+d?(s=0,o=f):1<=o+d?(s=(t*u-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));8<=a;e[n+h]=255&s,h+=p,s/=256,a-=8);for(o=o<<a|s,l+=a;0<l;e[n+h]=255&o,h+=p,o/=256,l-=8);e[n+h-p]|=128*g}},{}],14:[function(e,t,n){function r(e,t,n,a){var i=a&&"seq"===a.timeContainer,o=0;a&&(o=i&&n?n.end:a.begin),t.begin=t.explicit_begin?t.explicit_begin+o:o;var s=t.begin,u=null;for(var l in t.sets)r(e,t.sets[l],u,t),s="seq"===t.timeContainer?t.sets[l].end:Math.max(s,t.sets[l].end),u=t.sets[l];if("contents"in t)for(var f in t.contents)r(e,t.contents[f],u,t),s="seq"===t.timeContainer?t.contents[f].end:Math.max(s,t.contents[f].end),u=t.contents[f];else s=i?t.begin:Number.POSITIVE_INFINITY;null!==t.explicit_end&&null!==t.explicit_dur?t.end=Math.min(t.begin+t.explicit_dur,o+t.explicit_end):null===t.explicit_end&&null!==t.explicit_dur?t.end=t.begin+t.explicit_dur:null!==t.explicit_end&&null===t.explicit_dur?t.end=o+t.explicit_end:t.end=s,delete t.explicit_begin,delete t.explicit_dur,delete t.explicit_end,e._registerEvent(t)}function a(e){this.node=e}function i(){this.events=[],this.head=null,this.body=null}function o(){this.styling=null,this.layout=null}function s(){this.styles={}}function u(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function l(){this.regions={}}function f(e){this.kind=e}function d(e){this.id=e}function c(e){this.regionID=e}function h(e){this.styleAttrs=e}function p(e){this.sets=e}function g(e){this.contents=e}function m(e,t,n){this.explicit_begin=e,this.explicit_end=t,this.explicit_dur=n}function v(){f.call(this,"body")}function _(){f.call(this,"div")}function E(){f.call(this,"p")}function y(){f.call(this,"span")}function T(){f.call(this,"span")}function S(){f.call(this,"br")}function A(){}function I(){}function R(e){return e&&"xml:id"in e.attributes&&e.attributes["xml:id"].value||null}function b(e){return e&&"style"in e.attributes?e.attributes.style.value.split(" "):[]}function w(e,t){var n={};if(null!==e)for(var r in e.attributes){var a,i=e.attributes[r].uri+" "+e.attributes[r].local,o=q.byQName[i];void 0!==o&&(null!==(a=o.parse(e.attributes[r].value))?(n[i]=a,o===q.byName.zIndex&&L(t,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):x(t,"Cannot parse styling attribute "+i+" --\x3e "+e.attributes[r].value))}return n}function M(e,t,n){for(var r in e.attributes)if(e.attributes[r].uri===t&&e.attributes[r].local===n)return e.attributes[r].value;return null}function D(e,t,n){var r,a=null;return null!==(r=/^(\d+(?:\.\d+)?)f$/.exec(n))?null!==t&&(a=(0,O.default)(r[1])/t):null!==(r=/^(\d+(?:\.\d+)?)t$/.exec(n))?null!==e&&(a=(0,O.default)(r[1])/e):null!==(r=/^(\d+(?:\.\d+)?)ms$/.exec(n))?a=(0,O.default)(r[1])/1e3:null!==(r=/^(\d+(?:\.\d+)?)s$/.exec(n))?a=(0,O.default)(r[1]):null!==(r=/^(\d+(?:\.\d+)?)h$/.exec(n))?a=3600*(0,O.default)(r[1]):null!==(r=/^(\d+(?:\.\d+)?)m$/.exec(n))?a=60*(0,O.default)(r[1]):null!==(r=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(n))?a=3600*(0,B.default)(r[1])+60*(0,B.default)(r[2])+(0,O.default)(r[3]):null!==(r=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(n))&&null!==t&&(a=3600*(0,B.default)(r[1])+60*(0,B.default)(r[2])+(0,B.default)(r[3])+(null===r[4]?0:(0,B.default)(r[4])/t)),a}function C(e,t,n,r){for(var a=t.length-1;0<=a;a--){var i=t[a];i in e.styles?N(e.styles[i].styleAttrs,n):x(r,"Non-existant style id referenced")}}function N(e,t){for(var n in e)n in t||(t[n]=e[n])}function L(e,t){if(e&&e.warn&&e.warn(t))throw t}function x(e,t){if(e&&e.error&&e.error(t))throw t}function P(e,t){throw e&&e.fatal&&e.fatal(t),t}function F(e,t){for(var n,r=0,a=e.length-1;r<=a;){var i=e[n=Math.floor((r+a)/2)];if(i<t)r=n+1;else{if(!(t<i))return{found:!0,index:n};a=n-1}}return{found:!1,index:r}}var U,k,G,q,Y;U=void 0===n?this.imscDoc={}:n,k="undefined"==typeof sax?e(40):sax,G="undefined"==typeof imscNames?e(18):imscNames,q="undefined"==typeof imscStyles?e(19):imscStyles,Y="undefined"==typeof imscUtils?e(20):imscUtils,U.fromXML=function(e,t,n){var f=k.parser(!0,{xmlns:!0}),d=[],c=[],h=[],p=0,g=null;f.onclosetag=function(e){if(d[0]instanceof s)for(var r in d[0].styles)!function e(t,n,r){for(;0<n.styleRefs.length;){var a=n.styleRefs.pop();a in t.styles?(e(t,t.styles[a],r),N(t.styles[a].styleAttrs,n.styleAttrs)):x(r,"Non-existant style id referenced")}}(d[0],d[0].styles[r],t);else if(d[0]instanceof E||d[0]instanceof y){if(1<d[0].contents.length){for(var i=[d[0].contents[0]],o=1;o<d[0].contents.length;o++)d[0].contents[o]instanceof T&&i[i.length-1]instanceof T?i[i.length-1].text+=d[0].contents[o].text:i.push(d[0].contents[o]);d[0].contents=i}d[0]instanceof y&&1===d[0].contents.length&&d[0].contents[0]instanceof T&&(d[0].text=d[0].contents[0].text,delete d[0].contents)}else d[0]instanceof a&&(d[0].node.uri===G.ns_tt&&"metadata"===d[0].node.local?p--:0<p&&n&&"onCloseTag"in n&&n.onCloseTag());h.shift(),c.shift(),d.shift()},f.ontext=function(e){var r;void 0===d[0]||(d[0]instanceof y||d[0]instanceof E?((r=new T).initFromText(g,d[0],e,h[0],t),d[0].contents.push(r)):d[0]instanceof a&&0<p&&n&&"onText"in n&&n.onText(e))},f.onopentag=function(e){var r=e.attributes["xml:space"];r?h.unshift(r.value):0===h.length?h.unshift("default"):h.unshift(h[0]);var f,m,T,R,b,w,M,D,C=e.attributes["xml:lang"];if(C?c.unshift(C.value):0===c.length?c.unshift(""):c.unshift(c[0]),e.uri===G.ns_tt?"tt"===e.local?(null!==g&&P(t,"Two <tt> elements at ("+this.line+","+this.column+")"),(g=new i).initFromNode(e,t),d.unshift(g)):"head"===e.local?(d[0]instanceof i||P(t,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),null!==g.head&&P("Second <head> element at ("+this.line+","+this.column+")"),g.head=new o,d.unshift(g.head)):"styling"===e.local?(d[0]instanceof o||P(t,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),null!==g.head.styling&&P("Second <styling> element at ("+this.line+","+this.column+")"),g.head.styling=new s,d.unshift(g.head.styling)):"style"===e.local?d[0]instanceof s?((f=new u).initFromNode(e,t),f.id?g.head.styling.styles[f.id]=f:x(t,"<style> element missing @id attribute"),d.unshift(f)):d[0]instanceof A?((f=new u).initFromNode(e,t),N(f.styleAttrs,d[0].styleAttrs),d.unshift(f)):P(t,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")"):"layout"===e.local?(d[0]instanceof o||P(t,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),null!==g.head.layout&&P(t,"Second <layout> element at "+this.line+","+this.column+")"),g.head.layout=new l,d.unshift(g.head.layout)):"region"===e.local?(d[0]instanceof l||P(t,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")"),(m=new A).initFromNode(g,e,t),!m.id||m.id in g.head.layout.regions?x(t,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):g.head.layout.regions[m.id]=m,d.unshift(m)):"body"===e.local?(d[0]instanceof i||P(t,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==g.body&&P(t,"Second <body> element at "+this.line+","+this.column+")"),(T=new v).initFromNode(g,e,t),g.body=T,d.unshift(T)):"div"===e.local?(d[0]instanceof _||d[0]instanceof v||P(t,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")"),(R=new _).initFromNode(g,d[0],e,t),d[0].contents.push(R),d.unshift(R)):"p"===e.local?(d[0]instanceof _||P(t,"Parent of <p> element is not <div> at "+this.line+","+this.column+")"),(b=new E).initFromNode(g,d[0],e,t),d[0].contents.push(b),d.unshift(b)):"span"===e.local?(d[0]instanceof y||d[0]instanceof E||P(t,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")"),(w=new y).initFromNode(g,d[0],e,h[0],t),d[0].contents.push(w),d.unshift(w)):"br"===e.local?(d[0]instanceof y||d[0]instanceof E||P(t,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")"),(M=new S).initFromNode(g,d[0],e,t),d[0].contents.push(M),d.unshift(M)):"set"===e.local?(d[0]instanceof y||d[0]instanceof E||d[0]instanceof _||d[0]instanceof v||d[0]instanceof A||d[0]instanceof S||P(t,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")"),(D=new I).initFromNode(g,d[0],e,t),d[0].sets.push(D),d.unshift(D)):d.unshift(new a(e)):d.unshift(new a(e)),d[0]instanceof a)if(e.uri===G.ns_tt&&"metadata"===e.local)p++;else if(0<p&&n&&"onOpenTag"in n){var O=[];for(var L in e.attributes)O[e.attributes[L].uri+" "+e.attributes[L].local]={uri:e.attributes[L].uri,local:e.attributes[L].local,value:e.attributes[L].value};n.onOpenTag(e.uri,e.local,O)}},f.write(e).close(),null!==g.head?delete g.head.styling:g.head=new o,null===g.head.layout&&(g.head.layout=new l);var m,R=!1;for(var b in g.head.layout.regions){R=!0;break}for(var w in R||(m=A.prototype.createDefaultRegion(),g.head.layout.regions[m.id]=m),g.head.layout.regions)r(g,g.head.layout.regions[w],null,null);return g.body&&r(g,g.body,null,null),g},i.prototype.initFromNode=function(e,t){this.cellResolution=function(e,t){var n,r=M(e,G.ns_ttp,"cellResolution"),a=15,i=32;return null!==r&&(null!==(n=/(\d+) (\d+)/.exec(r))?(i=(0,B.default)(n[1]),a=(0,B.default)(n[2])):L(t,"Malformed cellResolution value (using initial value instead)")),{w:i,h:a}}(e,t);var n=function(e,t){var n,r=M(e,G.ns_ttp,"frameRate"),a=30;null!==r&&(null!==(n=/(\d+)/.exec(r))?a=(0,B.default)(n[1]):L(t,"Malformed frame rate attribute (using initial value instead)"));var i=M(e,G.ns_ttp,"frameRateMultiplier"),o=1;null!==i&&(null!==(n=/(\d+) (\d+)/.exec(i))?o=(0,B.default)(n[1])/(0,B.default)(n[2]):L(t,"Malformed frame rate multiplier attribute (using initial value instead)"));var s=o*a,u=1,l=M(e,G.ns_ttp,"tickRate");return null===l?null!==r&&(u=s):null!==(n=/(\d+)/.exec(l))?u=(0,B.default)(n[1]):L(t,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:s,tickRate:u}}(e,t);this.effectiveFrameRate=n.effectiveFrameRate,this.tickRate=n.tickRate,this.aspectRatio=function(e,t){var n,r,a,i=M(e,G.ns_ittp,"aspectRatio"),o=null;return null!==i&&(null!==(n=/(\d+) (\d+)/.exec(i))?(r=(0,B.default)(n[1]),a=(0,B.default)(n[2]),0!==r&&0!==a?o=r/a:x(t,"Illegal aspectRatio values (ignoring)")):x(t,"Malformed aspectRatio attribute (ignoring)")),o}(e,t);var r=M(e,G.ns_ttp,"timeBase");null!==r&&"media"!==r&&P(t,"Unsupported time base");var a=function(e,t){var n=M(e,G.ns_tts,"extent");if(null===n)return null;var r=n.split(" ");if(2!==r.length)return L(t,"Malformed extent (ignoring)"),null;var a=Y.parseLength(r[0]),i=Y.parseLength(r[1]);return i&&a?{h:i,w:a}:(L(t,"Malformed extent values (ignoring)"),null)}(e,t);null===a?this.pxDimensions={h:480,w:640}:("px"===a.h.unit&&"px"===a.w.unit||P(t,"Extent on TT must be in px or absent"),this.pxDimensions={h:a.h.value,w:a.w.value})},i.prototype._registerEvent=function(e){var t,n,r,a;e.end<=e.begin||((r=F(this.events,e.begin)).found||(0,Z.default)(t=this.events).call(t,r.index,0,e.begin),e.end!==Number.POSITIVE_INFINITY&&((a=F(this.events,e.end)).found||(0,Z.default)(n=this.events).call(n,a.index,0,e.end)))},i.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},i.prototype.getMediaTimeEvents=function(){return this.events},u.prototype.initFromNode=function(e,t){this.id=R(e),this.styleAttrs=w(e,t),this.styleRefs=b(e)},d.prototype.initFromNode=function(e,t,n,r){this.id=R(n)},c.prototype.initFromNode=function(e,t,n,r){var a;this.regionID=(a=n)&&"region"in a.attributes?a.attributes.region.value:""},h.prototype.initFromNode=function(e,t,n,r){this.styleAttrs=w(n,r),null!==e.head&&null!==e.head.styling&&C(e.head.styling,b(n),this.styleAttrs,r)},p.prototype.initFromNode=function(e,t,n,r){this.sets=[]},g.prototype.initFromNode=function(e,t,n,r){this.contents=[]},m.prototype.initFromNode=function(e,t,n,r){var a,i,o,s=function(e,t,n){var r=null;t&&"begin"in t.attributes&&null===(r=D(e.tickRate,e.effectiveFrameRate,t.attributes.begin.value))&&L(n,"Malformed begin value "+t.attributes.begin.value+" (using 0)");var a=null;t&&"dur"in t.attributes&&null===(a=D(e.tickRate,e.effectiveFrameRate,t.attributes.dur.value))&&L(n,"Malformed dur value "+t.attributes.dur.value+" (ignoring)");var i=null;return t&&"end"in t.attributes&&null===(i=D(e.tickRate,e.effectiveFrameRate,t.attributes.end.value))&&L(n,"Malformed end value (ignoring)"),{explicit_begin:r,explicit_end:i,explicit_dur:a}}(e,n,r);this.explicit_begin=s.explicit_begin,this.explicit_end=s.explicit_end,this.explicit_dur=s.explicit_dur,this.timeContainer=(i=r,(o=(a=n)&&"timeContainer"in a.attributes?a.attributes.timeContainer.value:null)&&"par"!==o?"seq"===o?"seq":(x(i,"Illegal value of timeContainer (assuming 'par')"),"par"):"par")},v.prototype.initFromNode=function(e,t,n){h.prototype.initFromNode.call(this,e,null,t,n),m.prototype.initFromNode.call(this,e,null,t,n),p.prototype.initFromNode.call(this,e,null,t,n),c.prototype.initFromNode.call(this,e,null,t,n),g.prototype.initFromNode.call(this,e,null,t,n)},_.prototype.initFromNode=function(e,t,n,r){h.prototype.initFromNode.call(this,e,t,n,r),m.prototype.initFromNode.call(this,e,t,n,r),p.prototype.initFromNode.call(this,e,t,n,r),c.prototype.initFromNode.call(this,e,t,n,r),g.prototype.initFromNode.call(this,e,t,n,r)},E.prototype.initFromNode=function(e,t,n,r){h.prototype.initFromNode.call(this,e,t,n,r),m.prototype.initFromNode.call(this,e,t,n,r),p.prototype.initFromNode.call(this,e,t,n,r),c.prototype.initFromNode.call(this,e,t,n,r),g.prototype.initFromNode.call(this,e,t,n,r)},y.prototype.initFromNode=function(e,t,n,r,a){h.prototype.initFromNode.call(this,e,t,n,a),m.prototype.initFromNode.call(this,e,t,n,a),p.prototype.initFromNode.call(this,e,t,n,a),c.prototype.initFromNode.call(this,e,t,n,a),g.prototype.initFromNode.call(this,e,t,n,a),this.space=r},T.prototype.initFromText=function(e,t,n,r,a){m.prototype.initFromNode.call(this,e,t,null,a),this.text=n,this.space=r},S.prototype.initFromNode=function(e,t,n,r){c.prototype.initFromNode.call(this,e,t,n,r),m.prototype.initFromNode.call(this,e,t,n,r)},A.prototype.createDefaultRegion=function(){var e=new A;return d.call(e,""),h.call(e,{}),p.call(e,[]),m.call(e,0,Number.POSITIVE_INFINITY,null),e},A.prototype.initFromNode=function(e,t,n){d.prototype.initFromNode.call(this,e,null,t,n),h.prototype.initFromNode.call(this,e,null,t,n),m.prototype.initFromNode.call(this,e,null,t,n),p.prototype.initFromNode.call(this,e,null,t,n),null!==e.head&&null!==e.head.styling&&C(e.head.styling,b(t),this.styleAttrs,n)},I.prototype.initFromNode=function(e,t,n,r){m.prototype.initFromNode.call(this,e,t,n,r);var a=w(n,r);for(var i in this.qname=null,this.value=null,a){if(this.qname){x(r,"More than one style specified on set");break}this.qname=i,this.value=a[i]}}},{18:18,19:19,20:20,40:40}],15:[function(e,t,n){!function(e,t){function n(e,t,n){for(var r in e){var a=e[r].elements.length,i=e[r].elements[e[r].start_elem],o=e[r].elements[e[r].end_elem],s=Math.ceil(t)+"px",u="-"+Math.ceil(t)+"px";0!==a&&("lr"===n.ipd?(i.node.style.borderLeftColor=i.bgcolor||"#00000000",i.node.style.borderLeftStyle="solid",i.node.style.borderLeftWidth=s,i.node.style.marginLeft=u):"rl"===n.ipd?(i.node.style.borderRightColor=i.bgcolor||"#00000000",i.node.style.borderRightStyle="solid",i.node.style.borderRightWidth=s,i.node.style.marginRight=u):"tb"===n.ipd&&(i.node.style.borderTopColor=i.bgcolor||"#00000000",i.node.style.borderTopStyle="solid",i.node.style.borderTopWidth=s,i.node.style.marginTop=u),"lr"===n.ipd?(o.node.style.borderRightColor=o.bgcolor||"#00000000",o.node.style.borderRightStyle="solid",o.node.style.borderRightWidth=s,o.node.style.marginRight=u):"rl"===n.ipd?(o.node.style.borderLeftColor=o.bgcolor||"#00000000",o.node.style.borderLeftStyle="solid",o.node.style.borderLeftWidth=s,o.node.style.marginLeft=u):"tb"===n.ipd&&(o.node.style.borderBottomColor=o.bgcolor||"#00000000",o.node.style.borderBottomStyle="solid",o.node.style.borderBottomWidth=s,o.node.style.marginBottom=u))}}function r(e){for(var t=0;t<e.length-1;t++){var n,r,a=e[t].elements.length;0!==a&&!1===e[t].br&&(n=document.createElement("br"),(r=e[t].elements[a-1].node).parentElement.insertBefore(n,r.nextSibling))}}function a(e,t,n,r){for(var a=(0,N.default)(n-t),i=0;i<=e.length;i++){var o,s,u=0===i?t:i===e.length?n:(e[i].before+e[i-1].after)/2;if(0<i)for(var l=0;l<e[i-1].elements.length;l++)null!==e[i-1].elements[l].bgcolor&&a*((s=e[i-1].elements[l]).after-u)<0&&(o=Math.ceil(Math.abs(u-s.after))+"px",s.node.style.backgroundColor=s.bgcolor,"lr"===r.bpd?s.node.style.paddingRight=o:"rl"===r.bpd?s.node.style.paddingLeft=o:"tb"===r.bpd&&(s.node.style.paddingBottom=o));if(i<e.length)for(var f=0;f<e[i].elements.length;f++)null!==(s=e[i].elements[f]).bgcolor&&0<a*(s.before-u)&&(o=Math.ceil(Math.abs(s.before-u))+"px",s.node.style.backgroundColor=s.bgcolor,"lr"===r.bpd?s.node.style.paddingLeft=o:"rl"===r.bpd?s.node.style.paddingRight=o:"tb"===r.bpd&&(s.node.style.paddingTop=o))}}function i(e,t){this.id=e,this.plist=t}function o(e,t){var n={before:null,after:null,start:null,end:null};return"tb"===t.bpd?(n.before=e.top,n.after=e.bottom,"lr"===t.ipd?(n.start=e.left,n.end=e.right):(n.start=e.right,n.end=e.left)):"lr"===t.bpd?(n.before=e.left,n.after=e.right,n.start=e.top,n.end=e.bottom):"rl"===t.bpd&&(n.before=e.right,n.after=e.left,n.start=e.top,n.end=e.bottom),n}function s(e,t,n,r){var a,i,u,l,f=t.style.backgroundColor||r;if(0===t.childElementCount)if("span"===t.localName){var d=t.getBoundingClientRect();if(0===d.height||0===d.width)return;var c,h,p=o(d,e);0!==n.length&&(a=p.before,i=p.after,u=n[n.length-1].before,i<(l=n[n.length-1].after)&&u<a||l<=i&&a<=u)?(c=(0,N.default)(p.after-p.before),h=(0,N.default)(p.end-p.start),c*(p.before-n[n.length-1].before)<0&&(n[n.length-1].before=p.before),0<c*(p.after-n[n.length-1].after)&&(n[n.length-1].after=p.after),h*(p.start-n[n.length-1].start)<0&&(n[n.length-1].start=p.start,n[n.length-1].start_elem=n[n.length-1].elements.length),0<h*(p.end-n[n.length-1].end)&&(n[n.length-1].end=p.end,n[n.length-1].end_elem=n[n.length-1].elements.length)):n.push({before:p.before,after:p.after,start:p.start,end:p.end,start_elem:0,end_elem:0,elements:[],text:"",br:!1}),n[n.length-1].text+=t.textContent,n[n.length-1].elements.push({node:t,bgcolor:f,before:p.before,after:p.after})}else"br"===t.localName&&0!==n.length&&(n[n.length-1].br=!0);else for(var g=t.firstChild;g;)g.nodeType===Node.ELEMENT_NODE&&s(e,g,n,f),g=g.nextSibling}function u(e,t){this.qname=e,this.map=t}e.render=function(e,u,f,d,h,p,g,m,v){var _,E=d||u.clientHeight,y=h||u.clientWidth;null!==e.aspectRatio&&(y<(_=E*e.aspectRatio)?E=Math.round(y/e.aspectRatio):y=_);var T=document.createElement("div");T.style.position="relative",T.style.width=y+"px",T.style.height=E+"px",T.style.margin="auto",T.style.top=0,T.style.bottom=0,T.style.left=0,T.style.right=0,T.style.zIndex=0;var S={h:E,w:y,regionH:null,regionW:null,imgResolver:f,displayForcedOnlyMode:p||!1,isd:e,errorHandler:g,previousISDState:m,enableRollUp:v||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null};for(var A in u.appendChild(T),e.contents)!function e(u,f,d){var h;if("region"===d.kind?(h=document.createElement("div")).style.position="absolute":"body"===d.kind||"div"===d.kind?h=document.createElement("div"):"p"===d.kind?h=document.createElement("p"):"span"===d.kind?h=document.createElement("span"):"br"===d.kind&&(h=document.createElement("br")),h){for(var p in h.style.margin="0",l){var g=l[p],m=d.styleAttrs[g.qname];void 0!==m&&null!==(0,C.default)(g)&&(0,C.default)(g).call(g,u,h,d,m)}var v,_=h;"region"===d.kind&&("lrtb"===(v=d.styleAttrs[t.byName.writingMode.qname])||"lr"===v?(u.ipd="lr",u.bpd="tb"):"rltb"===v||"rl"===v?(u.ipd="rl",u.bpd="tb"):"tblr"===v?(u.ipd="tb",u.bpd="lr"):"tbrl"!==v&&"tb"!==v||(u.ipd="tb",u.bpd="rl"));var E,y=d.styleAttrs[t.byName.linePadding.qname];y&&0<y&&(E=Math.ceil(y*u.h)+"px","tb"===u.bpd?(_.style.paddingLeft=E,_.style.paddingRight=E):(_.style.paddingTop=E,_.style.paddingBottom=E),u.lp=y);var T,S=d.styleAttrs[t.byName.multiRowAlign.qname];if(S&&"auto"!==S&&((T=document.createElement("span")).style.display="inline-block",T.style.textAlign=S,h.appendChild(T),_=T,u.mra=S),d.styleAttrs[t.byName.fillLineGap.qname]&&(u.flg=!0),"span"===d.kind&&d.text)if(u.lp||u.mra||u.flg)for(var A="",I=0;I<d.text.length;I++){A+=d.text.charAt(I);var R,b=d.text.charCodeAt(I);(b<55296||56319<b||I===d.text.length)&&((R=document.createElement("span")).textContent=A,h.appendChild(R),A="")}else h.textContent=d.text;for(var w in f.appendChild(h),d.contents)e(u,_,d.contents[w]);var M,D,N,O,L=[];(u.lp||u.mra||u.flg)&&"p"===d.kind&&(s(u,_,L,null),u.mra&&(r(L),u.mra=null),u.lp&&(n(L,u.lp*u.h,u),u.lp=null),u.flg&&(a(L,(M=o(_.getBoundingClientRect(),u)).before,M.after,u),u.flg=null)),"region"===d.kind&&(s(u,_,L),"tb"===u.bpd&&u.enableRollUp&&0<d.contents.length&&"after"===d.styleAttrs[t.byName.displayAlign.qname]&&(D=new i(""===d.id?"_":d.id,L),u.currentISDState[D.id]=D,u.previousISDState&&D.id in u.previousISDState&&0<u.previousISDState[D.id].plist.length&&1<D.plist.length&&D.plist[D.plist.length-2].text===u.previousISDState[D.id].plist[u.previousISDState[D.id].plist.length-1].text&&(N=h.firstElementChild,O=D.plist[D.plist.length-1].after-D.plist[D.plist.length-1].before,N.style.bottom="-"+O+"px",N.style.transition="transform 0.4s",N.style.position="relative",N.style.transform="translateY(-"+O+"px)")))}else c(u.errorHandler,"Error processing ISD element kind: "+d.kind)}(S,T,e.contents[A]);return S.currentISDState};var l=[new u("http://www.w3.org/ns/ttml#styling backgroundColor",(function(e,t,n,r){0!==r[3]&&(t.style.backgroundColor="rgba("+r[0].toString()+","+r[1].toString()+","+r[2].toString()+","+(r[3]/255).toString()+")")})),new u("http://www.w3.org/ns/ttml#styling color",(function(e,t,n,r){t.style.color="rgba("+r[0].toString()+","+r[1].toString()+","+r[2].toString()+","+(r[3]/255).toString()+")"})),new u("http://www.w3.org/ns/ttml#styling direction",(function(e,t,n,r){t.style.direction=r})),new u("http://www.w3.org/ns/ttml#styling display",(function(e,t,n,r){})),new u("http://www.w3.org/ns/ttml#styling displayAlign",(function(e,t,n,r){t.style.display="flex",t.style.flexDirection="column","before"===r?t.style.justifyContent="flex-start":"center"===r?t.style.justifyContent="center":"after"===r&&(t.style.justifyContent="flex-end")})),new u("http://www.w3.org/ns/ttml#styling extent",(function(e,t,n,r){e.regionH=r.h*e.h,e.regionW=r.w*e.w;var a=0,i=0,o=n.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];o&&(a=(o[0]+o[2])*e.h,i=(o[1]+o[3])*e.w),t.style.height=e.regionH-a+"px",t.style.width=e.regionW-i+"px"})),new u("http://www.w3.org/ns/ttml#styling fontFamily",(function(e,t,n,r){var a=[];for(var i in r)"monospaceSerif"===r[i]?(a.push("Courier New"),a.push('"Liberation Mono"'),a.push("Courier"),a.push("monospace")):"proportionalSansSerif"===r[i]?(a.push("Arial"),a.push("Helvetica"),a.push('"Liberation Sans"'),a.push("sans-serif")):"monospace"===r[i]?a.push("monospace"):"sansSerif"===r[i]?a.push("sans-serif"):"serif"===r[i]?a.push("serif"):"monospaceSansSerif"===r[i]?(a.push("Consolas"),a.push("monospace")):"proportionalSerif"===r[i]?a.push("serif"):a.push(r[i]);t.style.fontFamily=a.join(",")})),new u("http://www.w3.org/ns/ttml#styling fontSize",(function(e,t,n,r){t.style.fontSize=r*e.h+"px"})),new u("http://www.w3.org/ns/ttml#styling fontStyle",(function(e,t,n,r){t.style.fontStyle=r})),new u("http://www.w3.org/ns/ttml#styling fontWeight",(function(e,t,n,r){t.style.fontWeight=r})),new u("http://www.w3.org/ns/ttml#styling lineHeight",(function(e,t,n,r){t.style.lineHeight="normal"===r?"normal":r*e.h+"px"})),new u("http://www.w3.org/ns/ttml#styling opacity",(function(e,t,n,r){t.style.opacity=r})),new u("http://www.w3.org/ns/ttml#styling origin",(function(e,t,n,r){t.style.top=r.h*e.h+"px",t.style.left=r.w*e.w+"px"})),new u("http://www.w3.org/ns/ttml#styling overflow",(function(e,t,n,r){t.style.overflow=r})),new u("http://www.w3.org/ns/ttml#styling padding",(function(e,t,n,r){var a=[];a[0]=r[0]*e.h+"px",a[1]=r[3]*e.w+"px",a[2]=r[2]*e.h+"px",a[3]=r[1]*e.w+"px",t.style.padding=a.join(" ")})),new u("http://www.w3.org/ns/ttml#styling showBackground",null),new u("http://www.w3.org/ns/ttml#styling textAlign",(function(e,n,r,a){var i=r.styleAttrs[t.byName.direction.qname],o="start"===a?"rtl"===i?"right":"left":"end"===a?"rtl"===i?"left":"right":a;n.style.textAlign=o})),new u("http://www.w3.org/ns/ttml#styling textDecoration",(function(e,t,n,r){t.style.textDecoration=r.join(" ").replace("lineThrough","line-through")})),new u("http://www.w3.org/ns/ttml#styling textOutline",(function(e,t,n,r){t.style.textShadow="none"===r?"":"rgba("+r.color[0].toString()+","+r.color[1].toString()+","+r.color[2].toString()+","+(r.color[3]/255).toString()+") 0px 0px "+r.thickness*e.h+"px"})),new u("http://www.w3.org/ns/ttml#styling unicodeBidi",(function(e,t,n,r){var a="bidiOverride"===r?"bidi-override":r;t.style.unicodeBidi=a})),new u("http://www.w3.org/ns/ttml#styling visibility",(function(e,t,n,r){t.style.visibility=r})),new u("http://www.w3.org/ns/ttml#styling wrapOption",(function(e,t,n,r){"wrap"===r?"preserve"===n.space?t.style.whiteSpace="pre-wrap":t.style.whiteSpace="normal":"preserve"===n.space?t.style.whiteSpace="pre":t.style.whiteSpace="noWrap"})),new u("http://www.w3.org/ns/ttml#styling writingMode",(function(e,t,n,r){"lrtb"===r||"lr"===r||"rltb"===r||"rl"===r?t.style.writingMode="horizontal-tb":"tblr"===r?t.style.writingMode="vertical-lr":"tbrl"!==r&&"tb"!==r||(t.style.writingMode="vertical-rl")})),new u("http://www.w3.org/ns/ttml#styling zIndex",(function(e,t,n,r){t.style.zIndex=r})),new u("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",(function(e,t,n,r){var a,i;null!==e.imgResolver&&null!==r&&(a=document.createElement("img"),(i=e.imgResolver(r,a))&&(a.src=i),a.height=e.regionH,a.width=e.regionW,t.appendChild(a))})),new u("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",(function(e,t,n,r){e.displayForcedOnlyMode&&!1===r&&(t.style.visibility="hidden")}))],f={};for(var d in l)f[l[d].qname]=l[d];function c(e,t){if(e&&e.error&&e.error(t))throw t}}(void 0===n?this.imscHTML={}:n,("undefined"==typeof imscNames&&e(18),"undefined"==typeof imscStyles?e(19):imscStyles))},{18:18,19:19}],16:[function(e,t,n){function r(e,t){if("contents"in e)for(var n in e.contents)r(e.contents[n],t);else t.push(e)}function a(e){if("br"!==e.kind){if("text"in e)return 0===e.text.length;if("contents"in e){for(var t=e.contents.length;t--;){var n;a(e.contents[t])&&(0,Z.default)(n=e.contents).call(n,t,1)}return 0===e.contents.length}}}function i(e){this.contents=[],this.aspectRatio=e.aspectRatio}function o(e){for(var t in this.kind=e.kind||"region",e.id&&(this.id=e.id),this.styleAttrs={},e.styleAttrs)this.styleAttrs[t]=e.styleAttrs[t];"text"in e?this.text=e.text:"br"!==e.kind&&(this.contents=[]),"space"in e&&(this.space=e.space)}function s(e,t){if(e&&e.error&&e.error(t))throw t}var u,l;u=void 0===n?this.imscISD={}:n,"undefined"==typeof imscNames&&e(18),l="undefined"==typeof imscStyles?e(19):imscStyles,u.generateISD=function(e,t,n){var u=new i(e),f={};for(var d in e.head.layout.regions){var c=function e(t,n,i,u,f,d,c,h,p){if(n<c.begin||n>=c.end)return null;var g="regionID"in c&&""!==c.regionID?c.regionID:d;if(null!==f&&g!==i.id&&(!("contents"in c)||"contents"in c&&0===c.contents.length||""!==g))return null;var m=new o(c);for(var v in c.sets)n<c.sets[v].begin||n>=c.sets[v].end||(m.styleAttrs[c.sets[v].qname]=c.sets[v].value);var _,E,y={};for(var T in m.styleAttrs){var S;y[T]=!0,T!==l.byName.writingMode.qname||l.byName.direction.qname in m.styleAttrs||("lrtb"===(S=m.styleAttrs[T])||"lr"===S?m.styleAttrs[l.byName.direction.qname]="ltr":"rltb"!==S&&"rl"!==S||(m.styleAttrs[l.byName.direction.qname]="rtl"))}if(null!==f)for(var A in l.all){var I,R,b,w=l.all[A];w.qname===l.byName.textDecoration.qname?(I=f.styleAttrs[w.qname],b=[],void 0===(R=m.styleAttrs[w.qname])?b=I:-1===(0,W.default)(R).call(R,"none")?((-1===(0,W.default)(R).call(R,"noUnderline")&&-1!==(0,W.default)(I).call(I,"underline")||-1!==(0,W.default)(R).call(R,"underline"))&&b.push("underline"),(-1===(0,W.default)(R).call(R,"noLineThrough")&&-1!==(0,W.default)(I).call(I,"lineThrough")||-1!==(0,W.default)(R).call(R,"lineThrough"))&&b.push("lineThrough"),(-1===(0,W.default)(R).call(R,"noOverline")&&-1!==(0,W.default)(I).call(I,"overline")||-1!==(0,W.default)(R).call(R,"overline"))&&b.push("overline")):b.push("none"),m.styleAttrs[w.qname]=b):w.inherit&&w.qname in f.styleAttrs&&!(w.qname in m.styleAttrs)&&(m.styleAttrs[w.qname]=f.styleAttrs[w.qname])}for(var M in l.all){var D=l.all[M];D.qname in m.styleAttrs||("region"===m.kind||!1===D.inherit&&null!==D.initial)&&(m.styleAttrs[D.qname]=D.parse(D.initial),y[D.qname]=!0)}for(var C in l.all){var N,O=l.all[C];O.qname in y&&null!==O.compute&&(null!==(N=O.compute(t,f,m,m.styleAttrs[O.qname],p))?m.styleAttrs[O.qname]=N:s(h,"Style '"+O.qname+"' on element '"+m.kind+"' cannot be computed"))}if("none"===m.styleAttrs[l.byName.display.qname])return null;for(var L in null===f?_=null===u?[]:[u]:"contents"in c&&(_=c.contents),_){var x=e(t,n,i,u,m,g,_[L],h,p);null!==x&&m.contents.push(x.element)}for(var P in m.styleAttrs){var F,U=l.byQName[P];-1===(0,W.default)(F=U.applies).call(F,m.kind)&&delete m.styleAttrs[P]}if("span"===m.kind&&m.text&&"default"===m.space&&(E=m.text.replace(/\s+/g," "),m.text=E),"p"===m.kind){var k=[];r(m,k);for(var B=0,G="after_br",q=0;;)if("after_br"===G)B>=k.length||"br"===k[B].kind?(G="before_br",q=B,B--):("preserve"!==k[B].space&&(k[B].text=k[B].text.replace(/^\s+/g,"")),0<k[B].text.length?(G="looking_br",B++):(0,Z.default)(k).call(k,B,1));else if("before_br"===G)if(B<0||"br"===k[B].kind){if(G="after_br",(B=q+1)>=k.length)break}else if("preserve"!==k[B].space&&(k[B].text=k[B].text.replace(/\s+$/g,"")),0<k[B].text.length){if(G="after_br",(B=q+1)>=k.length)break}else(0,Z.default)(k).call(k,B,1),B--;else B>=k.length||"br"===k[B].kind?(G="before_br",q=B,B--):B++;a(m)}return"div"===m.kind&&l.byName.backgroundImage.qname in m.styleAttrs||"br"===m.kind||"contents"in m&&0<m.contents.length||"span"===m.kind&&null!==m.text||"region"===m.kind&&"always"===m.styleAttrs[l.byName.showBackground.qname]?{region_id:g,element:m}:null}(e,t,e.head.layout.regions[d],e.body,null,"",e.head.layout.regions[d],n,f);null!==c&&u.contents.push(c.element)}return u}},{18:18,19:19}],17:[function(e,t,n){n.generateISD=e(16).generateISD,n.fromXML=e(14).fromXML,n.renderHTML=e(15).render},{14:14,15:15,16:16}],18:[function(e,t,n){var r;(r=void 0===n?this.imscNames={}:n).ns_tt="http://www.w3.org/ns/ttml",r.ns_tts="http://www.w3.org/ns/ttml#styling",r.ns_ttp="http://www.w3.org/ns/ttml#parameter",r.ns_xml="http://www.w3.org/XML/1998/namespace",r.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",r.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",r.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",r.ns_ebutts="urn:ebu:tt:style"},{}],19:[function(e,t,n){!function(e,t,n){function r(e,t,n,r,a,i,o,s){this.name=t,this.ns=e,this.qname=e+" "+t,this.inherit=a,this.animatable=i,this.initial=n,this.applies=r,this.parse=o,this.compute=s}for(var a in e.all=[new r(t.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,n.parseColor,null),new r(t.ns_tts,"color","white",["span"],!0,!0,n.parseColor,null),new r(t.ns_tts,"direction","ltr",["p","span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"displayAlign","before",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"extent","auto",["tt","region"],!1,!0,(function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var r=n.parseLength(t[0]),a=n.parseLength(t[1]);return a&&r?{h:a,w:r}:null}),(function(e,t,n,r,a){var i,o;if("auto"===r)i=1;else if("%"===r.h.unit)i=r.h.value/100;else{if("px"!==r.h.unit)return null;i=r.h.value/e.pxDimensions.h}if("auto"===r)o=1;else if("%"===r.w.unit)o=r.w.value/100;else{if("px"!==r.w.unit)return null;o=r.w.value/e.pxDimensions.w}return{h:i,w:o}})),new r(t.ns_tts,"fontFamily","default",["span"],!0,!0,(function(e){var t=e.split(","),n=[];for(var r in t)"'"!==t[r].charAt(0)&&'"'!==t[r].charAt(0)&&"default"===t[r]?n.push("monospaceSerif"):n.push(t[r]);return n}),null),new r(t.ns_tts,"fontSize","1c",["span"],!0,!0,n.parseLength,(function(t,n,r,a,i){var o;if("%"===a.unit)o=null!==n?n.styleAttrs[e.byName.fontSize.qname]*a.value/100:a.value/100/t.cellResolution.h;else if("em"===a.unit)o=null!==n?n.styleAttrs[e.byName.fontSize.qname]*a.value:a.value/t.cellResolution.h;else if("c"===a.unit)o=a.value/t.cellResolution.h;else{if("px"!==a.unit)return null;o=a.value/t.pxDimensions.h}return o})),new r(t.ns_tts,"fontStyle","normal",["span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"fontWeight","normal",["span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"lineHeight","normal",["p"],!0,!0,(function(e){return"normal"===e?e:n.parseLength(e)}),(function(t,n,r,a,i){var o;if("normal"===a)o=a;else if("%"===a.unit)o=r.styleAttrs[e.byName.fontSize.qname]*a.value/100;else if("em"===a.unit)o=r.styleAttrs[e.byName.fontSize.qname]*a.value;else if("c"===a.unit)o=a.value/t.cellResolution.h;else{if("px"!==a.unit)return null;o=a.value/t.pxDimensions.h}return o})),new r(t.ns_tts,"opacity",1,["region"],!1,!0,O.default,null),new r(t.ns_tts,"origin","auto",["region"],!1,!0,(function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var r=n.parseLength(t[0]),a=n.parseLength(t[1]);return a&&r?{h:a,w:r}:null}),(function(e,t,n,r,a){var i,o;if("auto"===r)i=0;else if("%"===r.h.unit)i=r.h.value/100;else{if("px"!==r.h.unit)return null;i=r.h.value/e.pxDimensions.h}if("auto"===r)o=0;else if("%"===r.w.unit)o=r.w.value/100;else{if("px"!==r.w.unit)return null;o=r.w.value/e.pxDimensions.w}return{h:i,w:o}})),new r(t.ns_tts,"overflow","hidden",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"padding","0px",["region"],!1,!0,(function(e){var t=e.split(" ");if(4<t.length)return null;var r=[];for(var a in t){var i=n.parseLength(t[a]);if(!i)return null;r.push(i)}return r}),(function(t,n,r,a,i){var o;if(1===a.length)o=[a[0],a[0],a[0],a[0]];else if(2===a.length)o=[a[0],a[1],a[0],a[1]];else if(3===a.length)o=[a[0],a[1],a[2],a[1]];else{if(4!==a.length)return null;o=[a[0],a[1],a[2],a[3]]}var s=r.styleAttrs[e.byName.writingMode.qname];if("lrtb"===s||"lr"===s)o=[o[0],o[3],o[2],o[1]];else if("rltb"===s||"rl"===s)o=[o[0],o[1],o[2],o[3]];else if("tblr"===s)o=[o[3],o[0],o[1],o[2]];else{if("tbrl"!==s&&"tb"!==s)return null;o=[o[3],o[2],o[1],o[0]]}var u=[];for(var l in o)if(0===o[l].value)u[l]=0;else if("%"===o[l].unit)u[l]="0"===l||"2"===l?r.styleAttrs[e.byName.extent.qname].h*o[l].value/100:r.styleAttrs[e.byName.extent.qname].w*o[l].value/100;else if("em"===o[l].unit)u[l]=r.styleAttrs[e.byName.fontSize.qname]*o[l].value;else if("c"===o[l].unit)u[l]=o[l].value/t.cellResolution.h;else{if("px"!==o[l].unit)return null;u[l]="0"===l||"2"===l?o[l].value/t.pxDimensions.h:o[l].value/t.pxDimensions.w}return u})),new r(t.ns_tts,"showBackground","always",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"textAlign","start",["p"],!0,!0,(function(e){return e}),(function(e,t,n,r,a){return"left"===r?"start":"right"===r?"end":r})),new r(t.ns_tts,"textDecoration","none",["span"],!0,!0,(function(e){return e.split(" ")}),null),new r(t.ns_tts,"textOutline","none",["span"],!0,!0,(function(e){if("none"===e)return e;var t={},r=e.split(" ");if(0===r.length||2<r.length)return null;var a=n.parseColor(r[0]);if(null!==(t.color=a)&&r.shift(),1!==r.length)return null;var i=n.parseLength(r[0]);return i?(t.thickness=i,t):null}),(function(t,n,r,a,i){if("none"===a)return a;var o={};if(null===a.color?o.color=r.styleAttrs[e.byName.color.qname]:o.color=a.color,"%"===a.thickness.unit)o.thickness=r.styleAttrs[e.byName.fontSize.qname]*a.thickness.value/100;else if("em"===a.thickness.unit)o.thickness=r.styleAttrs[e.byName.fontSize.qname]*a.thickness.value;else if("c"===a.thickness.unit)o.thickness=a.thickness.value/t.cellResolution.h;else{if("px"!==a.thickness.unit)return null;o.thickness=a.thickness.value/t.pxDimensions.h}return o})),new r(t.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"wrapOption","wrap",["span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"writingMode","lrtb",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"zIndex","auto",["region"],!1,!0,(function(e){var t;return"auto"===e?t=e:(t=(0,B.default)(e),isNaN(t)&&(t=null)),t}),null),new r(t.ns_ebutts,"linePadding","0c",["p"],!0,!1,n.parseLength,(function(e,t,n,r,a){return"c"===r.unit?r.value/e.cellResolution.h:null})),new r(t.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,(function(e){return e}),null),new r(t.ns_smpte,"backgroundImage",null,["div"],!1,!1,(function(e){return e}),null),new r(t.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,(function(e){return"true"===e}),null),new r(t.ns_itts,"fillLineGap","false",["p"],!0,!0,(function(e){return"true"===e}),null)],e.byQName={},e.all)e.byQName[e.all[a].qname]=e.all[a];for(var i in e.byName={},e.all)e.byName[e.all[i].name]=e.all[i]}(void 0===n?this.imscStyles={}:n,"undefined"==typeof imscNames?e(18):imscNames,"undefined"==typeof imscUtils?e(20):imscUtils)},{18:18,20:20}],20:[function(e,t,n){!function(e){var t=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,n=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,r=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,a={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};e.parseColor=function(e){var i,o=null,s=a[e.toLowerCase()];return void 0!==s?o=s:null!==(i=t.exec(e))?o=[(0,B.default)(i[1],16),(0,B.default)(i[2],16),(0,B.default)(i[3],16),void 0!==i[4]?(0,B.default)(i[4],16):255]:null!==(i=n.exec(e))?o=[(0,B.default)(i[1]),(0,B.default)(i[2]),(0,B.default)(i[3]),255]:null!==(i=r.exec(e))&&(o=[(0,B.default)(i[1]),(0,B.default)(i[2]),(0,B.default)(i[3]),(0,B.default)(i[4])]),o};var i=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;e.parseLength=function(e){var t,n=null;return null!==(t=i.exec(e))&&(n={value:(0,O.default)(t[1]),unit:t[2]}),n}}(void 0===n?this.imscUtils={}:n)},{}],21:[function(e,t,n){"function"==typeof F.default?t.exports=function(e,t){e.super_=t,e.prototype=(0,F.default)(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){function n(){}e.super_=t,n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],22:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(r(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof(0,z.default)(t)&&r((0,z.default)(t).call(t,0,0))||!!e._isBuffer);var t}},{}],23:[function(e,t,n){var r={}.toString;t.exports=V.default||function(e){return"[object Array]"==r.call(e)}},{}],24:[function(e,t,n){(function(e){var n,r,a;!e.version||0===(0,W.default)(n=e.version).call(n,"v0.")||0===(0,W.default)(r=e.version).call(r,"v1.")&&0!==(0,W.default)(a=e.version).call(a,"v1.8.")?t.exports={nextTick:function(t,n,r,a){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,a)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return e.nextTick((function(){t.apply(null,i)}))}}}:t.exports=e}).call(this,e(25))},{25:25}],25:[function(e,t,n){var r,a,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===D.default)return(0,D.default)(e,0);if((r===o||!r)&&D.default)return r=D.default,(0,D.default)(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof D.default?D.default:o}catch(e){r=o}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var l,f=[],d=!1,c=-1;function h(){d&&l&&(d=!1,l.length?f=(0,M.default)(l).call(l,f):c=-1,f.length&&p())}function p(){if(!d){var e=u(h);d=!0;for(var t=f.length;t;){for(l=f,f=[];++c<t;)l&&l[c].run();c=-1,t=f.length}l=null,d=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new g(e,t)),1!==f.length||d||u(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],26:[function(e,t,n){t.exports=e(27)},{27:27}],27:[function(e,t,n){var r=e(24),a=P.default||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=d;var i=e(10);i.inherits=e(21);var o=e(29),s=e(31);i.inherits(d,o);for(var u=a(s.prototype),l=0;l<u.length;l++){var f=u[l];d.prototype[f]||(d.prototype[f]=s.prototype[f])}function d(e){if(!(this instanceof d))return new d(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}(0,X.default)(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),(0,X.default)(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},{10:10,21:21,24:24,29:29,31:31}],28:[function(e,t,n){t.exports=i;var r=e(30),a=e(10);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}a.inherits=e(21),a.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},{10:10,21:21,30:30}],29:[function(t,n,r){(function(e,r){var a=t(24);n.exports=E;var i,o=t(23);function s(e,t){return e.listeners(t).length}E.ReadableState=_,t(11).EventEmitter;var u=t(34),l=t(39).Buffer,f=r.Uint8Array||function(){},d=t(10);d.inherits=t(21);var c,h=t(7),p=void 0,g=(p=h&&h.debuglog?h.debuglog("stream"):function(){},t(32)),m=t(33);d.inherits(E,u);var v=["error","close","destroy","pause","resume"];function _(e,n){e=e||{};var r=n instanceof(i=i||t(27));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var a=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c=c||t(42).StringDecoder,this.decoder=new c(e.encoding),this.encoding=e.encoding)}function E(e){if(i=i||t(27),!(this instanceof E))return new E(e);this._readableState=new _(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function y(e,t,n,r,a){var i,o,s,u=e._readableState;return null===t?(u.reading=!1,function(e,t){var n;t.ended||(!t.decoder||(n=t.decoder.end())&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length),t.ended=!0,I(e))}(e,u)):(a||(i=function(e,t){var n;return function(e){return l.isBuffer(e)||e instanceof f}(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(u,t)),i?e.emit("error",i):u.objectMode||t&&0<t.length?("string"==typeof t||u.objectMode||(0,w.default)(t)===l.prototype||(o=t,t=l.from(o)),r?u.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):T(e,u,t,!0):u.ended?e.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?T(e,u,t,!1):b(e,u)):T(e,u,t,!1))):r||(u.reading=!1)),!(s=u).ended&&(s.needReadable||s.length<s.highWaterMark||0===s.length)}function T(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&I(e)),b(e,t)}(0,X.default)(E.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=m.destroy,E.prototype._undestroy=m.undestroy,E.prototype._destroy=function(e,t){this.push(null),t(e)},E.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),y(this,e,t,!1,n)},E.prototype.unshift=function(e){return y(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){return c=c||t(42).StringDecoder,this._readableState.decoder=new c(e),this._readableState.encoding=e,this};var S=8388608;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=(S<=(n=e)?n=S:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0));var n}function I(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a.nextTick(R,e):R(e))}function R(e){p("emit readable"),e.emit("readable"),O(e)}function b(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function C(e){p("readable nexttick read 0"),e.read(0)}function N(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){var n,r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:(0,M.default)(n=t.buffer).call(n,t.length),t.buffer.clear()):r=function(e,t,n){var r,a,i;return e<t.head.data.length?(i=(0,z.default)(r=t.head.data).call(r,0,e),t.head.data=(0,z.default)(a=t.head.data).call(a,e)):i=e===t.head.data.length?t.shift():(n?function(e,t){var n=t.head,r=1,a=n.data;for(e-=a.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(o===i.length?a+=i:a+=(0,z.default)(i).call(i,0,e),0==(e-=o)){o===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n).data=(0,z.default)(i).call(i,o);break}++r}return t.length-=r,a}:function(e,t){var n=l.allocUnsafe(e),r=t.head,a=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,o),0==(e-=o)){o===i.length?(++a,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r).data=(0,z.default)(i).call(i,o);break}++a}return t.length-=a,n})(e,t),i}(e,t.buffer,t.decoder),r)}function P(e){var t=e._readableState;if(0<t.length)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a.nextTick(F,t,e))}function F(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function U(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}E.prototype.read=function(e){p("read",e),e=(0,B.default)(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),(0===t.length&&t.ended?P:I)(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&P(this),null;var r,a=t.needReadable;return p("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",a=!0),t.ended||t.reading?p("reading or ended",a=!1):a&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(r=0<e?L(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==r&&this.emit("data",r),r},E.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},E.prototype.pipe=function(t,n){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,p("pipe count=%d opts=%j",i.pipesCount,n);var u=n&&!1===n.end||t===e.stdout||t===e.stderr?E:l;function l(){p("onend"),t.end()}i.endEmitted?a.nextTick(u):r.once("end",u),t.on("unpipe",(function e(n,a){p("onunpipe"),n===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,p("cleanup"),t.removeListener("close",v),t.removeListener("finish",_),t.removeListener("drain",d),t.removeListener("error",m),t.removeListener("unpipe",e),r.removeListener("end",l),r.removeListener("end",E),r.removeListener("data",g),c=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||d())}));var f,d=(f=r,function(){var e=f._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(f,"data")&&(e.flowing=!0,O(f))});t.on("drain",d);var c=!1,h=!1;function g(e){p("ondata"),(h=!1)!==t.write(e)||h||((1===i.pipesCount&&i.pipes===t||1<i.pipesCount&&-1!==U(i.pipes,t))&&!c&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,h=!0),r.pause())}function m(e){p("onerror",e),E(),t.removeListener("error",m),0===s(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",_),E()}function _(){p("onfinish"),t.removeListener("close",v),E()}function E(){p("unpipe"),r.unpipe(t)}return r.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(t,"error",m),t.once("close",v),t.once("finish",_),t.emit("pipe",r),i.flowing||(p("pipe resume"),r.resume()),t},E.prototype.unpipe=function(e){var t,n=this._readableState,r={hasUnpiped:!1};if(0===n.pipesCount)return this;if(1===n.pipesCount)return e&&e!==n.pipes||(e=e||n.pipes,n.pipes=null,n.pipesCount=0,n.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var a=n.pipes,i=n.pipesCount;n.pipes=null,n.pipesCount=0,n.flowing=!1;for(var o=0;o<i;o++)a[o].emit("unpipe",this,r);return this}var s=U(n.pipes,e);return-1===s||((0,Z.default)(t=n.pipes).call(t,s,1),--n.pipesCount,1===n.pipesCount&&(n.pipes=n.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.addListener=E.prototype.on=function(e,t){var n,r=u.prototype.on.call(this,e,t);return"data"===e?!1!==this._readableState.flowing&&this.resume():"readable"===e&&((n=this._readableState).endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&I(this):a.nextTick(C,this))),r},E.prototype.resume=function(){var e,t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,this,(e=t).resumeScheduled||(e.resumeScheduled=!0,a.nextTick(N,this,e))),this},E.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},E.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var a in e.on("end",(function(){var e;p("wrapped end"),!n.decoder||n.ended||(e=n.decoder.end())&&e.length&&t.push(e),t.push(null)})),e.on("data",(function(a){p("wrapped data"),n.decoder&&(a=n.decoder.write(a)),n.objectMode&&null==a||(n.objectMode||a&&a.length)&&(t.push(a)||(r=!0,e.pause()))})),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<v.length;i++){var o;e.on(v[i],(0,x.default)(o=this.emit).call(o,this,v[i]))}return this._read=function(t){p("wrapped _read",t),r&&(r=!1,e.resume())},this},(0,X.default)(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),E._fromList=L}).call(this,t(25),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{10:10,11:11,21:21,23:23,24:24,25:25,27:27,32:32,33:33,34:34,39:39,42:42,7:7}],30:[function(e,t,n){t.exports=i;var r=e(27),a=e(10);function i(e){var t;if(!(this instanceof i))return new i(e);r.call(this,e),this._transformState={afterTransform:(0,x.default)(t=function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,(n.writecb=null)!=t&&this.push(t),r(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}).call(t,this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){s(e,t,n)})):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a.inherits=e(21),a.inherits(i,r),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var r,a=this._transformState;a.writecb=n,a.writechunk=e,a.writeencoding=t,a.transforming||(r=this._readableState,(a.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark))},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},{10:10,21:21,27:27}],31:[function(t,n,r){(function(e,r,a){var i,o,s=t(24);function u(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var a=r.callback;t.pendingcb--,a(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}n.exports=y;var l,f=!e.browser&&-1<(0,W.default)(i=["v0.10","v0.9."]).call(i,(0,z.default)(o=e.version).call(o,0,5))?a:s.nextTick;y.WritableState=E;var d=t(10);d.inherits=t(21);var c,h={deprecate:t(44)},p=t(34),g=t(39).Buffer,m=r.Uint8Array||function(){},v=t(33);function _(){}function E(e,n){l=l||t(27),e=e||{};var r=n instanceof l;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var a=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:r&&(i||0===i)?i:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var d=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n,r=e._writableState,a=r.sync,i=r.writecb;(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0})(r),t?function(e,t,n,r,a){--t.pendingcb,n?(s.nextTick(a,r),s.nextTick(w,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(a(r),e._writableState.errorEmitted=!0,e.emit("error",r),w(e,t))}(e,r,a,t,i):((n=I(r))||r.corked||r.bufferProcessing||!r.bufferedRequest||A(e,r),a?f(S,e,r,n,i):S(e,r,n,i))}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function y(e){if(l=l||t(27),!(c.call(y,this)||this instanceof l))return new y(e);this._writableState=new E(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),p.call(this)}function T(e,t,n,r,a,i,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function S(e,t,n,r){var a,i;n||(a=e,0===(i=t).length&&i.needDrain&&(i.needDrain=!1,a.emit("drain"))),t.pendingcb--,r(),w(e,t)}function A(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,a=new Array(r),i=t.corkedRequestsFree;i.entry=n;for(var o=0,s=!0;n;)(a[o]=n).isBuf||(s=!1),n=n.next,o+=1;a.allBuffers=s,T(e,t,!0,t.length,a,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new u(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,f=n.encoding,d=n.callback;if(T(e,t,!1,t.objectMode?1:l.length,l,f,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),w(e,t)}))}function w(e,t){var n,r,a=I(t);return a&&(n=e,(r=t).prefinished||r.finalCalled||("function"==typeof n._final?(r.pendingcb++,r.finalCalled=!0,s.nextTick(R,n,r)):(r.prefinished=!0,n.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),a}d.inherits(y,p),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{(0,X.default)(E.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof H.default&&b.default&&"function"==typeof Function.prototype[b.default]?(c=Function.prototype[b.default],(0,X.default)(y,b.default,{value:function(e){return!!c.call(this,e)||this===y&&e&&e._writableState instanceof E}})):c=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,a,i,o,u,l,f,d,c,h=this._writableState,p=!1,v=!h.objectMode&&(r=e,g.isBuffer(r)||r instanceof m);return v&&!g.isBuffer(e)&&(a=e,e=g.from(a)),"function"==typeof t&&(n=t,t=null),t=v?"buffer":t||h.defaultEncoding,"function"!=typeof n&&(n=_),h.ended?(this,d=n,c=new Error("write after end"),this.emit("error",c),s.nextTick(d,c)):(v||(this,i=h,u=n,f=!(l=!0),null===(o=e)?f=new TypeError("May not write null values to stream"):"string"==typeof o||void 0===o||i.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(this.emit("error",f),s.nextTick(u,f),l=!1),l))&&(h.pendingcb++,p=function(e,t,n,r,a,i){var o;n||r!==(o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=g.from(t,n)),t}(t,r,a))&&(n=!0,a="buffer",r=o);var s=t.objectMode?1:r.length;t.length+=s;var u,l=t.length<t.highWaterMark;return l||(t.needDrain=!0),t.writing||t.corked?(u=t.lastBufferedRequest,t.lastBufferedRequest={chunk:r,encoding:a,isBuf:n,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1):T(e,t,!1,s,r,a,i),l}(this,h,v,e,t,n)),p},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||A(this,e))},y.prototype.setDefaultEncoding=function(e){var t;if("string"==typeof e&&(e=e.toLowerCase()),!(-1<(0,W.default)(t=["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"]).call(t,(e+"").toLowerCase())))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},(0,X.default)(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,t=e=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,w(e,t),n&&(t.finished?s.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},(0,X.default)(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,t(25),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t(43).setImmediate)},{10:10,21:21,24:24,25:25,27:27,33:33,34:34,39:39,43:43,44:44}],32:[function(e,t,n){var r=e(39).Buffer,a=e(7);function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.head=null,this.tail=null,this.length=0}t.exports=(i.prototype.push=function(e){var t={data:e,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},i.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},i.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},i.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,a=r.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=a,n=o,i.data.copy(t,n),o+=i.data.length,i=i.next;return a},i),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},{39:39,7:7}],33:[function(e,t,n){var r=e(24);function a(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(a,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(a,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}))),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{24:24}],34:[function(e,t,n){t.exports=e(11).EventEmitter},{11:11}],35:[function(e,t,n){t.exports=e(36).PassThrough},{36:36}],36:[function(e,t,n){(((n=t.exports=e(29)).Stream=n).Readable=n).Writable=e(31),n.Duplex=e(27),n.Transform=e(30),n.PassThrough=e(28)},{27:27,28:28,29:29,30:30,31:31}],37:[function(e,t,n){t.exports=e(36).Transform},{36:36}],38:[function(e,t,n){t.exports=e(31)},{31:31}],39:[function(e,t,n){var r=e(8),a=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return a(e,t,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=r:(i(r,n),n.Buffer=o),i(a,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?(0,G.default)(r).call(r,t,n):(0,G.default)(r).call(r,t):(0,G.default)(r).call(r,0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{8:8}],40:[function(e,t,n){(function(t){!function(n){var r;n.parser=function(e,t){return new o(e,t)},n.SAXParser=o,n.SAXStream=u,n.createStream=function(e,t){return new u(e,t)},n.MAX_BUFFER_LENGTH=65536;var a,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(e,t){if(!(this instanceof o))return new o(e,t);var r=this;!function(e){for(var t=0,n=i.length;t<n;t++)e[i[t]]=""}(r),r.q=r.c="",r.bufferCheckPosition=n.MAX_BUFFER_LENGTH,r.opt=t||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?"toLowerCase":"toUpperCase",r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!e,r.noscript=!(!e&&!r.opt.noscript),r.state=C.BEGIN,r.strictEntities=r.opt.strictEntities,r.ENTITIES=r.strictEntities?(0,F.default)(n.XML_ENTITIES):(0,F.default)(n.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=(0,F.default)(g)),r.trackPosition=!1!==r.opt.position,r.trackPosition&&(r.position=r.line=r.column=0),L(r,"onready")}n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],F.default||(Object.create=function(e){function t(){}return t.prototype=e,new t}),P.default||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),o.prototype={end:function(){q(this)},write:function(e){var t=this;if(this.error)throw this.error;if(t.closed)return G(t,"Cannot write after close. Assign an onready handler.");if(null===e)return q(t);"object"==(0,j.default)(e)&&(e=e.toString());for(var r,a,o=0,s="";s=te(e,o++),t.c=s;)switch(t.trackPosition&&(t.position++,"\n"===s?(t.line++,t.column=0):t.column++),t.state){case C.BEGIN:if(t.state=C.BEGIN_WHITESPACE,"\ufeff"===s)continue;ee(t,s);continue;case C.BEGIN_WHITESPACE:ee(t,s);continue;case C.TEXT:if(t.sawRoot&&!t.closedRoot){for(var u=o-1;s&&"<"!==s&&"&"!==s;)(s=te(e,o++))&&t.trackPosition&&(t.position++,"\n"===s?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(u,o-1)}"<"!==s||t.sawRoot&&t.closedRoot&&!t.strict?(!w(m,s)||t.sawRoot&&!t.closedRoot||Y(t,"Text data outside of root node."),"&"===s?t.state=C.TEXT_ENTITY:t.textNode+=s):(t.state=C.OPEN_WAKA,t.startTagPosition=t.position);continue;case C.SCRIPT:"<"===s?t.state=C.SCRIPT_ENDING:t.script+=s;continue;case C.SCRIPT_ENDING:"/"===s?t.state=C.CLOSE_TAG:(t.script+="<"+s,t.state=C.SCRIPT);continue;case C.OPEN_WAKA:var h;"!"===s?(t.state=C.SGML_DECL,t.sgmlDecl=""):b(m,s)||(b(v,s)?(t.state=C.OPEN_TAG,t.tagName=s):"/"===s?(t.state=C.CLOSE_TAG,t.tagName=""):"?"===s?(t.state=C.PROC_INST,t.procInstName=t.procInstBody=""):(Y(t,"Unencoded <"),t.startTagPosition+1<t.position&&(h=t.position-t.startTagPosition,s=new Array(h).join(" ")+s),t.textNode+="<"+s,t.state=C.TEXT));continue;case C.SGML_DECL:(t.sgmlDecl+s).toUpperCase()===d?(x(t,"onopencdata"),t.state=C.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+s==="--"?(t.state=C.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+s).toUpperCase()===c?(t.state=C.DOCTYPE,(t.doctype||t.sawRoot)&&Y(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===s?(x(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=C.TEXT):(b(l,s)&&(t.state=C.SGML_DECL_QUOTED),t.sgmlDecl+=s);continue;case C.SGML_DECL_QUOTED:s===t.q&&(t.state=C.SGML_DECL,t.q=""),t.sgmlDecl+=s;continue;case C.DOCTYPE:">"===s?(t.state=C.TEXT,x(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=s,"["===s?t.state=C.DOCTYPE_DTD:b(l,s)&&(t.state=C.DOCTYPE_QUOTED,t.q=s));continue;case C.DOCTYPE_QUOTED:t.doctype+=s,s===t.q&&(t.q="",t.state=C.DOCTYPE);continue;case C.DOCTYPE_DTD:t.doctype+=s,"]"===s?t.state=C.DOCTYPE:b(l,s)&&(t.state=C.DOCTYPE_DTD_QUOTED,t.q=s);continue;case C.DOCTYPE_DTD_QUOTED:t.doctype+=s,s===t.q&&(t.state=C.DOCTYPE_DTD,t.q="");continue;case C.COMMENT:"-"===s?t.state=C.COMMENT_ENDING:t.comment+=s;continue;case C.COMMENT_ENDING:"-"===s?(t.state=C.COMMENT_ENDED,t.comment=k(t.opt,t.comment),t.comment&&x(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+s,t.state=C.COMMENT);continue;case C.COMMENT_ENDED:">"!==s?(Y(t,"Malformed comment"),t.comment+="--"+s,t.state=C.COMMENT):t.state=C.TEXT;continue;case C.CDATA:"]"===s?t.state=C.CDATA_ENDING:t.cdata+=s;continue;case C.CDATA_ENDING:"]"===s?t.state=C.CDATA_ENDING_2:(t.cdata+="]"+s,t.state=C.CDATA);continue;case C.CDATA_ENDING_2:">"===s?(t.cdata&&x(t,"oncdata",t.cdata),x(t,"onclosecdata"),t.cdata="",t.state=C.TEXT):"]"===s?t.cdata+="]":(t.cdata+="]]"+s,t.state=C.CDATA);continue;case C.PROC_INST:"?"===s?t.state=C.PROC_INST_ENDING:b(m,s)?t.state=C.PROC_INST_BODY:t.procInstName+=s;continue;case C.PROC_INST_BODY:if(!t.procInstBody&&b(m,s))continue;"?"===s?t.state=C.PROC_INST_ENDING:t.procInstBody+=s;continue;case C.PROC_INST_ENDING:">"===s?(x(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=C.TEXT):(t.procInstBody+="?"+s,t.state=C.PROC_INST_BODY);continue;case C.OPEN_TAG:b(_,s)?t.tagName+=s:(function(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,x(e,"onopentagstart",n)}(t),">"===s?V(t):"/"===s?t.state=C.OPEN_TAG_SLASH:(w(m,s)&&Y(t,"Invalid character in tag name"),t.state=C.ATTRIB));continue;case C.OPEN_TAG_SLASH:">"===s?(V(t,!0),J(t)):(Y(t,"Forward-slash in opening tag not followed by >"),t.state=C.ATTRIB);continue;case C.ATTRIB:if(b(m,s))continue;">"===s?V(t):"/"===s?t.state=C.OPEN_TAG_SLASH:b(v,s)?(t.attribName=s,t.attribValue="",t.state=C.ATTRIB_NAME):Y(t,"Invalid attribute name");continue;case C.ATTRIB_NAME:"="===s?t.state=C.ATTRIB_VALUE:">"===s?(Y(t,"Attribute without value"),t.attribValue=t.attribName,H(t),V(t)):b(m,s)?t.state=C.ATTRIB_NAME_SAW_WHITE:b(_,s)?t.attribName+=s:Y(t,"Invalid attribute name");continue;case C.ATTRIB_NAME_SAW_WHITE:if("="===s)t.state=C.ATTRIB_VALUE;else{if(b(m,s))continue;Y(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",x(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===s?V(t):b(v,s)?(t.attribName=s,t.state=C.ATTRIB_NAME):(Y(t,"Invalid attribute name"),t.state=C.ATTRIB)}continue;case C.ATTRIB_VALUE:if(b(m,s))continue;b(l,s)?(t.q=s,t.state=C.ATTRIB_VALUE_QUOTED):(Y(t,"Unquoted attribute value"),t.state=C.ATTRIB_VALUE_UNQUOTED,t.attribValue=s);continue;case C.ATTRIB_VALUE_QUOTED:if(s!==t.q){"&"===s?t.state=C.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=s;continue}H(t),t.q="",t.state=C.ATTRIB_VALUE_CLOSED;continue;case C.ATTRIB_VALUE_CLOSED:b(m,s)?t.state=C.ATTRIB:">"===s?V(t):"/"===s?t.state=C.OPEN_TAG_SLASH:b(v,s)?(Y(t,"No whitespace between attributes"),t.attribName=s,t.attribValue="",t.state=C.ATTRIB_NAME):Y(t,"Invalid attribute name");continue;case C.ATTRIB_VALUE_UNQUOTED:if(w(f,s)){"&"===s?t.state=C.ATTRIB_VALUE_ENTITY_U:t.attribValue+=s;continue}H(t),">"===s?V(t):t.state=C.ATTRIB;continue;case C.CLOSE_TAG:if(t.tagName)">"===s?J(t):b(_,s)?t.tagName+=s:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=C.SCRIPT):(w(m,s)&&Y(t,"Invalid tagname in closing tag"),t.state=C.CLOSE_TAG_SAW_WHITE);else{if(b(m,s))continue;w(v,s)?t.script?(t.script+="</"+s,t.state=C.SCRIPT):Y(t,"Invalid tagname in closing tag."):t.tagName=s}continue;case C.CLOSE_TAG_SAW_WHITE:if(b(m,s))continue;">"===s?J(t):Y(t,"Invalid characters in closing tag");continue;case C.TEXT_ENTITY:case C.ATTRIB_VALUE_ENTITY_Q:case C.ATTRIB_VALUE_ENTITY_U:switch(t.state){case C.TEXT_ENTITY:r=C.TEXT,a="textNode";break;case C.ATTRIB_VALUE_ENTITY_Q:r=C.ATTRIB_VALUE_QUOTED,a="attribValue";break;case C.ATTRIB_VALUE_ENTITY_U:r=C.ATTRIB_VALUE_UNQUOTED,a="attribValue"}";"===s?(t[a]+=function(e){var t,n=e.entity,r=n.toLowerCase(),a="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:("#"===(n=r).charAt(0)&&(a="x"===n.charAt(1)?(n=(0,z.default)(n).call(n,2),(t=(0,B.default)(n,16)).toString(16)):(n=(0,z.default)(n).call(n,1),(t=(0,B.default)(n,10)).toString(10))),n=n.replace(/^0+/,""),a.toLowerCase()===n?(0,R.default)(t):(Y(e,"Invalid character entity"),"&"+e.entity+";"))}(t),t.entity="",t.state=r):b(t.entity.length?y:E,s)?t.entity+=s:(Y(t,"Invalid character in entity name"),t[a]+="&"+t.entity+s,t.entity="",t.state=r);continue;default:throw new Error(t,"Unknown state: "+t.state)}return t.position>=t.bufferCheckPosition&&function(e){for(var t=Math.max(n.MAX_BUFFER_LENGTH,10),r=0,a=0,o=i.length;a<o;a++){var s=e[i[a]].length;if(t<s)switch(i[a]){case"textNode":U(e);break;case"cdata":x(e,"oncdata",e.cdata),e.cdata="";break;case"script":x(e,"onscript",e.script),e.script="";break;default:G(e,"Max buffer length exceeded: "+i[a])}r=Math.max(r,s)}var u=n.MAX_BUFFER_LENGTH-r;e.bufferCheckPosition=u+e.position}(t),t},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;U(e=this),""!==e.cdata&&(x(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(x(e,"onscript",e.script),e.script="")}};try{a=e(41).Stream}catch(T){a=function(){}}var s=(0,I.default)(r=n.EVENTS).call(r,(function(e){return"error"!==e&&"end"!==e}));function u(e,t){if(!(this instanceof u))return new u(e,t);a.apply(this),this._parser=new o(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,(0,A.default)(s).call(s,(function(e){(0,X.default)(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t;n.on(e,t)},enumerable:!0,configurable:!1})}))}(u.prototype=(0,F.default)(a.prototype,{constructor:{value:u}})).write=function(n){var r;return"function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(n)&&(this._decoder||(r=e(42).StringDecoder,this._decoder=new r("utf8")),n=this._decoder.write(n)),this._parser.write(n.toString()),this.emit("data",n),!0},u.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},u.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===(0,W.default)(s).call(s,e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);(0,Z.default)(t).call(t,0,0,e),n.emit.apply(n,t)}),a.prototype.on.call(n,e,t)};var l="'\"",f=(m="\r\n\t ")+">",d="[CDATA[",c="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",g={xml:h,xmlns:p},m=T(m),v=(T("0124356789"),T("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/),_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function T(e){var t;return(0,S.default)(t=e.split("")).call(t,(function(e,t){return e[t]=!0,e}),{})}function b(e,t){return n=e,"[object RegExp]"===Object.prototype.toString.call(n)?t.match(e):e[t];var n}function w(e,t){return!b(e,t)}l=T(l),f=T(f);var M,D,C=0;for(var N in n.STATE={BEGIN:C++,BEGIN_WHITESPACE:C++,TEXT:C++,TEXT_ENTITY:C++,OPEN_WAKA:C++,SGML_DECL:C++,SGML_DECL_QUOTED:C++,DOCTYPE:C++,DOCTYPE_QUOTED:C++,DOCTYPE_DTD:C++,DOCTYPE_DTD_QUOTED:C++,COMMENT_STARTING:C++,COMMENT:C++,COMMENT_ENDING:C++,COMMENT_ENDED:C++,CDATA:C++,CDATA_ENDING:C++,CDATA_ENDING_2:C++,PROC_INST:C++,PROC_INST_BODY:C++,PROC_INST_ENDING:C++,OPEN_TAG:C++,OPEN_TAG_SLASH:C++,ATTRIB:C++,ATTRIB_NAME:C++,ATTRIB_NAME_SAW_WHITE:C++,ATTRIB_VALUE:C++,ATTRIB_VALUE_QUOTED:C++,ATTRIB_VALUE_CLOSED:C++,ATTRIB_VALUE_UNQUOTED:C++,ATTRIB_VALUE_ENTITY_Q:C++,ATTRIB_VALUE_ENTITY_U:C++,CLOSE_TAG:C++,CLOSE_TAG_SAW_WHITE:C++,SCRIPT:C++,SCRIPT_ENDING:C++},n.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},(0,A.default)(O=(0,P.default)(n.ENTITIES)).call(O,(function(e){var t=n.ENTITIES[e],r="number"==typeof t?String.fromCharCode(t):t;n.ENTITIES[e]=r})),n.STATE){var O;n.STATE[n.STATE[N]]=N}function L(e,t,n){e[t]&&e[t](n)}function x(e,t,n){e.textNode&&U(e),L(e,t,n)}function U(e){e.textNode=k(e.opt,e.textNode),e.textNode&&L(e,"ontext",e.textNode),e.textNode=""}function k(e,t){return(0,Q.default)(e)&&(t=(0,Q.default)(t).call(t)),e.normalize&&(t=t.replace(/\s+/g," ")),t}function G(e,t){return U(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,L(e,"onerror",t),e}function q(e){return e.sawRoot&&!e.closedRoot&&Y(e,"Unclosed root tag"),e.state!==C.BEGIN&&e.state!==C.BEGIN_WHITESPACE&&e.state!==C.TEXT&&G(e,"Unexpected end"),U(e),e.c="",e.closed=!0,L(e,"onend"),o.call(e,e.strict,e.opt),e}function Y(e,t){if("object"!=(0,j.default)(e)||!(e instanceof o))throw new Error("bad call to strictFail");e.strict&&G(e,t)}function K(e,t){var n=(0,W.default)(e).call(e,":")<0?["",e]:e.split(":"),r=n[0],a=n[1];return t&&"xmlns"===e&&(r="xmlns",a=""),{prefix:r,local:a}}function H(e){var t,n,r,a,i,o;e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==(0,W.default)(t=e.attribList).call(t,e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName)||(e.opt.xmlns?(r=(n=K(e.attribName,!0)).prefix,a=n.local,"xmlns"===r&&("xml"===a&&e.attribValue!==h?Y(e,"xml: prefix must be bound to "+h+"\nActual: "+e.attribValue):"xmlns"===a&&e.attribValue!==p?Y(e,"xmlns: prefix must be bound to "+p+"\nActual: "+e.attribValue):(i=e.tag,o=e.tags[e.tags.length-1]||e,i.ns===o.ns&&(i.ns=(0,F.default)(o.ns)),i.ns[a]=e.attribValue)),e.attribList.push([e.attribName,e.attribValue])):(e.tag.attributes[e.attribName]=e.attribValue,x(e,"onattribute",{name:e.attribName,value:e.attribValue}))),e.attribName=e.attribValue=""}function V(e,t){if(e.opt.xmlns){var n,r=e.tag,a=K(e.tagName);r.prefix=a.prefix,r.local=a.local,r.uri=r.ns[a.prefix]||"",r.prefix&&!r.uri&&(Y(e,"Unbound namespace prefix: "+(0,$.default)(e.tagName)),r.uri=a.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&(0,A.default)(n=(0,P.default)(r.ns)).call(n,(function(t){x(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var o=0,s=e.attribList.length;o<s;o++){var u=e.attribList[o],l=u[0],f=u[1],d=K(l,!0),c=d.prefix,h=d.local,p=""!==c&&r.ns[c]||"",g={name:l,value:f,prefix:c,local:h,uri:p};c&&"xmlns"!==c&&!p&&(Y(e,"Unbound namespace prefix: "+(0,$.default)(c)),g.uri=c),e.tag.attributes[l]=g,x(e,"onattribute",g)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),x(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=C.TEXT:e.state=C.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function J(e){if(!e.tagName)return Y(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=C.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=C.SCRIPT);x(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--&&e.tags[t].name!==r;)Y(e,"Unexpected close tag");if(t<0)return Y(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=C.TEXT);e.tagName=n;for(var a=e.tags.length;a-- >t;){var i,o=e.tag=e.tags.pop();e.tagName=e.tag.name,x(e,"onclosetag",e.tagName);var s={};for(var u in o.ns)s[u]=o.ns[u];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==l.ns&&(0,A.default)(i=(0,P.default)(o.ns)).call(i,(function(t){var n=o.ns[t];x(e,"onclosenamespace",{prefix:t,uri:n})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=C.TEXT}function ee(e,t){"<"===t?(e.state=C.OPEN_WAKA,e.startTagPosition=e.position):w(m,t)&&(Y(e,"Non-whitespace before first tag."),e.textNode=t,e.state=C.TEXT)}function te(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}function ne(){var e,t,n=[],r=-1,a=arguments.length;if(!a)return"";for(var i="";++r<a;){var o=Number(arguments[r]);if(!isFinite(o)||o<0||1114111<o||D(o)!==o)throw RangeError("Invalid code point: "+o);o<=65535?n.push(o):(e=55296+((o-=65536)>>10),t=o%1024+56320,n.push(e,t)),(r+1===a||16384<n.length)&&(i+=M.apply(null,n),n.length=0)}return i}C=n.STATE,R.default||(M=String.fromCharCode,D=Math.floor,X.default?(0,X.default)(String,"fromCodePoint",{value:ne,configurable:!0,writable:!0}):String.fromCodePoint=ne)}(void 0===n?this.sax={}:n)}).call(this,e(8).Buffer)},{41:41,42:42,8:8}],41:[function(e,t,n){t.exports=a;var r=e(11).EventEmitter;function a(){r.call(this)}e(21)(a,r),a.Readable=e(36),a.Writable=e(38),a.Duplex=e(26),a.Transform=e(37),a.PassThrough=e(35),(a.Stream=a).prototype.pipe=function(e,t){var n=this;function a(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",a),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var o=!1;function s(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(f(),0===r.listenerCount(this,"error"))throw e}function f(){n.removeListener("data",a),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",f),n.removeListener("close",f),e.removeListener("close",f)}return n.on("error",l),e.on("error",l),n.on("end",f),n.on("close",f),e.on("close",f),e.emit("pipe",n),e}},{11:11,21:21,26:26,35:35,36:36,37:37,38:38}],42:[function(e,t,n){var r=e(39).Buffer,a=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=f,this.end=d,t=3;break;default:return this.write=c,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(55296<=r&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],(0,z.default)(n).call(n,0,-1)}return n}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function f(e,t){var n=(e.length-t)%3;return 0==n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function c(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}(n.StringDecoder=i).prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var a=o(t[r]);return 0<=a?(0<a&&(e.lastNeed=a-1),a):--r<n||-2===a?0:0<=(a=o(t[r]))?(0<a&&(e.lastNeed=a-2),a):--r<n||-2===a?0:0<=(a=o(t[r]))?(0<a&&(2===a?a=0:e.lastNeed=a-3),a):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{39:39}],43:[function(e,t,n){(function(t,r){var a=e(25).nextTick,i=Function.prototype.apply,o=(0,z.default)(Array.prototype),s={},u=0;function l(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new l(i.call(D.default,window,arguments),clearTimeout)},n.setInterval=function(){return new l(i.call(T.default,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=(0,D.default)((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&o.call(arguments,1);return s[t]=!0,a((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e(43).setImmediate,e(43).clearImmediate)},{25:25,43:43}],44:[function(t,n,r){(function(e){function t(t){try{if(!e.localStorage)return}catch(t){return}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}n.exports=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(46)),i=r(e(54)),o=r(e(47));function s(e){e=e||{};var t,n=this.context,r=(0,a.default)(n).getInstance(),o=e.settings,s=[],u=void 0,l=void 0,f=void 0;function d(e){var t;return e&&(0,x.default)(e)?(0,x.default)(e).call(e,window.console):(0,x.default)(t=window.console.log).call(t,window.console)}function c(e,t){var n,a,d="";u&&(a=(new Date).getTime(),d+="["+(a-f)+"]"),l&&t&&t.getClassName&&(d+="["+t.getClassName()+"]",t.getType&&(d+="["+t.getType()+"]")),0<d.length&&(d+=" ");for(var c=arguments.length,h=Array(2<c?c-2:0),p=2;p<c;p++)h[p-2]=arguments[p];(0,A.default)(n=Array.apply(null,h)).call(n,(function(e){d+=e+" "})),s[e]&&o.get().debug.logLevel>=e&&s[e](d),r.trigger(i.default.LOG,{message:d,level:e})}return t={getLogger:function(e){var t,n,r,a,i;return{fatal:(0,x.default)(t=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];c.apply(void 0,(0,M.default)(e=[1,this]).call(e,n))}).call(t,e),error:(0,x.default)(n=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];c.apply(void 0,(0,M.default)(e=[2,this]).call(e,n))}).call(n,e),warn:(0,x.default)(r=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];c.apply(void 0,(0,M.default)(e=[3,this]).call(e,n))}).call(r,e),info:(0,x.default)(a=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];c.apply(void 0,(0,M.default)(e=[4,this]).call(e,n))}).call(a,e),debug:(0,x.default)(i=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];c.apply(void 0,(0,M.default)(e=[5,this]).call(e,n))}).call(i,e)}},setLogTimestampVisible:function(e){u=e},setCalleeNameVisible:function(e){l=e}},l=u=!0,f=(new Date).getTime(),"undefined"!=typeof window&&window.console&&(s[1]=d(window.console.error),s[2]=d(window.console.error),s[3]=d(window.console.warn),s[4]=d(window.console.info),s[5]=d(window.console.debug)),t}s.__dashjs_factory_name="Debug";var u=o.default.getSingletonFactory(s);u.LOG_LEVEL_NONE=0,u.LOG_LEVEL_FATAL=1,u.LOG_LEVEL_ERROR=2,u.LOG_LEVEL_WARNING=3,u.LOG_LEVEL_INFO=4,u.LOG_LEVEL_DEBUG=5,o.default.updateSingletonFactory(s.__dashjs_factory_name,u),n.default=u,t.exports=n.default},{46:46,47:47,54:54}],46:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r};function i(){var e={};function t(t,n,r){var a,i=-1;return e[t]&&(0,y.default)(a=e[t]).call(a,(function(e,t){if(e&&e.callback===n&&(!r||r===e.scope))return i=t,!0})),i}return{on:function(n,r,a){var i,o,s=arguments.length<=3||void 0===arguments[3]?0:arguments[3];if(!n)throw new Error("event type cannot be null or undefined");if(!r||"function"!=typeof r)throw new Error("listener must be a function: "+r);0<=t(n,r,a)||(e[n]=e[n]||[],o={callback:r,scope:a,priority:s},(0,y.default)(i=e[n]).call(i,(function(t,r){var a;if(t&&s>t.priority)return(0,Z.default)(a=e[n]).call(a,r,0,o),!0}))||e[n].push(o))},off:function(n,r,a){var i;n&&r&&e[n]&&((i=t(n,r,a))<0||(e[n][i]=null))},trigger:function(t,n){if(t&&e[t]){var r,a;if((n=n||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");n.type=t,e[t]=(0,I.default)(r=e[t]).call(r,(function(e){return e})),(0,A.default)(a=e[t]).call(a,(function(e){return e&&e.callback.call(e.scope,n)}))}},reset:function(){e={}}}}i.__dashjs_factory_name="EventBus";var o=a.default.getSingletonFactory(i);o.EVENT_PRIORITY_LOW=0,o.EVENT_PRIORITY_HIGH=5e3,a.default.updateSingletonFactory(i.__dashjs_factory_name,o),n.default=o,t.exports=n.default},{47:47}],47:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a,i,o,s=(void 0,a=[],i={},o={},r={extend:function(e,t,n,r){!r[e]&&t&&(r[e]={instance:t,override:n})},getSingletonInstance:u,setSingletonInstance:function(e,t,n){for(var r in a){var i=a[r];if(i.context===e&&i.name===t)return void(a[r].instance=n)}a.push({name:t,context:e,instance:n})},getSingletonFactory:function(e){var t=l(e.__dashjs_factory_name,i);return t||(t=function(t){var n=void 0;return void 0===t&&(t={}),{getInstance:function(){return(n=n||u(t,e.__dashjs_factory_name))||(n=d(e,t,arguments),a.push({name:e.__dashjs_factory_name,context:t,instance:n})),n}}},i[e.__dashjs_factory_name]=t),t},getSingletonFactoryByName:function(e){return i[e]},updateSingletonFactory:function(e,t){f(e,t,i)},getClassFactory:function(e){var t=l(e.__dashjs_factory_name,o);return t||(t=function(t){return void 0===t&&(t={}),{create:function(){return d(e,t,arguments)}}},o[e.__dashjs_factory_name]=t),t},getClassFactoryByName:function(e){return o[e]},updateClassFactory:function(e,t){f(e,t,o)}});function u(e,t){for(var n in a){var r=a[n];if(r.context===e&&r.name===t)return r.instance}return null}function l(e,t){return t[e]}function f(e,t,n){e in n&&(n[e]=t)}function d(e,t,n){var a=void 0,i=e.__dashjs_factory_name,o=t[i];if(o){var s=o.instance;if(!o.override)return s.apply({context:t,factory:r},n);for(var u in a=e.apply({context:t},n),s=s.apply({context:t,factory:r,parent:a},n))a.hasOwnProperty(u)&&(a[u]=s[u])}else a=e.apply({context:t},n);return a.getClassName=function(){return i},a}n.default=s,t.exports=n.default},{}],48:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?(0,X.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,X.default)(n,"__esModule",{value:!0});var i=r(e(47)),o=r(e(49)),s=r(e(45)),u=r(e(108)),l=e(241);function f(){var e,t,n={debug:{logLevel:s.default.LOG_LEVEL_WARNING},streaming:{metricsMaxListDepth:1e3,abandonLoadTimeout:1e4,liveDelayFragmentCount:NaN,liveDelay:null,scheduleWhilePaused:!0,fastSwitchEnabled:!1,bufferPruningInterval:10,bufferToKeep:20,bufferAheadToKeep:80,jumpGaps:!0,smallGapLimit:1.5,stableBufferTime:12,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,longFormContentDurationThreshold:600,wallclockTimeUpdateInterval:50,lowLatencyEnabled:!1,keepProtectionMediaKeys:!1,useManifestDateHeaderTimeSource:!0,useSuggestedPresentationDelay:!0,useAppendWindowEnd:!0,manifestUpdateRetryInterval:100,liveCatchUpMinDrift:.02,liveCatchUpMaxDrift:0,liveCatchUpPlaybackRate:.5,liveCatchupLatencyThreshold:NaN,lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},retryIntervals:(a(e={},l.HTTPRequest.MPD_TYPE,500),a(e,l.HTTPRequest.XLINK_EXPANSION_TYPE,500),a(e,l.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),a(e,l.HTTPRequest.INIT_SEGMENT_TYPE,1e3),a(e,l.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),a(e,l.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),a(e,l.HTTPRequest.OTHER_TYPE,1e3),a(e,"lowLatencyReductionFactor",10),e),retryAttempts:(a(t={},l.HTTPRequest.MPD_TYPE,3),a(t,l.HTTPRequest.XLINK_EXPANSION_TYPE,1),a(t,l.HTTPRequest.MEDIA_SEGMENT_TYPE,3),a(t,l.HTTPRequest.INIT_SEGMENT_TYPE,3),a(t,l.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),a(t,l.HTTPRequest.INDEX_SEGMENT_TYPE,3),a(t,l.HTTPRequest.OTHER_TYPE,3),a(t,"lowLatencyMultiplyFactor",5),t),abr:{movingAverageMethod:u.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:u.default.ABR_STRATEGY_DYNAMIC,bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useBufferOccupancyABR:!1,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0}},cmcd:{enabled:!1,sid:null,cid:null,did:null}}},r=o.default.clone(n);return{get:function(){return r},update:function(e){"object"==(0,j.default)(e)&&function e(t,n,r){for(var a in t)t.hasOwnProperty(a)&&n.hasOwnProperty(a)&&("object"==(0,j.default)(t[a])&&null!==t[a]?e(t[a],n[a],(0,z.default)(r).call(r)+a+"."):n[a]=o.default.clone(t[a]))}(e,r,"")},reset:function(){r=o.default.clone(n)}}}f.__dashjs_factory_name="Settings";var d=i.default.getSingletonFactory(f);n.default=d,t.exports=n.default},{108:108,241:241,45:45,47:47,49:49}],49:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}(0,X.default)(n,"__esModule",{value:!0});var a=(function(e,t,n){n&&r(e,n)}(i,0,[{key:"mixin",value:function(e,t,n){var r,a={};if(e)for(var o in t)t.hasOwnProperty(o)&&(r=t[o],o in e&&(e[o]===r||o in a&&a[o]===r)||("object"==(0,j.default)(e[o])&&null!==e[o]?e[o]=i.mixin(e[o],r,n):e[o]=n(r)));return e}},{key:"clone",value:function(e){if(!e||"object"!=(0,j.default)(e))return e;var t=void 0;if(e instanceof Array){t=[];for(var n=0,r=e.length;n<r;++n)n in e&&t.push(i.clone(e[n]))}else t={};return i.mixin(t,e,i.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(e,t){try{var n=function(){if(!t||0===t.length)return{v:e};var n=new E.default(e);return(0,A.default)(t).call(t,(function(e){e.key&&e.value&&n.searchParams.set(e.key,e.value)})),{v:n.href}}();if("object"==(0,j.default)(n))return n.v}catch(t){return e}}},{key:"generateUuid",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}},{key:"generateHashCode",value:function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}}]),i);function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i)}n.default=a,t.exports=n.default},{}],50:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.getVersionString=function(){return r};var r="3.1.2"},{}],51:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r;function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}}((0,w.default)(a.prototype),"constructor",this).call(this),this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,this.SEGMENTS_UPDATE_FAILED_ERROR_CODE=13,this.SEGMENTS_UNAVAILABLE_ERROR_CODE=14,this.SEGMENT_BASE_LOADER_ERROR_CODE=15,this.TIME_SYNC_FAILED_ERROR_CODE=16,this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,this.APPEND_ERROR_CODE=20,this.REMOVE_ERROR_CODE=21,this.DATA_UPDATE_FAILED_ERROR_CODE=22,this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,this.DOWNLOAD_ERROR_ID_SIDX_CODE=26,this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,this.DOWNLOAD_ERROR_ID_XLINK_CODE=29,this.MANIFEST_ERROR_ID_CODEC_CODE=30,this.MANIFEST_ERROR_ID_PARSE_CODE=31,this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segments",this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize time",this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",this.APPEND_ERROR_MESSAGE="chunk is not defined",this.REMOVE_ERROR_MESSAGE="buffer is not defined",this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : "}var i=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(a,((r=e(52))&&r.__esModule?r:{default:r}).default),a);n.default=i,t.exports=n.default},{52:52}],52:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}(0,X.default)(n,"__esModule",{value:!0});var a=(function(e,t,n){t&&r(e.prototype,t)}(i,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var a in e){var i;!e.hasOwnProperty(a)||this[a]&&!n||r&&-1===(0,W.default)(i=e[a]).call(i,"public_")||(this[a]=e[a])}}}}]),i);function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i)}n.default=a,t.exports=n.default},{}],53:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(i,((r=e(55))&&r.__esModule?r:{default:r}).default),i);function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}}((0,w.default)(i.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INBAND_EVENTS="inbandEvents",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_FRAGMENT_NEEDED="initFragmentNeeded",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATE_STARTED="representationUpdateStarted",this.REPRESENTATION_UPDATE_COMPLETED="representationUpdateCompleted",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady",this.SEGMENTBASE_INIT_REQUEST_NEEDED="segmentBaseInitRequestNeeded",this.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED="segmentBaseSegmentsListRequestNeeded",this.SEEK_TARGET="seekTarget",this.DYNAMIC_STREAM_COMPLETED="dynamicStreamCompleted"}n.default=a,t.exports=n.default},{55:55}],54:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}};function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a((0,w.default)(i.prototype),"constructor",this).apply(this,arguments)}var o=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(i,((r=e(53))&&r.__esModule?r:{default:r}).default),i);n.default=o,t.exports=n.default},{53:53}],55:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}(0,X.default)(n,"__esModule",{value:!0});var a=(function(e,t,n){t&&r(e.prototype,t)}(i,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var a in e){var i;!e.hasOwnProperty(a)||this[a]&&!n||r&&-1===(0,W.default)(i=e[a]).call(i,"public_")||(this[a]=e[a])}}}}]),i);function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i)}n.default=a,t.exports=n.default},{}],56:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(61)),i=r(e(93)),o=r(e(89)),s=r(e(95)),u=r(e(88)),l=r(e(86)),f=r(e(47)),d=r(e(65));function c(){var e,t=void 0,n=void 0,r=void 0,f=void 0,c=void 0,h=void 0,p=this.context;function g(e,r,i){var o,s=t.getAdaptationsForType(n[0].mpd.manifest,e,r);if(!s||0===s.length)return null;if(1<s.length&&i){var u=m(i,r);if(f[i.id]&&f[i.id][r])for(var l=0,d=s.length;l<d;l++)if(f[i.id][r].isMediaInfoEqual(u[l]))return s[l];for(l=0,d=s.length;l<d;l++){var c;if(o=s[l],(0,I.default)(c=t.getRolesForAdaptation(o)).call(c,(function(e){return e.value===a.default.MAIN}))[0])return s[l]}}return s[0]}function m(e,a,i){var o,s,u,l=n,f=i,d=[],h=void 0,p=void 0,g=void 0,m=void 0;if(f)M(),l=v(f);else{if(!(0<n.length))return d;f=n[0].mpd.manifest}var _=S(e,l);_&&(m=_.id);var E=t.getAdaptationsForType(f,e?e.index:null,a!==c.EMBEDDED_TEXT?a:c.VIDEO);if(!E||0===E.length)return d;for(r[m]=r[m]||t.getAdaptationsForPeriod(_),p=0,u=E.length;p<u;p++)if(o=E[p],s=t.getIndexForAdaptation(o,f,e.index),h=R(r[m][s]),a===c.EMBEDDED_TEXT){var y=h.accessibility.length;for(g=0;g<y;g++)if(h){var T=h.accessibility[g];if(0===(0,W.default)(T).call(T,"cea-608:")){var A=T.substring(8).split(";");if("CC"===A[0].substring(0,2))for(g=0;g<A.length;g++)b(h=h||R.call(this,r[m][s]),A[g].substring(0,3),A[g].substring(4)),d.push(h),h=null;else for(g=0;g<A.length;g++)b(h=h||R.call(this,r[m][s]),"CC"+(g+1),A[g]),d.push(h),h=null}else 0===(0,W.default)(T).call(T,"cea-608")&&(b(h,c.CC1,"eng"),d.push(h),h=null)}}else a===c.IMAGE?(h.type=c.IMAGE,d.push(h),h=null):h&&d.push(h);return d}function v(e){var n=_(e);return t.getRegularPeriods(n)}function _(e){var n=y(e);return t.getMpd(n)}function E(){n=[],r={},f={}}function y(e){return e||(0<n.length?n[0].mpd.manifest:null)}function T(e){return e&&e.streamInfo&&void 0!==e.streamInfo.id&&r[e.streamInfo.id]?r[e.streamInfo.id][e.index]:null}function S(e,t){for(var n=t.length,r=0;r<n;r++){var a=t[r];if(e&&e.id===a.id)return a}return null}function R(e){var n,r,a,i,s;if(!e)return null;var u,l=new o.default,f=e.period.mpd.manifest.Period_asArray[e.period.index].AdaptationSet_asArray[e.index];return l.id=e.id,l.index=e.index,l.type=e.type,l.streamInfo=w(e.period),l.representationCount=t.getRepresentationCount(f),l.labels=t.getLabelsForAdaptation(f),l.lang=t.getLanguageForAdaptation(f),u=t.getViewpointForAdaptation(f),l.viewpoint=u?u.value:void 0,l.accessibility=(0,C.default)(n=t.getAccessibilityForAdaptation(f)).call(n,(function(e){var t=e.value,n=t;return e.schemeIdUri&&0<=e.schemeIdUri.search("cea-608")&&void 0!==h&&(n=t?"cea-608:"+t:"cea-608",l.embeddedCaptions=!0),n})),l.audioChannelConfiguration=(0,C.default)(r=t.getAudioChannelConfigurationForAdaptation(f)).call(r,(function(e){return e.value})),0===l.audioChannelConfiguration.length&&(0,V.default)(f.Representation_asArray)&&0<f.Representation_asArray.length&&(l.audioChannelConfiguration=(0,C.default)(a=t.getAudioChannelConfigurationForRepresentation(f.Representation_asArray[0])).call(a,(function(e){return e.value}))),l.roles=(0,C.default)(i=t.getRolesForAdaptation(f)).call(i,(function(e){return e.value})),l.codec=t.getCodec(f),l.mimeType=t.getMimeType(f),l.contentProtection=t.getContentProtectionData(f),l.bitrateList=t.getBitrateListForAdaptation(f),l.contentProtection&&(0,A.default)(s=l.contentProtection).call(s,(function(e){e.KID=t.getKID(e)})),l.isText=t.getIsTextTrack(l.mimeType),l.supplementalProperties=t.getSupplementalPropperties(f),l}function b(e,t,n){e.id=t,e.index=100+(0,B.default)(t.substring(2,3)),e.type=c.EMBEDDED_TEXT,e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=n,e.roles=["caption"]}function w(e){var n,r,a=new s.default;return a.id=e.id,a.index=e.index,a.start=e.start,a.duration=e.duration,a.manifestInfo=(n=e.mpd,(r=new u.default).DVRWindowSize=n.timeShiftBufferDepth,r.loadedTime=n.manifest.loadedTime,r.availableFrom=n.availabilityStartTime,r.minBufferTime=n.manifest.minBufferTime,r.maxFragmentDuration=n.maxSegmentDuration,r.duration=t.getDuration(n.manifest),r.isDynamic=t.getIsDynamic(n.manifest),r.serviceDescriptions=t.getServiceDescriptions(n.manifest),r.protocol=n.manifest.protocol,r),a.isLast=1===e.mpd.manifest.Period_asArray.length||Math.abs(a.start+a.duration-a.manifestInfo.duration)<1,a}function M(){if(!c)throw new Error("setConfig function has to be called previously")}function D(e){return 0<n.length?n[0].mpd.manifest.Period_asArray[e]:null}function N(e,t,n){var r,a,i,o=void 0,s=void 0;if(e)for(r=e.AdaptationSet_asArray,o=0;o<r.length;o+=1)for(i=r[o].Representation_asArray,s=0;s<i.length;s+=1)if(t===(a=i[s]).id)return n?s:a;return null}return e={getBandwidthForRepresentation:function(e,t){var n;return(n=N(D(t),e))?n.bandwidth:null},getIndexForRepresentation:function(e,t){var n;return null!==(n=N(D(t),e,!0))?n:-1},getMaxIndexForBufferType:function(e,n){return function(e,n){var r,a=void 0,i=void 0,o=void 0;if(!e||!n)return-1;for(r=e.AdaptationSet_asArray,o=0;o<r.length;o+=1)if(i=(a=r[o]).Representation_asArray,t.getIsTypeOf(a,n))return i.length;return-1}(D(n),e)},convertDataToRepresentationInfo:function(e){if(e){var n=new i.default,r=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],a=t.getRepresentationFor(e.index,r);return n.id=e.id,n.quality=e.index,n.bandwidth=t.getBandwidth(a),n.DVRWindow=e.segmentAvailabilityRange,n.fragmentDuration=e.segmentDuration||(e.segments&&0<e.segments.length?e.segments[0].duration:NaN),n.MSETimeOffset=e.MSETimeOffset,n.useCalculatedLiveEdgeTime=e.useCalculatedLiveEdgeTime,n.mediaInfo=R(e.adaptation),n}return null},getDataForMedia:T,getStreamsInfo:function(e,t){var r=[],a=n;if(e&&(M(),a=v(e)),0<a.length){(!t||t>a.length)&&(t=a.length);for(var i=0;i<t;i++)r.push(w(a[i]))}return r},getMediaInfoForType:function(e,a){if(0===n.length||!e)return null;var i=S(e,n);if(!i)return null;var o=i.id;r[o]=r[o]||t.getAdaptationsForPeriod(i);var s=g(e.index,a,e);if(!s)return null;var u=t.getIndexForAdaptation(s,n[0].mpd.manifest,e.index);return R(r[o][u])},getAllMediaInfoForType:m,getAdaptationForType:g,getRealAdaptation:function(e,r){var a=void 0,i=S(e,n),o=r?r.id:null;return 0<n.length&&i&&(a=o?t.getAdaptationForId(o,n[0].mpd.manifest,i.index):t.getAdaptationForIndex(r?r.index:null,n[0].mpd.manifest,i.index)),a},getVoRepresentations:function(e){var n=T(e);return t.getRepresentationsForAdaptation(n)},getEventsFor:function(e,r){var a,u=[];return 0<n.length&&(a=n[0].mpd.manifest,e instanceof s.default?u=t.getEventsForPeriod(S(e,n)):e instanceof o.default?u=t.getEventStreamForAdaptationSet(a,T(e)):e instanceof i.default&&(u=t.getEventStreamForRepresentation(a,r))),u},getEvent:function(e,t,n){if(!e||!t)return null;var r=new l.default,a=e.scheme_id_uri,i=e.value,o=e.timescale,s=e.presentation_time_delta,u=e.event_duration,f=e.id,d=e.message_data,c=n*o+s;return t[a+"/"+i]?(r.eventStream=t[a+"/"+i],r.eventStream.value=i,r.eventStream.timescale=o,r.duration=u,r.id=f,r.calculatedPresentationTime=c,r.messageData=d,r.presentationTimeDelta=s,r):null},setConfig:function(e){e&&(e.constants&&(c=e.constants),e.cea608parser&&(h=e.cea608parser),e.errHandler&&t.setConfig({errHandler:e.errHandler}),e.BASE64&&t.setConfig({BASE64:e.BASE64}))},updatePeriods:function(e){if(!e)return null;M(),n=v(e),r={}},getUseCalculatedLiveEdgeTimeForMediaInfo:function(e){var n=T(e);return t.getUseCalculatedLiveEdgeTimeForAdaptation(n)},getIsTextTrack:function(e){return t.getIsTextTrack(e)},getUTCTimingSources:function(){var e=y();return t.getUTCTimingSources(e)},getSuggestedPresentationDelay:function(){var e=0<n.length?n[0].mpd:null;return t.getSuggestedPresentationDelay(e)},getAvailabilityStartTime:function(e){var n=_(e);return t.getAvailabilityStartTime(n)},getIsDynamic:function(e){var n=y(e);return t.getIsDynamic(n)},getDuration:function(e){var n=y(e);return t.getDuration(n)},getRegularPeriods:v,getLocation:function(e){return t.getLocation(e)},getManifestUpdatePeriod:function(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return t.getManifestUpdatePeriod(e,n)},getIsDVB:function(e){return t.hasProfile(e,"urn:dvb:dash:profile:dvb-dash:2014")},getBaseURLsFromElement:function(e){return t.getBaseURLsFromElement(e)},getRepresentationSortFunction:function(){return t.getRepresentationSortFunction()},getCodec:function(e,n,r){return t.getCodec(e,n,r)},getVoAdaptations:function(){return r},getVoPeriods:function(){return n},setCurrentMediaInfo:function(e,t,n){f[e]=f[e]||{},f[e][t]=f[e][t]||{},f[e][t]=n},reset:E},t=(0,d.default)(p).getInstance(),E(),e}c.__dashjs_factory_name="DashAdapter",n.default=f.default.getSingletonFactory(c),t.exports=n.default},{47:47,61:61,65:65,86:86,88:88,89:89,93:93,95:95}],57:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(227)),i=e(241),o=r(e(47)),s=e(80),u=r(e(64));function l(e){e=e||{};var t=this.context,n=e.eventBus,r=e.events,o=e.debug,l=e.dashConstants,f=e.urlUtils,d=e.type,c=e.streamInfo,h=e.timelineConverter,p=e.dashMetrics,g=e.baseURLController,m=void 0,v=void 0,_=void 0,E=void 0,y=void 0,T=void 0,S=void 0,A=void 0,I=void 0,R=void 0;function b(){_=-1,E=null}function w(){b(),T=0,I=R=y=null}function M(e,t,n){var r=g.resolve(n.path),a=void 0,i=void 0;return r&&t!==r.url&&f.isRelative(t)?(a=r.url,i=r.serviceLocation,t&&(a=f.resolve(t,a))):a=t,!f.isRelative(a)&&(e.url=a,e.serviceLocation=i,1)}function D(e){var t,a,i;e.sender.getType()===d&&(a=(t=e.representation).hasInitialization(),i=t.hasSegments(),a&&i?n.trigger(r.REPRESENTATION_UPDATE_COMPLETED,{sender:m,representation:t}):R.update(t,d,I,a,i))}function C(e,t){if(null==t)return null;var n=new a.default,r=t.representation,o=r.adaptation.period.mpd.manifest.Period_asArray[r.adaptation.period.index].AdaptationSet_asArray[r.adaptation.index].Representation_asArray[r.index].bandwidth,u=t.media;u=(0,s.replaceTokenForTemplate)(u,"Number",t.replacementNumber);return u=(0,s.replaceTokenForTemplate)(u,"Time",t.replacementTime),u=(0,s.replaceTokenForTemplate)(u,"Bandwidth",o),u=(0,s.replaceIDForTemplate)(u,r.id),u=(0,s.unescapeDollarsInTemplate)(u),n.mediaType=d,n.type=i.HTTPRequest.MEDIA_SEGMENT_TYPE,n.range=t.mediaRange,n.startTime=t.presentationStartTime,n.duration=t.duration,n.timescale=r.timescale,n.availabilityStartTime=t.availabilityStartTime,n.availabilityEndTime=t.availabilityEndTime,n.wallStartTime=t.wallStartTime,n.quality=r.index,n.index=t.availabilityIdx,n.mediaInfo=e,n.adaptationIndex=r.adaptation.index,n.representationId=r.id,M(n,u,r)?n:void 0}function N(e){var t,n,r=!1;return e&&(S?A?r=!0:E&&(t=(0,O.default)((E.presentationStartTime-e.adaptation.period.start).toFixed(5)),n=0<E.duration?t+1.5*E.duration:t,r=e.adaptation.period.duration<=n):_>=e.availableSegmentsNumber&&(r=!0)),r}function L(e){var t=e.representation;t.segments&&n.trigger(r.REPRESENTATION_UPDATE_COMPLETED,{sender:this,representation:t})}function x(e){if(!e.error&&d===e.mediaType){for(var t,a,i,o=e.segments,u=e.representation,l=[],f=0,c=void 0,g=(c=0,o?o.length:0);c<g;c++)t=o[c],(a=(0,s.getTimeBasedSegment)(h,S,u,t.startTime,t.duration,t.timescale,t.media,t.mediaRange,f))&&(l.push(a),f++);0<l.length&&(u.segmentAvailabilityRange={start:l[0].presentationStartTime,end:l[l.length-1].presentationStartTime},u.availableSegmentsNumber=l.length,u.segments=l,S&&(i=l[l.length-1].presentationStartTime-8,h.setExpectedLiveEdge(i),p.updateManifestUpdateInfo({presentationStartTime:i}))),u.hasInitialization()&&n.trigger(r.REPRESENTATION_UPDATE_COMPLETED,{sender:this,representation:u})}}function P(){v.debug("Dynamic stream complete"),A=!0}return m={initialize:function(e){S=e,A=!1,R.initialize(e)},getType:function(){return d},getStreamInfo:function(){return c},getInitRequest:function(e,t){return t?function(e,t,n){var r=new a.default,o=t.adaptation.period,u=o.start;if(r.mediaType=n,r.type=i.HTTPRequest.INIT_SEGMENT_TYPE,r.range=t.range,r.availabilityStartTime=h.calcAvailabilityStartTimeFromPresentationTime(u,o.mpd,S),r.availabilityEndTime=h.calcAvailabilityEndTimeFromPresentationTime(u+o.duration,o.mpd,S),r.quality=t.index,r.mediaInfo=e,r.representationId=t.id,M(r,t.initialization,t))return r.url=(0,s.replaceTokenForTemplate)(r.url,"Bandwidth",t.bandwidth),r}(e,t,d):null},getRequestForSegment:C,getSegmentRequestForTime:function(e,t,n,r){var i=null;if(!t||!t.segmentInfoType)return i;var o=_,s=!!r&&r.keepIdx,u=!(!r||!r.ignoreIsFinished);y!==n&&(y=n,v.debug("Getting the request for time : "+n));var f=R.getSegmentByTime(t,n);return f?(_=f.availabilityIdx,E=f,v.debug("Index for time "+n+" is "+_),i=C(e,f)):!u&&N(t)&&((i=new a.default).action=a.default.ACTION_COMPLETE,i.index=_-1,i.mediaType=d,i.mediaInfo=e,v.debug("Signal complete in getSegmentRequestForTime")),s&&0<=o&&(_=t.segmentInfoType===l.SEGMENT_TIMELINE&&S?_:o),i},getNextSegmentRequest:function(e,t){var n=null;if(!t||!t.segmentInfoType)return null;y=null;var r=_+1;v.debug("Getting the next request at index: "+r);var i=R.getSegmentByIndex(t,r,E?E.mediaStartTime:-1);return i||isFinite(t.adaptation.period.duration)||A?(_=i?(n=C(e,i),i.availabilityIdx):S?r-1:r,i?E=i:N(t)&&((n=new a.default).action=a.default.ACTION_COMPLETE,n.index=_-1,n.mediaType=d,n.mediaInfo=e,v.debug("Signal complete")),n):(v.debug("No segment found at index: "+r+". Wait for next loop"),null)},setCurrentTime:function(e){T=e},getCurrentTime:function(){return T},setCurrentIndex:function(e){_=e},getCurrentIndex:function(){return _},isMediaFinished:N,reset:function(){w(),n.off(r.INITIALIZATION_LOADED,L,m),n.off(r.SEGMENTS_LOADED,x,m),n.off(r.REPRESENTATION_UPDATE_STARTED,D,m),n.off(r.DYNAMIC_STREAM_COMPLETED,P,m)},resetIndex:b,setMimeType:function(e){I=e}},v=o.getLogger(m),w(),R=(0,u.default)(t).create(e),n.on(r.INITIALIZATION_LOADED,L,m),n.on(r.SEGMENTS_LOADED,x,m),n.on(r.REPRESENTATION_UPDATE_STARTED,D,m),n.on(r.DYNAMIC_STREAM_COMPLETED,P,m),m}l.__dashjs_factory_name="DashHandler",n.default=o.default.getClassFactory(l),t.exports=n.default},{227:227,241:241,47:47,64:64,80:80}],58:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=e(241),o=r(e(47)),s=r(e(109)),u=r(e(78)),l=r(e(152)),f=e(243);function d(e){e=e||{};var t,n=this.context,r=void 0,o=void 0,d=void 0,c=e.metricsModel;function h(e){var t=c.getMetricsFor(e,!0);if(!t)return null;var n=t.HttpList,r=null,a=void 0;if(!n||n.length<=0)return null;for(a=n.length-1;0<=a;){if(n[a].responsecode){r=n[a];break}a--}return r}function p(e){var t=c.getMetricsFor(e,!0);return t&&t.HttpList?t.HttpList:[]}function g(e,t){if(!e)return null;var n=e[t];return n&&0!==n.length?n[n.length-1]:null}function m(e){var t={};if(!e)return t;for(var n=(0,Q.default)(e).call(e).split("\r\n"),r=0,a=n.length;r<a;r++){var i=n[r],o=(0,W.default)(i).call(i,": ");0<o&&(t[i.substring(0,o)]=i.substring(o+2))}return t}return t={getCurrentRepresentationSwitch:function(e){return g(c.getMetricsFor(e,!0),s.default.TRACK_SWITCH)},getCurrentBufferState:function(e){return g(c.getMetricsFor(e,!0),s.default.BUFFER_STATE)},getCurrentBufferLevel:function(e){var t=g(c.getMetricsFor(e,!0),s.default.BUFFER_LEVEL);return t?u.default.round10(t.level/1e3,-3):0},getCurrentHttpRequest:h,getHttpRequests:p,getCurrentDroppedFrames:function(){return g(c.getMetricsFor(a.default.VIDEO,!0),s.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(e){return g(c.getMetricsFor(e,!0),s.default.SCHEDULING_INFO)},getCurrentDVRInfo:function(e){return g(e?c.getMetricsFor(e,!0):c.getMetricsFor(a.default.VIDEO,!0)||c.getMetricsFor(a.default.AUDIO,!0),s.default.DVR_INFO)},getCurrentManifestUpdate:function(){return g(c.getMetricsFor(a.default.STREAM),s.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(e,t){var n={},r=h(e);return r&&(n=m(r._responseHeaders)),void 0===n[t]?null:n[t]},getLatestMPDRequestHeaderValueByID:function(e){var t,n,r={},o=void 0;for(o=(n=p(a.default.STREAM)).length-1;0<=o;o--)if((t=n[o]).type===i.HTTPRequest.MPD_TYPE){r=m(t._responseHeaders);break}return void 0===r[e]?null:r[e]},addRepresentationSwitch:function(e,t,n,r,a){c.addRepresentationSwitch(e,t,n,r,a)},addDVRInfo:function(e,t,n,r){c.addDVRInfo(e,t,n,r)},updateManifestUpdateInfo:function(e){var t=this.getCurrentManifestUpdate();c.updateManifestUpdateInfo(t,e)},addManifestUpdateStreamInfo:function(e){var t;e&&(t=this.getCurrentManifestUpdate(),c.addManifestUpdateStreamInfo(t,e.id,e.index,e.start,e.duration))},addManifestUpdateRepresentationInfo:function(e,t){var n;e&&(n=this.getCurrentManifestUpdate(),c.addManifestUpdateRepresentationInfo(n,e.id,e.index,e.streamIndex,t,e.presentationTimeOffset,e.startNumber,e.fragmentInfoType))},addManifestUpdate:function(e){c.addManifestUpdate(a.default.STREAM,e.type,e.requestStartDate,e.requestEndDate)},addHttpRequest:function(e,t,n,r,a){c.addHttpRequest(e.mediaType,null,e.type,e.url,e.quality,t,e.serviceLocation||null,e.range||null,e.requestStartDate,e.firstByteDate,e.requestEndDate,n,e.duration,r,a)},addSchedulingInfo:function(e,t){c.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t)},addRequestsQueue:function(e,t,n){c.addRequestsQueue(e,t,n)},addBufferLevel:function(e,t,n){c.addBufferLevel(e,t,n)},addBufferState:function(e,t,n){c.addBufferState(e,t,n)},addDroppedFrames:function(e){c.addDroppedFrames(a.default.VIDEO,e)},addPlayList:function(){d&&(c.addPlayList(d),d=null)},addDVBErrors:function(e){c.addDVBErrors(e)},createPlaylistMetrics:function(e,t){(d=new f.PlayList).start=new Date,d.mstart=e,d.starttype=t},createPlaylistTraceMetrics:function(e,t,n){!0===r&&(r=!1,(o=new f.PlayListTrace).representationid=e,o.start=new Date,o.mstart=t,o.playbackspeed=null!==n?n.toString():null)},updatePlayListTraceMetrics:function(e){if(o)for(var t in o)o[t]=e[t]},pushPlayListTraceMetrics:function(e,t){var n,a;!1===r&&d&&o&&o.start&&(n=o.start,a=e.getTime()-n.getTime(),o.duration=a,o.stopreason=t,d.trace.push(o),r=!0)},clearAllCurrentMetrics:function(){c.clearAllCurrentMetrics()}},c=c||(0,l.default)(n).getInstance({settings:e.settings}),r=!0,d=o=null,t}d.__dashjs_factory_name="DashMetrics",n.default=o.default.getSingletonFactory(d),t.exports=n.default},{108:108,109:109,152:152,241:241,243:243,47:47,78:78}],59:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(94)),i=r(e(225)),o=r(e(47)),s=r(e(227)),u=r(e(158));function l(){var e=this.context,t=void 0,n=void 0,r=void 0,o=void 0,l=void 0,f=void 0,d=void 0,c=void 0,h=void 0,p=void 0,g=void 0,v=void 0,_=void 0,E=void 0,y=void 0,T=void 0;function S(){if(!T||!T.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function A(e){if(e.url){var t=new s.default;return t.setInfo(e),t}}function I(e,t,n){e?g.trigger(p.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):g.trigger(p.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new i.default(v.SEGMENT_BASE_LOADER_ERROR_CODE,v.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}return t={setConfig:function(e){e.baseURLController&&(T=e.baseURLController),e.dashMetrics&&(f=e.dashMetrics),e.mediaPlayerModel&&(c=e.mediaPlayerModel),e.errHandler&&(r=e.errHandler),e.settings&&(d=e.settings),e.boxParser&&(o=e.boxParser),e.events&&(p=e.events),e.eventBus&&(g=e.eventBus),e.debug&&(n=e.debug.getLogger(t)),e.requestModifier&&(l=e.requestModifier),e.errors&&(v=e.errors),e.urlUtils&&(y=e.urlUtils),e.constants&&(_=e.constants),e.dashConstants&&(E=e.dashConstants)},initialize:function(){h=(0,u.default)(e).create({errHandler:r,dashMetrics:f,mediaPlayerModel:c,requestModifier:l,useFetch:d?d.get().streaming.lowLatencyEnabled:null,boxParser:o,errors:v,urlUtils:y,constants:_,dashConstants:E})},loadInitialization:function e(t,r){S();var a,i=t?T.resolve(t.path):null,s=r||{init:!0,url:i?i.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:t&&t.adaptation?t.adaptation.type:null};n.debug("Start searching for initialization.");var u=A(s);h.load({request:u,success:function(n){s.bytesLoaded=s.range.end,(a=o.findInitRange(n))?(t.range=a,g.trigger(p.INITIALIZATION_LOADED,{representation:t})):(s.range.end=s.bytesLoaded+s.bytesToLoad,e(t,s))},error:function(){g.trigger(p.INITIALIZATION_LOADED,{representation:t})}}),n.debug("Perform init search: "+s.url)},loadSegments:function e(t,r,i,s,u){var l;S(),!i||void 0!==i.start&&void 0!==i.end||(i=(l=i?i.toString().split("-"):null)?{start:(0,O.default)(l[0]),end:(0,O.default)(l[1])}:null),s=s||I;var f,d=null,c=!!i,p=t?T.resolve(t.path):null,g={init:!1,url:p?p.url:void 0,range:c?i:{start:0,end:1500},searching:!c,bytesLoaded:u?u.bytesLoaded:0,bytesToLoad:1500,mediaType:t&&t.adaptation?t.adaptation.type:null},v=A(g);h.load({request:v,success:function(i){var u=g.bytesToLoad,l=i.byteLength;if(g.bytesLoaded=g.range.end-g.range.start,d=o.parse(i),(f=d.getBox("sidx"))&&f.isComplete){var c,h=f.references,p=void 0;null!=h&&0<h.length&&(p=1===h[0].reference_type),p?function(){n.debug("Initiate multiple SIDX load."),g.range.end=g.range.start+f.size;var a,i,o=void 0,u=void 0,l=[],d=0,c=(f.offset||g.range.start)+f.size,p=function(e){e?(l=(0,M.default)(l).call(l,e),u<=++d&&((0,m.default)(l).call(l,(function(e,t){return e.startTime-t.startTime<0?-1:0})),s(l,t,r))):s(null,t,r)};for(o=0,u=h.length;o<u;o++)i=(a=c)+h[o].referenced_size-1,c+=h[o].referenced_size,e(t,null,{start:a,end:i},p,g)}():(n.debug("Parsing segments from SIDX. representation "+t.adaptation.type+" - id: "+t.id+" for range : "+g.range.start+" - "+g.range.end),c=function(e,t){for(var n=e.references,r=n.length,i=e.timescale,o=e.earliest_presentation_time,s=t.range.start+e.offset+e.first_offset+e.size,u=[],l=void 0,f=void 0,d=void 0,c=void 0,h=0;h<r;h++)d=n[h].subsegment_duration,c=n[h].referenced_size,(l=new a.default).duration=d,l.startTime=o,l.timescale=i,f=s+c-1,l.mediaRange=s+"-"+f,u.push(l),o+=d,s+=c;return u}(f,g),s(c,t,r))}else{if(f)g.range.start=f.offset||g.range.start,g.range.end=g.range.start+(f.size||u);else{if(l<g.bytesLoaded)return void s(null,t,r);var v=d.getLastBox();v&&v.size?(g.range.start=v.offset+v.size,g.range.end=g.range.start+u):g.range.end+=u}e(t,r,g.range,s,g)}},error:function(){s(null,t,r)}}),n.debug("Perform SIDX load: "+g.url+" with range : "+g.range.start+" - "+g.range.end)},reset:function(){h.abort(),l=o=r=h=null}}}l.__dashjs_factory_name="SegmentBaseLoader",n.default=o.default.getSingletonFactory(l),t.exports=n.default},{158:158,225:225,227:227,47:47,94:94}],60:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(211)),i=r(e(108)),o=r(e(47)),s=r(e(94)),u=r(e(227)),l=r(e(158)),f=r(e(225));function d(){var e=this.context,t=void 0,n=void 0,r=void 0,o=void 0,d=void 0,c=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,E=void 0;function y(){if(!E||!E.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function T(e,t,n){e?m.trigger(v.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):m.trigger(v.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new f.default(_.SEGMENT_BASE_LOADER_ERROR_CODE,_.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function S(e){var t=new u.default;return t.setInfo(e),t}return t={setConfig:function(e){if(!(e.baseURLController&&e.dashMetrics&&e.mediaPlayerModel&&e.errHandler))throw new Error(i.default.MISSING_CONFIG_ERROR);E=e.baseURLController,c=e.dashMetrics,h=e.mediaPlayerModel,o=e.errHandler,g=e.settings,v=e.events,m=e.eventBus,_=e.errors,n=e.debug.getLogger(t),d=e.requestModifier},initialize:function(){p=(0,l.default)(e).create({errHandler:o,dashMetrics:c,mediaPlayerModel:h,requestModifier:d,useFetch:g?g.get().streaming.lowLatencyEnabled:null,errors:_})},loadInitialization:function(e,t){y();var r=null,a=e?E.resolve(e.path):null,i=e?e.range.split("-"):null,o=t||{range:{start:i?(0,O.default)(i[0]):null,end:i?(0,O.default)(i[1]):null},request:r,url:a?a.url:void 0,init:!0,mediaType:e&&e.adaptation?e.adaptation.type:null};n.info("Start loading initialization."),r=S(o),p.load({request:r,success:function(){m.trigger(v.INITIALIZATION_LOADED,{representation:e})},error:function(){m.trigger(v.INITIALIZATION_LOADED,{representation:e})}}),n.debug("Perform init load: "+o.url)},loadSegments:function(t,i,o,u){y();var l=null,f=t?E.resolve(t.path):null,d=f?f.url:void 0,c={bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:l,url:d,init:!1,mediaType:t&&t.adaptation?t.adaptation.type:null};u=u||T,l=S(c),n.debug("Parsing ebml header"),p.load({request:l,success:function(l){!function(t,i,o,u){if(t&&0!==t.byteLength){var l,f,d,c=(0,a.default)(e).create({data:t}),h=void 0,g=o?o.split("-"):null,m=null,v={url:i,range:{start:g?(0,O.default)(g[0]):null,end:g?(0,O.default)(g[1]):null},request:m};for(n.debug("Parse EBML header: "+v.url),c.skipOverElement(r.EBML),c.consumeTag(r.Segment),f=c.getMatroskaCodedNum(),f+=c.getPos(),d=c.getPos();c.moreData()&&!c.consumeTagAndSize(r.Segment.Info,!0);)if(!(c.skipOverElement(r.Segment.SeekHead,!0)||c.skipOverElement(r.Segment.Tracks,!0)||c.skipOverElement(r.Segment.Cues,!0)||c.skipOverElement(r.Void,!0)))throw new Error("no valid top level element found");for(;void 0===h;){var _=c.getMatroskaCodedNum(!0),E=c.getMatroskaCodedNum();switch(_){case r.Segment.Info.Duration.tag:h=c[r.Segment.Info.Duration.parse](E);break;default:c.setPos(c.getPos()+E)}}m=S(v),p.load({request:m,success:function(t){l=function(t,i,o,u){for(var l,f,d=void 0,c=void 0,h=void 0,p=void 0,g=void 0,m=(c=[],p=0,(f=function(t){var n=[],i=(0,a.default)(e).create({data:t}),o=void 0,s=void 0;for(i.consumeTagAndSize(r.Segment.Cues);i.moreData()&&i.consumeTagAndSize(r.Segment.Cues.CuePoint,!0);){for((o={}).CueTime=i.parseTag(r.Segment.Cues.CuePoint.CueTime),o.CueTracks=[];i.moreData()&&i.consumeTag(r.Segment.Cues.CuePoint.CueTrackPositions,!0);){var u=i.getMatroskaCodedNum(),l=i.getPos();if((s={}).Track=i.parseTag(r.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===s.Track)throw new Error("Cue track cannot be 0");s.ClusterPosition=i.parseTag(r.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),o.CueTracks.push(s),i.setPos(l+u)}if(0===o.CueTracks.length)throw new Error("Mandatory cuetrack not found");n.push(o)}if(0===n.length)throw new Error("mandatory cuepoint not found");return n}(t)).length);p<m;p+=1)h=new s.default,d=0,d=p<f.length-1?f[p+1].CueTime-f[p].CueTime:u-f[p].CueTime,h.duration=d,h.startTime=f[p].CueTime,h.timescale=1e3,l=f[p].CueTracks[0].ClusterPosition+i,g=p<f.length-1?f[p+1].CueTracks[0].ClusterPosition+i-1:o-1,h.mediaRange=l+"-"+g,c.push(h);return n.debug("Parsed cues: "+c.length+" cues."),c}(t,d,f,h),u(l)},error:function(){n.error("Download Error: Cues "+v.url),u(null)}}),n.debug("Perform cues load: "+v.url+" bytes="+v.range.start+"-"+v.range.end)}else u(null)}(l,d,o,(function(e){u(e,t,i)}))},error:function(){u(null,t,i)}})},reset:function(){d=o=null}},r={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},t}d.__dashjs_factory_name="WebmSegmentBaseLoader",n.default=o.default.getSingletonFactory(d),t.exports=n.default},{108:108,158:158,211:211,225:225,227:227,47:47,94:94}],61:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.init()}(0,X.default)(n,"__esModule",{value:!0});var i=new(function(e,t,n){t&&r(e.prototype,t)}(a,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate"}}]),a);n.default=i,t.exports=n.default},{}],62:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(225)),o=r(e(47));function s(e){var t=(e=e||{}).eventBus,n=e.events,r=e.errors,o=e.abrController,s=e.dashMetrics,u=e.playbackController,l=e.timelineConverter,f=e.type,d=e.streamId,c=e.dashConstants,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0;function _(){if(!(o&&s&&u&&l))throw new Error(a.default.MISSING_CONFIG_ERROR)}function E(){g=!(p=null),m=[]}function y(){_();var e=new Date,t=v,n=1e3*u.getTime();t&&s.addRepresentationSwitch(t.adaptation.type,e,n,t.id)}function T(e){return null==e||e>=m.length?null:m[e]}function S(e,t){var n;e.segmentAvailabilityRange=l.calcSegmentAvailabilityRange(e,t),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime?b(new i.default(r.SEGMENTS_UNAVAILABLE_ERROR_CODE,r.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE,{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end})):t&&(n=e.segmentAvailabilityRange.end,l.setExpectedLiveEdge(n),s.updateManifestUpdateInfo({presentationStartTime:n}))}function I(e,r){_();for(var a=0,i=m.length;a<i;a++)S(m[a],e),r&&t.trigger(n.REPRESENTATION_UPDATE_STARTED,{sender:h,representation:m[a]})}function R(){g=!0,t.trigger(n.DATA_UPDATE_STARTED,{sender:h})}function b(e){g=!1;var r={sender:h,data:p,currentRepresentation:v};e&&(r.error=e),t.trigger(n.DATA_UPDATE_COMPLETED,r)}function w(e){var r=e;t.trigger(n.AST_IN_FUTURE,{delay:r}),(0,D.default)((function(){g||(R(),(0,A.default)(m).call(m,(function(e){e.segmentAvailabilityRange=null})),I(u.getIsDynamic(),!0))}),r)}function M(e){if(e.sender.getType()===f&&e.sender.getStreamInfo().id===d&&g)if(e.error)b(e.error);else{var t,n,a,l=e.sender.getStreamInfo(),h=e.representation,p=s.getCurrentManifestUpdate(),_=!1,E=0;if(h.adaptation.period.mpd.manifest.type!==c.DYNAMIC||h.adaptation.period.mpd.manifest.ignorePostponeTimePeriod||(n=h.segmentAvailabilityRange.end-h.segmentAvailabilityRange.start,E=1e3*(u.getLiveDelay()-n)),0<E)return w(E),void b(new i.default(r.SEGMENTS_UPDATE_FAILED_ERROR_CODE,r.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE));if(p){for(var T=0;T<p.representationInfo.length;T++)if((t=p.representationInfo[T]).index===h.index&&t.mediaType===f){_=!0;break}_||s.addManifestUpdateRepresentationInfo(h,f)}!function(){for(var e=0,t=m.length;e<t;e++){var n=m[e].segmentInfoType;if(null===m[e].segmentAvailabilityRange||!m[e].hasInitialization()||(n===c.SEGMENT_BASE||n===c.BASE_URL)&&!m[e].segments)return}return 1}()||(o.setPlaybackQuality(f,l,(a=v,(0,W.default)(m).call(m,a))),s.updateManifestUpdateInfo({latency:v.segmentAvailabilityRange.end-u.getTime()}),s.getCurrentRepresentationSwitch(v.adaptation.type)||y(),b())}}function C(e){e.isDynamic&&I(e.isDynamic)}function N(e){e.mediaType===f&&d===e.streamInfo.id&&(v=T(e.newQuality),y())}function O(e){e.newDuration&&v&&v.adaptation.period&&(v.adaptation.period.duration=e.newDuration)}return h={getData:function(){return p},isUpdating:function(){return g},updateData:function(e,t,n,r){_(),R(),m=t,v=T(r),p=e,n===a.default.VIDEO||n===a.default.AUDIO||n===a.default.FRAGMENTED_TEXT?I(u.getIsDynamic(),!0):b()},updateRepresentation:S,getCurrentRepresentation:function(){return v},getRepresentationForQuality:T,getType:function(){return f},getStreamId:function(){return d},reset:function(){t.off(n.QUALITY_CHANGE_REQUESTED,N,h),t.off(n.REPRESENTATION_UPDATE_COMPLETED,M,h),t.off(n.WALLCLOCK_TIME_UPDATED,C,h),t.off(n.MANIFEST_VALIDITY_CHANGED,O,h),E()}},E(),t.on(n.QUALITY_CHANGE_REQUESTED,N,h),t.on(n.REPRESENTATION_UPDATE_COMPLETED,M,h),t.on(n.WALLCLOCK_TIME_UPDATED,C,h),t.on(n.MANIFEST_VALIDITY_CHANGED,O,h),h}s.__dashjs_factory_name="RepresentationController",n.default=o.default.getClassFactory(s),t.exports=n.default},{108:108,225:225,47:47}],63:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(59)),o=r(e(60));function s(e){e=e||{};var t=this.context,n=e.eventBus,r=e.events,a=e.dashMetrics,s=e.mediaPlayerModel,u=e.errHandler,l=e.baseURLController,f=e.debug,d=e.boxParser,c=e.requestModifier,h=e.errors,p=void 0,g=void 0,m=void 0;function v(e){return"webm"===(e?e.split("/")[1]:"").toLowerCase()}function _(e){v(e.mimeType)?m.loadInitialization(e.representation):g.loadInitialization(e.representation)}function E(e){v(e.mimeType)?m.loadSegments(e.representation,e.mediaType,e.representation?e.representation.indexRange:null,e.callback):g.loadSegments(e.representation,e.mediaType,e.representation?e.representation.indexRange:null,e.callback)}return p={initialize:function(){n.on(r.SEGMENTBASE_INIT_REQUEST_NEEDED,_,p),n.on(r.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,E,p),g.initialize(),m.initialize()},reset:function(){n.off(r.SEGMENTBASE_INIT_REQUEST_NEEDED,_,p),n.off(r.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,E,p)}},g=(0,i.default)(t).getInstance(),m=(0,o.default)(t).getInstance(),g.setConfig({baseURLController:l,dashMetrics:a,mediaPlayerModel:s,errHandler:u,eventBus:n,events:r,errors:h,debug:f,boxParser:d,requestModifier:c}),m.setConfig({baseURLController:l,dashMetrics:a,mediaPlayerModel:s,errHandler:u,eventBus:n,events:r,errors:h,debug:f,requestModifier:c}),p}s.__dashjs_factory_name="SegmentBaseController";var u=a.default.getSingletonFactory(s);n.default=u,t.exports=n.default},{47:47,59:59,60:60}],64:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(83)),o=r(e(81)),s=r(e(77)),u=r(e(79));function l(e){e=e||{};var t,n=this.context,r=e.events,a=e.eventBus,l=e.dashConstants,f=void 0;function d(e){return e?e.segments?f[l.SEGMENT_BASE]:f[e.segmentInfoType]:null}return t={initialize:function(t){f[l.SEGMENT_TIMELINE]=(0,i.default)(n).create(e,t),f[l.SEGMENT_TEMPLATE]=(0,o.default)(n).create(e,t),f[l.SEGMENT_LIST]=(0,s.default)(n).create(e,t),f[l.SEGMENT_BASE]=(0,u.default)(n).create(e,t)},update:function(e,t,n,i,o){i||a.trigger(r.SEGMENTBASE_INIT_REQUEST_NEEDED,{mimeType:n,representation:e}),o||a.trigger(r.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,{mimeType:n,mediaType:t,representation:e})},getSegmentByIndex:function(e,t,n){var r=d(e);return r?r.getSegmentByIndex(e,t,n):null},getSegmentByTime:function(e,t){var n=d(e);return n?n.getSegmentByTime(e,t):null}},f={},t}l.__dashjs_factory_name="SegmentsController";var f=a.default.getClassFactory(l);n.default=f,t.exports=n.default},{47:47,77:77,79:79,81:81,83:83}],65:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(61)),o=r(e(92)),s=r(e(84)),u=r(e(91)),l=r(e(90)),f=r(e(96)),d=r(e(86)),c=r(e(85)),v=r(e(87)),_=r(e(216)),E=r(e(220)),T=r(e(47)),S=r(e(45)),I=r(e(225)),R=r(e(51)),b=e(204);function w(){var e,t=void 0,n=void 0,r=void 0,T=this.context,w=(0,E.default)(T).getInstance(),M=g.default||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function D(e,t){var n,r=void 0,o=void 0,s=void 0,u=void 0,l=void 0,f=!1,d=!1;if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(e.hasOwnProperty("ContentComponent_asArray")&&(s=e.ContentComponent_asArray),u=t!==a.default.TEXT?new RegExp(t):new RegExp("(vtt|ttml)"),e.Representation_asArray&&e.Representation_asArray.length&&0<e.Representation_asArray.length){var c,h=U(e.Representation_asArray[0]);if(h&&0<h.length&&0<=(0,W.default)(c=b.THUMBNAILS_SCHEME_ID_URIS).call(c,h[0].schemeIdUri))return t===a.default.IMAGE;if(e.Representation_asArray[0].hasOwnProperty(i.default.CODECS)&&(0===(l=e.Representation_asArray[0].codecs).search(a.default.STPP)||0===l.search(a.default.WVTT)))return t===a.default.FRAGMENTED_TEXT}if(s){if(1<s.length)return t===a.default.MUXED;s[0]&&s[0].contentType===t&&(d=f=!0)}if(e.hasOwnProperty(i.default.MIME_TYPE)&&(f=u.test(e.mimeType),d=!0),!d)for(r=0,n=e.Representation_asArray&&e.Representation_asArray.length?e.Representation_asArray.length:0;!d&&r<n;)(o=e.Representation_asArray[r]).hasOwnProperty(i.default.MIME_TYPE)&&(f=u.test(o.mimeType),d=!0),r++;return f}function N(e){return"text/vtt"===e||"application/ttml+xml"===e}function L(){return function(e,t){return e.bandwidth-t.bandwidth}}function x(e){var t;return e&&(0,V.default)(e.Representation_asArray)&&(0,m.default)(t=e.Representation_asArray).call(t,(function(e,t){return e.bandwidth-t.bandwidth})),e}function P(e,t){return e&&e.Period_asArray&&M(t)&&e.Period_asArray[t]?e.Period_asArray[t].AdaptationSet_asArray:[]}function F(e){var t=!1;return e&&e.hasOwnProperty("type")&&(t=e.type===i.default.DYNAMIC),t}function U(e){var t;return e&&e.EssentialProperty_asArray&&e.EssentialProperty_asArray.length?(0,C.default)(t=e.EssentialProperty_asArray).call(t,(function(e){return{schemeIdUri:e.schemeIdUri,value:e.value}})):null}function k(e){if(e&&e.period&&M(e.period.index)){var t=e.period.mpd.manifest.Period_asArray[e.period.index];if(t&&t.AdaptationSet_asArray&&M(e.index))return x(t.AdaptationSet_asArray[e.index])}}function B(e){var t=e.S_asArray[e.S_asArray.length-1];return!t.hasOwnProperty("r")||0<=t.r}function G(e,t){var n=[],r=void 0;if(!e)return n;for(r=0;r<e.length;r++){var o=new v.default;if(o.timescale=1,o.representation=t,!e[r].hasOwnProperty(a.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");o.schemeIdUri=e[r].schemeIdUri,e[r].hasOwnProperty(i.default.TIMESCALE)&&(o.timescale=e[r].timescale),e[r].hasOwnProperty(i.default.VALUE)&&(o.value=e[r].value),n.push(o)}return n}function q(e){var t=[],n=e.BaseURL_asArray||[e.baseUri],r=!1;return(0,y.default)(n).call(n,(function(n){if(n){var a=new c.default,o=n.__text||n;return w.isRelative(o)&&(r=!0,e.baseUri&&(o=w.resolve(o,e.baseUri))),a.url=o,n.hasOwnProperty(i.default.SERVICE_LOCATION)&&n.serviceLocation.length?a.serviceLocation=n.serviceLocation:a.serviceLocation=o,n.hasOwnProperty(i.default.DVB_PRIORITY)&&(a.dvb_priority=n[i.default.DVB_PRIORITY]),n.hasOwnProperty(i.default.DVB_WEIGHT)&&(a.dvb_weight=n[i.default.DVB_WEIGHT]),n.hasOwnProperty(i.default.AVAILABILITY_TIME_OFFSET)&&(a.availabilityTimeOffset=n[i.default.AVAILABILITY_TIME_OFFSET]),n.hasOwnProperty(i.default.AVAILABILITY_TIME_COMPLETE)&&(a.availabilityTimeComplete="false"!==n[i.default.AVAILABILITY_TIME_COMPLETE]),t.push(a),r}})),t}return e={getIsTypeOf:D,getIsTextTrack:N,getLanguageForAdaptation:function(e){var t="";return e&&e.hasOwnProperty(i.default.LANG)&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t},getViewpointForAdaptation:function(e){return e&&e.hasOwnProperty(i.default.VIEWPOINT)?e.Viewpoint:null},getRolesForAdaptation:function(e){return e&&e.hasOwnProperty(i.default.ROLE_ASARRAY)?e.Role_asArray:[]},getAccessibilityForAdaptation:function(e){return e&&e.hasOwnProperty(i.default.ACCESSIBILITY_ASARRAY)?e.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(e){return e&&e.hasOwnProperty(i.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function(e){return e&&e.hasOwnProperty(i.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function(e,t,n){var r=P(t,n);return 0<r.length&&M(e)?r[e]:null},getIndexForAdaptation:function(e,t,n){if(!e)return-1;for(var r=P(t,n),a=0;a<r.length;a++)if((0,_.default)(T).getInstance().areEqual(r[a],e))return a;return-1},getAdaptationForId:function(e,t,n){for(var r=P(t,n),a=void 0,o=(a=0,r.length);a<o;a++)if(r[a].hasOwnProperty(i.default.ID)&&r[a].id===e)return r[a];return null},getAdaptationsForType:function(e,t,n){for(var r=P(e,t),a=void 0,i=[],o=(a=0,r.length);a<o;a++)D(r[a],n)&&i.push(x(r[a]));return i},getCodec:function(e,t,n){var r,a=null;return e&&e.Representation_asArray&&0<e.Representation_asArray.length&&(r=M(t)&&0<=t&&t<e.Representation_asArray.length?e.Representation_asArray[t]:e.Representation_asArray[0])&&(a=r.mimeType+';codecs="'+r.codecs+'"',n&&void 0!==r.width&&(a+=';width="'+r.width+'";height="'+r.height+'"')),a&&a.replace(/\sprofiles=[^;]*/g,"")},getMimeType:function(e){return e&&e.Representation_asArray&&0<e.Representation_asArray.length?e.Representation_asArray[0].mimeType:null},getKID:function(e){return e&&e.hasOwnProperty(i.default.CENC_DEFAULT_KID)?e[i.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(e){if(!e||!(0,V.default)(e.Label_asArray))return[];for(var t=[],n=0;n<e.Label_asArray.length;n++)t.push({lang:e.Label_asArray[n].lang,text:e.Label_asArray[n].__text||e.Label_asArray[n]});return t},getContentProtectionData:function(e){return e&&e.hasOwnProperty(i.default.CONTENTPROTECTION_ASARRAY)&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null},getIsDynamic:F,hasProfile:function(e,t){var n,r=!1;return e&&e.profiles&&0<e.profiles.length&&(r=-1!==(0,W.default)(n=e.profiles).call(n,t)),r},getDuration:function(e){return e&&e.hasOwnProperty(i.default.MEDIA_PRESENTATION_DURATION)?e.mediaPresentationDuration:e&&"dynamic"==e.type?Number.POSITIVE_INFINITY:p.default||Number.MAX_VALUE},getBandwidth:function(e){return e&&e.bandwidth?e.bandwidth:NaN},getManifestUpdatePeriod:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=NaN;return e&&e.hasOwnProperty(i.default.MINIMUM_UPDATE_PERIOD)&&(n=e.minimumUpdatePeriod),isNaN(n)?n:Math.max(n-t,1)},getRepresentationCount:function(e){return e&&(0,V.default)(e.Representation_asArray)?e.Representation_asArray.length:0},getBitrateListForAdaptation:function(e){var t,n=x(e);return(0,C.default)(t=n&&(0,V.default)(n.Representation_asArray)?n.Representation_asArray:[]).call(t,(function(e){return{bandwidth:e.bandwidth,width:e.width||0,height:e.height||0,scanType:e.scanType||null,id:e.id||null}}))},getRepresentationFor:function(e,t){return t&&t.Representation_asArray&&0<t.Representation_asArray.length&&M(e)?t.Representation_asArray[e]:null},getRepresentationsForAdaptation:function(e){var t,n,r,a,s,u,l=[],f=k(e),d=void 0,c=void 0;if(f&&f.Representation_asArray){e&&e.period&&M(e.period.index)&&(t=q(e.period.mpd.manifest))&&(c=t[0]);for(var h=0,p=f.Representation_asArray.length;h<p;++h){var g,m=f.Representation_asArray[h],v=new o.default;v.index=h,v.adaptation=e,m.hasOwnProperty(i.default.ID)&&(v.id=m.id),m.hasOwnProperty(i.default.CODECS)&&(v.codecs=m.codecs),m.hasOwnProperty(i.default.CODEC_PRIVATE_DATA)&&(v.codecPrivateData=m.codecPrivateData),m.hasOwnProperty(i.default.BANDWITH)&&(v.bandwidth=m.bandwidth),m.hasOwnProperty(i.default.WIDTH)&&(v.width=m.width),m.hasOwnProperty(i.default.HEIGHT)&&(v.height=m.height),m.hasOwnProperty(i.default.SCAN_TYPE)&&(v.scanType=m.scanType),m.hasOwnProperty(i.default.MAX_PLAYOUT_RATE)&&(v.maxPlayoutRate=m.maxPlayoutRate),m.hasOwnProperty(i.default.SEGMENT_BASE)?(d=m.SegmentBase,v.segmentInfoType=i.default.SEGMENT_BASE):m.hasOwnProperty(i.default.SEGMENT_LIST)?(d=m.SegmentList).hasOwnProperty(i.default.SEGMENT_TIMELINE)?(v.segmentInfoType=i.default.SEGMENT_TIMELINE,v.useCalculatedLiveEdgeTime=B(d.SegmentTimeline)):(v.segmentInfoType=i.default.SEGMENT_LIST,v.useCalculatedLiveEdgeTime=!0):m.hasOwnProperty(i.default.SEGMENT_TEMPLATE)?((d=m.SegmentTemplate).hasOwnProperty(i.default.SEGMENT_TIMELINE)?(v.segmentInfoType=i.default.SEGMENT_TIMELINE,v.useCalculatedLiveEdgeTime=B(d.SegmentTimeline)):v.segmentInfoType=i.default.SEGMENT_TEMPLATE,d.hasOwnProperty(i.default.INITIALIZATION_MINUS)&&(v.initialization=d.initialization.split("$Bandwidth$").join(m.bandwidth).split("$RepresentationID$").join(m.id))):v.segmentInfoType=i.default.BASE_URL,v.essentialProperties=U(m),d&&(d.hasOwnProperty(i.default.INITIALIZATION)?((g=d.Initialization).hasOwnProperty(i.default.SOURCE_URL)&&(v.initialization=g.sourceURL),g.hasOwnProperty(i.default.RANGE)&&(v.range=g.range)):m.hasOwnProperty(i.default.MIME_TYPE)&&N(m.mimeType)&&(v.range=0),d.hasOwnProperty(i.default.TIMESCALE)&&(v.timescale=d.timescale),d.hasOwnProperty(i.default.DURATION)?v.segmentDuration=d.duration/v.timescale:m.hasOwnProperty(i.default.SEGMENT_TEMPLATE)&&(d=m.SegmentTemplate).hasOwnProperty(i.default.SEGMENT_TIMELINE)&&(v.segmentDuration=(s=void 0,s=(a=d.SegmentTimeline).S_asArray[0],u=a.S_asArray[1],(s.hasOwnProperty("d")?s.d:u.t-s.t)/v.timescale)),d.hasOwnProperty(i.default.MEDIA)&&(v.media=d.media),d.hasOwnProperty(i.default.START_NUMBER)&&(v.startNumber=d.startNumber),d.hasOwnProperty(i.default.INDEX_RANGE)&&(v.indexRange=d.indexRange),d.hasOwnProperty(i.default.PRESENTATION_TIME_OFFSET)&&(v.presentationTimeOffset=d.presentationTimeOffset/v.timescale),d.hasOwnProperty(i.default.AVAILABILITY_TIME_OFFSET)?v.availabilityTimeOffset=d.availabilityTimeOffset:c&&void 0!==c.availabilityTimeOffset&&(v.availabilityTimeOffset=c.availabilityTimeOffset),d.hasOwnProperty(i.default.AVAILABILITY_TIME_COMPLETE)?v.availabilityTimeComplete="false"!==d.availabilityTimeComplete:c&&void 0!==c.availabilityTimeComplete&&(v.availabilityTimeComplete=c.availabilityTimeComplete)),v.MSETimeOffset=(void 0,r=(n=v).presentationTimeOffset,n.adaptation.period.start-r),v.path=[e.period.index,e.index,h],l.push(v)}}return l},getAdaptationsForPeriod:function(e){var t=e&&M(e.index)?e.mpd.manifest.Period_asArray[e.index]:null,n=[],r=void 0,o=void 0,u=void 0;if(t&&t.AdaptationSet_asArray)for(u=0;u<t.AdaptationSet_asArray.length;u++)o=t.AdaptationSet_asArray[u],r=new s.default,o.hasOwnProperty(i.default.ID)&&(r.id=o.id),r.index=u,r.period=e,D(o,a.default.MUXED)?r.type=a.default.MUXED:D(o,a.default.AUDIO)?r.type=a.default.AUDIO:D(o,a.default.VIDEO)?r.type=a.default.VIDEO:D(o,a.default.FRAGMENTED_TEXT)?r.type=a.default.FRAGMENTED_TEXT:D(o,a.default.IMAGE)?r.type=a.default.IMAGE:r.type=a.default.TEXT,n.push(r);return n},getRegularPeriods:function(e){for(var r=!!e&&F(e.manifest),o=[],s=null,l=null,f=null,d=null,c=void 0,h=(c=0,e&&e.manifest&&e.manifest.Period_asArray?e.manifest.Period_asArray.length:0);c<h;c++)(l=e.manifest.Period_asArray[c]).hasOwnProperty(i.default.START)?(d=new u.default).start=l.start:null!==s&&s.hasOwnProperty(i.default.DURATION)&&null!==f?(d=new u.default).start=(0,O.default)((f.start+f.duration).toFixed(5)):0!==c||r||((d=new u.default).start=0),null!==f&&isNaN(f.duration)&&(null!==d?f.duration=(0,O.default)((d.start-f.start).toFixed(5)):t.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==d&&(d.id=function(e,t){if(!e)throw new Error("Period cannot be null or undefined");var n=u.default.DEFAULT_ID+"_"+t;return e.hasOwnProperty(i.default.ID)&&0<e.id.length&&"__proto__"!==e.id&&(n=e.id),n}(l,c),d.index=c,d.mpd=e,l.hasOwnProperty(i.default.DURATION)&&(d.duration=l.duration),o.push(d),s=l,f=d),d=l=null;return 0===o.length||null!==f&&isNaN(f.duration)&&(f.duration=(0,O.default)((function(e){!function(){if(!n||!n.hasOwnProperty("error"))throw new Error(a.default.MISSING_CONFIG_ERROR)}();var t=F(e.mpd.manifest),r=void 0;return e.mpd.manifest.mediaPresentationDuration?r=e.mpd.manifest.mediaPresentationDuration:e.duration?r=e.duration:t?r=Number.POSITIVE_INFINITY:n.error(new I.default(R.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",e)),r}(f)-f.start).toFixed(5))),o},getMpd:function(e){var t=new l.default;return e&&((t.manifest=e).hasOwnProperty(i.default.AVAILABILITY_START_TIME)?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):e.loadedTime&&(t.availabilityStartTime=new Date(e.loadedTime.getTime())),e.hasOwnProperty(i.default.AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty(i.default.MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty(i.default.MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty(i.default.SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty(i.default.TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty(i.default.MAX_SEGMENT_DURATION)&&(t.maxSegmentDuration=e.maxSegmentDuration)),t},getEventsForPeriod:function(e){var t=e&&e.mpd&&e.mpd.manifest?e.mpd.manifest:null,n=t?t.Period_asArray:null,o=n&&e&&M(e.index)?n[e.index].EventStream_asArray:null,s=[],u=void 0,l=void 0;if(o)for(u=0;u<o.length;u++){var f=new v.default;if(f.period=e,f.timescale=1,!o[u].hasOwnProperty(a.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(f.schemeIdUri=o[u].schemeIdUri,o[u].hasOwnProperty(i.default.TIMESCALE)&&(f.timescale=o[u].timescale),o[u].hasOwnProperty(i.default.VALUE)&&(f.value=o[u].value),l=0;o[u].Event_asArray&&l<o[u].Event_asArray.length;l++){var c,h=new d.default;h.presentationTime=0,h.eventStream=f,o[u].Event_asArray[l].hasOwnProperty(i.default.PRESENTATION_TIME)&&(h.presentationTime=o[u].Event_asArray[l].presentationTime,c=f.presentationTimeOffset?f.presentationTimeOffset*f.timescale:0,h.calculatedPresentationTime=h.presentationTime+e.start*f.timescale+c),o[u].Event_asArray[l].hasOwnProperty(i.default.DURATION)&&(h.duration=o[u].Event_asArray[l].duration),o[u].Event_asArray[l].hasOwnProperty(i.default.ID)&&(h.id=o[u].Event_asArray[l].id),o[u].Event_asArray[l].Signal&&o[u].Event_asArray[l].Signal.Binary?h.messageData=r.decodeArray(o[u].Event_asArray[l].Signal.Binary.toString()):h.messageData=o[u].Event_asArray[l].messageData||o[u].Event_asArray[l].__text,s.push(h)}}return s},getEventStreamForAdaptationSet:function(e,t){var n,r,a=void 0;return e&&e.Period_asArray&&t&&t.period&&M(t.period.index)&&(n=e.Period_asArray[t.period.index])&&n.AdaptationSet_asArray&&M(t.index)&&(r=n.AdaptationSet_asArray[t.index])&&(a=r.InbandEventStream_asArray),G(a,null)},getEventStreamForRepresentation:function(e,t){var n,r,a,i=void 0;return e&&e.Period_asArray&&t&&t.adaptation&&t.adaptation.period&&M(t.adaptation.period.index)&&(n=e.Period_asArray[t.adaptation.period.index])&&n.AdaptationSet_asArray&&M(t.adaptation.index)&&(r=n.AdaptationSet_asArray[t.adaptation.index])&&r.Representation_asArray&&M(t.index)&&(a=r.Representation_asArray[t.index])&&(i=a.InbandEventStream_asArray),G(i,t)},getUTCTimingSources:function(e){var t=F(e),n=!!e&&e.hasOwnProperty(i.default.AVAILABILITY_START_TIME),r=e?e.UTCTiming_asArray:null,o=[];return(t||n)&&r&&(0,A.default)(r).call(r,(function(e){var t=new f.default;e.hasOwnProperty(a.default.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty(i.default.VALUE)&&(t.value=e.value.toString(),o.push(t)))})),o},getBaseURLsFromElement:q,getRepresentationSortFunction:L,getLocation:function(e){if(e&&e.hasOwnProperty(a.default.LOCATION))return e.Location=e.Location_asArray[0],e.Location},getUseCalculatedLiveEdgeTimeForAdaptation:function(e){var t=k(e),n=t&&(0,V.default)(t.Representation_asArray)?t.Representation_asArray[0]:null,r=void 0;if(n){if(n.hasOwnProperty(i.default.SEGMENT_LIST))return!(r=n.SegmentList).hasOwnProperty(i.default.SEGMENT_TIMELINE)||B(r.SegmentTimeline);if(n.hasOwnProperty(i.default.SEGMENT_TEMPLATE)&&(r=n.SegmentTemplate).hasOwnProperty(i.default.SEGMENT_TIMELINE))return B(r.SegmentTimeline)}return!1},getSuggestedPresentationDelay:function(e){return e&&e.hasOwnProperty(i.default.SUGGESTED_PRESENTATION_DELAY)?e.suggestedPresentationDelay:null},getAvailabilityStartTime:function(e){return e&&e.hasOwnProperty(i.default.AVAILABILITY_START_TIME)&&null!==e.availabilityStartTime?e.availabilityStartTime.getTime():null},getServiceDescriptions:function(e){var t=[];if(e&&e.hasOwnProperty(i.default.SERVICE_DESCRIPTION)){var n=!0,r=!1,o=void 0;try{for(var s,u=(0,h.default)(e.ServiceDescription_asArray);!(n=(s=u.next()).done);n=!0){var l=s.value,f=void 0,d=void 0,c=void 0,p=void 0;for(var g in l)l.hasOwnProperty(g)&&(g===i.default.ID?f=l[g]:g===i.default.SERVICE_DESCRIPTION_SCOPE?d=l[g].schemeIdUri:g===i.default.SERVICE_DESCRIPTION_LATENCY?c={target:l[g].target,max:l[g].max,min:l[g].min}:g===i.default.SERVICE_DESCRIPTION_PLAYBACK_RATE&&(p={max:l[g].max,min:l[g].min}));d===a.default.SERVICE_DESCRIPTION_LL_SCHEME&&(c||p)&&t.push({id:f,schemeIdUri:d,latency:c,playbackRate:p})}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}}return t},getSupplementalPropperties:function(e){var t={};if(e&&e.hasOwnProperty(i.default.SUPPLEMENTAL_PROPERTY)){var n=!0,r=!1,o=void 0;try{for(var s,u=(0,h.default)(e.SupplementalProperty_asArray);!(n=(s=u.next()).done);n=!0){var l=s.value;l.hasOwnProperty(a.default.SCHEME_ID_URI)&&l.hasOwnProperty(i.default.VALUE)&&(t[l[a.default.SCHEME_ID_URI]]=l[i.default.VALUE])}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}}return t},setConfig:function(e){e&&(e.errHandler&&(n=e.errHandler),e.BASE64&&(r=e.BASE64))}},t=(0,S.default)(T).getInstance().getLogger(e),e}w.__dashjs_factory_name="DashManifestModel",n.default=T.default.getSingletonFactory(w),t.exports=n.default},{108:108,204:204,216:216,220:220,225:225,45:45,47:47,51:51,61:61,84:84,85:85,86:86,87:87,90:90,91:91,92:92,96:96}],66:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(76)),o=r(e(3)),s=r(e(75)),u=r(e(73)),l=r(e(72)),f=r(e(74)),d=r(e(69)),c=r(e(70));function h(e){e=e||{};var t,n=this.context,r=e.debug,a=void 0,h=void 0,p=void 0,g=void 0;return t={parse:function(e){var t=void 0,n=window.performance.now();if(!(t=p.xml_str2json(e)))throw new Error("parsing the manifest failed");var r=window.performance.now();g.run(t);var i=window.performance.now();return a.info("Parsing complete: ( xml2json: "+(r-n).toPrecision(3)+"ms, objectiron: "+(i-r).toPrecision(3)+"ms, total: "+((i-n)/1e3).toPrecision(3)+"s)"),t.protocol="DASH",t},getMatchers:function(){return h},getIron:function(){return g}},a=r.getLogger(t),h=[new u.default,new l.default,new f.default,new s.default],p=new o.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!0,matchers:h}),g=(0,i.default)(n).create({adaptationset:new d.default,period:new c.default}),t}h.__dashjs_factory_name="DashParser",n.default=a.default.getClassFactory(h),t.exports=n.default},{3:3,47:47,69:69,70:70,72:72,73:73,74:74,75:75,76:76}],67:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}(0,X.default)(n,"__esModule",{value:!0});var a=(function(e,t,n){t&&r(e.prototype,t)}(i,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this._name=e,this._merge=(t=e)&&t.length&&t.charAt(0)===t.charAt(0).toUpperCase()}n.default=a,t.exports=n.default},{}],68:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}var a,i=(a=e(67))&&a.__esModule?a:{default:a},o=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(s,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),s);function s(e,t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this._name=e||"",this._properties=[],this._children=n||[],(0,V.default)(t)&&(0,A.default)(t).call(t,(function(e){r._properties.push(new i.default(e))}))}n.default=o,t.exports=n.default},{67:67}],69:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}var a=r(e(68)),i=r(e(61)),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(s,a.default),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var e=[i.default.PROFILES,i.default.WIDTH,i.default.HEIGHT,i.default.SAR,i.default.FRAMERATE,i.default.AUDIO_SAMPLING_RATE,i.default.MIME_TYPE,i.default.SEGMENT_PROFILES,i.default.CODECS,i.default.MAXIMUM_SAP_PERIOD,i.default.START_WITH_SAP,i.default.MAX_PLAYOUT_RATE,i.default.CODING_DEPENDENCY,i.default.SCAN_TYPE,i.default.FRAME_PACKING,i.default.AUDIO_CHANNEL_CONFIGURATION,i.default.CONTENT_PROTECTION,i.default.ESSENTIAL_PROPERTY,i.default.SUPPLEMENTAL_PROPERTY,i.default.INBAND_EVENT_STREAM];(function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}})((0,w.default)(s.prototype),"constructor",this).call(this,i.default.ADAPTATION_SET,e,[new a.default(i.default.REPRESENTATION,e,[new a.default(i.default.SUB_REPRESENTATION,e)])])}n.default=o,t.exports=n.default},{61:61,68:68}],70:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}var a=r(e(68)),i=r(e(61)),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(s,a.default),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var e=[i.default.SEGMENT_BASE,i.default.SEGMENT_TEMPLATE,i.default.SEGMENT_LIST];(function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}})((0,w.default)(s.prototype),"constructor",this).call(this,i.default.PERIOD,e,[new a.default(i.default.ADAPTATION_SET,e,[new a.default(i.default.REPRESENTATION,e)])])}n.default=o,t.exports=n.default},{61:61,68:68}],71:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}(0,X.default)(n,"__esModule",{value:!0});var a=(function(e,t,n){t&&r(e.prototype,t)}(i,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),i);function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this._test=e,this._converter=t}n.default=a,t.exports=n.default},{}],72:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(71))&&r.__esModule?r:{default:r},i=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(s,a.default),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}}((0,w.default)(s.prototype),"constructor",this).call(this,(function(e){return i.test(e.value)}),(function(e){var t,n=i.exec(e),r=void 0;r=Date.UTC((0,B.default)(n[1],10),(0,B.default)(n[2],10)-1,(0,B.default)(n[3],10),(0,B.default)(n[4],10),(0,B.default)(n[5],10),n[6]&&(0,B.default)(n[6],10)||0,n[7]&&1e3*(0,O.default)(n[7])||0);return n[9]&&n[10]&&(t=60*(0,B.default)(n[9],10)+(0,B.default)(n[10],10),r+=("+"===n[8]?-1:1)*t*60*1e3),new Date(r)}))}n.default=o,t.exports=n.default},{71:71}],73:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}var a=r(e(71)),i=r(e(108)),o=r(e(61)),s=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(l,a.default),l);function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}}((0,w.default)(l.prototype),"constructor",this).call(this,(function(e){for(var t=[o.default.MIN_BUFFER_TIME,o.default.MEDIA_PRESENTATION_DURATION,o.default.MINIMUM_UPDATE_PERIOD,o.default.TIMESHIFT_BUFFER_DEPTH,o.default.MAX_SEGMENT_DURATION,o.default.MAX_SUBSEGMENT_DURATION,o.default.SUGGESTED_PRESENTATION_DELAY,o.default.START,i.default.START_TIME,o.default.DURATION],n=t.length,r=0;r<n;r++)if(e.nodeName===t[r])return s.test(e.value);return!1}),(function(e){var t=s.exec(e),n=31536e3*(0,O.default)(t[3]||0)+2592e3*(0,O.default)(t[5]||0)+86400*(0,O.default)(t[7]||0)+3600*(0,O.default)(t[9]||0)+60*(0,O.default)(t[11]||0)+(0,O.default)(t[13]||0);return void 0!==t[1]&&(n=-n),n}))}n.default=u,t.exports=n.default},{108:108,61:61,71:71}],74:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(71))&&r.__esModule?r:{default:r},i=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(s,a.default),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}}((0,w.default)(s.prototype),"constructor",this).call(this,(function(e){return i.test(e.value)}),(function(e){return(0,O.default)(e)}))}n.default=o,t.exports=n.default},{71:71}],75:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?(0,X.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=r(e(71)),o=r(e(61)),s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(u,i.default),u);function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}}((0,w.default)(u.prototype),"constructor",this).call(this,(function(e,t){var n,r=(a(n={},o.default.MPD,[o.default.ID,o.default.PROFILES]),a(n,o.default.PERIOD,[o.default.ID]),a(n,o.default.BASE_URL,[o.default.SERVICE_LOCATION,o.default.BYTE_RANGE]),a(n,o.default.SEGMENT_BASE,[o.default.INDEX_RANGE]),a(n,o.default.INITIALIZATION,[o.default.RANGE]),a(n,o.default.REPRESENTATION_INDEX,[o.default.RANGE]),a(n,o.default.SEGMENT_LIST,[o.default.INDEX_RANGE]),a(n,o.default.BITSTREAM_SWITCHING,[o.default.RANGE]),a(n,o.default.SEGMENT_URL,[o.default.MEDIA_RANGE,o.default.INDEX_RANGE]),a(n,o.default.SEGMENT_TEMPLATE,[o.default.INDEX_RANGE,o.default.MEDIA,o.default.INDEX,o.default.INITIALIZATION_MINUS,o.default.BITSTREAM_SWITCHING_MINUS]),a(n,o.default.ASSET_IDENTIFIER,[o.default.VALUE,o.default.ID]),a(n,o.default.EVENT_STREAM,[o.default.VALUE]),a(n,o.default.ADAPTATION_SET,[o.default.PROFILES,o.default.MIME_TYPE,o.default.SEGMENT_PROFILES,o.default.CODECS,o.default.CONTENT_TYPE]),a(n,o.default.FRAME_PACKING,[o.default.VALUE,o.default.ID]),a(n,o.default.AUDIO_CHANNEL_CONFIGURATION,[o.default.VALUE,o.default.ID]),a(n,o.default.CONTENT_PROTECTION,[o.default.VALUE,o.default.ID]),a(n,o.default.ESSENTIAL_PROPERTY,[o.default.VALUE,o.default.ID]),a(n,o.default.SUPPLEMENTAL_PROPERTY,[o.default.VALUE,o.default.ID]),a(n,o.default.INBAND_EVENT_STREAM,[o.default.VALUE,o.default.ID]),a(n,o.default.ACCESSIBILITY,[o.default.VALUE,o.default.ID]),a(n,o.default.ROLE,[o.default.VALUE,o.default.ID]),a(n,o.default.RATING,[o.default.VALUE,o.default.ID]),a(n,o.default.VIEWPOINT,[o.default.VALUE,o.default.ID]),a(n,o.default.CONTENT_COMPONENT,[o.default.CONTENT_TYPE]),a(n,o.default.REPRESENTATION,[o.default.ID,o.default.DEPENDENCY_ID,o.default.MEDIA_STREAM_STRUCTURE_ID]),a(n,o.default.SUBSET,[o.default.ID]),a(n,o.default.METRICS,[o.default.METRICS_MINUS]),a(n,o.default.REPORTING,[o.default.VALUE,o.default.ID]),n);if(r.hasOwnProperty(t)){var i=r[t];return void 0!==i&&0<=(0,W.default)(i).call(i,e.name)}return!1}),(function(e){return String(e)}))}n.default=s,t.exports=n.default},{61:61,71:71}],76:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r};function i(e){function t(e,t,n){for(var r=0,a=e.length;r<a;++r){var i,o,s=e[r];t[s.name]&&(n[s.name]?s.merge&&(i=t[s.name],o=n[s.name],"object"==(0,j.default)(i)&&"object"==(0,j.default)(o)?function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(i,o):n[s.name]=i+o):n[s.name]=t[s.name])}}function n(e,r){for(var a=0,i=e.children.length;a<i;++a){var o=e.children[a],s=r[o.name+"_asArray"];if(s)for(var u=0,l=s.length;u<l;++u){var f=s[u];t(e.properties,r,f),n(o,f)}}}return{run:function(t){if(null===t||"object"!=(0,j.default)(t))return t;if("period"in e)for(var r=e.period,a=t.Period_asArray,i=0,o=a.length;i<o;++i){var s=a[i];if(n(r,s),"adaptationset"in e){var u=s.AdaptationSet_asArray;if(u)for(var l=e.adaptationset,f=0,d=u.length;f<d;++f)n(l,u[f])}}return t}}}i.__dashjs_factory_name="ObjectIron";var o=a.default.getClassFactory(i);n.default=o,t.exports=n.default},{47:47}],77:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(108)),o=e(80);function s(e,t){var n=(e=e||{}).timelineConverter;function r(){if(!n||!n.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(i.default.MISSING_CONFIG_ERROR)}function a(e,a){if(r(),!e)return null;var i,s=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,u=s.SegmentURL_asArray.length,l=e.startNumber,f=null;return a<u&&(i=s.SegmentURL_asArray[a],(f=(0,o.getIndexBasedSegment)(n,t,e,a))&&(f.replacementTime=(l+a-1)*e.segmentDuration,f.media=i.media?i.media:"",f.mediaRange=i.mediaRange,f.index=a,f.indexRange=i.indexRange)),e.availableSegmentsNumber=u,f}return{getSegmentByIndex:a,getSegmentByTime:function(e,t){if(r(),!e)return null;var i=e.segmentDuration;if(isNaN(i))return null;var o=n.calcPeriodRelativeTimeFromMpdRelativeTime(e,t);return a(e,Math.floor(o/i))}}}s.__dashjs_factory_name="ListSegmentsGetter";var u=a.default.getClassFactory(s);n.default=u,t.exports=n.default},{108:108,47:47,80:80}],78:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}(0,X.default)(n,"__esModule",{value:!0});var a=(function(e,t,n){n&&r(e,n)}(i,0,[{key:"round10",value:function(e,t){return n="round",r=e,void 0!==(a=t)&&0!=+a?(a=+a,null===(r=+r)||isNaN(r)||"number"!=typeof a||a%1!=0?NaN:(r=r.toString().split("e"),+((r=(r=Math[n](+(r[0]+"e"+(r[1]?r[1]-a:-a)))).toString().split("e"))[0]+"e"+(r[1]?+r[1]+a:a)))):Math[n](r);var n,r,a}}]),i);function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i)}n.default=a,t.exports=n.default},{}],79:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(108));function o(e){var t=(e=e||{}).timelineConverter;function n(){if(!t||!t.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(i.default.MISSING_CONFIG_ERROR)}function r(e,t){if(n(),!e)return null;var r=e.segments?e.segments.length:-1,a=void 0;if(t<r&&(a=e.segments[t])&&a.availabilityIdx===t)return a;for(var i=0;i<r;i++)if((a=e.segments[i])&&a.availabilityIdx===t)return a;return null}return{getSegmentByIndex:r,getSegmentByTime:function(e,a){return n(),r(e,function(e,t){if(!e)return-1;var n=e.segments,r=n?n.length:null,a=-1,i=void 0,o=void 0,s=void 0,u=void 0,l=void 0;if(n&&0<r)for(l=0;l<r;l++)if((s=(o=n[l]).presentationStartTime)<=t+(i=(u=o.duration)/2)&&t-i<s+u){a=o.availabilityIdx;break}return a}(e,t.calcPeriodRelativeTimeFromMpdRelativeTime(e,a)))}}}o.__dashjs_factory_name="SegmentBaseGetter";var s=a.default.getClassFactory(o);n.default=s,t.exports=n.default},{108:108,47:47}],80:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.unescapeDollarsInTemplate=function(e){return e?e.split("$$").join("$"):e},n.replaceIDForTemplate=function(e,t){if(!t||!e||-1===(0,W.default)(e).call(e,"$RepresentationID$"))return e;var n=t.toString();return e.split("$RepresentationID$").join(n)},n.replaceTokenForTemplate=o,n.getIndexBasedSegment=function(e,t,n,r){var a,i,o=void 0;o=n.segmentDuration,isNaN(o)&&(o=n.adaptation.period.duration),a=(0,O.default)((n.adaptation.period.start+r*o).toFixed(5)),i=(0,O.default)((a+o).toFixed(5));var l=s(n,o,a,e.calcMediaTimeFromPresentationTime(a,n),e.calcAvailabilityStartTimeFromPresentationTime(a,n.adaptation.period.mpd,t),e,i,t,r);return u(e,n,l,t)?l:null},n.getTimeBasedSegment=function(e,t,n,r,a,i,l,f,d,c){var h,p,g=r/i,m=Math.min(a/i,n.adaptation.period.mpd.maxSegmentDuration),v=void 0;return p=(h=e.calcPresentationTimeFromMediaTime(g,n))+m,u(e,n,v=s(n,m,h,g,n.adaptation.period.mpd.manifest.loadedTime,e,p,t,d),t)?(v.replacementTime=c||r,l=o(l,"Number",v.replacementNumber),l=o(l,"Time",v.replacementTime),v.media=l,v.mediaRange=f,v):null};var r,a=(r=e(94))&&r.__esModule?r:{default:r};function i(e,t){for(;e.length<t;)e="0"+e;return e}function o(e,t,n){var r,a,o,s,u,l=void 0,f=t.length,d="%0".length;if(!e)return e;for(;;){if((r=(0,W.default)(e).call(e,"$"+t))<0)return e;if((a=(0,W.default)(e).call(e,"$",r+f))<0)return e;if(r<(o=(0,W.default)(e).call(e,"%0",r+f))&&o<a)switch(s=e.charAt(a-1),u=(0,B.default)(e.substring(o+d,a-1),10),s){case"d":case"i":case"u":l=i(n.toString(),u);break;case"x":l=i(n.toString(16),u);break;case"X":l=i(n.toString(16),u).toUpperCase();break;case"o":l=i(n.toString(8),u);break;default:return e}else l=n;e=e.substring(0,r)+l+e.substring(a+1)}}function s(e,t,n,r,i,o,s,u,l){var f,d=new a.default;return d.representation=e,d.duration=t,d.presentationStartTime=n,d.mediaStartTime=r,d.availabilityStartTime=i,d.availabilityEndTime=o.calcAvailabilityEndTimeFromPresentationTime(s,e.adaptation.period.mpd,u),d.wallStartTime=o.calcWallTimeForSegment(d,u),d.replacementNumber=(f=l,d.representation.startNumber+f),d.availabilityIdx=l,d}function u(e,t,n,r){var a=e.getPeriodEnd(t,r);if(e.calcPeriodRelativeTimeFromMpdRelativeTime(t,a)<=e.calcPeriodRelativeTimeFromMpdRelativeTime(t,n.presentationStartTime)){if(!r)return;if(t.segmentAvailabilityRange&&n.presentationStartTime>=t.segmentAvailabilityRange.end)return}return 1}},{94:94}],81:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(108)),o=e(80);function s(e,t){var n=(e=e||{}).timelineConverter;function r(){if(!n||!n.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(i.default.MISSING_CONFIG_ERROR)}function a(e,a){if(r(),!e)return null;var i=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate;a=Math.max(a,0);var s,u=(0,o.getIndexBasedSegment)(n,t,e,a);u&&(u.replacementTime=(a-1)*e.segmentDuration,s=i.media,s=(0,o.replaceTokenForTemplate)(s,"Number",u.replacementNumber),s=(0,o.replaceTokenForTemplate)(s,"Time",u.replacementTime),u.media=s);var l=e.segmentDuration,f=e.segmentAvailabilityRange;return isNaN(l)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((f.end-f.start)/l),u}return{getSegmentByIndex:a,getSegmentByTime:function(e,t){if(r(),!e)return null;var i=e.segmentDuration;if(isNaN(i))return null;var o=n.calcPeriodRelativeTimeFromMpdRelativeTime(e,t);return a(e,Math.floor(o/i))}}}s.__dashjs_factory_name="TemplateSegmentsGetter";var u=a.default.getClassFactory(s);n.default=u,t.exports=n.default},{108:108,47:47,80:80}],82:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(46)),i=r(e(54)),o=r(e(47)),s=r(e(61)),u=r(e(65));function l(){var e,t=this.context,n=(0,a.default)(t).getInstance(),r=void 0,o=void 0,l=void 0,f=void 0;function d(e){o=e}function c(e,t,n,r){return r?n&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:n?new Date(t.availabilityStartTime.getTime()+1e3*(e-o)):t.availabilityStartTime}function h(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*o)/1e3}function p(e){l||void 0!==e.offset&&(d(e.offset/1e3),l=!0)}function g(){o=0,l=!1,f=NaN}function m(){n.off(i.default.TIME_SYNCHRONIZATION_COMPLETED,p,this),g()}return e={initialize:function(){g(),n.on(i.default.TIME_SYNCHRONIZATION_COMPLETED,p,this)},isTimeSyncCompleted:function(){return l},setTimeSyncCompleted:function(e){l=e},getClientTimeOffset:function(){return o},setClientTimeOffset:d,getExpectedLiveEdge:function(){return f},setExpectedLiveEdge:function(e){f=e},calcAvailabilityStartTimeFromPresentationTime:function(e,t,n){return c.call(this,e,t,n)},calcAvailabilityEndTimeFromPresentationTime:function(e,t,n){return c.call(this,e,t,n,!0)},calcPresentationTimeFromWallTime:h,calcPresentationTimeFromMediaTime:function(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)},calcPeriodRelativeTimeFromMpdRelativeTime:function(e,t){return t-e.adaptation.period.start},calcMediaTimeFromPresentationTime:function(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset},calcSegmentAvailabilityRange:function(e,t){var n=e.adaptation.period,a={start:n.start,end:n.start+n.duration};if(!t)return a;if(!l&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var i=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0);if(e.segmentInfoType===s.default.SEGMENT_TIMELINE&&n.mpd.timeShiftBufferDepth===Number.POSITIVE_INFINITY)return function(e){var t,n=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],a=r.getRepresentationFor(e.index,n),i=a.SegmentTemplate.SegmentTimeline,o=a.SegmentTemplate.timescale,s=i.S_asArray,u={start:0,end:0},l=0,f=void 0,d=void 0,c=void 0;for(u.start=s[0].t/o,c=0,t=s.length;c<t;c++)d=0,(f=s[c]).hasOwnProperty("r")&&(d=f.r),l+=f.d/o*(1+d);return u.end=u.start+l,u}(e);var o=h(new Date,n),u=n.start+n.duration;a.start=Math.max(o-n.mpd.timeShiftBufferDepth,n.start);var f=void 0!==e.availabilityTimeOffset&&e.availabilityTimeOffset<i?i-e.availabilityTimeOffset:i;return a.end=u<=o&&o-f<u?u:o-f,a},getPeriodEnd:function(e,t){var n=e.adaptation.period;if(!t)return n.start+n.duration;if(!l&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var r=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0),a=h(new Date,n),i=n.start+n.duration,o=void 0!==e.availabilityTimeOffset&&e.availabilityTimeOffset<r?r-e.availabilityTimeOffset:r;return Math.min(a-o,i)},calcWallTimeForSegment:function(e,t){var n,r,a=void 0;return t&&(n=e.representation.adaptation.period.mpd.suggestedPresentationDelay,r=e.presentationStartTime+n,a=new Date(e.availabilityStartTime.getTime()+1e3*r)),a},reset:m},r=(0,u.default)(t).getInstance(),m(),e}l.__dashjs_factory_name="TimelineConverter",n.default=o.default.getSingletonFactory(l),t.exports=n.default},{46:46,47:47,54:54,61:61,65:65}],83:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(108)),o=e(80);function s(e,t){var n=(e=e||{}).timelineConverter;function r(){if(!n||!n.hasOwnProperty("calcMediaTimeFromPresentationTime")||!n.hasOwnProperty("calcSegmentAvailabilityRange"))throw new Error(i.default.MISSING_CONFIG_ERROR)}function a(e,r){for(var a,i=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,o=i.SegmentTimeline,s=i.SegmentURL_asArray,u=0,l=0,f=-1,d=void 0,c=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=e.timescale,_=!1,E=(c=0,(a=o.S_asArray).length);c<E&&!_;c++){var y;p=0;for((d=a[c]).hasOwnProperty("r")&&(p=d.r),d.hasOwnProperty("t")&&(l=(u=d.t)/v),p<0&&((m=a[c+1])&&m.hasOwnProperty("t")?g=m.t/v:(y=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:n.calcSegmentAvailabilityRange(e,t).end,g=n.calcMediaTimeFromPresentationTime(y,e),e.segmentDuration=d.d/v),p=Math.ceil((g-l)/(d.d/v))-1),h=0;h<=p&&!_;h++)(_=r(u,l,i,s,d,v,++f,c))&&(e.segmentDuration=d.d/v,(h<p-1||c<E-1)&&f++),l=(u+=d.d)/v}e.availableSegmentsNumber=f}return{getSegmentByIndex:function(e,i,s){if(r(),!e)return null;var u=null,l=!1;return a(e,(function(r,a,i,f,d,c,h,p){if(l||s<0){var g=i.media,m=d.mediaRange;return f&&(g=f[p].media||"",m=f[p].mediaRange),u=(0,o.getTimeBasedSegment)(n,t,e,r,d.d,c,g,m,h,d.tManifest),!0}return a>=s-.5*d.d/c&&(l=!0),!1})),u},getSegmentByTime:function(e,i){if(r(),!e)return null;void 0===i&&(i=null);var s=null,u=n.calcMediaTimeFromPresentationTime(i,e);return a(e,(function(r,a,i,l,f,d,c,h){if(u<a+f.d/d){var p=i.media,g=f.mediaRange;return l&&(p=l[h].media||"",g=l[h].mediaRange),s=(0,o.getTimeBasedSegment)(n,t,e,r,f.d,d,p,g,c,f.tManifest),!0}return!1})),s}}}s.__dashjs_factory_name="TimelineSegmentsGetter";var u=a.default.getClassFactory(s);n.default=u,t.exports=n.default},{108:108,47:47,80:80}],84:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.period=null,this.index=-1,this.type=null},t.exports=n.default},{}],85:[function(e,t,n){function r(e,t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.url=e||"",this.serviceLocation=t||e||"",this.dvb_priority=n||1,this.dvb_weight=a||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}(0,X.default)(n,"__esModule",{value:!0}),r.DEFAULT_DVB_PRIORITY=1,r.DEFAULT_DVB_WEIGHT=1,n.default=r,t.exports=n.default},{}],86:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},t.exports=n.default},{}],87:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""},t.exports=n.default},{}],88:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null},t.exports=n.default},{}],89:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}(0,X.default)(n,"__esModule",{value:!0});var a=(function(e,t,n){t&&r(e.prototype,t)}(i,[{key:"isMediaInfoEqual",value:function(e){if(!e)return!1;var t=this.id===e.id,n=this.viewpoint===e.viewpoint,r=this.lang===e.lang,a=this.roles.toString()===e.roles.toString(),i=this.accessibility.toString()===e.accessibility.toString(),o=this.audioChannelConfiguration.toString()===e.audioChannelConfiguration.toString();return t&&n&&r&&a&&i&&o}}]),i);function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null}n.default=a,t.exports=n.default},{}],90:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},t.exports=n.default},{}],91:[function(e,t,n){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null}(0,X.default)(n,"__esModule",{value:!0}),r.DEFAULT_ID="defaultId",n.default=r,t.exports=n.default},{}],92:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}var a,i=(a=e(61))&&a.__esModule?a:{default:a},o=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(s,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==i.default.BASE_URL&&this.segmentInfoType!==i.default.SEGMENT_BASE&&!this.indexRange}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}n.default=o,t.exports=n.default},{61:61}],93:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},t.exports=n.default},{}],94:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null},t.exports=n.default},{}],95:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},t.exports=n.default},{}],96:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri="",this.value=""},t.exports=n.default},{}],97:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(158)),o=r(e(228)),s=r(e(225)),u=r(e(47));function l(e){e=e||{};var t=this.context,n=e.eventBus,r=e.events,u=e.urlUtils,l=e.errors,f=void 0,d=void 0;return f={checkForExistence:function(e){function t(t){n.trigger(r.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})}var a;e?(a=new o.default(e.url),d.load({request:a,success:function(){t(!0)},error:function(){t(!1)}})):t(!1)},load:function(e){function t(t,a){n.trigger(r.LOADING_COMPLETED,{request:e,response:t||null,error:a||null,sender:f})}e?d.load({request:e,progress:function(t){n.trigger(r.LOADING_PROGRESS,{request:e,stream:t.stream}),t.data&&n.trigger(r.LOADING_DATA_PROGRESS,{request:e,response:t.data||null,error:null,sender:f})},success:function(e){t(e)},error:function(e,n,r){t(void 0,new s.default(l.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,r,n))},abort:function(e){e&&n.trigger(r.LOADING_ABANDONED,{request:e,mediaType:e.mediaType,sender:f})}}):t(void 0,new s.default(l.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,l.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){d&&d.abort()},reset:function(){d&&(d.abort(),d=null)}},d=(0,i.default)(t).create({errHandler:e.errHandler,errors:l,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,useFetch:e.settings.get().streaming.lowLatencyEnabled,urlUtils:u,constants:a.default,boxParser:e.boxParser,dashConstants:e.dashConstants}),f}l.__dashjs_factory_name="FragmentLoader",n.default=u.default.getClassFactory(l),t.exports=n.default},{108:108,158:158,225:225,228:228,47:47}],98:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(61)),o=r(e(123)),s=r(e(158)),u=r(e(220)),l=r(e(232)),f=r(e(225)),d=e(241),c=r(e(46)),h=r(e(54)),p=r(e(51)),g=r(e(47)),m=r(e(66));function v(e){e=e||{};var t=this.context,n=e.debug,r=(0,c.default)(t).getInstance(),g=(0,u.default)(t).getInstance(),v=void 0,_=void 0,E=void 0,y=void 0,T=void 0,S=e.mssHandler,A=e.errHandler;function I(e){r.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}return v={load:function(e){var i=new l.default(e,d.HTTPRequest.MPD_TYPE);E.load({request:i,success:function(i,o,s){if(y){var u,l,d,c=void 0,v=void 0,E=void 0;if(s&&s!==e?(v=g.parseBaseUrl(s),c=s):(g.isRelative(e)&&(e=g.resolve(e,window.location.href)),v=g.parseBaseUrl(e)),null===T&&(d=null,T=-1<(0,W.default)(u=l=i).call(u,"SmoothStreamingMedia")?(S&&(d=S.createMssParser(),S.registerEvents()),d):-1<(0,W.default)(l).call(l,"MPD")?(0,m.default)(t).create({debug:n}):d),null!==T){y.setMatchers(T.getMatchers()),y.setIron(T.getIron());try{E=T.parse(i)}catch(i){return void r.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}E?(E.url=c||e,E.originalUrl||(E.originalUrl=E.url),E.hasOwnProperty(a.default.LOCATION)&&(v=g.parseBaseUrl(E.Location_asArray[0]),_.debug("BaseURI set by Location to: "+v)),E.baseUri=v,E.loadedTime=new Date,y.resolveManifestOnLoad(E),r.trigger(h.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:i})):r.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}else r.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}},error:function(t,n,a){r.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(p.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,p.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+(e+", ")+a)})}})},reset:function(){r.off(h.default.XLINK_READY,I,v),y&&(y.reset(),y=null),E&&(E.abort(),E=null),S&&S.reset()}},_=n.getLogger(v),r.on(h.default.XLINK_READY,I,v),E=(0,s.default)(t).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,useFetch:e.settings.get().streaming.lowLatencyEnabled,urlUtils:g,constants:a.default,dashConstants:i.default,errors:p.default}),y=(0,o.default)(t).create({errHandler:A,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,settings:e.settings}),T=null,v}v.__dashjs_factory_name="ManifestLoader";var _=g.default.getClassFactory(v);n.default=_,t.exports=n.default},{108:108,123:123,158:158,220:220,225:225,232:232,241:241,46:46,47:47,51:51,54:54,61:61,66:66}],99:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(46)),i=r(e(54)),o=r(e(47)),s=r(e(45)),u=r(e(51)),l=r(e(61));function f(){var e,t=this.context,n=(0,a.default)(t).getInstance(),r=void 0,o=void 0,f=void 0,d=void 0,c=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0;function _(){o=NaN,d=!(c=!1),E()}function E(){null!==f&&(clearTimeout(f),f=null)}function y(e){E(),isNaN(e)&&!isNaN(o)&&(e=1e3*o),isNaN(e)||(r.debug("Refresh manifest in "+e+" milliseconds."),f=(0,D.default)(A,e))}function T(){c=!0;var e=p.getValue(),t=e.url,n=g.getLocation(e);n&&(t=n),h.load(t)}function S(e){var t,a;p.getValue()&&p.getValue().type===l.default.DYNAMIC&&e.type===l.default.STATIC?n.trigger(i.default.DYNAMIC_STREAM_COMPLETED):(p.setValue(e),a=((t=new Date).getTime()-e.loadedTime.getTime())/1e3,2147483647<1e3*(o=g.getManifestUpdatePeriod(e,a))&&(o=2147483.647),n.trigger(i.default.MANIFEST_UPDATED,{manifest:e}),r.info("Manifest has been refreshed at "+t+"["+t.getTime()/1e3+"] "),d||y())}function A(){d&&!v.get().streaming.scheduleWhilePaused||(c?y(v.get().streaming.manifestUpdateRetryInterval):T())}function I(e){e.error?e.error.code===u.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&m.error(e.error):S(e.manifest)}function R(){d=!1,y()}function b(){d=!0,E()}function w(){c=!1}return e={initialize:function(){_(),n.on(i.default.STREAMS_COMPOSED,w,this),n.on(i.default.PLAYBACK_STARTED,R,this),n.on(i.default.PLAYBACK_PAUSED,b,this),n.on(i.default.INTERNAL_MANIFEST_LOADED,I,this)},setManifest:function(e){S(e)},refreshManifest:T,setConfig:function(e){e&&(e.manifestModel&&(p=e.manifestModel),e.adapter&&(g=e.adapter),e.manifestLoader&&(h=e.manifestLoader),e.errHandler&&(m=e.errHandler),e.settings&&(v=e.settings))},reset:function(){n.off(i.default.PLAYBACK_STARTED,R,this),n.off(i.default.PLAYBACK_PAUSED,b,this),n.off(i.default.STREAMS_COMPOSED,w,this),n.off(i.default.INTERNAL_MANIFEST_LOADED,I,this),_()}},r=(0,s.default)(t).getInstance().getLogger(e),e}f.__dashjs_factory_name="ManifestUpdater",n.default=o.default.getClassFactory(f),t.exports=n.default},{45:45,46:46,47:47,51:51,54:54,61:61}],100:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(2)),i=r(e(108)),o=r(e(61)),s=r(e(109)),u=r(e(119)),l=r(e(121)),f=r(e(117)),d=r(e(112)),c=r(e(98)),h=r(e(212)),p=r(e(207)),g=r(e(202)),m=r(e(217)),v=r(e(200)),_=r(e(153)),E=r(e(150)),y=r(e(151)),T=r(e(111)),A=r(e(157)),I=r(e(154)),R=r(e(148)),b=r(e(209)),w=r(e(45)),M=r(e(51)),D=r(e(46)),N=r(e(54)),O=r(e(101)),L=r(e(47)),x=r(e(48)),P=e(50),F=r(e(63)),U=r(e(56)),k=r(e(58)),B=r(e(82)),G=e(241),q=r(e(1)),Y=r(e(9)),K=r(e(225)),H=e(218),V=r(e(99)),j=r(e(220)),z=r(e(206));function Q(){var e,t="You must first call initialize() and set a source before calling this method",n="You must first call initialize() and set a valid source and view before calling this method",r="You must first call attachView() to set the video element before calling this method",X="You must first call attachSource() with a valid source before calling this method",Q="MediaPlayer not initialized!",Z=this.context,$=(0,D.default)(Z).getInstance(),J=(0,x.default)(Z).getInstance(),ee=(0,w.default)(Z).getInstance({settings:J}),te=void 0,ne=void 0,re=void 0,ae=void 0,ie=void 0,oe=void 0,se=void 0,ue=void 0,le=void 0,fe=void 0,de=void 0,ce=void 0,he=void 0,pe=void 0,ge=void 0,me=void 0,ve=void 0,_e=void 0,Ee=void 0,ye=void 0,Te=void 0,Se=void 0,Ae=void 0,Ie=void 0,Re=void 0,be=void 0,we=void 0,Me=void 0,De=void 0,Ce=void 0;function Ne(){return!!ne&&!!be.getElement()}function Oe(){return(0,P.getVersionString)()}function Le(){if(!oe)throw n;return Se.isPaused()}function xe(e){var t=Ae.getCurrentDVRInfo();if(!t)return 0;var n=Se.getLiveDelay(),r=t.range.start+e;return r>t.range.end-n&&(r=t.range.end-n),r}function Pe(e){if(!oe)throw n;var t,r=Be().currentTime;return void 0!==e?r=Te.getTimeRelativeToStreamId(r,e):Se.getIsDynamic()&&(r=null===(t=Ae.getCurrentDVRInfo())?0:Fe()-(t.range.end-t.time)),r}function Fe(){if(!oe)throw n;var e=Be().duration;if(Se.getIsDynamic()){var t,r=Ae.getCurrentDVRInfo();if(!r)return 0;e=(t=r.range.end-r.range.start)<r.manifestInfo.DVRWindowSize?t:r.manifestInfo.DVRWindowSize}return e}function Ue(e){(0,H.checkParameterType)(e,"boolean"),se=e}function ke(){ve.restoreDefaultUTCTimingSources()}function Be(){if(!be.getElement())throw r;return be.getElement()}function Ge(e){if(!ae)throw Q;be.setElement(e),e&&(je(),function(){if(!he){var e,t=dashjs.MetricsReporting;"function"==typeof t&&(e=t(Z).create(),he=e.createMetricsReporting({debug:ee,eventBus:$,mediaElement:Be(),adapter:me,dashMetrics:Ae,events:N.default,constants:i.default,metricsConstants:s.default}))}}(),function(){if(!pe){var e=dashjs.MssHandler;"function"==typeof e&&(M.default.extend(e.errors),pe=e(Z).create({eventBus:$,mediaPlayerModel:ve,dashMetrics:Ae,manifestModel:Ie,playbackController:Se,streamController:Te,protectionController:ce,baseURLController:Ee,errHandler:_e,events:N.default,constants:i.default,debug:ee,initSegmentType:G.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:q.default,ISOBoxer:Y.default,settings:J}))}}(),Te&&Te.switchToVideoElement()),oe&&He(),Xe()}function qe(e){if(!ie)throw t;var n=Te.getActiveStreamInfo();return de.getTracksFor(e,n)}function Ye(e){if(!ae)throw Q;"string"==typeof e&&Me.initialize(e),ne=e,(ie||oe)&&He(),Ne()&&Xe()}function Ke(){if(!ie)throw t;var e=Te.getActiveStreamInfo();return e?Te.getStreamById(e.id):null}function He(){ie=oe=!1,me.reset(),Te.reset(),Se.reset(),ue.reset(),de.reset(),we.reset(),ce&&(J.get().streaming.keepProtectionMediaKeys?ce.stop():(ce.reset(),ce=null,je())),Re.reset()}function Ve(){return(0,c.default)(Z).create({debug:ee,errHandler:_e,dashMetrics:Ae,mediaPlayerModel:ve,requestModifier:(0,m.default)(Z).getInstance(),mssHandler:pe,settings:J})}function je(){if(ce)return ce;var e=dashjs.Protection;if("function"!=typeof e)return null;var t=e(Z).create();return N.default.extend(e.events),O.default.extend(e.events,{publicOnly:!0}),M.default.extend(e.errors),ye=ye||(0,p.default)(Z).getInstance(),ce=t.createProtectionSystem({debug:ee,errHandler:_e,videoModel:be,capabilities:ye,eventBus:$,events:N.default,BASE64:q.default,constants:i.default})}function ze(){if(!ae)throw Q;if(ge)return ge;var e=dashjs.OfflineController;if("function"!=typeof e)return null;N.default.extend(e.events),O.default.extend(e.events,{publicOnly:!0}),M.default.extend(e.errors);var t=Ve(),n=(0,V.default)(Z).create();return n.setConfig({manifestModel:Ie,adapter:me,manifestLoader:t,errHandler:_e}),ge=e(Z).create({debug:ee,manifestUpdater:n,baseURLController:Ee,manifestLoader:t,manifestModel:Ie,mediaPlayerModel:ve,abrController:ue,playbackController:Se,adapter:me,errHandler:_e,dashMetrics:Ae,timelineConverter:fe,schemeLoaderFactory:le,eventBus:$,events:N.default,errors:M.default,constants:i.default,settings:J,dashConstants:o.default,urlUtils:(0,j.default)(Z).getInstance()})}function We(e){var t=Ae.getCurrentDVRInfo();return t?e+(t.manifestInfo.availableFrom.getTime()/1e3+t.range.start):0}function Xe(){var e;ge&&ge.resetRecords(),!ie&&ne&&(ie=!0,te.info("Streaming Initialized"),e=Ve(),Te=Te||(0,l.default)(Z).getInstance(),de.setConfig({domStorage:De}),Te.setConfig({capabilities:ye,manifestLoader:e,manifestModel:Ie,mediaPlayerModel:ve,protectionController:ce,adapter:me,dashMetrics:Ae,errHandler:_e,timelineConverter:fe,videoModel:be,playbackController:Se,abrController:ue,mediaController:de,textController:we,settings:J,baseURLController:Ee}),Se.setConfig({streamController:Te,dashMetrics:Ae,mediaPlayerModel:ve,adapter:me,videoModel:be,timelineConverter:fe,uriFragmentModel:Me,settings:J}),ue.setConfig({streamController:Te,domStorage:De,mediaPlayerModel:ve,dashMetrics:Ae,adapter:me,videoModel:be,settings:J}),ue.createAbrRulesCollection(),we.setConfig({errHandler:_e,manifestModel:Ie,adapter:me,mediaController:de,streamController:Te,videoModel:be}),Re.setConfig({abrController:ue,dashMetrics:Ae,playbackController:Se}),Te.initialize(se,re),Re.initialize(),"string"==typeof ne?Te.load(ne):Te.loadWithManifest(ne)),!oe&&Ne()&&(oe=!0,te.info("Playback Initialized"))}return e={initialize:function(e,t,n){ye=ye||(0,p.default)(Z).getInstance(),_e=(0,h.default)(Z).getInstance(),ye.supportsMediaSource()?ae||(ae=!0,fe=(0,B.default)(Z).getInstance(),ue||(ue=(0,T.default)(Z).getInstance()).setConfig({settings:J}),le=le||(0,A.default)(Z).getInstance(),Se=Se||(0,u.default)(Z).getInstance(),de=de||(0,f.default)(Z).getInstance(),Te=Te||(0,l.default)(Z).getInstance(),me=(0,U.default)(Z).getInstance(),Ie=(0,E.default)(Z).getInstance(),Re=(0,R.default)(Z).getInstance(),Ae=(0,k.default)(Z).getInstance({settings:J}),we=(0,v.default)(Z).getInstance(),De=(0,b.default)(Z).getInstance({settings:J}),me.setConfig({constants:i.default,cea608parser:a.default,errHandler:_e,BASE64:q.default}),(Ee=Ee||(0,d.default)(Z).create()).setConfig({adapter:me}),(Ce=(0,F.default)(Z).getInstance({dashMetrics:Ae,mediaPlayerModel:ve,errHandler:_e,baseURLController:Ee,events:N.default,eventBus:$,debug:ee,boxParser:(0,z.default)(Z).getInstance(),requestModifier:(0,m.default)(Z).getInstance(),errors:M.default})).initialize(),ke(),Ue(void 0===n||n),ze(),e&&Ge(e),t&&Ye(t),te.info("[dash.js "+Oe()+"] MediaPlayer has been initialized")):_e.error(new K.default(M.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,M.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(e){e&&(e.capabilities&&(ye=e.capabilities),e.streamController&&(Te=e.streamController),e.playbackController&&(Se=e.playbackController),e.mediaPlayerModel&&(ve=e.mediaPlayerModel),e.abrController&&(ue=e.abrController),e.schemeLoaderFactory&&(le=e.schemeLoaderFactory),e.mediaController&&(de=e.mediaController),e.settings&&(J=e.settings))},on:function(e,t,n){$.on(e,t,n)},off:function(e,t,n){$.off(e,t,n)},extend:function(e,t,n){L.default.extend(e,t,n,Z)},attachView:Ge,attachSource:Ye,isReady:Ne,preload:function(){if(be.getElement()||ie)return!1;if(!ne)throw X;Xe()},play:function(){if(!oe)throw n;(!se||Le()&&oe)&&Se.play()},isPaused:Le,pause:function(){if(!oe)throw n;Se.pause()},isSeeking:function(){if(!oe)throw n;return Se.isSeeking()},isDynamic:function(){if(!oe)throw n;return Se.getIsDynamic()},seek:function(e){if(!oe)throw n;if((0,H.checkParameterType)(e,"number"),isNaN(e))throw i.default.BAD_ARGUMENT_ERROR;var t=Se.getIsDynamic()?xe(e):e;Se.seek(t)},setPlaybackRate:function(e){Be().playbackRate=e},getPlaybackRate:function(){return Be().playbackRate},setMute:function(e){(0,H.checkParameterType)(e,"boolean"),Be().muted=e},isMuted:function(){return Be().muted},setVolume:function(e){if("number"!=typeof e||isNaN(e)||e<0||1<e)throw i.default.BAD_ARGUMENT_ERROR;Be().volume=e},getVolume:function(){return Be().volume},time:Pe,duration:Fe,timeAsUTC:function(){if(!oe)throw n;return Pe()<0?NaN:We(Pe())},durationAsUTC:function(){if(!oe)throw n;return We(Fe())},getActiveStream:Ke,getDVRWindowSize:function(){var e=Ae.getCurrentDVRInfo();return e?e.manifestInfo.DVRWindowSize:0},getDVRSeekOffset:xe,convertToTimeCode:function(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(r<10?"0"+r.toString():r.toString())},formatUTC:function(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],a=new Date(1e3*e),i=a.toLocaleDateString(t),o=a.toLocaleTimeString(t,{hour12:n});return r?o+" "+i:o},getVersion:Oe,getDebug:function(){return ee},getBufferLength:function(e){var t,n,r=[i.default.VIDEO,i.default.AUDIO,i.default.FRAGMENTED_TEXT];return e?-1===(0,W.default)(r).call(r,e)?(te.warn("getBufferLength requested for invalid type"),NaN):(n=Ae.getCurrentBufferLevel(e))||NaN:(n=(0,S.default)(t=(0,C.default)(r).call(r,(function(e){return 0<qe(e).length?Ae.getCurrentBufferLevel(e):Number.MAX_VALUE}))).call(t,(function(e,t){return Math.min(e,t)})))===Number.MAX_VALUE?NaN:n},getTTMLRenderingDiv:function(){return be?be.getTTMLRenderingDiv():null},getVideoElement:Be,getSource:function(){if(!ne)throw X;return ne},getCurrentLiveLatency:function(){if(!ae)throw Q;return oe?Se.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(e){if(!ie)throw t;return ue.getTopBitrateInfoFor(e)},setAutoPlay:Ue,getAutoPlay:function(){return se},getDashMetrics:function(){return Ae},getQualityFor:function(e){if(!ie)throw t;if(e!==i.default.IMAGE)return ue.getQualityFor(e);var n=Ke();if(!n)return-1;var r=n.getThumbnailController();return r?r.getCurrentTrackIndex():-1},setQualityFor:function(e,n){if(!ie)throw t;if(e===i.default.IMAGE){var r=Ke();if(!r)return;var a=r.getThumbnailController();a&&a.setTrackByIndex(n)}ue.setPlaybackQuality(e,Te.getActiveStreamInfo(),n)},updatePortalSize:function(){ue.setElementSize(),ue.setWindowResizeEventCalled(!0)},setTextDefaultLanguage:function(e){te.warn('setTextDefaultLanguage is deprecated and will be removed in version 3.2.0. Please use setInitialMediaSettingsFor("fragmentedText", { lang: lang }) instead'),void 0===we&&(we=(0,v.default)(Z).getInstance()),we.setTextDefaultLanguage(e)},getTextDefaultLanguage:function(){return te.warn('getTextDefaultLanguage is deprecated and will be removed in version 3.2.0. Please use getInitialMediaSettingsFor("fragmentedText").lang instead'),void 0===we&&(we=(0,v.default)(Z).getInstance()),we.getTextDefaultLanguage()},setTextDefaultEnabled:function(e){void 0===we&&(we=(0,v.default)(Z).getInstance()),we.setTextDefaultEnabled(e)},getTextDefaultEnabled:function(){return void 0===we&&(we=(0,v.default)(Z).getInstance()),we.getTextDefaultEnabled()},enableText:function(e){void 0===we&&(we=(0,v.default)(Z).getInstance()),we.enableText(e)},enableForcedTextStreaming:function(e){void 0===we&&(we=(0,v.default)(Z).getInstance()),we.enableForcedTextStreaming(e)},isTextEnabled:function(){return void 0===we&&(we=(0,v.default)(Z).getInstance()),we.isTextEnabled()},setTextTrack:function(e){if(!oe)throw n;void 0===we&&(we=(0,v.default)(Z).getInstance()),we.setTextTrack(e)},getBitrateInfoListFor:function(e){if(!ie)throw t;var n=Ke();return n?n.getBitrateListFor(e):[]},getStreamsFromManifest:function(e){if(!ie)throw t;return me.getStreamsInfo(e)},getTracksFor:qe,getTracksForTypeFromManifest:function(e,n,r){if(!ie)throw t;return(r=r||me.getStreamsInfo(n,1)[0])?me.getAllMediaInfoForType(r,e,n):[]},getCurrentTrackFor:function(e){if(!ie)throw t;var n=Te.getActiveStreamInfo();return de.getCurrentTrackFor(e,n)},setInitialMediaSettingsFor:function(e,t){if(!ae)throw Q;de.setInitialSettings(e,t),e===i.default.FRAGMENTED_TEXT&&we.setInitialSettings(t)},getInitialMediaSettingsFor:function(e){if(!ae)throw Q;return de.getInitialSettings(e)},setCurrentTrack:function(e){if(!ie)throw t;de.setTrack(e)},getTrackSwitchModeFor:function(e){if(!ae)throw Q;return de.getSwitchMode(e)},setTrackSwitchModeFor:function(e,t){if(!ae)throw Q;de.setSwitchMode(e,t)},setSelectionModeForInitialTrack:function(e){if(!ae)throw Q;de.setSelectionModeForInitialTrack(e)},getSelectionModeForInitialTrack:function(){if(!ae)throw Q;return de.getSelectionModeForInitialTrack()},addABRCustomRule:function(e,t,n){ve.addABRCustomRule(e,t,n)},removeABRCustomRule:function(e){ve.removeABRCustomRule(e)},removeAllABRCustomRule:function(){ve.removeABRCustomRule()},getAverageThroughput:function(e){var t=ue.getThroughputHistory();return t?t.getAverageThroughput(e):0},retrieveManifest:function(e,t){var n=Ve(),r=this;$.on(N.default.INTERNAL_MANIFEST_LOADED,(function e(a){a.error?t(null,a.error):t(a.manifest),$.off(N.default.INTERNAL_MANIFEST_LOADED,e,r),n.reset()}),r),Me.initialize(e),n.load(e)},addUTCTimingSource:function(e,t){ve.addUTCTimingSource(e,t)},removeUTCTimingSource:function(e,t){ve.removeUTCTimingSource(e,t)},clearDefaultUTCTimingSources:function(){ve.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:ke,setXHRWithCredentialsForType:function(e,t){ve.setXHRWithCredentialsForType(e,t)},getXHRWithCredentialsForType:function(e){return ve.getXHRWithCredentialsForType(e)},getProtectionController:je,attachProtectionController:function(e){ce=e},setProtectionData:function(e){re=e,Te&&Te.setProtectionData(re)},displayCaptionsOnTop:function(e){var t=(0,g.default)(Z).getInstance();t.setConfig({videoModel:be}),t.initialize(),t.setDisplayCConTop(e)},attachTTMLRenderingDiv:function(e){if(!be.getElement())throw r;be.setTTMLRenderingDiv(e)},getCurrentTextTrackIndex:function(){var e=NaN;return we&&(e=we.getCurrentTrackIdx()),e},provideThumbnail:function(e,t){if("function"==typeof t)if(e<0)t(null);else{var n=Se.getIsDynamic()?xe(e):e,r=Te.getStreamForTime(n);if(null!==r){var a=r.getThumbnailController();if(a){var i=Te.getTimeRelativeToStreamId(n,r.getId());return a.provide(i,t)}t(null)}else t(null)}},getDashAdapter:function(){return me},getOfflineController:ze,getSettings:function(){return J.get()},updateSettings:function(e){J.update(e)},resetSettings:function(){J.reset()},reset:function(){Ye(null),Ge(null),re=null,ce&&(ce.reset(),ce=null),he&&(he.reset(),he=null),Ce.reset(),J.reset(),ge&&(ge.reset(),ge=null)}},te=ee.getLogger(e),se=!(ie=oe=ae=!1),Ce=me=re=ge=ce=null,N.default.extend(O.default),ve=(0,y.default)(Z).getInstance(),be=(0,I.default)(Z).getInstance(),Me=(0,_.default)(Z).getInstance(),e}Q.__dashjs_factory_name="MediaPlayer";var Z=L.default.getClassFactory(Q);Z.events=O.default,Z.errors=M.default,L.default.updateClassFactory(Q.__dashjs_factory_name,Z),n.default=Z,t.exports=n.default},{1:1,101:101,108:108,109:109,111:111,112:112,117:117,119:119,121:121,148:148,150:150,151:151,153:153,154:154,157:157,2:2,200:200,202:202,206:206,207:207,209:209,212:212,217:217,218:218,220:220,225:225,241:241,45:45,46:46,47:47,48:48,50:50,51:51,54:54,56:56,58:58,61:61,63:63,82:82,9:9,98:98,99:99}],101:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r;function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}}((0,w.default)(a.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZING="streamInitializing",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAPTION_RENDERED="captionRendered",this.CAPTION_CONTAINER_RESIZE="captionContainerResize",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STALLED="playbackStalled",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}var i=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(a,((r=e(55))&&r.__esModule?r:{default:r}).default),a);n.default=i,t.exports=n.default},{55:55}],102:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a,i,o=(r=e(100))&&r.__esModule?r:{default:r},s=(a="application/dash+xml",{create:u,createAll:function(e,t){var n=[];e=e||"[data-dashjs-player]";for(var r=(t=t||document).querySelectorAll(e),i=0;i<r.length;i++){var o=u(r[i],null);n.push(o)}var s=t.querySelectorAll('source[type="'+a+'"]');for(i=0;i<s.length;i++)o=u(function(e){for(var t=!0;t;){var n=e;if(t=!1,/^VIDEO$/i.test(n.nodeName))return n;e=n.parentNode,t=!0}}(s[i]),null),n.push(o);return n}});function u(e,t,n){var r;if(!e||!/^VIDEO$/i.test(e.nodeName))return null;if(e._dashjs_player)return e._dashjs_player;var s=void 0,u=e.id||e.name||"video element";if(!(t=t||(0,I.default)(r=(0,z.default)([]).call(e.querySelectorAll("source"))).call(r,(function(e){return e.type==a}))[0])&&e.src)(t=document.createElement("source")).src=e.src;else if(!t&&!e.src)return null;return n=n||{},(s=(0,o.default)(n).create()).initialize(e,t.src,e.autoplay),(i=i||s.getDebug().getLogger()).debug("Converted "+u+" to dash.js player and added content: "+t.src),e._dashjs_player=s}var l=i=void 0;"undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate||"undefined"==typeof window||!window||!window.addEventListener||("complete"===window.document.readyState?window.dashjs?s.createAll():l=window.setInterval((function(){window.dashjs&&(window.clearInterval(l),s.createAll())}),500):window.addEventListener("load",(function e(){window.removeEventListener("load",e),s.createAll()}))),n.default=s,t.exports=n.default},{100:100}],103:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(45)),i=r(e(47));function o(e){var t,n=this.context,r=void 0,i=void 0,o=[],s=e;function u(e,t){o=(0,I.default)(o).call(o,(function(n){return!((isNaN(t)||n.start<t)&&(isNaN(e)||n.end>e))}))}return t={getAllBufferRanges:function(){for(var e=[],t=0;t<o.length;t++){var n=o[t];0===e.length||n.start>e[e.length-1].end?e.push({start:n.start,end:n.end}):e[e.length-1].end=n.end}var r={start:function(t){return e[t].start},end:function(t){return e[t].end}};return(0,X.default)(r,"length",{get:function(){return e.length}}),r},append:function(e){i="InitializationSegment"!==e.segmentType?(o.push(e),(0,m.default)(o).call(o,(function(e,t){return e.start-t.start})),null):e,r.debug("PreBufferSink appended chunk s: "+e.start+"; e: "+e.end),s&&s({chunk:e})},remove:u,abort:function(){},discharge:function(e,t){var n,r,a=(n=e,r=t,(0,I.default)(o).call(o,(function(e){return(isNaN(r)||e.start<r)&&(isNaN(n)||e.end>n)})));return i&&(a.push(i),i=null),u(e,t),a},reset:function(){o=[],s=i=null},updateTimestampOffset:function(){},hasDiscontinuitiesAfter:function(){return!1},waitForUpdateEnd:function(e){e()},getBuffer:function(){return this}},r=(0,a.default)(n).getInstance().getLogger(t),t}o.__dashjs_factory_name="PreBufferSink";var s=i.default.getClassFactory(o);n.default=s,t.exports=n.default},{45:45,47:47}],104:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(45)),i=r(e(225)),o=r(e(46)),s=r(e(54)),u=r(e(47)),l=r(e(200)),f=r(e(51));function d(e,t,n,r,u){var d,c=this.context,h=(0,o.default)(c).getInstance(),p=void 0,g=void 0,m=void 0,v=void 0,_=[],E=[],y=n,S=!1!==r;function A(){try{return g.buffered}catch(e){return p.error("getAllBufferRanges exception: "+e.message),null}}function I(){var e=this,t=this;0<E.length&&function(){m=!0;var n=E[0];function r(){var e,r,i,o,u=A();e=t,i=u,o=n,(r=a)&&0<r.length&&r.length<i.length&&function(e,t){for(var n=0;n<e.length;n++){var r=Math.round(e.start(n)),a=Math.round(e.end(n));if(a===t.start||r===t.end||t.start>=r&&t.end<=a)return!0}return!1}(r,o)&&h.trigger(s.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:i.end(i.length-2),to:i.start(i.length-1),unintended:!0}),0<E.length?I.call(this):(m=!1,y&&y({chunk:n}))}(0,Z.default)(E).call(E,0,1);var a=[];try{0===n.bytes.length?r.call(e):(a=A(),g.appendBuffer?g.appendBuffer(n.bytes):g.append(n.bytes,n),D((0,x.default)(r).call(r,e)))}catch(r){p.fatal('SourceBuffer append failed "'+r+'"'),0<E.length?I():m=!1,y&&y({chunk:n,error:new i.default(r.code,r.message)})}}()}function R(){var e;0<_.length&&(e=_.shift(),g.updating?D(e):(e(),R()))}function b(){g.updating||R()}function w(){g.updating||R()}function M(){p.error("SourceBufferSink error",t.type)}function D(e){_.push(e),g.updating||R()}return d={getAllBufferRanges:A,getBuffer:function(){return g},append:function(e){e?(E.push(e),m||D((0,x.default)(I).call(I,this))):y({chunk:e,error:new i.default(f.default.APPEND_ERROR_CODE,f.default.APPEND_ERROR_MESSAGE)})},remove:function(t,n,r){var a=this;D((function(){try{0<=t&&t<n&&(r||"ended"!==e.readyState)&&g.remove(t,n),D((function(){h.trigger(s.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:a,from:t,to:n,unintended:!1})}))}catch(e){h.trigger(s.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:a,from:t,to:n,unintended:!1,error:new i.default(e.code,e.message)})}}))},abort:function(){try{("open"===e.readyState||g.setTextTrack&&"ended"===e.readyState)&&g.abort()}catch(e){p.error('SourceBuffer append abort failed: "'+e+'"')}E=[]},reset:function(t){if(g){if("function"==typeof g.removeEventListener&&(g.removeEventListener("updateend",w,!1),g.removeEventListener("error",M,!1),g.removeEventListener("abort",M,!1)),clearInterval(v),g.appendWindowEnd=1/0,!t){try{g.getClassName&&"TextSourceBuffer"===g.getClassName()||e.removeSourceBuffer(g)}catch(t){p.error("Failed to remove source buffer from media source.")}g=null}m=!1}E=[],y=null},updateTimestampOffset:function(e){g.timestampOffset===e||isNaN(e)||D((function(){g.timestampOffset=e}))},hasDiscontinuitiesAfter:function(e){try{var t=A();if(t&&1<t.length)for(var n=0,r=t.length;n<r;n++)if(0<n&&e<t.start(n)&&t.start(n)>t.end(n-1)+.1)return!0}catch(e){p.error("hasDiscontinuities exception: "+e.message)}return!1},waitForUpdateEnd:D},function(){p=(0,a.default)(c).getInstance().getLogger(d),m=!1;var n=t.codec;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");if((g=u||e.addSourceBuffer(n)).changeType&&u&&(p.debug("Doing period transition with changeType"),g.changeType(n)),S&&g&&(g.appendWindowEnd=e.duration),"function"==typeof g.addEventListener)try{g.addEventListener("updateend",w,!1),g.addEventListener("error",M,!1),g.addEventListener("abort",M,!1)}catch(e){v=(0,T.default)(b,50)}else v=(0,T.default)(b,50)}catch(e){if(!t.isText&&-1===(0,W.default)(n).call(n,'codecs="stpp')&&-1===(0,W.default)(n).call(n,'codecs="wvtt'))throw e;var r=(0,l.default)(c).getInstance();g=r.getTextSourceBuffer()}}(),d}d.__dashjs_factory_name="SourceBufferSink";var c=u.default.getClassFactory(d);n.default=c,t.exports=n.default},{200:200,225:225,45:45,46:46,47:47,51:51,54:54}],105:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(61)),o=r(e(106)),s=r(e(116)),u=r(e(203)),l=r(e(46)),f=r(e(54)),d=r(e(45)),c=r(e(51)),h=r(e(47)),p=r(e(225)),g=r(e(206)),m=r(e(220));function v(e){e=e||{};var t=this.context,n=(0,l.default)(t).getInstance(),r=(0,m.default)(t).getInstance(),h=e.manifestModel,v=e.mediaPlayerModel,_=e.manifestUpdater,E=e.adapter,T=e.capabilities,S=e.errHandler,A=e.timelineConverter,R=e.dashMetrics,b=e.abrController,w=e.playbackController,M=e.eventController,D=e.mediaController,N=e.textController,O=e.videoModel,L=e.settings,x=void 0,P=void 0,F=void 0,U=void 0,k=void 0,B=void 0,G=void 0,q=void 0,Y=void 0,K=void 0,H=void 0,j=void 0,z=void 0,X=void 0,Q=void 0,$=void 0,J=void 0,ee=void 0,te=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function ne(e){for(var t=U?U.length:0,r=0;r<t;r++)U[r].getFragmentModel().removeExecutedRequestsBeforeTime(oe()+ie()),U[r].reset(!1,e);Ie(G=B=!(U=[])),n.off(f.default.CURRENT_TRACK_CHANGED,de,x)}function re(){ne(),F=null,Y=q=k=!1,H=!(K={})}function ae(){w&&w.pause(),z&&(z.reset(),z=null),re(),n.off(f.default.DATA_UPDATE_COMPLETED,_e,x),n.off(f.default.BUFFERING_COMPLETED,ve,x),n.off(f.default.INBAND_EVENTS,Ee,x),j&&(n.off(f.default.KEY_ERROR,le,x),n.off(f.default.SERVER_CERTIFICATE_UPDATED,le,x),n.off(f.default.LICENSE_REQUEST_COMPLETE,le,x),n.off(f.default.KEY_SYSTEM_SELECTED,le,x),n.off(f.default.KEY_SESSION_CREATED,le,x),n.off(f.default.KEY_STATUSES_CHANGED,le,x)),Ie(!1)}function ie(){return F?F.duration:NaN}function oe(){return F?F.start:NaN}function se(){return F?F.id:null}function ue(){if(!(O&&b&&b.hasOwnProperty("getBitrateList")&&E&&E.hasOwnProperty("getAllMediaInfoForType")&&E.hasOwnProperty("getEventsFor")))throw new Error(a.default.MISSING_CONFIG_ERROR)}function le(e){e.error&&(S.error(e.error),P.fatal(e.error.message),ae())}function fe(e){var t,n=e?e.type:null,r=void 0;if(n===a.default.MUXED)return r="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",P.fatal(r),void S.error(new p.default(c.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,r,h.getValue()));if(n===a.default.TEXT||n===a.default.FRAGMENTED_TEXT||n===a.default.EMBEDDED_TEXT||n===a.default.IMAGE)return 1;if(t=e.codec,P.debug(n+" codec: "+t),e.contentProtection&&!T.supportsEncryptedMedia())S.error(new p.default(c.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,c.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE));else if(!T.supportsCodec(t))return r=n+"Codec ("+t+") is not supported.",void P.error(r);return 1}function de(e){var t,n,r,i;F&&e.newMediaInfo.streamInfo.id===F.id&&(t=e.newMediaInfo,n=h.getValue(),E.setCurrentMediaInfo(F.id,t.type,t),(r=ye(t))&&(i=w.getTime(),P.info("Stream -  Process track changed at current time "+i),P.debug("Stream -  Update stream controller"),n.refreshManifestOnSwitchTrack?(P.debug("Stream -  Refreshing manifest for switch track"),ee=e,_.refreshManifest()):(r.selectMediaInfo(t),t.type!==a.default.FRAGMENTED_TEXT?(b.updateTopQualityIndex(t),r.switchTrackAsked(),r.getFragmentModel().abortRequests()):(r.getScheduleController().setSeekTarget(i),r.setIndexHandlerTime(i),r.resetIndexHandler()))))}function ce(r,s){var l=E.getAllMediaInfoForType(F,r),d=null,c=void 0;if(l&&0!==l.length){r===a.default.VIDEO&&(q=!0),r===a.default.AUDIO&&(Y=!0);for(var p=0,g=l.length;p<g;p++)if(d=l[p],r===a.default.EMBEDDED_TEXT)N.addEmbeddedTrack(d);else{if(!fe(d))continue;D.addTrack(d)}r!==a.default.EMBEDDED_TEXT&&0!==D.getTracksFor(r,F).length&&(r!==a.default.IMAGE?((r!==a.default.FRAGMENTED_TEXT||r===a.default.FRAGMENTED_TEXT&&N.getTextDefaultEnabled())&&(D.checkInitialMediaSettingsForType(r,F),c=D.getCurrentTrackFor(r,F)),r!==a.default.FRAGMENTED_TEXT||N.getTextDefaultEnabled()||(c=D.getTracksFor(r,F)[0]),n.trigger(f.default.STREAM_INITIALIZING,{streamInfo:F,mediaInfo:d}),function(n,r,i,s){var u=z.getModel(se(),n?n.type:null),l=(0,o.default)(t).create({streamInfo:F,type:n?n.type:null,mimeType:n?n.mimeType:null,timelineConverter:A,adapter:E,manifestModel:h,mediaPlayerModel:v,fragmentModel:u,dashMetrics:e.dashMetrics,baseURLController:e.baseURLController,abrController:b,playbackController:w,mediaController:D,textController:N,errHandler:S,settings:L,boxParser:$});if(l.initialize(i,q),b.updateTopQualityIndex(n),U.push(l),!n||n.type!==a.default.TEXT&&n.type!==a.default.FRAGMENTED_TEXT)l.addMediaInfo(n,!0);else{for(var f=void 0,d=0;d<r.length;d++)r[d].index===n.index&&(f=d),l.addMediaInfo(r[d]);l.selectMediaInfo(r[f])}}(c,l,s)):X=(0,u.default)(t).create({streamInfo:F,adapter:E,baseURLController:e.baseURLController,timelineConverter:e.timelineConverter,debug:J,eventBus:n,events:f.default,dashConstants:i.default}))}else P.info("No "+r+" data.")}function he(){var e;M&&(e=E.getEventsFor(F),M.addInlineEvents(e))}function pe(e){var t,n=E.getAdaptationForType(F?F.index:null,e,F);n&&(0,V.default)(n.Representation_asArray)&&(n.Representation_asArray=(0,I.default)(t=n.Representation_asArray).call(t,(function(e,t){if(0===t)return!0;var r=E.getCodec(n,t,!0);return!!T.supportsCodec(r)||(P.error("[Stream] codec not supported: "+r),!1)})))}function ge(){for(var e=U.length,t=K.audio||K.video?new p.default(c.default.DATA_UPDATE_FAILED_ERROR_CODE,c.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,r=0;r<e;r++)if(U[r].isUpdating()||H)return;if(G){if(j)for(r=0;r<e&&U[r];r++)U[r].getType()!==a.default.AUDIO&&U[r].getType()!==a.default.VIDEO&&U[r].getType()!==a.default.FRAGMENTED_TEXT||j.initializeForMedia(U[r].getMediaInfo());for(t?S.error(t):k||(k=!0,A.setTimeSyncCompleted(!0),n.trigger(f.default.STREAM_INITIALIZED,{streamInfo:F,liveStartTime:function(){if(!F.manifestInfo.isDynamic)return NaN;for(var e=0;e<U.length;e++)if(U[e].getType()===a.default.AUDIO||U[e].getType()===a.default.VIDEO)return U[e].getLiveStartTime();return NaN}()})),r=0;r<e&&U[r];r++)U[r].getScheduleController().start()}}function me(e){for(var t={},n=0,r=U.length;n<r;n++){var a=U[n].createBuffer(e);a&&(t[U[n].getType()]=a.getBuffer())}return t}function ve(e){if(e.streamId===F.id){var t=Te(),r=t.length;if(0!==r){for(var i=0;i<r;i++)if(!t[i].isBufferingCompleted()&&(t[i].getType()===a.default.AUDIO||t[i].getType()===a.default.VIDEO))return void P.warn("onBufferingCompleted - One streamProcessor has finished but",t[i].getType(),"one is not buffering completed");P.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),n.trigger(f.default.STREAM_BUFFERING_COMPLETED,{streamInfo:F})}else P.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}}function _e(e){F&&e.sender.getStreamId()===F.id&&(K[e.sender.getType()]=e.error,ge())}function Ee(e){var t;F&&e.streamInfo.id===F.id&&(t=e.events,M&&M.addInbandEvents(t))}function ye(e){var t;return e?(0,I.default)(t=Te()).call(t,(function(t){return t.getType()===e.type}))[0]:null}function Te(){for(var e,t=[],n=void 0,r=0;r<U.length;r++)(e=(n=U[r]).getType())!==a.default.AUDIO&&e!==a.default.VIDEO&&e!==a.default.FRAGMENTED_TEXT&&e!==a.default.TEXT||t.push(n);return t}function Se(e,t){if(!e)return!1;var n=e.getStreamInfo(),r=F;if(!n||!r)return!1;var a=E.getAdaptationForType(n.index,t,n),i=E.getAdaptationForType(r.index,t,r);return a&&i?!a.ContentProtection&&!i.ContentProtection:!a&&!i}function Ae(e,t){var n,r;if(!e||!e.hasOwnProperty("getStreamInfo"))return!1;var a=e.getStreamInfo(),i=F;if(!a||!i)return!1;var o=E.getAdaptationForType(a.index,t,a),s=E.getAdaptationForType(i.index,t,i);if(!o||!s)return!o&&!s;var u=o&&s&&o.mimeType===s.mimeType,l=(0,C.default)(n=s.Representation_asArray).call(n,(function(e){return e.codecs})),f=(0,C.default)(r=o.Representation_asArray).call(r,(function(e){return e.codecs})),d=(0,y.default)(f).call(f,(function(e){return-1<(0,W.default)(l).call(l,e)})),c=(0,y.default)(f).call(f,(function(e){return(0,y.default)(l).call(l,(function(t){return function(e,t){for(var n,r=e.split(".")[0],a=0===(0,W.default)(t).call(t,r),i=void 0,o=0;o<te.length;o++)if(te[o].codec===r){i=te[o];break}return i?a||(0,y.default)(n=i.compatibleCodecs).call(n,(function(e){return 0===(0,W.default)(t).call(t,e)})):a}(t,e)}))}));return d||c&&u}function Ie(e){Q=e}return x={initialize:function(e,t){F=e,(j=t)&&(n.on(f.default.KEY_ERROR,le,x),n.on(f.default.SERVER_CERTIFICATE_UPDATED,le,x),n.on(f.default.LICENSE_REQUEST_COMPLETE,le,x),n.on(f.default.KEY_SYSTEM_SELECTED,le,x),n.on(f.default.KEY_SESSION_CREATED,le,x),n.on(f.default.KEY_STATUSES_CHANGED,le,x))},activate:function(e,t){if(B)return t;var r;return n.on(f.default.CURRENT_TRACK_CHANGED,de,x),r=Q?(function(){var e;H=!0,ue(),pe(a.default.VIDEO),pe(a.default.AUDIO),H=!(G=!0),0===U.length?(e="No streams to play.",S.error(new p.default(c.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,e,h.getValue())),P.debug(e)):ge()}(),t):function(e,t){ue();var n=O.getElement();he(),H=!0,pe(a.default.VIDEO),pe(a.default.AUDIO),(!n||n&&/^VIDEO$/i.test(n.nodeName))&&ce(a.default.VIDEO,e),ce(a.default.AUDIO,e),ce(a.default.TEXT,e),ce(a.default.FRAGMENTED_TEXT,e),ce(a.default.EMBEDDED_TEXT,e),ce(a.default.MUXED,e),ce(a.default.IMAGE,e);var r,i=me(t);return H=!(G=!0),0===U.length?(r="No streams to play.",S.error(new p.default(c.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,r,h.getValue())),P.fatal(r)):ge(),i}(e,t),B=!0,r},deactivate:ne,isActive:function(){return B},getDuration:ie,getStartTime:oe,getId:se,getStreamInfo:function(){return F},getHasAudioTrack:function(){return Y},getHasVideoTrack:function(){return q},preload:function(e,t){he(),ce(a.default.VIDEO,e),ce(a.default.AUDIO,e),ce(a.default.TEXT,e),ce(a.default.FRAGMENTED_TEXT,e),ce(a.default.EMBEDDED_TEXT,e),ce(a.default.MUXED,e),ce(a.default.IMAGE,e),me(t),n.on(f.default.CURRENT_TRACK_CHANGED,de,x);for(var r=0;r<U.length&&U[r];r++)U[r].getScheduleController().start();Ie(!0)},getThumbnailController:function(){return X},getBitrateListFor:function(e){if(ue(),e===a.default.IMAGE)return X?X.getBitrateList():[];var t=function(e){for(var t=null,n=0;n<U.length;n++)if((t=U[n]).getType()===e)return t.getMediaInfo();return null}(e);return b.getBitrateList(t)},updateData:function(e){P.info("Manifest updated... updating data system wide."),H=!(B=!1),F=e,M&&he(),pe(a.default.VIDEO),pe(a.default.AUDIO);for(var t=0,n=U.length;t<n;t++){var r=U[t];r.updateStreamInfo(F);var i=E.getMediaInfoForType(F,r.getType());b.updateTopQualityIndex(i),r.addMediaInfo(i,!0)}if(ee&&(i=ee.newMediaInfo).type!==a.default.FRAGMENTED_TEXT){var o=ye(ee.oldMediaInfo);if(!o)return;o.switchTrackAsked(),ee=void 0}H=!1,ge()},reset:ae,getProcessors:Te,setMediaSource:function(e){for(var t=0;t<U.length;)fe(U[t].getMediaInfo())?(U[t].setMediaSource(e),t++):(U[t].reset(),(0,Z.default)(U).call(U,t,1));var n;for(t=0;t<U.length;t++)U[t].dischargePreBuffer();0===U.length&&(n="No streams to play.",S.error(new p.default(c.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,n+"nostreams",h.getValue())),P.fatal(n))},isMediaCodecCompatible:function(e){return Ae(e,a.default.VIDEO)&&Ae(e,a.default.AUDIO)},isProtectionCompatible:function(e){return Se(e,a.default.VIDEO)&&Se(e,a.default.AUDIO)},getPreloaded:function(){return Q}},J=(0,d.default)(t).getInstance(),P=J.getLogger(x),re(),$=(0,g.default)(t).getInstance(),z=(0,s.default)(t).create({mediaPlayerModel:v,dashMetrics:R,errHandler:S,settings:L,boxParser:$,dashConstants:i.default,urlUtils:r}),n.on(f.default.BUFFERING_COMPLETED,ve,x),n.on(f.default.DATA_UPDATE_COMPLETED,_e,x),n.on(f.default.INBAND_EVENTS,Ee,x),x}v.__dashjs_factory_name="Stream",n.default=h.default.getClassFactory(v),t.exports=n.default},{106:106,108:108,116:116,203:203,206:206,220:220,225:225,45:45,46:46,47:47,51:51,54:54,61:61}],106:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(61)),o=r(e(109)),s=r(e(149)),u=r(e(114)),l=r(e(199)),f=r(e(120)),d=r(e(62)),c=r(e(215)),h=r(e(47)),p=e(218),g=r(e(46)),m=r(e(54)),v=r(e(57)),_=r(e(51)),E=r(e(225)),y=r(e(45)),T=r(e(217)),S=r(e(220)),A=r(e(206)),I=r(e(227)),R=e(243);function b(e){e=e||{};var t=this.context,n=(0,g.default)(t).getInstance(),r=e.streamInfo,h=e.type,b=e.errHandler,w=e.mimeType,D=e.timelineConverter,C=e.adapter,N=e.manifestModel,O=e.mediaPlayerModel,L=e.fragmentModel,x=e.abrController,P=e.playbackController,F=e.mediaController,U=e.textController,k=e.dashMetrics,B=e.settings,G=e.boxParser,q=void 0,Y=void 0,K=void 0,H=void 0,V=void 0,j=void 0,z=void 0,X=void 0,Q=void 0,Z=void 0;function $(){V=[],H=null}function J(e){e.sender.getType()===h&&e.sender.getStreamId()===r.id&&(Y.info("DataUpdateCompleted"),e.error||z.setCurrentRepresentation(C.convertDataToRepresentationInfo(e.currentRepresentation)),e.error&&e.error.code!==_.default.SEGMENTS_UPDATE_FAILED_ERROR_CODE||ae())}function ee(e){var t;h===e.mediaType&&r.id===e.streamInfo.id&&(t=oe(e.newQuality),z.setCurrentRepresentation(t),k.pushPlayListTraceMetrics(new Date,R.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),k.createPlaylistTraceMetrics(t.id,1e3*P.getTime(),P.getPlaybackRate()))}function te(e){e.streamId===r.id&&e.mediaType===h&&(k.addBufferLevel(h,new Date,1e3*e.bufferLevel),N.getValue().doNotUpdateDVRWindowOnBufferUpdated||ae())}function ne(e){e.streamId===r.id&&e.mediaType===h&&(k.addBufferState(h,e.state,z.getBufferTarget()),e.state!==o.default.BUFFER_EMPTY||P.isSeeking()||k.pushPlayListTraceMetrics(new Date,R.PlayListTrace.REBUFFERING_REASON))}function re(e){e.streamId===r.id&&e.mediaType===h&&(e.unintended?L.removeExecutedRequestsAfterTime(e.from):L.syncExecutedRequestsWithBufferedRange(j.getBuffer().getAllBufferRanges(),r.duration))}function ae(){var e=r.manifestInfo,t=e.isDynamic,n=D.calcSegmentAvailabilityRange(X.getCurrentRepresentation(),t);k.addDVRInfo(h,P.getTime(),e,n)}function ie(){return j?j.getBuffer():null}function oe(e){var t=void 0!==e?((0,p.checkInteger)(e),X?X.getRepresentationForQuality(e):null):X?X.getCurrentRepresentation():null;return C.convertDataToRepresentationInfo(t)}function se(e){var t;e.sender&&e.mediaType===h&&e.streamId===r.id&&(C.getIsTextTrack(w)&&!U.isTextEnabled()||j&&e.representationId&&(j.appendInitSegment(e.representationId)||(t=Z?Z.getInitRequest(H,X.getCurrentRepresentation()):null,z.processInitRequest(t))))}function ue(e){var t;e.sender&&e.mediaType===h&&e.streamId===r.id&&(t=void 0,j.getIsPruningInProgress()||(t=function(e,t){var n,r,i=oe(),o=!isNaN(e),s=P.getNormalizedTime(),u=o?e:ce(),l=!1,f=void 0;if(isNaN(u)||h===a.default.FRAGMENTED_TEXT&&!U.isTextEnabled())return null;if(j&&(n=j.getRangeAt(u),r=j.getRangeAt(s),null===n&&null===r||o||(!n||r&&r.start!=n.start&&r.end!=n.end)&&j.getBuffer().hasDiscontinuitiesAfter(s)&&h!==a.default.FRAGMENTED_TEXT&&(L.removeExecutedRequestsAfterTime(r.end),l=!0)),t)f=he(i,u=t.startTime+t.duration/2,{timeThreshold:0,ignoreIsFinished:!0});else for(f=he(i,o||l?u:void 0,{keepIdx:!o&&!l});f&&f.action!==I.default.ACTION_COMPLETE&&L.isFragmentLoaded(f);)f=he(i);return f}(e.seekTarget,e.replacement))&&(z.setSeekTarget(NaN),e.replacement||(isNaN(t.startTime+t.duration)||de(t.startTime+t.duration),t.delayLoadingTime=(new Date).getTime()+z.getTimeToLoadDelay(),z.setTimeToLoadDelay(0))),z.processMediaRequest(t))}function le(e){var a,i,o,u,l,f,d,c=e.chunk;c.streamId===r.id&&c.mediaInfo.type==h&&(a=c.bytes,o=oe(i=c.quality),u=X&&o?X.getRepresentationForQuality(o.quality):null,l=C.getEventsFor(o.mediaInfo),f=C.getEventsFor(o,u),(l&&0<l.length||f&&0<f.length)&&(d=function(e,n,r,a){for(var i=Math.max(!n||isNaN(n.startTime)?0:n.startTime,0),o=[],s=[],u=(0,M.default)(r).call(r,a),l=0,f=u.length;l<f;l++)o[u[l].schemeIdUri+"/"+u[l].value]=u[l];var d=(0,A.default)(t).getInstance().parse(e).getBoxes("emsg");for(l=0,f=d.length;l<f;l++){var c=C.getEvent(d[l],o,i);c&&s.push(c)}return s}(a,L.getRequests({state:s.default.FRAGMENT_MODEL_EXECUTED,quality:i,index:c.index})[0],l,f),n.trigger(m.default.ADD_INBAND_EVENTS_REQUESTED,{sender:q,events:d})))}function fe(e){e.mediaType===h&&e.streamId===r.id&&(de(e.time),z.setSeekTarget(e.time))}function de(e){Z&&Z.setCurrentTime(e)}function ce(){return Z?Z.getCurrentTime():NaN}function he(e,t,n){var r,a=null;return Z&&(r=X&&e?X.getRepresentationForQuality(e.quality):null,a=void 0!==t&&void 0!==n?Z.getSegmentRequestForTime(H,r,t,n):Z.getNextSegmentRequest(H,r)),a}return q={initialize:function(o,s){Z=(0,v.default)(t).create({streamInfo:r,type:h,timelineConverter:D,dashMetrics:k,mediaPlayerModel:O,baseURLController:e.baseURLController,errHandler:b,settings:B,boxParser:G,events:m.default,eventBus:n,errors:_.default,debug:(0,y.default)(t).getInstance(),requestModifier:(0,T.default)(t).getInstance(),dashConstants:i.default,constants:a.default,urlUtils:(0,S.default)(t).getInstance()}),(K=r.manifestInfo.isDynamic)&&(Q=(0,c.default)(t).create({timelineConverter:D})),Z.initialize(K),x.registerStreamType(h,q),X=(0,d.default)(t).create({streamId:r.id,type:h,abrController:x,dashMetrics:k,playbackController:P,timelineConverter:D,dashConstants:i.default,events:m.default,eventBus:n,errors:_.default}),(j=function(e){return e?e===a.default.VIDEO||e===a.default.AUDIO?(0,u.default)(t).create({streamInfo:r,type:e,mediaPlayerModel:O,manifestModel:N,fragmentModel:L,errHandler:b,mediaController:F,representationController:X,adapter:C,textController:U,abrController:x,playbackController:P,settings:B}):(0,l.default)(t).create({streamInfo:r,type:e,mimeType:w,mediaPlayerModel:O,manifestModel:N,fragmentModel:L,errHandler:b,mediaController:F,representationController:X,adapter:C,textController:U,abrController:x,playbackController:P,settings:B}):(b.error(new E.default(_.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,_.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(h))&&j.initialize(o),(z=(0,f.default)(t).create({streamId:r.id,type:h,mimeType:w,adapter:C,dashMetrics:k,mediaPlayerModel:O,fragmentModel:L,abrController:x,playbackController:P,textController:U,mediaController:F,bufferController:j,settings:B})).initialize(s)},isUpdating:function(){return!!X&&X.isUpdating()},getType:function(){return h},getBufferController:function(){return j},getFragmentModel:function(){return L},getScheduleController:function(){return z},getRepresentationController:function(){return X},getRepresentationInfo:oe,getBufferLevel:function(){return j?j.getBufferLevel():0},isBufferingCompleted:function(){return!!j&&j.getIsBufferingCompleted()},createBuffer:function(e){return ie()||j?j.createBuffer(V,e):null},updateStreamInfo:function(e){r=e},getStreamInfo:function(){return r},selectMediaInfo:function(e){e===H||e&&H&&e.type!==H.type||(H=e);var t,n,i,o,s,u=C.getRealAdaptation(r,H),l=C.getVoRepresentations(H);X&&(t=X.getData(),n=x.getTopQualityIndexFor(h,r.id),i=x.getMinAllowedIndexFor(h),s=void 0,s=(o=null)!==t&&t.id==u.id||h===a.default.FRAGMENTED_TEXT?x.getQualityFor(h):(o=x.getThroughputHistory().getAverageThroughput(h)||x.getInitialBitrateFor(h),x.getQualityForBitrate(H,o)),void 0!==i&&s<i&&(s=i),n<s&&(s=n),Z.setMimeType(H?H.mimeType:null),X.updateData(u,l,h,s))},addMediaInfo:function(e,t){-1===(0,W.default)(V).call(V,e)&&V.push(e),t&&this.selectMediaInfo(e)},getLiveStartTime:function(){if(!K)return NaN;if(!Q)return NaN;var e=NaN,t=oe(),n=function(e,t){try{var n=null,a=P.getLiveDelay(),i=isNaN(r.manifestInfo.DVRWindowSize)?a:r.manifestInfo.DVRWindowSize,o=.1*i,s=void 0;if(!isFinite(i)||he(t,e-i+o,{ignoreIsFinished:!0}))for(;!n&&a<=i;)(n=he(t,s=e-a,{ignoreIsFinished:!0}))||(a+=1);return n&&P.setLiveDelay(a,!0),Y.debug("live edge: "+e+", live delay: "+a+", live target: "+s),n}catch(e){return null}}(Q.getLiveEdge(t),t);return n&&(e=!B.get().streaming.lowLatencyEnabled||n.duration<O.getLiveDelay()?n.startTime:n.startTime+n.duration-O.getLiveDelay()),e},switchTrackAsked:function(){z.switchTrackAsked()},getMediaInfoArr:function(){return V},getMediaInfo:function(){return H},getMediaSource:function(){return j.getMediaSource()},setMediaSource:function(e){j.setMediaSource(e,V)},dischargePreBuffer:function(){j.dischargePreBuffer()},getBuffer:ie,setBuffer:function(e){j.setBuffer(e)},setIndexHandlerTime:de,getIndexHandlerTime:ce,resetIndexHandler:function(){Z&&Z.resetIndex()},getInitRequest:function(e){(0,p.checkInteger)(e);var t=X?X.getRepresentationForQuality(e):null;return Z?Z.getInitRequest(H,t):null},getFragmentRequest:he,finalisePlayList:function(e,t){k.pushPlayListTraceMetrics(e,t)},reset:function(e,t){Z&&Z.reset(),j&&(j.reset(e,t),j=null),z&&(z.reset(),z=null),X&&(X.reset(),X=null),Q&&(Q.reset(),Q=null),x&&x.unRegisterStreamType(h),n.off(m.default.DATA_UPDATE_COMPLETED,J,q),n.off(m.default.QUALITY_CHANGE_REQUESTED,ee,q),n.off(m.default.INIT_FRAGMENT_NEEDED,se,q),n.off(m.default.MEDIA_FRAGMENT_NEEDED,ue,q),n.off(m.default.MEDIA_FRAGMENT_LOADED,le,q),n.off(m.default.BUFFER_LEVEL_UPDATED,te,q),n.off(m.default.BUFFER_LEVEL_STATE_CHANGED,ne,q),n.off(m.default.BUFFER_CLEARED,re,q),n.off(m.default.SEEK_TARGET,fe,q),$(),r=h=null}},Y=(0,y.default)(t).getInstance().getLogger(q),$(),n.on(m.default.DATA_UPDATE_COMPLETED,J,q,g.default.EVENT_PRIORITY_HIGH),n.on(m.default.QUALITY_CHANGE_REQUESTED,ee,q),n.on(m.default.INIT_FRAGMENT_NEEDED,se,q),n.on(m.default.MEDIA_FRAGMENT_NEEDED,ue,q),n.on(m.default.MEDIA_FRAGMENT_LOADED,le,q),n.on(m.default.BUFFER_LEVEL_UPDATED,te,q),n.on(m.default.BUFFER_LEVEL_STATE_CHANGED,ne,q),n.on(m.default.BUFFER_CLEARED,re,q),n.on(m.default.SEEK_TARGET,fe,q),q}b.__dashjs_factory_name="StreamProcessor",n.default=h.default.getClassFactory(b),t.exports=n.default},{108:108,109:109,114:114,120:120,149:149,199:199,206:206,215:215,217:217,218:218,220:220,225:225,227:227,243:243,45:45,46:46,47:47,51:51,54:54,57:57,61:61,62:62}],107:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(225)),i=r(e(158)),o=e(241),s=r(e(232)),u=r(e(46)),l=r(e(54)),f=r(e(47)),d=r(e(51));function c(e){e=e||{};var t=this.context,n=(0,u.default)(t).getInstance(),r=(0,i.default)(t).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,useFetch:e.settings?e.settings.get().streaming.lowLatencyEnabled:null,errors:d.default});return{load:function(e,t,i){function u(r,o){t.resolved=!0,t.resolvedContent=r||null,n.trigger(l.default.XLINK_ELEMENT_LOADED,{element:t,resolveObject:i,error:r||o?null:new a.default(d.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,d.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+e)})}var f;"urn:mpeg:dash:resolve-to-zero:2013"===e?u(null,!0):(f=new s.default(e,o.HTTPRequest.XLINK_EXPANSION_TYPE),r.load({request:f,success:function(e){u(e)},error:function(){u(null)}}))},reset:function(){r&&(r.abort(),r=null)}}}c.__dashjs_factory_name="XlinkLoader",n.default=f.default.getClassFactory(c),t.exports=n.default},{158:158,225:225,232:232,241:241,46:46,47:47,51:51,54:54}],108:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.init()}(0,X.default)(n,"__esModule",{value:!0});var i=new(function(e,t,n){t&&r(e.prototype,t)}(a,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer"}}]),a);n.default=i,t.exports=n.default},{}],109:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.init()}(0,X.default)(n,"__esModule",{value:!0});var i=new(function(e,t,n){t&&r(e.prototype,t)}(a,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors"}}]),a);n.default=i,t.exports=n.default},{}],110:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.init()}(0,X.default)(n,"__esModule",{value:!0});var i=new(function(e,t,n){t&&r(e.prototype,t)}(a,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready"}}]),a);n.default=i,t.exports=n.default},{}],111:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(189)),i=r(e(108)),o=r(e(109)),s=r(e(224)),u=r(e(149)),l=r(e(46)),f=r(e(54)),d=r(e(47)),c=r(e(185)),h=r(e(186)),p=r(e(187)),g=r(e(184)),m=r(e(188)),v=r(e(45)),_=e(241),E=e(218);function y(){var e=this.context,t=(0,v.default)(e).getInstance(),n=(0,l.default)(e).getInstance(),r=void 0,d=void 0,y=void 0,T=void 0,S=void 0,A=void 0,I=void 0,R=void 0,b=void 0,w=void 0,M=void 0,C=void 0,N=void 0,O=void 0,L=void 0,x=void 0,P=void 0,F=void 0,U=void 0,k=void 0,B=void 0,G=void 0,q=void 0;function Y(){(y=(0,a.default)(e).create({dashMetrics:G,mediaPlayerModel:L,settings:q})).initialize()}function K(){S={},A={},R={},I={},F={},B={},void 0===w&&(w=!1),k=U=P=void 0,clearTimeout(b),b=null}function H(e){e.mediaType===i.default.VIDEO&&(P=e.oldQuality,U.push(P,O.getPlaybackQuality()))}function j(e){e.metric!==o.default.HTTP_REQUEST||!e.value||e.value.type!==_.HTTPRequest.MEDIA_SEGMENT_TYPE||e.mediaType!==i.default.AUDIO&&e.mediaType!==i.default.VIDEO||k.push(e.mediaType,e.value,q.get().streaming.abr.useDeadTimeLatency),e.metric!==o.default.BUFFER_LEVEL||e.mediaType!==i.default.AUDIO&&e.mediaType!==i.default.VIDEO||function(e,t){var n=q.get().streaming.abr.ABRStrategy;if(n===i.default.ABR_STRATEGY_BOLA)return B[e]=!0;if(n===i.default.ABR_STRATEGY_THROUGHPUT)return B[e]=!1;var r=L.getStableBufferTime(),a=r,o=.5*r,s=B[e],u=(s?o:a)<t;(B[e]=u)!==s&&(u?d.info("["+e+"] switching from throughput to buffer occupancy ABR rule (buffer: "+t.toFixed(3)+")."):d.info("["+e+"] switching from buffer occupancy to throughput ABR rule (buffer: "+t.toFixed(3)+")."))}(e.mediaType,.001*e.value.level)}function z(e,t){return S[t]=S[t]||{},S[t].hasOwnProperty(e)||(S[t][e]=0),function(e,t){if(t!==i.default.VIDEO||!q.get().streaming.abr.limitBitrateByPortal||!I[t])return e;w||ae();var n=N.getAdaptationForType(0,t).Representation,r=e;if(0<M&&0<C){for(;0<r&&n[r]&&M<n[r].width&&M-n[r-1].width<n[r].width-M;)--r;for(;r<n.length-1&&n[r].width===n[r+1].width;)r+=1}return r}(function(e,t,n){var r=q.get().streaming.abr.maxRepresentationRatio[t];return isNaN(r)||1<=r||r<0?e:Math.min(e,Math.round(n*r))}(function(e,t){var n=e;if(!I[t])return n;var r=X(t);void 0!==r&&(n=Math.max(e,r));var a=W(t);return void 0!==a&&(n=Math.min(n,a)),n}(S[t][e],e),e,S[t][e]),e)}function W(e){var t,n=(t=e,q.get().streaming.abr.maxBitrate[t]);return-1<n?ee(I[e].getMediaInfo(),n):void 0}function X(e){var t,n=(t=e,q.get().streaming.abr.minBitrate[t]);if(-1<n){var r=I[e].getMediaInfo(),a=te(r),i=ee(r,n);return a[i]&&i<a.length-1&&a[i].bitrate<1e3*n&&i++,i}}function Q(e,t,n,r){var a=t.id,i=re(e);(0,E.checkInteger)(n);var o=z(e,a);n!==i&&0<=n&&n<=o&&Z(e,i,n,o,r)}function Z(e,t,r,a,i){var o,s,u,l,c,h,p;e&&I[e]&&(s=(o=I[e].getStreamInfo())?o.id:null,q.get().debug.logLevel===v.default.LOG_LEVEL_DEBUG&&(u=G.getCurrentBufferLevel(e),d.info("["+e+"] switch from "+t+" to "+r+"/"+a+" (buffer: "+u+") "+(i?(0,$.default)(i):"."))),c=e,p=r,A[h=s]=A[h]||{},A[h][c]=p,n.trigger(f.default.QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:o,oldQuality:t,newQuality:r,reason:i}),l=k.getAverageThroughput(e),isNaN(l)||x.setSavedBitrateSettings(e,l))}function J(e,t){R[e].state=t}function ee(e,t,n){var r=e&&e.type?I[e.type].getRepresentationInfo():null;if(q.get().streaming.abr.useDeadTimeLatency&&n&&r&&r.fragmentDuration){n/=1e3;var a=r.fragmentDuration;if(a<n)return 0;t*=1-n/a}for(var i=te(e),o=i.length-1;0<=o;o--)if(1e3*t>=i[o].bitrate)return o;return 0}function te(e){var t=[];if(!e||!e.bitrateList)return t;for(var n=e.bitrateList,r=e.type,a=void 0,i=0,o=n.length;i<o;i++)(a=new s.default).mediaType=r,a.qualityIndex=i,a.bitrate=n[i].bandwidth,a.width=n[i].width,a.height=n[i].height,a.scanType=n[i].scanType,t.push(a);return t}function ne(e){return B[e]}function re(e){if(e&&I[e]){var t=I[e].getStreamInfo(),n=t?t.id:null;if(n)return A[n]=A[n]||{},A[n].hasOwnProperty(e)||(A[n][e]=0),A[n][e]}return 0}function ae(){var e;O&&(e=q.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1,M=O.getClientWidth()*e,C=O.getClientHeight()*e)}function ie(t){var n=t.request.mediaType;if(q.get().streaming.abr.autoSwitchBitrate[n]){var a=I[n];if(!a)return;var i,s=(0,c.default)(e).create({abrController:r,streamProcessor:a,currentRequest:t.request,useBufferOccupancyABR:ne(n)}),l=y.shouldAbandonFragment(s);l.quality>h.default.NO_CHANGE&&(i=a.getFragmentModel()).getRequests({state:u.default.FRAGMENT_MODEL_LOADING,index:t.request.index})[0]&&(i.abortRequests(),J(n,o.default.ABANDON_LOAD),F[n].reset(),F[n].push({oldValue:re(n),newValue:l.quality,confidence:1,reason:l.reason}),Q(n,T.getActiveStreamInfo(),l.quality,l.reason),clearTimeout(b),b=(0,D.default)((function(){J(n,o.default.ALLOW_LOAD),b=null}),q.get().streaming.abandonLoadTimeout))}}return r={isPlayingAtTopQuality:function(e){var t=e?e.id:null,n=re(i.default.AUDIO),r=re(i.default.VIDEO);return n===z(i.default.AUDIO,t)&&r===z(i.default.VIDEO,t)},updateTopQualityIndex:function(e){if(e){var t=e.type,n=e.streamInfo.id,r=e.representationCount-1;return a=t,o=r,S[i=n]=S[i]||{},S[i][a]=o,r}var a,i,o},getThroughputHistory:function(){return k},getBitrateList:te,getQualityForBitrate:ee,getTopBitrateInfoFor:function(e){if(e&&I&&I[e]){var t=I[e].getStreamInfo();if(t&&t.id){var n=z(e,t.id),r=te(I[e].getMediaInfo());return r[n]?r[n]:null}}return null},getMaxAllowedIndexFor:W,getMinAllowedIndexFor:X,getInitialBitrateFor:function(e){if(function(){if(!x||!x.hasOwnProperty("getSavedBitrateSettings"))throw new Error(i.default.MISSING_CONFIG_ERROR)}(),e===i.default.TEXT||e===i.default.FRAGMENTED_TEXT)return NaN;var t,n=x.getSavedBitrateSettings(e),r=q.get().streaming.abr.initialBitrate[e],a=q.get().streaming.abr.initialRepresentationRatio[e];return-1===r&&(r=-1<a?(t=N.getAdaptationForType(0,e).Representation,(0,V.default)(t)?t[Math.max(Math.round(t.length*a)-1,0)].bandwidth:0):isNaN(n)?e===i.default.VIDEO?1e3:100:n),r},getQualityFor:re,getAbandonmentStateFor:function(e){return R[e]?R[e].state:null},setPlaybackQuality:Q,checkPlaybackQuality:function(t){var n,a,i,s,u,l,f,p,g,m;t&&I&&I[t]&&(a=(n=I[t].getStreamInfo())?n.id:null,i=re(t),s=(0,c.default)(e).create({abrController:r,streamProcessor:I[t],currentValue:i,switchHistory:F[t],droppedFramesHistory:U,useBufferOccupancyABR:ne(t)}),!U||(u=O.getPlaybackQuality())&&U.push(P,u),q.get().streaming.abr.autoSwitchBitrate[t]&&(l=X(t),f=z(t,a),g=(p=y.getMaxQuality(s)).quality,void 0!==l&&(g>h.default.NO_CHANGE?g:i)<l&&(g=l),f<g&&(g=f),F[t].push({oldValue:i,newValue:g}),g>h.default.NO_CHANGE&&g!=i?(R[t].state===o.default.ALLOW_LOAD||i<g)&&Z(t,i,g,f,p.reason):q.get().debug.logLevel===v.default.LOG_LEVEL_DEBUG&&(m=G.getCurrentBufferLevel(t),d.debug("["+t+"] stay on "+i+"/"+f+" (buffer: "+m+")"))))},getTopQualityIndexFor:z,setElementSize:ae,setWindowResizeEventCalled:function(e){w=e},createAbrRulesCollection:Y,registerStreamType:function(t,r){F[t]=F[t]||(0,p.default)(e).create(),I[t]=r,R[t]=R[t]||{},R[t].state=o.default.ALLOW_LOAD,B[t]=!1,n.on(f.default.LOADING_PROGRESS,ie,this),t==i.default.VIDEO&&(n.on(f.default.QUALITY_CHANGE_RENDERED,H,this),U=U||(0,g.default)(e).create(),ae()),n.on(f.default.METRIC_ADDED,j,this),n.on(f.default.PERIOD_SWITCH_COMPLETED,Y,this),k=k||(0,m.default)(e).create({settings:q})},unRegisterStreamType:function(e){delete I[e]},setConfig:function(e){e&&(e.streamController&&(T=e.streamController),e.domStorage&&(x=e.domStorage),e.mediaPlayerModel&&(L=e.mediaPlayerModel),e.dashMetrics&&(G=e.dashMetrics),e.adapter&&(N=e.adapter),e.videoModel&&(O=e.videoModel),e.settings&&(q=e.settings))},reset:function(){K(),n.off(f.default.LOADING_PROGRESS,ie,this),n.off(f.default.QUALITY_CHANGE_RENDERED,H,this),n.off(f.default.METRIC_ADDED,j,this),n.off(f.default.PERIOD_SWITCH_COMPLETED,Y,this),y&&y.reset()}},d=t.getLogger(r),K(),r}y.__dashjs_factory_name="AbrController";var T=d.default.getSingletonFactory(y);T.QUALITY_DEFAULT=0,d.default.updateSingletonFactory(y.__dashjs_factory_name,T),n.default=T,t.exports=n.default},{108:108,109:109,149:149,184:184,185:185,186:186,187:187,188:188,189:189,218:218,224:224,241:241,45:45,46:46,47:47,54:54}],112:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(147)),i=r(e(205)),o=r(e(220)),s=r(e(85)),u=r(e(47)),l=r(e(46)),f=r(e(54));function d(){var e,t=void 0,n=this.context,r=(0,l.default)(n).getInstance(),u=(0,o.default)(n).getInstance(),d=void 0,c=void 0;return e={reset:function(){d.reset(),c.reset()},initialize:function(e){var n;d.setConfig({adapter:t}),n=e,d.update(n),c.chooseSelector(t.getIsDVB(n))},resolve:function(e){var t,n=(0,S.default)(t=d.getForPath(e)).call(t,(function(e,t){var n=c.select(t);return n?(u.isRelative(n.url)?e.url=u.resolve(n.url,e.url):(e.url=n.url,e.serviceLocation=n.serviceLocation),e.availabilityTimeOffset=n.availabilityTimeOffset,e.availabilityTimeComplete=n.availabilityTimeComplete,e):new s.default}),new s.default);if(!u.isRelative(n.url))return n},setConfig:function(e){e.baseURLTreeModel&&(d=e.baseURLTreeModel),e.baseURLSelector&&(c=e.baseURLSelector),e.adapter&&(t=e.adapter)}},d=(0,a.default)(n).create(),c=(0,i.default)(n).create(),r.on(f.default.SERVICE_LOCATION_BLACKLIST_CHANGED,(function(e){d.invalidateSelectedIndexes(e.entry)}),e),e}d.__dashjs_factory_name="BaseURLController",n.default=u.default.getClassFactory(d),t.exports=n.default},{147:147,205:205,220:220,46:46,47:47,54:54,85:85}],113:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(46));function o(e){e=e||{};var t=[],n=(0,i.default)(this.context).getInstance(),r=e.updateEventName,a=e.addBlacklistEventName;function o(e){-1===(0,W.default)(t).call(t,e)&&(t.push(e),n.trigger(r,{entry:e}))}function s(e){o(e.entry)}return function(){a&&n.on(a,s,this)}(),{add:o,contains:function(e){return!!(t.length&&e&&e.length)&&-1!==(0,W.default)(t).call(t,e)},reset:function(){t=[]}}}o.__dashjs_factory_name="BlackListController",n.default=a.default.getClassFactory(o),t.exports=n.default},{46:46,47:47}],114:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(109)),o=r(e(149)),s=r(e(104)),u=r(e(103)),l=r(e(111)),f=r(e(117)),d=r(e(46)),c=r(e(54)),h=r(e(47)),p=r(e(45)),g=r(e(213)),m=r(e(225)),v=r(e(51)),_=e(241),E="BufferController";function y(e){e=e||{};var t=this.context,n=(0,d.default)(t).getInstance(),r=e.errHandler,h=e.fragmentModel,y=e.representationController,T=e.mediaController,S=e.adapter,A=e.textController,I=e.abrController,R=e.playbackController,b=e.streamInfo,w=e.type,M=e.settings,D=void 0,C=void 0,N=void 0,L=void 0,P=void 0,F=void 0,U=void 0,k=void 0,B=void 0,G=void 0,q=void 0,Y=void 0,K=void 0,H=void 0,V=void 0,j=void 0,z=void 0,W=void 0,X=void 0,Q=void 0,Z=void 0,$=void 0;function J(e,n){if(!z||!e)return null;var a=e[0];if(U)try{"function"==typeof(G=n&&n[w]?(0,s.default)(t).create(U,a,(0,x.default)(ae).call(ae,this),M.get().streaming.useAppendWindowEnd,n[w]):(0,s.default)(t).create(U,a,(0,x.default)(ae).call(ae,this),M.get().streaming.useAppendWindowEnd)).getBuffer().initialize&&G.getBuffer().initialize(w,b,e,h)}catch(e){C.fatal("Caught error on create SourceBuffer: "+e),r.error(new m.default(v.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,v.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+w))}else G=(0,u.default)(t).create((0,x.default)(ae).call(ae,this));return ye(this.getRepresentationInfo(N)),G}function ee(e){e.chunk.streamId===b.id&&e.chunk.mediaInfo.type===w&&(C.info("Init fragment finished loading saving to",w+"'s init cache"),z.save(e.chunk),C.debug("Append Init fragment",w," with representationId:",e.chunk.representationId," and quality:",e.chunk.quality,", data size:",e.chunk.bytes.byteLength),ne(e.chunk))}function te(e){var t,n=e.chunk;n.streamId===b.id&&n.mediaInfo.type==w&&(Z?($=n,(t=G&&G.getAllBufferRanges())&&0<t.length&&.5<R.getTimeToStreamEnd()&&(C.debug("Clearing buffer because track changed - "+(t.end(t.length-1)+.5)),ve([{start:0,end:t.end(t.length-1)+.5,force:!0}]))):ne(n))}function ne(e){G.append(e),e.mediaInfo.type===a.default.VIDEO&&De(c.default.VIDEO_CHUNK_RECEIVED,{chunk:e})}function re(e){if(e&&0<e.length)for(var t=0,n=e.length;t<n;t++)C.debug("Buffered Range",e.start(t)," - ",e.end(t)," currentTime = ",R.getTime())}function ae(e){var t,n,r;if(e.error)return 22===e.error.code&&(j=!0,F=.8*we(),C.warn("Quota exceeded, Critical Buffer: "+F),0<F&&(t=Math.max(.2*F,1),n=F-t,r={streaming:{bufferToKeep:(0,O.default)(t.toFixed(5)),bufferAheadToKeep:(0,O.default)(n.toFixed(5))}},M.update(r))),void(22!==e.error.code&&Me()||(C.warn("Clearing playback buffer to overcome quota exceed situation"),De(c.default.QUOTA_EXCEEDED,{criticalBufferLevel:F}),ue()));j=!1,(K=e.chunk)&&!isNaN(K.index)&&(k=Math.max(K.index,k),pe());var a,i=G.getAllBufferRanges();K.segmentType===_.HTTPRequest.MEDIA_SEGMENT_TYPE?(re(i),le(),!isNaN(W)&&(0===R.getTime()||R.getTime()<i.start(0))&&(R.seek(i.start(0),!0,!0),W=NaN)):Z&&(a=R.getTime(),C.debug("AppendToBuffer seek target should be "+a),De(c.default.SEEK_TARGET,{time:a})),K&&De(K.endFragment?c.default.BYTES_APPENDED_END_FRAGMENT:c.default.BYTES_APPENDED,{quality:K.quality,startTime:K.start,index:K.index,bufferedRanges:i})}function ie(e){e.streamInfo.id==b.id&&e.mediaType===w&&N!==e.newQuality&&(ye(this.getRepresentationInfo(e.newQuality)),N=e.newQuality)}function oe(e){W=e.seekTime,L&&(L=!(X=!0),B=Number.POSITIVE_INFINITY),(w!==a.default.FRAGMENTED_TEXT?ue:le)()}function se(){W=NaN}function ue(){G.waitForUpdateEnd((function(){var e=function(){var e=[],t=G.getAllBufferRanges();if(!t||0===t.length)return e;var n,r,a,i,s=R.getTime(),u=t.end(t.length-1)+.5,l=h.getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:s,threshold:.01})[0];return l?(n={start:0,end:l.startTime-.5},(r=h.getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:l.startTime-l.duration/2,threshold:.01})[0])&&r.startTime!=l.startTime&&(n.end=r.startTime),n.start<n.end&&n.end>t.start(0)&&e.push(n),a={start:l.startTime+l.duration+.5,end:u},(i=h.getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:l.startTime+l.duration+.5,threshold:.01})[0])&&i.startTime!==l.startTime&&(a.start=i.startTime+i.duration+.5),a.start<a.end&&a.start<u&&e.push(a)):(C.debug("getAllRangesWithSafetyFactor - No request found in current time position, removing full buffer 0 -",u),e.push({start:0,end:u})),e}();e&&0!==e.length||le(),ve(e)}))}function le(){(!Z||w===a.default.FRAGMENTED_TEXT&&A.isTextEnabled())&&he()}function fe(){ge()}function de(){W=NaN,ge()}function ce(e,t){var n,r,a,i=G.getAllBufferRanges(),o=null,s=null,u=0,l=void 0,f=t||.15;if(null!=i){for(l=0,a=i.length;l<a;l++)if(n=i.start(l),r=i.end(l),null===o)u=Math.abs(n-e),(n<=e&&e<r||u<=f)&&(o=n,s=r);else{if(!((u=n-s)<=f))break;s=r}if(null!==o)return{start:o,end:s}}return null}function he(){var e,t;R&&(e=(isNaN(W)?R.getTime():W)||0,void 0,P=null===(t=ce(e,void 0))?0:t.end-e,De(c.default.BUFFER_LEVEL_UPDATED,{bufferLevel:P}),ge())}function pe(){B-1<=k&&!L&&void 0===G.discharge&&(L=!0,C.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),De(c.default.BUFFERING_COMPLETED))}function ge(){w!==a.default.AUDIO&&w!==a.default.VIDEO||(X&&!L&&0<P&&R&&R.getTimeToStreamEnd()-P<.5&&(L=!(X=!1),C.debug("checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),De(c.default.BUFFERING_COMPLETED)),(!M.get().streaming.lowLatencyEnabled&&P<.5||0===P)&&!L?me(i.default.BUFFER_EMPTY):(L||P>=b.manifestInfo.minBufferTime)&&me(i.default.BUFFER_LOADED))}function me(e){Y===e||e===i.default.BUFFER_EMPTY&&0===R.getTime()||w===a.default.FRAGMENTED_TEXT&&!A.isTextEnabled()||(Y=e,De(c.default.BUFFER_LEVEL_STATE_CHANGED,{state:e}),De(e===i.default.BUFFER_LOADED?c.default.BUFFER_LOADED:c.default.BUFFER_EMPTY),C.debug(e===i.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function ve(e){e&&G&&0!==e.length&&(Q.push.apply(Q,e),V||_e())}function _e(){if(0===Q.length||!G)return C.debug("Nothing to prune, halt pruning"),void(V=!(Q=[]));var e=G.getBuffer();if(!e||!e.buffered||0===e.buffered.length)return C.debug("SourceBuffer is empty (or does not exist), halt pruning"),void(V=!(Q=[]));var t=Q.shift();C.debug("Removing buffer from:",t.start,"to",t.end),V=!0;var n=R.getTime();n<t.end&&(L=!1,k=0,Z||De(c.default.SEEK_TARGET,{time:n})),G.remove(t.start,t.end,t.force)}function Ee(e){G===e.buffer&&(C.debug("onRemoved buffer from:",e.from,"to",e.to),re(G.getAllBufferRanges()),0===Q.length&&(V=!1),e.unintended&&(C.warn("Detected unintended removal from:",e.from,"to",e.to,"setting index handler time to",e.from),De(c.default.SEEK_TARGET,{time:e.from})),V?_e():(Z?(Z=!1,$&&ne($)):(C.debug("onRemoved : call updateBufferLevel"),he()),De(c.default.BUFFER_CLEARED,{from:e.from,to:e.to,unintended:e.unintended,hasEnoughSpaceToAppend:Me(),quotaExceeded:j})))}function ye(e){e&&void 0!==e.MSETimeOffset&&G&&G.updateTimestampOffset&&G.updateTimestampOffset(e.MSETimeOffset)}function Te(e){e.sender.getStreamId()===b.id&&e.sender.getType()===w&&(e.error||ye(e.currentRepresentation))}function Se(e){e.request.mediaInfo.streamInfo.id===b.id&&e.request.mediaType===w&&(B=e.request.index,pe())}function Ae(e){var t;e.newMediaInfo.streamInfo.id!==b.id||e.newMediaInfo.type!==w||(t=G&&G.getAllBufferRanges())&&(C.info("Track change asked"),T.getSwitchMode(w)===f.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&t&&0<t.length&&.5<R.getTimeToStreamEnd()&&(L=!1,B=Number.POSITIVE_INFINITY))}function Ie(){++H*(M.get().streaming.wallclockTimeUpdateInterval/1e3)>=M.get().streaming.bufferPruningInterval&&(H=0,G&&w!==a.default.FRAGMENTED_TEXT&&(L||ve(function(){var e=[],t=G.getAllBufferRanges();if(!t||0===t.length)return e;var n,r=R.getTime(),a={start:Math.max(0,r-M.get().streaming.bufferToKeep),end:r+M.get().streaming.bufferAheadToKeep},i=h.getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:r,threshold:.01})[0];if(i)a.start=Math.min(i.startTime,a.start),a.end=Math.max(i.startTime+i.duration,a.end);else if(0===r&&R.getIsDynamic())return[];if(t.start(0)<=a.start){for(var s={start:0,end:a.start},u=0;u<t.length&&t.end(u)<=a.start;u++)s.end=t.end(u);s.start<s.end&&e.push(s)}return t.end(t.length-1)>=a.end&&(n={start:a.end,end:t.end(t.length-1)+.01}).start<n.end&&e.push(n),e}())))}function Re(){ge()}function be(e,t){U=e,G&&t&&"function"==typeof G.discharge&&(q=G,J(t))}function we(){var e,t=G.getAllBufferRanges(),n=0,r=void 0;if(!t)return n;for(r=0,e=t.length;r<e;r++)n+=t.end(r)-t.start(r);return n}function Me(){return we()<F}function De(e,t){var r=t||{};r.sender=D,r.mediaType=w,r.streamId=b.id,n.trigger(e,r)}function Ce(e,t){F=Number.POSITIVE_INFINITY,Y=void 0,N=l.default.QUALITY_DEFAULT,B=Number.POSITIVE_INFINITY,K=null,X=j=V=L=!1,H=P=k=0,Q=[],W=NaN,G&&(e||G.abort(),G.reset(t),G=null),Z=!1}return D={getBufferControllerType:function(){return E},getRepresentationInfo:function(e){return S.convertDataToRepresentationInfo(y.getRepresentationForQuality(e))},initialize:function(e){be(e),N=I.getQualityFor(w),n.on(c.default.DATA_UPDATE_COMPLETED,Te,this),n.on(c.default.INIT_FRAGMENT_LOADED,ee,this),n.on(c.default.MEDIA_FRAGMENT_LOADED,te,this),n.on(c.default.QUALITY_CHANGE_REQUESTED,ie,this),n.on(c.default.STREAM_COMPLETED,Se,this),n.on(c.default.PLAYBACK_PLAYING,de,this),n.on(c.default.PLAYBACK_PROGRESS,le,this),n.on(c.default.PLAYBACK_TIME_UPDATED,le,this),n.on(c.default.PLAYBACK_RATE_CHANGED,Re,this),n.on(c.default.PLAYBACK_SEEKING,oe,this),n.on(c.default.PLAYBACK_SEEKED,se,this),n.on(c.default.PLAYBACK_STALLED,fe,this),n.on(c.default.WALLCLOCK_TIME_UPDATED,Ie,this),n.on(c.default.CURRENT_TRACK_CHANGED,Ae,this,d.default.EVENT_PRIORITY_HIGH),n.on(c.default.SOURCEBUFFER_REMOVE_COMPLETED,Ee,this)},createBuffer:J,dischargePreBuffer:function(){if(G&&q&&"function"==typeof q.discharge){var e=q.getAllBufferRanges();if(0<e.length){for(var t="Beginning "+w+"PreBuffer discharge, adding buffer for:",n=0;n<e.length;n++)t+=" start: "+e.start(n)+", end: "+e.end(n)+";";C.debug(t)}else C.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var r=q.discharge(),a=null,i=0;i<r.length;i++){var o=r[i],s=z.extract(o.streamId,o.representationId);s&&(a!==s&&(G.append(s),a=s),G.append(o))}q.reset(),q=null}},getType:function(){return w},getBuffer:function(){return G},setBuffer:function(e){G=e},getBufferLevel:function(){return P},getRangeAt:ce,setMediaSource:be,getMediaSource:function(){return U},appendInitSegment:function(e){var t=z.extract(b.id,e);return!!t&&(C.info("Append Init fragment",w," with representationId:",t.representationId," and quality:",t.quality,", data size:",t.bytes.byteLength),ne(t),!0)},replaceBuffer:function(){Z=!0},getIsBufferingCompleted:function(){return L},getIsPruningInProgress:function(){return V},reset:function(e,t){n.off(c.default.DATA_UPDATE_COMPLETED,Te,this),n.off(c.default.INIT_FRAGMENT_LOADED,ee,this),n.off(c.default.MEDIA_FRAGMENT_LOADED,te,this),n.off(c.default.QUALITY_CHANGE_REQUESTED,ie,this),n.off(c.default.STREAM_COMPLETED,Se,this),n.off(c.default.PLAYBACK_PLAYING,de,this),n.off(c.default.PLAYBACK_PROGRESS,le,this),n.off(c.default.PLAYBACK_TIME_UPDATED,le,this),n.off(c.default.PLAYBACK_RATE_CHANGED,Re,this),n.off(c.default.PLAYBACK_SEEKING,oe,this),n.off(c.default.PLAYBACK_SEEKED,se,this),n.off(c.default.PLAYBACK_STALLED,fe,this),n.off(c.default.WALLCLOCK_TIME_UPDATED,Ie,this),n.off(c.default.CURRENT_TRACK_CHANGED,Ae,this),n.off(c.default.SOURCEBUFFER_REMOVE_COMPLETED,Ee,this),Ce(e,t)}},C=(0,p.default)(t).getInstance().getLogger(D),z=(0,g.default)(t).getInstance(),Ce(),D}y.__dashjs_factory_name=E,n.default=h.default.getClassFactory(y),t.exports=n.default},{103:103,104:104,108:108,109:109,111:111,117:117,149:149,213:213,225:225,241:241,45:45,46:46,47:47,51:51,54:54}],115:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(45)),o=r(e(46)),s=r(e(54)),u=r(e(159));function l(){var e,t="urn:mpeg:dash:event:2012",n=this.context,r=(0,o.default)(n).getInstance(),a=void 0,l=void 0,f=void 0,d=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0;function E(){if(!g||!m)throw new Error("setConfig function has to be called previously")}function y(){_=!1,l={},f={},h=null,v=!(d={}),p=(0,c.default)()/1e3}function S(){try{var e,t;v||(t=(e=m.getTime())-p,t=0<p?Math.max(0,t):0,I(f,t,e),I(l,t,e),function(){try{if(d)for(var e=m.getTime(),t=(0,P.default)(d),n=0;n<t.length;n++){var r=t[n],i=d[r];null!==i&&(i.duration+i.calculatedPresentationTime)/i.eventStream.timescale<e&&(a.debug("Remove Event "+r+" at time "+e),i=null,delete d[r])}}catch(e){}}(),p=e),v=!1}catch(e){v=!1}}function I(e,t,n){try{if(e)for(var r=(0,P.default)(e),i=0;i<r.length;i++){var o,s=r[i],u=e[s];void 0!==u&&((o=u.calculatedPresentationTime/u.eventStream.timescale)<=n&&n<=o+t?b(s,u,e):(function(e,t,n){try{return n<e-t}catch(e){return!1}}(n,t,o)||function(e){try{var t=e.eventStream.period.start+e.eventStream.period.duration;return e.calculatedPresentationTime/1e3>t}catch(e){return!1}}(u))&&(a.debug("Deleting event "+s+" as it is expired or invalid"),delete e[s]))}}catch(e){}}function R(e){try{var t=function(){var t=(0,P.default)(e),n=m.getTime();if(!t||0===t.length)return{v:void 0};var r=e[t[0]].eventStream&&e[t[0]].eventStream.period&&!isNaN(e[t[0]].eventStream.period.duration)?e[t[0]].eventStream.period.duration:NaN,a=e[t[0]].eventStream&&e[t[0]].eventStream.period&&!isNaN(e[t[0]].eventStream.period.start)?e[t[0]].eventStream.period.start:NaN;if(isNaN(r)||isNaN(a))return{v:void 0};(0,A.default)(t).call(t,(function(t){var r=e[t],a=r.calculatedPresentationTime/r.eventStream.timescale;Math.abs(a-n)<300&&b(t,r,e)}))}();if("object"==(0,j.default)(t))return t.v}catch(t){}}function b(e,i,o){try{var s=m.getTime();0<i.duration&&(d[e]=i),i.eventStream.schemeIdUri===t&&1==i.eventStream.value?0===i.duration&&0===i.presentationTimeDelta||(a.debug("Starting manifest refresh event "+e+" at "+s),function(){try{E(),g.refreshManifest()}catch(e){}}()):"urn:mpeg:dash:event:callback:2015"===i.eventStream.schemeIdUri&&1==i.eventStream.value?(a.debug("Starting callback event "+e+" at "+s),function(e){try{(0,u.default)(n).create({}).load({method:"get",url:e,request:{responseType:"arraybuffer"}})}catch(e){throw e}}(i.messageData)):(a.debug("Starting event "+e+" at "+s),r.trigger(i.eventStream.schemeIdUri,{event:i})),delete o[e]}catch(e){}}return e={addInlineEvents:function(e){try{if(E(),e)for(var t=0;t<e.length;t++){var n=e[t];l[n.id]=n,a.debug("Add inline event with id "+n.id)}a.debug("Added "+e.length+" inline events")}catch(e){throw e}},addInbandEvents:function(e){try{E();for(var n=0;n<e.length;n++){var i=e[n];i.id in f?a.debug("Repeated event with id "+i.id):(i.eventStream.schemeIdUri===t&&void 0===f[i.id]&&function(e){try{var t,n,i;1==e.eventStream.value&&(t=e.eventStream.timescale||1,n=e.calculatedPresentationTime/t,void 0,i=4294967295==e.calculatedPresentationTime?NaN:(e.calculatedPresentationTime+e.duration)/t,a.info("Manifest validity changed: Valid until: "+n+"; remaining duration: "+i),r.trigger(s.default.MANIFEST_VALIDITY_CHANGED,{id:e.id,validUntil:n,newDuration:i,newManifestValidAfter:NaN}))}catch(e){}}(i),f[i.id]=i,a.debug("Add inband event with id "+i.id))}S()}catch(e){throw e}},start:function(){try{E(),a.debug("Start Event Controller"),_||isNaN(100)||(_=!0,h=(0,T.default)(S,100))}catch(e){throw e}},setConfig:function(e){try{if(!e)return;e.manifestUpdater&&(g=e.manifestUpdater),e.playbackController&&(m=e.playbackController)}catch(e){throw e}},reset:function(){(function(){try{null!==h&&_&&(clearInterval(h),h=null,_=!1,function(){try{R(f),R(l)}catch(e){}}())}catch(e){throw e}})(),y()}},a=(0,i.default)(n).getInstance().getLogger(e),y(),e}l.__dashjs_factory_name="EventController",n.default=a.default.getSingletonFactory(l),t.exports=n.default},{159:159,45:45,46:46,47:47,54:54}],116:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(226)),o=r(e(149)),s=r(e(97)),u=r(e(217)),l=r(e(46)),f=r(e(54)),d=r(e(51)),c=r(e(47)),h=r(e(45));function p(e){e=e||{};var t,n=this.context,r=(0,l.default)(n).getInstance(),c=e.errHandler,p=e.mediaPlayerModel,g=e.dashMetrics,m=(0,h.default)(n).getInstance(),v=void 0,_=void 0;function E(){for(var e in _)_[e].reset();_={}}function y(e){var t,n,o,s,u,l,d,c,h,p;e.sender&&(t=e.request,n=e.response,o=t.isInitializationRequest(),s=t.mediaInfo.streamInfo,e.error&&(e.request.mediaType!==a.default.AUDIO&&e.request.mediaType!==a.default.VIDEO&&e.request.mediaType!==a.default.FRAGMENTED_TEXT||r.trigger(f.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:e.request.serviceLocation})),n&&s?(l=n,d=t,c=s.id,h=e.type!==f.default.FRAGMENT_LOADING_PROGRESS,(p=new i.default).streamId=c,p.mediaInfo=d.mediaInfo,p.segmentType=d.type,p.start=d.startTime,p.duration=d.duration,p.end=p.start+p.duration,p.bytes=l,p.index=d.index,p.quality=d.quality,p.representationId=d.representationId,p.endFragment=h,u=p,r.trigger(o?f.default.INIT_FRAGMENT_LOADED:f.default.MEDIA_FRAGMENT_LOADED,{chunk:u,request:t})):v.warn("No "+t.mediaType+" bytes to push or stream is inactive."))}return t={getModel:function(t,a){var i=_[a];return i||(i=(0,o.default)(n).create({streamId:t,dashMetrics:g,fragmentLoader:(0,s.default)(n).create({dashMetrics:g,mediaPlayerModel:p,errHandler:c,requestModifier:(0,u.default)(n).getInstance(),settings:e.settings,boxParser:e.boxParser,eventBus:r,events:f.default,errors:d.default,dashConstants:e.dashConstants,urlUtils:e.urlUtils}),debug:m,eventBus:r,events:f.default}),_[a]=i),i},reset:function(){r.off(f.default.FRAGMENT_LOADING_COMPLETED,y,this),r.off(f.default.FRAGMENT_LOADING_PROGRESS,y,this),E()}},v=m.getLogger(t),E(),r.on(f.default.FRAGMENT_LOADING_COMPLETED,y,t),r.on(f.default.FRAGMENT_LOADING_PROGRESS,y,t),t}p.__dashjs_factory_name="FragmentController",n.default=c.default.getClassFactory(p),t.exports=n.default},{108:108,149:149,217:217,226:226,45:45,46:46,47:47,51:51,54:54,97:97}],117:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(54)),o=r(e(46)),s=r(e(47)),u=r(e(45)),l="neverReplace",f="alwaysReplace",d="highestBitrate",c="widestRange",h=d;function p(){var e,t=this.context,n=(0,o.default)(t).getInstance(),r=void 0,s=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=[f,l],E=[d,c];function y(e,t){if(!e||!t)return[];var n=t.id;return s[n]&&s[n][e]?s[n][e].list:[]}function T(e,t){return!e||!t||t&&!s[t.id]?null:s[t.id][e].current}function S(e){var t,r,a,o,u,l,f;e&&e.streamInfo&&(t=e.type,a=(r=e.streamInfo).id,o=T(t,r),s[a]&&s[a][t]&&!D(e,o)&&(s[a][t].current=e,s[a][t].current&&n.trigger(i.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:o,newMediaInfo:e,switchMode:m[t]}),(u=(f={lang:(l=e).lang,viewpoint:l.viewpoint,roles:l.roles,accessibility:l.accessibility,audioChannelConfiguration:l.audioChannelConfiguration}).lang||f.viewpoint||f.role&&0<f.role.length||f.accessibility&&0<f.accessibility.length||f.audioChannelConfiguration&&0<f.audioChannelConfiguration.length?f:null)&&s[a][t].storeLastSettings&&(u.roles&&(u.role=u.roles[0],delete u.roles),u.accessibility&&(u.accessibility=u.accessibility[0]),u.audioChannelConfiguration&&(u.audioChannelConfiguration=u.audioChannelConfiguration[0]),v.setSavedMediaSettings(t,u))))}function R(e,t){e&&t&&(p[e]=t)}function b(e){return e?p[e]:null}function w(){return g||h}function M(e){return e===a.default.AUDIO||e===a.default.VIDEO||e===a.default.TEXT||e===a.default.FRAGMENTED_TEXT||e===a.default.IMAGE}function D(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var n=e.id===t.id,r=e.viewpoint===t.viewpoint,a=e.lang===t.lang,i=e.roles.toString()===t.roles.toString(),o=e.accessibility.toString()===t.accessibility.toString(),s=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return n&&r&&a&&i&&o&&s}function N(){s={},p={audio:null,video:null},m={audio:f,video:l}}function O(e,t){var n,r,a,i=!e.lang||t.lang.match(e.lang),o=!e.viewpoint||e.viewpoint===t.viewpoint,s=!e.role||!!(0,I.default)(n=t.roles).call(n,(function(t){return t===e.role}))[0],u=!e.accessibility||!!(0,I.default)(r=t.accessibility).call(r,(function(t){return t===e.accessibility}))[0],l=!e.audioChannelConfiguration||!!(0,I.default)(a=t.audioChannelConfiguration).call(a,(function(t){return t===e.audioChannelConfiguration}))[0];return i&&o&&s&&u&&l}function L(e){function t(e){var t,n=0,r=[];return(0,A.default)(e).call(e,(function(e){var a;t=Math.max.apply(Math,(0,C.default)(a=e.bitrateList).call(a,(function(e){return e.bandwidth}))),n<t?(n=t,r=[e]):t===n&&r.push(e)})),r}function n(e){var t,n=0,r=[];return(0,A.default)(e).call(e,(function(e){t=e.representationCount,n<t?(n=t,r=[e]):t===n&&r.push(e)})),r}var a=w(),i=[];switch(a){case d:1<(i=t(e)).length&&(i=n(i));break;case c:1<(i=n(e)).length&&(i=t(e));break;default:r.warn("Track selection mode is not supported: "+a)}return i[0]}return e={checkInitialMediaSettingsForType:function(e,t){var n=b(e),r=y(e,t),i=[];e!==a.default.FRAGMENTED_TEXT?(n||R(e,n=v.getSavedMediaSettings(e)),r&&0!==r.length&&(n&&(0,A.default)(r).call(r,(function(e){O(n,e)&&i.push(e)})),0===i.length?S(L(r)):1<i.length?S(L(i)):S(i[0]))):S(r[0])},addTrack:function(e){if(e){var t=e.type;if(M(t)){var n=e.streamInfo.id;s[n]||(s[n]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var r=s[n][t].list,a=0,i=r.length;a<i;++a)if(D(r[a],e))return;r.push(e);var o=b(t);o&&O(o,e)&&!T(t,e.streamInfo)&&S(e)}}},getTracksFor:y,getCurrentTrackFor:T,isCurrentTrack:function(e){if(!e)return!1;var t=e.type,n=e.streamInfo.id;return s[n]&&s[n][t]&&D(s[n][t].current,e)},setTrack:S,setInitialSettings:R,getInitialSettings:b,setSwitchMode:function(e,t){-1!==(0,W.default)(_).call(_,t)?m[e]=t:r.warn("Track switch mode is not supported: "+t)},getSwitchMode:function(e){return m[e]},setSelectionModeForInitialTrack:function(e){-1!==(0,W.default)(E).call(E,e)?g=e:r.warn("Track selection mode is not supported: "+e)},getSelectionModeForInitialTrack:w,isMultiTrackSupportedByType:M,isTracksEqual:D,matchSettings:O,setConfig:function(e){e&&e.domStorage&&(v=e.domStorage)},reset:N},r=(0,u.default)(t).getInstance().getLogger(e),N(),e}p.__dashjs_factory_name="MediaController";var g=s.default.getSingletonFactory(p);g.TRACK_SWITCH_MODE_NEVER_REPLACE=l,g.TRACK_SWITCH_MODE_ALWAYS_REPLACE=f,g.TRACK_SELECTION_MODE_HIGHEST_BITRATE=d,g.TRACK_SELECTION_MODE_WIDEST_RANGE=c,g.DEFAULT_INIT_TRACK_SELECTION_MODE=h,s.default.updateSingletonFactory(p.__dashjs_factory_name,g),n.default=g,t.exports=n.default},{108:108,45:45,46:46,47:47,54:54}],118:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(45));function o(){var e,t=void 0,n=this.context;return e={createMediaSource:function(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null},attachMediaSource:function(e,t){var n=window.URL.createObjectURL(e);return t.setSource(n),n},detachMediaSource:function(e){e.setSource(null)},setDuration:function(e,t){return e.duration!=t&&(e.duration=t),e.duration},setSeekable:function(e,t,n){e&&"function"==typeof e.setLiveSeekableRange&&"function"==typeof e.clearLiveSeekableRange&&"open"===e.readyState&&0<=t&&t<n&&(e.clearLiveSeekableRange(),e.setLiveSeekableRange(t,n))},signalEndOfStream:function(e){if(e&&"open"===e.readyState){for(var n=e.sourceBuffers,r=0;r<n.length;r++){if(n[r].updating)return;if(0===n[r].buffered.length)return}t.info("call to mediaSource endOfStream"),e.endOfStream()}}},t=(0,i.default)(n).getInstance().getLogger(e),e}o.__dashjs_factory_name="MediaSourceController",n.default=a.default.getSingletonFactory(o),t.exports=n.default},{45:45,47:47}],119:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(109)),o=r(e(46)),s=r(e(54)),u=r(e(47)),l=r(e(45));function f(){var e,t=this.context,n=(0,o.default)(t).getInstance(),r=void 0,u=void 0,f=void 0,d=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,E=void 0,y=void 0,S=void 0,I=void 0,R=void 0,b=void 0,w=void 0,M=void 0,D=void 0,C=void 0,N=void 0;function L(e){var t,a,i,o;g&&isNaN(m)||(t=m,isNaN(t)&&(y?(t=e.liveStartTime,(i=(a=f.getCurrentDVRInfo())?a.range:null)&&(o=X(E.start,!0),isNaN(o)||(r.info("Start time from URI parameters: "+o),t=Math.max(Math.min(t,o),i.start)))):(t=E.start,o=X(E.start,!1),!isNaN(o)&&o<t+E.duration&&(r.info("Start time from URI parameters: "+o),t=Math.max(t,o)))),isNaN(t)||t===h.getTime()||(n.trigger(s.default.PLAYBACK_SEEKING,{seekTime:t}),q(t,!1,!0)))}function x(){return(0,O.default)((P()-Y()).toFixed(5))}function P(){return E.start+E.duration}function F(){E&&h&&h.getElement()?h.play():I=!0}function U(){return E&&h?h.isPaused():null}function k(){E&&h&&h.pause()}function G(){return E&&h?h.isSeeking():null}function q(e,t,a){E&&h&&(!0===a?e!==h.getTime()&&(h.removeEventListener("seeking",ie),r.info("Requesting internal seek to time: "+e),h.setCurrentTime(e,t)):(n.trigger(s.default.PLAYBACK_SEEK_ASKED),r.info("Requesting seek to time: "+e),h.setCurrentTime(e,t)))}function Y(){return E&&h?h.getTime():null}function K(){var e,t=Y();return!y||isNaN(b)||(e=b/1e3)<t&&(t-=e),t}function H(){return E&&h?h.getPlaybackRate():null}function V(){return E&&h?h.getEnded():null}function j(){if(!y||isNaN(b))return NaN;var e=K();if(isNaN(e)||0===e)return 0;var t=(new Date).getTime()+1e3*p.getClientTimeOffset();return Math.max(((t-b-1e3*e)/1e3).toFixed(3),0)}function z(){g=I=!1,m=NaN,b=_=0,h&&(n.off(s.default.STREAM_INITIALIZED,L,this),n.off(s.default.DATA_UPDATE_COMPLETED,J,this),n.off(s.default.BUFFER_LEVEL_STATE_CHANGED,ve,this),n.off(s.default.LOADING_PROGRESS,me,this),n.off(s.default.PLAYBACK_PROGRESS,pe,this),n.off(s.default.PLAYBACK_TIME_UPDATED,pe,this),n.off(s.default.PLAYBACK_ENDED,ce,this),n.off(s.default.STREAM_INITIALIZING,Ee,this),Z(),h.removeEventListener("canplay",ee),h.removeEventListener("play",te),h.removeEventListener("waiting",ne),h.removeEventListener("playing",re),h.removeEventListener("pause",ae),h.removeEventListener("error",he),h.removeEventListener("seeking",ie),h.removeEventListener("seeked",oe),h.removeEventListener("timeupdate",se),h.removeEventListener("progress",ue),h.removeEventListener("ratechange",le),h.removeEventListener("loadedmetadata",fe),h.removeEventListener("stalled",_e),h.removeEventListener("ended",de)),y=E=h=v=null}function X(e,t){var n,r=C.getURIFragmentData();return r&&r.t?(r.t=r.t.split(",")[0],t&&-1!==(0,W.default)(n=r.t).call(n,"posix:")?(0,B.default)(r.t.substring(6)):e+(0,B.default)(r.t)):NaN}function Q(){null===v&&(v=(0,T.default)((function(){n.trigger(s.default.WALLCLOCK_TIME_UPDATED,{isDynamic:y,time:new Date}),y&&U()&&function(){var e=(0,c.default)();(!R||R+500<e)&&(R=e,se())}()}),N.get().streaming.wallclockTimeUpdateInterval))}function Z(){clearInterval(v),v=null}function $(){var e,t,n,r,a;!U()&&y&&0!==h.getReadyState()&&(n=e=K(),t=(a=(r=f.getCurrentDVRInfo())?r.range:null)?n>a.end?Math.max(a.end-2*E.manifestInfo.minBufferTime,a.start):0<n&&n+.25<a.start&&Math.abs(n-a.start)<31536e4?a.start:n:NaN,isNaN(t)||t===e||q(t))}function J(e){var t,n;e.error||null!==(n=(t=d.convertDataToRepresentationInfo(e.currentRepresentation))?t.mediaInfo.streamInfo:null)&&E.id===n.id&&(E=n,$())}function ee(){n.trigger(s.default.CAN_PLAY)}function te(){r.info("Native video element event: play"),$(),Q(),n.trigger(s.default.PLAYBACK_STARTED,{startTime:Y()})}function ne(){r.info("Native video element event: waiting"),n.trigger(s.default.PLAYBACK_WAITING,{playingTime:Y()})}function re(){r.info("Native video element event: playing"),n.trigger(s.default.PLAYBACK_PLAYING,{playingTime:Y()})}function ae(){r.info("Native video element event: pause"),n.trigger(s.default.PLAYBACK_PAUSED,{ended:V()})}function ie(){var e=Y();r.info("Seeking to: "+e),Q(),n.trigger(s.default.PLAYBACK_SEEKING,{seekTime:e})}function oe(){r.info("Native video element event: seeked"),n.trigger(s.default.PLAYBACK_SEEKED),h.addEventListener("seeking",ie)}function se(){E&&n.trigger(s.default.PLAYBACK_TIME_UPDATED,{timeToEnd:x(),time:Y()})}function ue(){n.trigger(s.default.PLAYBACK_PROGRESS)}function le(){var e=H();r.info("Native video element event: ratechange: ",e),n.trigger(s.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function fe(){r.info("Native video element event: loadedmetadata"),n.trigger(s.default.PLAYBACK_METADATA_LOADED),Q()}function de(){r.info("Native video element event: ended"),k(),Z(),n.trigger(s.default.PLAYBACK_ENDED,{isLast:u.getActiveStreamInfo().isLast})}function ce(e){v&&e.isLast&&(r.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended"),h.setCurrentTime(P()),k(),Z())}function he(e){var t=e.target||e.srcElement;n.trigger(s.default.PLAYBACK_ERROR,{error:t.error})}function pe(){var e,t,n;y&&N.get().streaming.lowLatencyEnabled&&0<N.get().streaming.liveCatchUpPlaybackRate&&!U()&&!G()&&(e=j(),t=Math.abs(e-S.getLiveDelay()),n=S.getLiveCatchupLatencyThreshold(),(N.get().streaming.lowLatencyEnabled&&0<N.get().streaming.liveCatchUpPlaybackRate&&0<Y()&&t>N.get().streaming.liveCatchUpMinDrift&&(isNaN(n)||e<=n)?function(){var e,t,n,a,i;h&&(e=N.get().streaming.liveCatchUpPlaybackRate,t=S.getLiveDelay(),a=5*(n=j()-t),i=1-e+2*e/(1+Math.pow(Math.E,-a)),M&&(t/2<function(){var e,t=null;return(0,A.default)(e=u.getActiveStreamProcessors()).call(e,(function(e){var n=e.getBufferLevel();t=null===t?n:Math.min(t,n)})),t}()?M=!1:0<n&&(i=1)),Math.abs(h.getPlaybackRate()-i)>D&&h.setPlaybackRate(i),0<N.get().streaming.liveCatchUpMaxDrift&&!w&&n>N.get().streaming.liveCatchUpMaxDrift?(r.info("Low Latency catchup mechanism. Latency too high, doing a seek to live point"),w=!0,function(){var e=f.getCurrentDVRInfo();q((e?e.range:null).end-S.getLiveDelay(),!0,!1)}()):w=!1)}:ge)())}function ge(){h&&h.setPlaybackRate(1)}function me(e){var t,n;!1!==e.stream||!N.get().streaming.lowLatencyEnabled||isNaN(e.request.duration)||(t=1.2*e.request.duration)>S.getLiveDelay()&&(r.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",t.toFixed(2)),n={streaming:{liveDelay:t}},N.update(n))}function ve(e){e.streamId===E.id&&(N.get().streaming.lowLatencyEnabled?e.state!==i.default.BUFFER_EMPTY||G()||M||(M=!0,ge()):h.setStallState(e.mediaType,e.state===i.default.BUFFER_EMPTY))}function _e(e){n.trigger(s.default.PLAYBACK_STALLED,{e:e})}function Ee(e){!function(e,t){if(e&&e.manifestInfo&&e.manifestInfo.serviceDescriptions){for(var n=void 0,i=0;i<e.manifestInfo.serviceDescriptions.length;i++){var o=e.manifestInfo.serviceDescriptions[i];if(o.schemeIdUri===a.default.SERVICE_DESCRIPTION_LL_SCHEME){n=o;break}}n&&t&&t.supplementalProperties&&"true"===t.supplementalProperties[a.default.SUPPLEMENTAL_PROPERTY_LL_SCHEME]&&(n.latency&&0<n.latency.target&&(r.debug("Apply LL properties coming from service description. Target Latency (ms):",n.latency.target),N.update({streaming:{lowLatencyEnabled:!0,liveDelay:n.latency.target/1e3,liveCatchUpMinDrift:n.latency.max>n.latency.target?(n.latency.max-n.latency.target)/1e3:void 0}})),n.playbackRate&&1<n.playbackRate.max&&(r.debug("Apply LL properties coming from service description. Max PlaybackRate:",n.playbackRate.max),N.update({streaming:{lowLatencyEnabled:!0,liveCatchUpPlaybackRate:n.playbackRate.max-1}})))}}(e.streamInfo,e.mediaInfo)}return e={initialize:function(e,t,r){E=e,h.addEventListener("canplay",ee),h.addEventListener("play",te),h.addEventListener("waiting",ne),h.addEventListener("playing",re),h.addEventListener("pause",ae),h.addEventListener("error",he),h.addEventListener("seeking",ie),h.addEventListener("seeked",oe),h.addEventListener("timeupdate",se),h.addEventListener("progress",ue),h.addEventListener("ratechange",le),h.addEventListener("loadedmetadata",fe),h.addEventListener("stalled",_e),h.addEventListener("ended",de),y=E.manifestInfo.isDynamic,g=!(M=w=!1)===t,m=r;var a="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",i=/safari/.test(a)&&!/chrome/.test(a);D=i?.25:.02,n.on(s.default.STREAM_INITIALIZED,L,this),n.on(s.default.DATA_UPDATE_COMPLETED,J,this),n.on(s.default.LOADING_PROGRESS,me,this),n.on(s.default.BUFFER_LEVEL_STATE_CHANGED,ve,this),n.on(s.default.PLAYBACK_PROGRESS,pe,this),n.on(s.default.PLAYBACK_TIME_UPDATED,pe,this),n.on(s.default.PLAYBACK_ENDED,ce,this),n.on(s.default.STREAM_INITIALIZING,Ee,this),I&&(I=!1,F())},setConfig:function(e){e&&(e.streamController&&(u=e.streamController),e.dashMetrics&&(f=e.dashMetrics),e.mediaPlayerModel&&(S=e.mediaPlayerModel),e.adapter&&(d=e.adapter),e.videoModel&&(h=e.videoModel),e.timelineConverter&&(p=e.timelineConverter),e.uriFragmentModel&&(C=e.uriFragmentModel),e.settings&&(N=e.settings))},getStartTimeFromUriParameters:X,getTimeToStreamEnd:x,getTime:Y,getNormalizedTime:K,getPlaybackRate:H,getPlayedRanges:function(){return E&&h?h.getPlayedRanges():null},getEnded:V,getIsDynamic:function(){return y},getStreamController:function(){return u},computeAndSetLiveDelay:function(e,t,n){var r,a,i,o=!isNaN(e)&&isFinite(e)?e:NaN,s=d.getSuggestedPresentationDelay(),u=N.get().streaming.lowLatencyEnabled?0:S.getLiveDelay()?S.getLiveDelay():null===N.get().streaming.liveDelayFragmentCount||isNaN(N.get().streaming.liveDelayFragmentCount)||isNaN(o)?!0===N.get().streaming.useSuggestedPresentationDelay&&null!==s&&!isNaN(s)&&0<s?s:isNaN(o)?isNaN(n)?4*E.manifestInfo.minBufferTime:4*n:4*o:o*N.get().streaming.liveDelayFragmentCount;return null!==(i=d.getAvailabilityStartTime())&&(b=i),a=0<t?(r=Math.max(t-10,t/2),Math.min(u,r)):u,_=a},getLiveDelay:function(){return _},setLiveDelay:function(e){!(arguments.length<=1||void 0===arguments[1])&&arguments[1]&&e<_||(_=e)},getCurrentLiveLatency:j,play:F,isPaused:U,pause:k,isSeeking:G,seek:q,reset:z},r=(0,l.default)(t).getInstance().getLogger(e),z(),e}f.__dashjs_factory_name="PlaybackController",n.default=u.default.getSingletonFactory(f),t.exports=n.default},{108:108,109:109,45:45,46:46,47:47,54:54}],120:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(109)),o=r(e(196)),s=r(e(149)),u=r(e(46)),l=r(e(54)),f=r(e(47)),d=r(e(45)),c=r(e(117));function h(e){e=e||{};var t=this.context,n=(0,u.default)(t).getInstance(),r=e.adapter,f=e.dashMetrics,h=e.mediaPlayerModel,p=e.fragmentModel,g=e.abrController,m=e.playbackController,v=e.textController,_=e.streamId,E=e.type,y=e.mimeType,T=e.mediaController,S=e.bufferController,A=e.settings,I=void 0,R=void 0,b=void 0,w=void 0,M=void 0,C=void 0,N=void 0,O=void 0,L=void 0,x=void 0,P=void 0,F=void 0,U=void 0,k=void 0,B=void 0,G=void 0,q=void 0,Y=void 0,K=void 0;function H(){return!1===w}function V(){H()||b&&!S.getIsBufferingCompleted()&&(R.debug("Schedule Controller starts"),w=!1,f.createPlaylistTraceMetrics(b.id,1e3*m.getTime(),m.getPlaybackRate()),X(0))}function j(){w||(R.debug("Schedule Controller stops"),w=!0,clearTimeout(N))}function z(){var e,t;w||M||m.isPaused()&&!A.get().streaming.scheduleWhilePaused||(E===a.default.FRAGMENTED_TEXT||E===a.default.TEXT)&&!v.isTextEnabled()||S.getIsBufferingCompleted()?j():(function(){var e,t=m.getTime(),n=1.5;isNaN(b.fragmentDuration)&&(n=(e=f.getCurrentSchedulingInfo(b.mediaInfo.type))?1.5*e.duration:1.5);var a,o,u,l,d,h=p.getRequests({state:s.default.FRAGMENT_MODEL_EXECUTED,time:t+n,threshold:0})[0];h&&-1===(0,W.default)(k).call(k,h)&&!r.getIsTextTrack(y)&&(a=A.get().streaming.fastSwitchEnabled,o=S.getBufferLevel(),u=g.getAbandonmentStateFor(E),l=!T.isCurrentTrack(h.mediaInfo)&&T.getSwitchMode(h.mediaInfo.type)===c.default.TRACK_SWITCH_MODE_NEVER_REPLACE,d=h.quality<b.quality,a&&(l||d)&&n<=o&&u!==i.default.ABANDON_LOAD?(Z(h),K=!0,R.debug("Reloading outdated fragment at index: ",h.index)):h.quality>b.quality&&!G&&ce(m.getTime()+o))}(),e=0<k.length,G||isNaN(U)||B||e||function(e,t){F[t]=F[t]||{};var n=g.getTopQualityIndexFor(e,t);return F[t][e]!=n&&(R.info("Top quality "+e+" index has changed from "+F[t][e]+" to "+n),F[t][e]=n,1)}(E,_)||x.execute(E,b,L)?(Q(!0),!e&&Y&&g.checkPlaybackQuality(E),Y=b.quality===U&&!B||G?(t=k.shift())&&t.isInitializationRequest()?(n.trigger(l.default.INIT_FRAGMENT_NEEDED,{sender:I,streamId:_,mediaType:E,representationId:t.representationId}),!1):(n.trigger(l.default.MEDIA_FRAGMENT_NEEDED,{sender:I,streamId:_,mediaType:E,seekTarget:O,replacement:t}),!0):(B?(R.debug("Switch track for "+E+", representation id = "+b.id),(G=T.getSwitchMode(E)===c.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE)&&S.replaceBuffer&&S.replaceBuffer(),B=!1):R.debug("Quality has changed, get init request for representationid = "+b.id),n.trigger(l.default.INIT_FRAGMENT_NEEDED,{sender:I,streamId:_,mediaType:E,representationId:b.id}),U=b.quality,!1)):X(500))}function X(e){clearTimeout(N),N=(0,D.default)(z,e)}function Q(e){M!==e?M=e:R.debug("isFragmentProcessingInProgress is already equal to",e)}function Z(e){k.push(e)}function $(e){var t;m&&p&&(t=p.getRequests({state:s.default.FRAGMENT_MODEL_EXECUTED,time:m.getTime(),threshold:0})[0])&&m.getTime()>=t.startTime&&((!P.mediaInfo||t.mediaInfo.type===P.mediaInfo.type&&t.mediaInfo.id!==P.mediaInfo.id)&&e&&n.trigger(l.default.TRACK_CHANGE_RENDERED,{mediaType:E,oldMediaInfo:P.mediaInfo,newMediaInfo:t.mediaInfo}),t.quality===P.quality&&t.adaptationIndex===P.adaptationIndex||!e||n.trigger(l.default.QUALITY_CHANGE_RENDERED,{mediaType:E,oldQuality:P.quality,newQuality:t.quality}),P={mediaInfo:t.mediaInfo,quality:t.quality,adaptationIndex:t.adaptationIndex})}function J(e){e.request.mediaInfo.streamInfo.id===_&&e.request.mediaType===E&&(j(),Q(!1),R.info("Stream is complete"))}function ee(e){e.request.mediaInfo.streamInfo.id===_&&e.request.mediaType===E&&(R.info("OnFragmentLoadingCompleted - Url:",e.request?e.request.url:"undefined",e.request.range?", Range:"+e.request.range:""),r.getIsTextTrack(y)&&Q(!1),e.error&&e.request.serviceLocation&&!w&&(Z(e.request),Q(!1),X(0)),G&&(q=e.request))}function te(){$(!0)}function ne(e){var t,n,r;e.streamId===_&&e.mediaType===E&&(G&&!isNaN(e.startTime)&&(G=!1,p.addExecutedRequest(q)),Q(!1),K&&!isNaN(e.startTime)?(t=m.getTime(),X((n=e.startTime+b.fragmentDuration)<=t+(r=1.5*b.fragmentDuration)?0:1e3*(n-(t+r))),K=!1):X(0))}function re(e){e.streamId===_&&e.mediaType===E&&(R.info("onFragmentLoadingAbandoned request: "+e.request.url+" has been aborted"),m.isSeeking()||B||(R.info("onFragmentLoadingAbandoned request: "+e.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Z(e.request)),Q(!1),X(0))}function ae(e){e.sender.getType()===E&&e.sender.getStreamId()}function ie(e){E===e.mediaType&&_===e.streamId&&j()}function oe(e){e.streamId===_&&e.mediaType===E&&e.hasEnoughSpaceToAppend&&e.quotaExceeded&&w&&V()}function se(e){e.streamId===_&&e.mediaType===E&&(j(),Q(!1))}function ue(){p.abortRequests(),j()}function le(){!w&&A.get().streaming.scheduleWhilePaused||V()}function fe(e){ce(e.seekTime),he(0),w&&V();var t=b.DVRWindow&&m?b.DVRWindow.end-m.getTime():NaN;f.updateManifestUpdateInfo({latency:t}),M?(R.debug("onPlaybackSeeking, call fragmentModel.abortRequests in order to seek quicker"),p.abortRequests()):X(0)}function de(e){f.updatePlayListTraceMetrics({playbackspeed:e.playbackRate.toString()})}function ce(e){O=e}function he(e){C=e}function pe(){P={mediaInfo:void(C=0),quality:U=O=NaN,adaptationIndex:NaN},F={},k=[],K=G=B=!(w=!(M=!(Y=!(q=null))))}return I={initialize:function(e){L=e,x=(0,o.default)(t).create({abrController:g,dashMetrics:f,mediaPlayerModel:h,textController:v,settings:A}),n.on(l.default.DATA_UPDATE_STARTED,ae,this),n.on(l.default.FRAGMENT_LOADING_COMPLETED,ee,this),n.on(l.default.STREAM_COMPLETED,J,this),n.on(l.default.BUFFER_CLEARED,oe,this),n.on(l.default.BYTES_APPENDED_END_FRAGMENT,ne,this),n.on(l.default.QUOTA_EXCEEDED,se,this),n.on(l.default.PLAYBACK_SEEKING,fe,this),n.on(l.default.PLAYBACK_STARTED,le,this),n.on(l.default.PLAYBACK_RATE_CHANGED,de,this),n.on(l.default.PLAYBACK_TIME_UPDATED,te,this),n.on(l.default.URL_RESOLUTION_FAILED,ue,this),n.on(l.default.FRAGMENT_LOADING_ABANDONED,re,this),n.on(l.default.BUFFERING_COMPLETED,ie,this)},getType:function(){return E},getStreamId:function(){return _},setCurrentRepresentation:function(e){b=e},setSeekTarget:ce,setTimeToLoadDelay:he,getTimeToLoadDelay:function(){return C},switchTrackAsked:function(){B=!0},isStarted:H,start:V,stop:j,reset:function(){n.off(l.default.DATA_UPDATE_STARTED,ae,this),n.off(l.default.FRAGMENT_LOADING_COMPLETED,ee,this),n.off(l.default.STREAM_COMPLETED,J,this),n.off(l.default.BUFFER_CLEARED,oe,this),n.off(l.default.BYTES_APPENDED_END_FRAGMENT,ne,this),n.off(l.default.QUOTA_EXCEEDED,se,this),n.off(l.default.PLAYBACK_SEEKING,fe,this),n.off(l.default.PLAYBACK_STARTED,le,this),n.off(l.default.PLAYBACK_RATE_CHANGED,de,this),n.off(l.default.PLAYBACK_TIME_UPDATED,te,this),n.off(l.default.URL_RESOLUTION_FAILED,ue,this),n.off(l.default.FRAGMENT_LOADING_ABANDONED,re,this),n.off(l.default.BUFFERING_COMPLETED,ie,this),j(),$(!1),pe()},getBufferTarget:function(){return x.getBufferTarget(E,b,L)},processInitRequest:function(e){e&&(Q(!0),p.executeRequest(e))},processMediaRequest:function(e){e?(R.debug("Next fragment request url is "+e.url),p.executeRequest(e)):(m.getIsDynamic()&&R.debug("Next fragment seems to be at the bleeding live edge and is not available yet. Rescheduling."),Q(!1),X(A.get().streaming.lowLatencyEnabled?100:500))}},R=(0,d.default)(t).getInstance().getLogger(I),pe(),I}h.__dashjs_factory_name="ScheduleController",n.default=f.default.getClassFactory(h),t.exports=n.default},{108:108,109:109,117:117,149:149,196:196,45:45,46:46,47:47,54:54}],121:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(109)),o=r(e(105)),s=r(e(99)),u=r(e(46)),l=r(e(54)),c=r(e(47)),h=e(243),p=r(e(45)),g=r(e(213)),m=r(e(220)),v=r(e(101)),_=r(e(122)),E=r(e(118)),y=r(e(225)),T=r(e(51)),R=r(e(115));function b(){var e,t=this.context,n=(0,u.default)(t).getInstance(),r=void 0,c=void 0,b=void 0,w=void 0,C=void 0,N=void 0,L=void 0,x=void 0,F=void 0,U=void 0,k=void 0,B=void 0,G=void 0,q=void 0,Y=void 0,K=void 0,H=void 0,z=void 0,W=void 0,X=void 0,Q=void 0,Z=void 0,$=void 0,J=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ae=void 0,ie=void 0,oe=void 0,se=void 0,ue=void 0,le=void 0,fe=void 0,de=void 0,ce=void 0,he=void 0,pe=void 0,ge=void 0,me=void 0;function ve(){var e;!Ue()||(e=re.getPlaybackQuality())&&L.addDroppedFrames(e)}function _e(){var e;!me.get().streaming.jumpGaps||0===Me()||ae.isSeeking()||oe||J||ee||te||40<=++de&&(e=ae.getTime(),pe===e?function(e){for(var t=Me(),a=me.get().streaming.smallGapLimit,i=void 0,o=0;o<t.length;o++){var s=t[o].getBuffer().getAllBufferRanges(),u=void 0;if(s&&!(s.length<=1)){for(var f,d=0;d<s.length;d++)if(e<s.start(d)){u=s.start(d);break}0<u&&0<(f=u-e)&&f<=a&&(void 0===i||i<u)&&(i=u)}}var c=ae.getTimeToStreamEnd();void 0===i&&!isNaN(c)&&c<a&&(i=e+c),0<i&&(!isNaN(c)&&e+c<=i?(r.info("Jumping media gap (discontinuity) at time ",e,". Jumping to end of the stream"),n.trigger(l.default.PLAYBACK_ENDED,{isLast:Ye().isLast})):(r.info("Jumping media gap (discontinuity) at time ",e,". Jumping to time position",i),ae.seek(i,!0,!0)))}(e):pe=e,de=0)}function Ee(e){var t=we(e.seekTime);le&&(Se(),ue=!1),fe&&(r.debug("[PreloadTimer] stop period preload timer."),clearTimeout(fe),fe=void 0),t===X&&he&&he.deactivate(!0),t&&(t!==X||he&&!X.isActive())?(Be(h.PlayListTrace.END_OF_PERIOD_STOP_REASON),Ne(t,X,e.seekTime)):Be(h.PlayListTrace.USER_REQUEST_STOP_REASON),Ge(h.PlayList.SEEK_START_REASON)}function ye(){r.debug("[onPlaybackStarted]"),se?(se=!1,Ge(h.PlayList.INITIAL_PLAYOUT_START_REASON)):oe&&(oe=!1,Ge(h.PlayList.RESUME_FROM_PAUSE_START_REASON),Ae())}function Te(e){r.debug("[onPlaybackPaused]"),e.ended||(oe=!0,Be(h.PlayListTrace.USER_REQUEST_STOP_REASON),Ae())}function Se(){r.debug("[toggleEndPeriodTimer] stop end period timer."),clearTimeout(le),le=void 0}function Ae(){var e,t,a;ue&&(le?Se():(a=(t=0<(e=ae.getTimeToStreamEnd())?1e3*e:0)<2e3?t/4:t-2e3,r.debug("[toggleEndPeriodTimer] Going to fire preload in",a,"milliseconds"),fe=(0,D.default)(be,a),r.debug("[toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in",t,"milliseconds"),le=(0,D.default)((function(){n.trigger(l.default.PLAYBACK_ENDED,{isLast:Ye().isLast})}),t)))}function Ie(e){var t;e.mediaType!==a.default.AUDIO&&e.mediaType!==a.default.VIDEO||(t=Ye().isLast,ne&&!t&&void 0===le&&(r.info("[onTrackBufferingCompleted] end of period detected. Track",e.mediaType,"has finished"),!(ue=!0)===oe&&Ae()))}function Re(){var e=Ye().isLast;ne&&e&&(r.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),x.signalEndOfStream(ne))}function be(){var e,t,n=Ye().isLast;ne&&!n&&(t=Ce(),X.isProtectionCompatible(t)&&(ge||X.isMediaCodecCompatible(t))&&(r.info("[onStreamCanLoadNext] Preloading next stream"),X.deactivate(!0),t.preload(ne,ce),(0,A.default)(e=(he=t).getProcessors()).call(e,(function(e){e.setIndexHandlerTime(t.getStartTime())}))))}function we(e){var t=0,n=null,r=W.length;0<r&&(t+=W[0].getStartTime());for(var a=0;a<r;a++)if(n=W[a],e<(t=(0,O.default)((t+n.getDuration()).toFixed(5))))return n;return null}function Me(){return X?X.getProcessors():[]}function De(){var e=Ce();e?Ne(e,X,NaN):r.debug("StreamController no next stream found"),Be(e?h.PlayListTrace.END_OF_PERIOD_STOP_REASON:h.PlayListTrace.END_OF_CONTENT_STOP_REASON),le=void 0,ue=!1}function Ce(){if(X){var e=(t=Ye().start,n=Ye().duration,{v:(0,I.default)(W).call(W,(function(e){return e.getStreamInfo().start===(0,O.default)((t+n).toFixed(5))}))[0]});if("object"==(0,j.default)(e))return e.v}var t,n}function Ne(e,t,a){var i;r.info("Switch stream to "+e.getId()+" at t="+a),J||!e||t===e&&e.isActive()||(J=!0,n.trigger(l.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:t?t.getStreamInfo():null,toStreamInfo:e.getStreamInfo()}),i=!1,t&&(i=X.isProtectionCompatible(e)&&(ge||X.isMediaCodecCompatible(e))&&!a||e.getPreloaded(),t.deactivate(i)),a=isNaN(a)?!i&&t?e.getStreamInfo().start:NaN:a,X=e,he=!1,ae.initialize(Ye(),!!t,a),re.getElement()?Oe(a,null===t,!1,i):Le(a,i))}function Oe(e,t,a,i){var o=void 0;function s(){ne&&"open"==ne.readyState&&(r.debug("MediaSource is open!"),window.URL.revokeObjectURL(o),ne.removeEventListener("sourceopen",s),ne.removeEventListener("webkitsourceopen",s),xe(),t||n.trigger(l.default.SOURCE_INITIALIZED),a?X.setMediaSource(ne):Le(e,i))}ne?i?(Le(e,i),t||n.trigger(l.default.SOURCE_INITIALIZED)):(x.detachMediaSource(re),ne.addEventListener("sourceopen",s,!1),ne.addEventListener("webkitsourceopen",s,!1),o=x.attachMediaSource(ne,re),r.debug("MediaSource attached to element.  Waiting on open...")):((ne=x.createMediaSource()).addEventListener("sourceopen",s,!1),ne.addEventListener("webkitsourceopen",s,!1),o=x.attachMediaSource(ne,re),r.debug("MediaSource attached to element.  Waiting on open..."))}function Le(e,t){var a;!(ce=X.activate(ne,t?ce:void 0))||0<(a=(0,P.default)(ce)).length&&ce[a[0]].changeType&&(r.debug("SourceBuffer changeType method supported. Use it to switch codecs in periods transitions"),ge=!0),se||isNaN(e)||ae.seek(e),!$&&se||ae.play(),J=!1,n.trigger(l.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Ye()})}function xe(e){var t=e||Ye().manifestInfo.duration,n=x.setDuration(ne,t);r.debug("Duration successfully set to: "+n)}function Pe(){var e=C.getValue();Q&&(n.trigger(l.default.PROTECTION_CREATED,{controller:Q,manifest:e}),Q.setMediaElement(re.getElement()),Z&&Q.setProtectionData(Z)),function(){try{var e=N.getStreamsInfo();if(0===e.length)throw new Error("There are no streams");L.updateManifestUpdateInfo({currentTime:ae.getTime(),buffered:re.getBufferRange(),presentationStartTime:e[0].start,clientTimeOffset:z.getClientTimeOffset()});for(var i,s,u,f,h=0,p=e.length;h<p;h++){var g=e[h],m=function(e){for(var t=0,n=W.length;t<n;t++)if(W[t].getId()===e.id)return W[t];return null}(g);m?m.updateData(g):(m=(0,o.default)(t).create({manifestModel:C,mediaPlayerModel:ie,dashMetrics:L,manifestUpdater:b,adapter:N,timelineConverter:z,capabilities:c,errHandler:H,baseURLController:U,abrController:k,playbackController:ae,eventController:G,mediaController:B,textController:q,videoModel:re,settings:me}),W.push(m),m.initialize(g,Q)),L.addManifestUpdateStreamInfo(g)}X||(N.getIsDynamic()&&W.length&&(s=function(e,t){try{var n=NaN;return t&&!isNaN(t.maxFragmentDuration)&&isFinite(t.maxFragmentDuration)?t.maxFragmentDuration:(e&&1===e.length&&function(){var t,r,i,o=e[0],s=(0,S.default)(t=(0,S.default)(r=(0,S.default)(i=[a.default.VIDEO,a.default.AUDIO,a.default.FRAGMENTED_TEXT]).call(i,(function(e,t){var n=N.getMediaInfoForType(o,t);return n&&e.push(n),e}),[])).call(r,(function(e,t){var n=N.getVoRepresentations(t);return n&&0<n.length&&(0,A.default)(n).call(n,(function(t){t&&e.push(t)})),e}),[])).call(t,(function(e,t){var n=N.convertDataToRepresentationInfo(t);return n&&n.fragmentDuration&&!isNaN(n.fragmentDuration)&&e.push(n.fragmentDuration),e}),[]);n=Math.max.apply(Math,function(e){if((0,V.default)(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,d.default)(e)}(s))}(),isFinite(n)?n:NaN)}catch(t){return NaN}}(e,i=e[0].manifestInfo),ae.computeAndSetLiveDelay(s,i.DVRWindowSize,i.minBufferTime)),u=null,f=ae.getStartTimeFromUriParameters(e[0].start,N.getIsDynamic()),isNaN(f)||(u=we(f)),!u&&N.getIsDynamic()&&W.length&&(r.debug("Dynamic stream: Trying to find the correct starting period"),u=function(){try{return we(z.calcPresentationTimeFromWallTime(new Date,N.getRegularPeriods()[0])-ae.getLiveDelay())}catch(e){return null}}()),Ne(null!==u?u:W[0],null,NaN)),n.trigger(l.default.STREAMS_COMPOSED)}catch(e){H.error(new y.default(T.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,e.message+"nostreamscomposed",C.getValue())),te=!0,je()}}()}function Fe(e){e.error?(te=!0,je()):function(){var t=e.manifest;N.updatePeriods(t);var n=N.getStreamsInfo(void 0,1)[0],i=N.getMediaInfoForType(n,a.default.VIDEO)||N.getMediaInfoForType(n,a.default.AUDIO),o=void 0;i&&(o=N.getUseCalculatedLiveEdgeTimeForMediaInfo(i))&&(r.debug("SegmentTimeline detected using calculated Live Edge Time"),me.update({streaming:{useManifestDateHeaderTimeSource:!1}}));var s=N.getUTCTimingSources(),u=!N.getIsDynamic()||o?s:(0,M.default)(s).call(s,ie.getUTCTimingSources()),l=K.isHTTPS(e.manifest.url);(0,A.default)(u).call(u,(function(e){e.value.replace(/.*?:\/\//g,"")===ie.getDefaultUtcTimingSource().value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(l?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),l?"https://":"http://"),r.debug("Matching default timing source protocol to manifest protocol: ",e.value))})),U.initialize(t),F.setConfig({dashMetrics:L,baseURLController:U}),F.initialize(u,me.get().streaming.useManifestDateHeaderTimeSource)}()}function Ue(){return!!X&&X.getHasVideoTrack()}function ke(){return!!X&&X.getHasAudioTrack()}function Be(e,t){var n;t=t||new Date,(0,A.default)(n=Me()).call(n,(function(n){n.finalisePlayList(t,e)})),L.addPlayList()}function Ge(e){L.createPlaylistMetrics(1e3*ae.getTime(),e)}function qe(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}ee=!0,e.error.message&&(t+=" ("+e.error.message+")"),e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),r.fatal("Video Element Error: "+t),e.error&&r.fatal(e.error),H.error(new y.default(e.error.code,t)),je()}}function Ye(){return X?X.getStreamInfo():null}function Ke(){if(!(w&&w.hasOwnProperty("load")&&z&&z.hasOwnProperty("initialize")&&z.hasOwnProperty("reset")&&z.hasOwnProperty("getClientTimeOffset")&&C&&H&&L&&ae))throw new Error(a.default.MISSING_CONFIG_ERROR)}function He(e){isNaN(e.newDuration)||xe(e.newDuration)}function Ve(){X=Q=null,le=void 0,ue=!($=!(oe=!(se=!(te=ee=J=!(W=[]))))),de=0}function je(){Ke(),F.reset(),Be(ee||te?h.PlayListTrace.FAILURE_STOP_REASON:h.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=W?W.length:0;e<t;e++)W[e].reset(ee);!function(){n.off(l.default.PLAYBACK_TIME_UPDATED,ve,this),n.off(l.default.PLAYBACK_SEEKING,Ee,this),n.off(l.default.PLAYBACK_ERROR,qe,this),n.off(l.default.PLAYBACK_STARTED,ye,this),n.off(l.default.PLAYBACK_PAUSED,Te,this),n.off(l.default.PLAYBACK_ENDED,De,this),n.off(l.default.MANIFEST_UPDATED,Fe,this),n.off(l.default.BUFFERING_COMPLETED,Ie,this),n.off(l.default.STREAM_BUFFERING_COMPLETED,Re,this),n.off(l.default.MANIFEST_VALIDITY_CHANGED,He,this),n.off(l.default.TIME_SYNCHRONIZATION_COMPLETED,Pe,this),n.off(l.default.WALLCLOCK_TIME_UPDATED,_e,this),n.off(v.default.METRIC_ADDED,ze,this)}(),U.reset(),b.reset(),G.reset(),L.clearAllCurrentMetrics(),C.setValue(null),w.reset(),z.reset(),Y.reset(),ne&&(x.detachMediaSource(re),ne=null),re=null,Q&&(Q.setMediaElement(null),Z=Q=null,C.getValue()&&n.trigger(l.default.PROTECTION_DESTROYED,{data:C.getValue().url})),n.trigger(l.default.STREAM_TEARDOWN_COMPLETE),Ve()}function ze(e){var t;e.metric===i.default.DVR_INFO&&(t=ke()?a.default.AUDIO:a.default.VIDEO,e.mediaType===t&&x.setSeekable(ne,e.value.range.start,e.value.range.end))}return e={initialize:function(e,r){Ke(),$=e,Z=r,z.initialize(),(b=(0,s.default)(t).create()).setConfig({manifestModel:C,adapter:N,manifestLoader:w,errHandler:H,settings:me}),b.initialize(),(G=(0,R.default)(t).getInstance()).setConfig({manifestUpdater:b,playbackController:ae}),G.start(),function(){n.on(l.default.PLAYBACK_TIME_UPDATED,ve,this),n.on(l.default.PLAYBACK_SEEKING,Ee,this),n.on(l.default.PLAYBACK_ERROR,qe,this),n.on(l.default.PLAYBACK_STARTED,ye,this),n.on(l.default.PLAYBACK_PAUSED,Te,this),n.on(l.default.PLAYBACK_ENDED,De,this),n.on(l.default.MANIFEST_UPDATED,Fe,this),n.on(l.default.BUFFERING_COMPLETED,Ie,this),n.on(l.default.STREAM_BUFFERING_COMPLETED,Re,this),n.on(l.default.MANIFEST_VALIDITY_CHANGED,He,this),n.on(l.default.TIME_SYNCHRONIZATION_COMPLETED,Pe,this),n.on(l.default.WALLCLOCK_TIME_UPDATED,_e,this),n.on(v.default.METRIC_ADDED,ze,this)}()},getActiveStreamInfo:Ye,hasVideoTrack:Ue,hasAudioTrack:ke,switchToVideoElement:function(e){X&&(ae.initialize(Ye()),Oe(e,!1,!0,!1))},getStreamById:function(e){return(0,I.default)(W).call(W,(function(t){return t.getId()===e}))[0]},getStreamForTime:we,getTimeRelativeToStreamId:function(e,t){for(var n,r,a=null,i=0,o=0;o<W.length;o++){if(n=(a=W[o]).getStartTime(),r=a.getDuration(),(0,f.default)(n)&&(i=n),a.getId()===t)return e-i;(0,f.default)(r)&&(i+=r)}return null},load:function(e){Ke(),w.load(e)},loadWithManifest:function(e){!function(){if(!b||!b.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}(),b.setManifest(e)},getActiveStreamProcessors:Me,setConfig:function(e){e&&(e.capabilities&&(c=e.capabilities),e.manifestLoader&&(w=e.manifestLoader),e.manifestModel&&(C=e.manifestModel),e.mediaPlayerModel&&(ie=e.mediaPlayerModel),e.protectionController&&(Q=e.protectionController),e.adapter&&(N=e.adapter),e.dashMetrics&&(L=e.dashMetrics),e.errHandler&&(H=e.errHandler),e.timelineConverter&&(z=e.timelineConverter),e.videoModel&&(re=e.videoModel),e.playbackController&&(ae=e.playbackController),e.abrController&&(k=e.abrController),e.mediaController&&(B=e.mediaController),e.textController&&(q=e.textController),e.settings&&(me=e.settings),e.baseURLController&&(U=e.baseURLController))},setProtectionData:function(e){Z=e},reset:je},r=(0,p.default)(t).getInstance().getLogger(e),F=(0,_.default)(t).getInstance(),x=(0,E.default)(t).getInstance(),Y=(0,g.default)(t).getInstance(),K=(0,m.default)(t).getInstance(),Ve(),e}b.__dashjs_factory_name="StreamController",n.default=c.default.getSingletonFactory(b),t.exports=n.default},{101:101,105:105,108:108,109:109,115:115,118:118,122:122,213:213,220:220,225:225,243:243,45:45,46:46,47:47,51:51,54:54,99:99}],122:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(225)),i=e(241),o=r(e(46)),s=r(e(54)),u=r(e(51)),l=r(e(47)),f=r(e(45)),d=r(e(220));function c(){var e,t=this.context,n=(0,o.default)(t).getInstance(),r=(0,d.default)(t).getInstance(),l=void 0,c=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0;function _(e){h=e}function E(e){c=e}function y(e){var t,n,r,a=Date.parse(e);return isNaN(a)&&(n=void 0,r=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e),n=Date.UTC((0,B.default)(r[1],10),(0,B.default)(r[2],10)-1,(0,B.default)(r[3],10),(0,B.default)(r[4],10),(0,B.default)(r[5],10),r[6]&&((0,B.default)(r[6],10)||0),r[7]&&1e3*(0,O.default)(r[7])||0),r[9]&&r[10]&&(t=60*(0,B.default)(r[9],10)+(0,B.default)(r[10],10),n+=("+"===r[8]?-1:1)*t*60*1e3),a=new Date(n).getTime()),a}function T(e){return Date.parse(e)}function S(e){return Date.parse(e)}function A(e,t,n){n()}function I(e,t,n){var r=y(e);isNaN(r)?n():t(r)}function R(e,t,n,a,o){var s,u,l,f=!1,d=new XMLHttpRequest,c=o?i.HTTPRequest.HEAD:i.HTTPRequest.GET,h=t.match(/\S+/g);t=h.shift(),s=function(){f||(f=!0,h.length?R(e,h.join(" "),n,a,o):a())},u=function(){var t,r;200===d.status&&(t=o?d.getResponseHeader("Date"):d.response,r=e(t),isNaN(r)||(n(r),f=!0))},!r.isRelative(t)||(l=v.resolve())&&(t=r.resolve(t,l.url)),d.open(c,t),d.timeout=5e3,d.onload=u,d.onloadend=s,d.send()}function b(e,t,n){R(S,e,t,n,!0)}function w(){var e=m.getLatestMPDRequestHeaderValueByID("Date"),t=null!==e?new Date(e).getTime():Number.NaN;isNaN(t)?M(!0):(E(t-(new Date).getTime()),M(!1,t/1e3,c))}function M(e,t,r){_(!1),n.trigger(s.default.TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:r,error:e?new a.default(u.default.TIME_SYNC_FAILED_ERROR_CODE,u.default.TIME_SYNC_FAILED_ERROR_MESSAGE):null})}return e={initialize:function(e,t){p=t,c=0,h=!1,g={"urn:mpeg:dash:utc:http-head:2014":b,"urn:mpeg:dash:utc:http-xsdate:2014":(0,x.default)(R).call(R,null,y),"urn:mpeg:dash:utc:http-iso:2014":(0,x.default)(R).call(R,null,T),"urn:mpeg:dash:utc:direct:2014":I,"urn:mpeg:dash:utc:http-head:2012":b,"urn:mpeg:dash:utc:http-xsdate:2012":(0,x.default)(R).call(R,null,y),"urn:mpeg:dash:utc:http-iso:2012":(0,x.default)(R).call(R,null,T),"urn:mpeg:dash:utc:direct:2012":I,"urn:mpeg:dash:utc:http-ntp:2014":A,"urn:mpeg:dash:utc:ntp:2014":A,"urn:mpeg:dash:utc:sntp:2014":A},h||function e(t,n){var r=n||0,a=t[r],i=function(e,t){var n=!e||!t;n&&p?w():M(n,e,t)};_(!0),a?g.hasOwnProperty(a.schemeIdUri)?g[a.schemeIdUri](a.value,(function(e){var t=(new Date).getTime(),n=e-t;E(n),l.info("Local time: "+new Date(t)),l.info("Server time: "+new Date(e)),l.info("Server Time - Local Time (ms): "+n),i(e,n)}),(function(){e(t,r+1)})):e(t,r+1):(E(0),i())}(e)},getOffsetToDeviceTimeMs:function(){return c},setConfig:function(e){e&&(e.dashMetrics&&(m=e.dashMetrics),e.baseURLController&&(v=e.baseURLController))},reset:function(){_(!1)}},l=(0,f.default)(t).getInstance().getLogger(e),e}c.__dashjs_factory_name="TimeSyncController";var h=l.default.getSingletonFactory(c);h.HTTP_TIMEOUT_MS=5e3,l.default.updateSingletonFactory(c.__dashjs_factory_name,h),n.default=h,t.exports=n.default},{220:220,225:225,241:241,45:45,46:46,47:47,51:51,54:54}],123:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(107)),i=r(e(46)),o=r(e(54)),s=r(e(47)),u=r(e(3)),l=r(e(220)),f=r(e(61)),d="onLoad";function c(e){e=e||{};var t=this.context,n=(0,i.default)(t).getInstance(),r=(0,l.default)(t).getInstance(),s=void 0,c=void 0,h=void 0,p=void 0,g=void 0,m=void 0;function v(e,t,n){var a,i={},o=void 0;i.elements=e,i.type=t,i.resolveType=n,0===i.elements.length&&E(i);for(var s=0;s<i.elements.length;s++)a=i.elements[s],o=r.isHTTPURL(a.url)?a.url:a.originalContent.BaseURL+a.url,m.load(o,a,i)}function _(e){var t,n,r,a,i=void 0,o=(i=e.element,e.resolveObject);i.resolvedContent&&((a=0)===(0,W.default)(t=i.resolvedContent).call(t,"<?xml")&&(a=(0,W.default)(n=i.resolvedContent).call(n,"?>")+2),r=i.resolvedContent.substr(0,a)+"<response>"+i.resolvedContent.substr(a)+"</response>",i.resolvedContent=g.xml_str2json(r)),function(e){var t=void 0;for(t=0;t<e.elements.length;t++)if(!1===e.elements[t].resolved)return!1;return!0}(o)&&E(o)}function E(e){var t=[],r=void 0,a=void 0;if(function(e){var t=[],n=void 0,r=void 0,a=void 0,i=void 0,o=void 0,s=void 0;for(i=e.elements.length-1;0<=i;i--){if(r=(n=e.elements[i]).type+"_asArray",n.resolvedContent){if(n.resolvedContent)for(o=0;o<n.resolvedContent[r].length;o++)a=n.resolvedContent[r][o],t.push(a)}else delete n.originalContent["xlink:actuate"],delete n.originalContent["xlink:href"],t.push(n.originalContent);for((0,Z.default)(u=n.parentElement[r]).call(u,n.index,1),s=0;s<t.length;s++){var u,l;(0,Z.default)(l=n.parentElement[r]).call(l,n.index+s,0,t[s])}t=[]}0<e.elements.length&&h.run(p)}(e),"onActuate"===e.resolveType&&n.trigger(o.default.XLINK_READY,{manifest:p}),e.resolveType===d)switch(e.type){case f.default.PERIOD:for(r=0;r<p[f.default.PERIOD+"_asArray"].length;r++)(a=p[f.default.PERIOD+"_asArray"][r]).hasOwnProperty(f.default.ADAPTATION_SET+"_asArray")&&(t=(0,M.default)(t).call(t,y(a[f.default.ADAPTATION_SET+"_asArray"],a,f.default.ADAPTATION_SET,d))),a.hasOwnProperty(f.default.EVENT_STREAM+"_asArray")&&(t=(0,M.default)(t).call(t,y(a[f.default.EVENT_STREAM+"_asArray"],a,f.default.EVENT_STREAM,d)));v(t,f.default.ADAPTATION_SET,d);break;case f.default.ADAPTATION_SET:n.trigger(o.default.XLINK_READY,{manifest:p})}}function y(e,t,n,r){var a,i=[],o=void 0,s=void 0;for(s=e.length-1;0<=s;s--)(o=e[s]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===o["xlink:href"]&&(0,Z.default)(e).call(e,s,1);for(s=0;s<e.length;s++)(o=e[s]).hasOwnProperty("xlink:href")&&o.hasOwnProperty("xlink:actuate")&&o["xlink:actuate"]===r&&(a={url:o["xlink:href"],parentElement:t,type:n,index:s,resolveType:r,originalContent:o,resolvedContent:null,resolved:!1},i.push(a));return i}return s={resolveManifestOnLoad:function(e){g=new u.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:c}),v(y((p=e).Period_asArray,p,f.default.PERIOD,d),f.default.PERIOD,d)},setMatchers:function(e){e&&(c=e)},setIron:function(e){e&&(h=e)},reset:function(){n.off(o.default.XLINK_ELEMENT_LOADED,_,s),m&&(m.reset(),m=null)}},n.on(o.default.XLINK_ELEMENT_LOADED,_,s),m=(0,a.default)(t).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,settings:e.settings}),s}c.__dashjs_factory_name="XlinkController",n.default=s.default.getClassFactory(c),t.exports=n.default},{107:107,220:220,3:3,46:46,47:47,54:54,61:61}],124:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(138)),i=r(e(125)),o=r(e(126)),s=r(e(131)),u=r(e(136));function l(){var e=this.context;return{createMetricsReporting:function(t){return(0,a.default)(e).getInstance({eventBus:t.eventBus,dashMetrics:t.dashMetrics,metricsConstants:t.metricsConstants,events:t.events}),(0,o.default)(e).create(t)},getReportingFactory:function(){return(0,u.default)(e).getInstance()},getMetricsHandlerFactory:function(){return(0,s.default)(e).getInstance()}}}l.__dashjs_factory_name="MetricsReporting";var f=dashjs.FactoryMaker.getClassFactory(l);f.events=i.default,dashjs.FactoryMaker.updateClassFactory(l.__dashjs_factory_name,f),n.default=f,t.exports=n.default},{125:125,126:126,131:131,136:136,138:138}],125:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r;function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}}((0,w.default)(a.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}var i=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(a,((r=e(55))&&r.__esModule?r:{default:r}).default),a);n.default=i,t.exports=n.default},{55:55}],126:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(127)),i=r(e(140)),o=r(e(125));function s(e){e=e||{};var t={},n=this.context,r=e.eventBus,s=e.events;function u(s){var u,l;s.error||(l=(0,P.default)(t),(0,A.default)(u=(0,i.default)(n).getInstance({adapter:e.adapter,constants:e.constants}).getMetrics(s.manifest)).call(u,(function(r){var i=(0,$.default)(r);if(t.hasOwnProperty(i))(0,Z.default)(l).call(l,i,1);else try{var o=(0,a.default)(n).create(e);o.initialize(r),t[i]=o}catch(r){}})),(0,A.default)(l).call(l,(function(e){t[e].reset(),delete t[e]})),r.trigger(o.default.METRICS_INITIALISATION_COMPLETE))}function l(){var e;(0,A.default)(e=(0,P.default)(t)).call(e,(function(e){t[e].reset()})),t={}}return r.on(s.MANIFEST_UPDATED,u),r.on(s.STREAM_TEARDOWN_COMPLETE,l),{reset:function(){r.off(s.MANIFEST_UPDATED,u),r.off(s.STREAM_TEARDOWN_COMPLETE,l)}}}s.__dashjs_factory_name="MetricsCollectionController",n.default=dashjs.FactoryMaker.getClassFactory(s),t.exports=n.default},{125:125,127:127,140:140}],127:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(129)),i=r(e(130)),o=r(e(128));function s(e){e=e||{};var t=void 0,n=void 0,r=void 0,s=this.context;function u(){t&&t.reset(),n&&n.reset(),r&&r.reset()}return{initialize:function(l){try{(r=(0,a.default)(s).create({mediaElement:e.mediaElement})).initialize(l.Range),(n=(0,i.default)(s).create({debug:e.debug,metricsConstants:e.metricsConstants})).initialize(l.Reporting,r),(t=(0,o.default)(s).create({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants,events:e.events})).initialize(l.metrics,n)}catch(l){throw u(),l}},reset:u}}s.__dashjs_factory_name="MetricsController",n.default=dashjs.FactoryMaker.getClassFactory(s),t.exports=n.default},{128:128,129:129,130:130}],128:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(131))&&r.__esModule?r:{default:r};function i(e){e=e||{};var t=[],n=void 0,r=this.context,i=e.eventBus,o=e.events,s=(0,a.default)(r).getInstance({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants});function u(e){(0,A.default)(t).call(t,(function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)}))}return n={initialize:function(e,r){var a;(0,A.default)(a=e.split(",")).call(a,(function(e,n,a){var i,o;-1===(0,W.default)(e).call(e,"(")||-1!==(0,W.default)(e).call(e,")")||(o=a[n+1])&&-1===(0,W.default)(o).call(o,"(")&&-1!==(0,W.default)(o).call(o,")")&&(e+=","+o,delete a[n+1]),(i=s.create(e,r))&&t.push(i)})),i.on(o.METRIC_ADDED,u,n),i.on(o.METRIC_UPDATED,u,n)},reset:function(){i.off(o.METRIC_ADDED,u,n),i.off(o.METRIC_UPDATED,u,n),(0,A.default)(t).call(t,(function(e){return e.reset()})),t=[]}}}i.__dashjs_factory_name="MetricsHandlersController",n.default=dashjs.FactoryMaker.getClassFactory(i),t.exports=n.default},{131:131}],129:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(208))&&r.__esModule?r:{default:r};function i(e){e=e||{};var t,n=!1,r=this.context,i=void 0,o=e.mediaElement;return t={initialize:function(e){e&&e.length&&((0,A.default)(e).call(e,(function(e){var t=e.starttime,n=t+e.duration;i.add(t,n)})),n=!!e[0]._useWallClockTime)},reset:function(){i.clear()},isEnabled:function(){var e,t=i.length;if(!t)return!0;e=n?(new Date).getTime()/1e3:o.currentTime;for(var r=0;r<t;r+=1){var a=i.start(r),s=i.end(r);if(a<=e&&e<s)return!0}return!1}},i=(0,a.default)(r).create(),t}i.__dashjs_factory_name="RangeController",n.default=dashjs.FactoryMaker.getClassFactory(i),t.exports=n.default},{208:208}],130:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(136))&&r.__esModule?r:{default:r};function i(e){var t=[],n=(0,a.default)(this.context).getInstance(e);return{initialize:function(e,r){(0,y.default)(e).call(e,(function(e){var a=n.create(e,r);if(a)return t.push(a),!0}))},reset:function(){(0,A.default)(t).call(t,(function(e){return e.reset()})),t=[]},report:function(e,n){(0,A.default)(t).call(t,(function(t){return t.report(e,n)}))}}}i.__dashjs_factory_name="ReportingController",n.default=dashjs.FactoryMaker.getClassFactory(i),t.exports=n.default},{136:136}],131:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(132)),i=r(e(133)),o=r(e(135)),s=r(e(134));function u(e){var t=void 0,n=(e=e||{}).debug?e.debug.getLogger(t):{},r=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,u=this.context,l={BufferLevel:a.default,DVBErrors:i.default,HttpList:o.default,PlayList:s.default,RepSwitchList:s.default,TcpList:s.default};return{create:function(t,a){var i,o=t.match(r);if(o){try{(i=l[o[1]](u).create({eventBus:e.eventBus,metricsConstants:e.metricsConstants})).initialize(o[1],a,o[3],o[5])}catch(t){i=null,n.error("MetricsHandlerFactory: Could not create handler for type "+o[1]+" with args "+o[3]+", "+o[5]+" ("+t.message+")")}return i}},register:function(e,t){l[e]=t},unregister:function(e){delete l[e]}}}u.__dashjs_factory_name="MetricsHandlerFactory",n.default=dashjs.FactoryMaker.getSingletonFactory(u),t.exports=n.default},{132:132,133:133,134:134,135:135}],132:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(139))&&r.__esModule?r:{default:r};function i(e){e=e||{};var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0,s=this.context,u=(0,a.default)(s).getInstance(),l=[],f=e.metricsConstants;function d(){var e=function(){try{var e,t;return(0,S.default)(e=(0,C.default)(t=(0,P.default)(l)).call(t,(function(e){return l[e]}))).call(e,(function(e,t){return e.level<t.level?e:t}))}catch(e){return}}();e&&o!==e.t&&(o=e.t,t.report(r,e))}return{initialize:function(e,a,o){a&&(n=u.validateN(o),t=a,r=u.reconstructFullMetricName(e,o),i=(0,T.default)(d,n))},reset:function(){clearInterval(i),n=0,o=t=i=null},handleNewMetric:function(e,t,n){e===f.BUFFER_LEVEL&&(l[n]=t)}}}i.__dashjs_factory_name="BufferLevelHandler",n.default=dashjs.FactoryMaker.getClassFactory(i),t.exports=n.default},{139:139}],133:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(125))&&r.__esModule?r:{default:r};n.default=dashjs.FactoryMaker.getClassFactory((function(e){var t=void 0,n=(e=e||{}).eventBus,r=e.metricsConstants;function i(){n.off(a.default.METRICS_INITIALISATION_COMPLETE,i,this),n.trigger(a.default.BECAME_REPORTING_PLAYER)}return{initialize:function(e,r){r&&(t=r,n.on(a.default.METRICS_INITIALISATION_COMPLETE,i,this))},reset:function(){t=null},handleNewMetric:function(e,n){e===r.DVB_ERRORS&&t&&t.report(e,n)}}})),t.exports=n.default},{125:125}],134:[function(e,t,n){function r(){var e=void 0,t=void 0;return{initialize:function(n,r){e=n,t=r},reset:function(){t=null,e=void 0},handleNewMetric:function(n,r){n===e&&t&&t.report(e,r)}}}(0,X.default)(n,"__esModule",{value:!0}),r.__dashjs_factory_name="GenericMetricHandler",n.default=dashjs.FactoryMaker.getClassFactory(r),t.exports=n.default},{}],135:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(139))&&r.__esModule?r:{default:r};function i(e){e=e||{};var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0,s=[],u=(0,a.default)(this.context).getInstance(),l=e.metricsConstants;function f(){s.length&&t&&t.report(i,s),s=[]}return{initialize:function(e,a,s,l){a&&(n=u.validateN(s),t=a,l&&l.length&&(r=l),i=u.reconstructFullMetricName(e,s,l),o=(0,T.default)(f,n))},reset:function(){clearInterval(o),s=[],t=r=n=o=null},handleNewMetric:function(e,t){e===l.HTTP_REQUEST&&(r&&r!==t.type||s.push(t))}}}i.__dashjs_factory_name="HttpListHandler",n.default=dashjs.FactoryMaker.getClassFactory(i),t.exports=n.default},{139:139}],136:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(137))&&r.__esModule?r:{default:r};function i(e){e=e||{};var t={"urn:dvb:dash:reporting:2014":a.default},n=this.context,r=void 0,i=e.debug?e.debug.getLogger(r):{},o=e.metricsConstants;return{create:function(e,r){var a=void 0;try{(a=t[e.schemeIdUri](n).create({metricsConstants:o})).initialize(e,r)}catch(r){a=null,i.error("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+r.message+")")}return a},register:function(e,n){t[e]=n},unregister:function(e){delete t[e]}}}i.__dashjs_factory_name="ReportingFactory",n.default=dashjs.FactoryMaker.getSingletonFactory(i),t.exports=n.default},{137:137}],137:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(141)),i=r(e(142));function o(e){e=e||{};var t,n=this.context,r=void 0,o=void 0,s=void 0,u=void 0,l=void 0,f=void 0,d=[],c=e.metricsConstants;function h(){u=s=!1,f=l=null}return t={report:function(e,t){(0,V.default)(t)||(t=[t]),u&&f.isEnabled()&&(0,A.default)(t).call(t,(function(t){var n=r.serialise(t);e!==c.DVB_ERRORS&&(n="metricname="+e+"&"+n),function(e,t,n){function r(){var e=(0,W.default)(d).call(d,a);-1!==e&&((0,Z.default)(d).call(d,e,1),200<=a.status&&a.status<300?t&&t():n&&n())}var a=new XMLHttpRequest;d.push(a);try{a.open("GET",e),a.onloadend=r,a.onerror=r,a.send()}catch(e){a.onerror()}}(n=l+"?"+n,null,(function(){u=!1}))}))},initialize:function(e,t){var n;if(f=t,!(l=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");s||((n=e["dvb:probability"]||e["dvb:priority"]||0)&&(1e3===n||n/1e3>=o.random())&&(u=!0),s=!0)},reset:function(){h()}},r=(0,a.default)(n).getInstance(),o=(0,i.default)(n).getInstance(),h(),t}o.__dashjs_factory_name="DVBReporting",n.default=dashjs.FactoryMaker.getClassFactory(o),t.exports=n.default},{141:141,142:142}],138:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(143)),i=r(e(125));function o(e){var t=void 0,n=void 0,r=(e=e||{}).eventBus,o=e.dashMetrics,s=e.metricsConstants,u=e.events;function l(e){var t=new a.default;if(n){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.mpdurl||(t.mpdurl=n.originalUrl||n.url),t.terror||(t.terror=new Date),o.addDVBErrors(t)}}function f(e){e.error||(n=e.manifest)}function d(e){l({errorcode:a.default.BASE_URL_CHANGED,servicelocation:e.entry})}function c(){l({errorcode:a.default.BECAME_REPORTER})}function h(e){switch(e.metric){case s.HTTP_REQUEST:(0===(t=e.value).responsecode||400<=t.responsecode||t.responsecode<100||600<=t.responsecode)&&l({errorcode:t.responsecode||a.default.CONNECTION_ERROR,url:t.url,terror:t.tresponse,servicelocation:t._serviceLocation})}var t}function p(e){var t=void 0;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:t=a.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:t=a.default.CORRUPT_MEDIA_OTHER;break;default:return}l({errorcode:t})}function g(){r.on(u.MANIFEST_UPDATED,f,t),r.on(u.SERVICE_LOCATION_BLACKLIST_CHANGED,d,t),r.on(u.METRIC_ADDED,h,t),r.on(u.METRIC_UPDATED,h,t),r.on(u.PLAYBACK_ERROR,p,t),r.on(i.default.BECAME_REPORTING_PLAYER,c,t)}return t={initialise:g,reset:function(){r.off(u.MANIFEST_UPDATED,f,t),r.off(u.SERVICE_LOCATION_BLACKLIST_CHANGED,d,t),r.off(u.METRIC_ADDED,h,t),r.off(u.METRIC_UPDATED,h,t),r.off(u.PLAYBACK_ERROR,p,t),r.off(i.default.BECAME_REPORTING_PLAYER,c,t)}},g(),t}o.__dashjs_factory_name="DVBErrorsTranslator",n.default=dashjs.FactoryMaker.getSingletonFactory(o),t.exports=n.default},{125:125,143:143}],139:[function(e,t,n){function r(){return{reconstructFullMetricName:function(e,t,n){var r=e;return t&&(r+="("+t,n&&n.length&&(r+=","+n),r+=")"),r},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}(0,X.default)(n,"__esModule",{value:!0}),r.__dashjs_factory_name="HandlerHelpers",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{}],140:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(144)),i=r(e(145)),o=r(e(146));function s(e){var t=(e=e||{}).adapter,n=e.constants;return{getMetrics:function(e){var r,s=[];return e&&e.Metrics_asArray&&(0,A.default)(r=e.Metrics_asArray).call(r,(function(r){var u,l,f=new a.default,d=t.getIsDynamic(e);r.hasOwnProperty("metrics")&&(f.metrics=r.metrics,r.Range_asArray&&(0,A.default)(u=r.Range_asArray).call(u,(function(r){var a,o,s,u,l,c=new i.default;c.starttime=(a=e,o=r,u=void 0,l=0,d?l=t.getAvailabilityStartTime(a)/1e3:(s=t.getRegularPeriods(a)).length&&(l=s[0].start),u=l,o&&o.hasOwnProperty(n.START_TIME)&&(u+=o.starttime),u),r.hasOwnProperty("duration")?c.duration=r.duration:c.duration=t.getDuration(e),c._useWallClockTime=d,f.Range.push(c)})),r.Reporting_asArray&&((0,A.default)(l=r.Reporting_asArray).call(l,(function(e){var t=new o.default;if(e.hasOwnProperty(n.SCHEME_ID_URI)){for(var r in t.schemeIdUri=e.schemeIdUri,e)e.hasOwnProperty(r)&&(t[r]=e[r]);f.Reporting.push(t)}})),s.push(f)))})),s}}}s.__dashjs_factory_name="ManifestParsing",n.default=dashjs.FactoryMaker.getSingletonFactory(s),t.exports=n.default},{144:144,145:145,146:146}],141:[function(e,t,n){function r(){return{serialise:function e(t){var n=[],r=[],a=void 0,i=void 0;for(a in t)if(t.hasOwnProperty(a)&&0!==(0,W.default)(a).call(a,"_")){if(null==(i=t[a])&&(i=""),(0,V.default)(i)){if(!i.length)continue;r=[],(0,A.default)(i).call(i,(function(t){var n,a="Object"!==(0,z.default)(n=Object.prototype.toString.call(t)).call(n,8,-1);r.push(a?t:e(t))})),i=(0,C.default)(r).call(r,encodeURIComponent).join(",")}else"string"==typeof i?i=encodeURIComponent(i):i instanceof Date?i=i.toISOString():"number"==typeof i&&(i=Math.round(i));n.push(a+"="+i)}return n.join("&")}}}(0,X.default)(n,"__esModule",{value:!0}),r.__dashjs_factory_name="MetricSerialiser",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{}],142:[function(e,t,n){function r(){var e,t=window.crypto||window.msCrypto,n=Uint32Array,r=Math.pow(2,8*n.BYTES_PER_ELEMENT)-1,a=void 0,i=void 0;function o(){t&&(a=a||new n(10),t.getRandomValues(a),i=0)}return e={random:function(e,n){var s=void 0;return e=e||0,n=n||1,t?(i===a.length&&o(),s=a[i]/r,i+=1):s=Math.random(),s*(n-e)+e}},o(),e}(0,X.default)(n,"__esModule",{value:!0}),r.__dashjs_factory_name="RNG",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{}],143:[function(e,t,n){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null}(0,X.default)(n,"__esModule",{value:!0}),r.SSL_CONNECTION_FAILED_PREFIX="SSL",r.DNS_RESOLUTION_FAILED="C00",r.HOST_UNREACHABLE="C01",r.CONNECTION_REFUSED="C02",r.CONNECTION_ERROR="C03",r.CORRUPT_MEDIA_ISOBMFF="M00",r.CORRUPT_MEDIA_OTHER="M01",r.BASE_URL_CHANGED="F00",r.BECAME_REPORTER="S00",n.default=r,t.exports=n.default},{}],144:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metrics="",this.Range=[],this.Reporting=[]},t.exports=n.default},{}],145:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},t.exports=n.default},{}],146:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri="",this.value=""},t.exports=n.default},{}],147:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.data={baseUrls:e||null,selectedIdx:t||NaN},this.children=[]}(0,X.default)(n,"__esModule",{value:!0});var i=r(e(216)),o=r(e(47));function s(){var e,t=void 0,n=void 0,r=this.context,o=(0,i.default)(r).getInstance();function s(e,t,r){var i=n.getBaseURLsFromElement(r);e[t]?o.areEqual(i,e[t].data.baseUrls)||(e[t].data.baseUrls=i,e[t].data.selectedIdx=NaN):e[t]=new a(i)}function u(){t=new a}return e={reset:u,update:function(e){!function(e){var r;!function(){if(!n||!n.hasOwnProperty("getBaseURLsFromElement")||!n.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var a=n.getBaseURLsFromElement(e);o.areEqual(a,t.data.baseUrls)||(t.data.baseUrls=a,t.data.selectedIdx=NaN),e&&e.Period_asArray&&(0,A.default)(r=e.Period_asArray).call(r,(function(e,r){var a;s(t.children,r,e),e.AdaptationSet_asArray&&(0,A.default)(a=e.AdaptationSet_asArray).call(a,(function(e,a){var i,o;s(t.children[r].children,a,e),e.Representation_asArray&&(0,A.default)(i=(0,m.default)(o=e.Representation_asArray).call(o,n.getRepresentationSortFunction())).call(i,(function(e,n){s(t.children[r].children[a].children,n,e)}))}))}))}(e)},getForPath:function(e){var n=t,r=[n.data];return e&&(0,A.default)(e).call(e,(function(e){(n=n.children[e])&&r.push(n.data)})),(0,I.default)(r).call(r,(function(e){return e.baseUrls.length}))},invalidateSelectedIndexes:function(e){!function e(n,r){var a,i=r||t;n(i.data),i.children&&(0,A.default)(a=i.children).call(a,(function(t){return e(n,t)}))}((function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=NaN)}))},setConfig:function(e){e.adapter&&(n=e.adapter)}},u(),e}s.__dashjs_factory_name="BaseURLTreeModel",n.default=o.default.getClassFactory(s),t.exports=n.default},{216:216,47:47}],148:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(46)),i=r(e(101)),o=r(e(47)),s=r(e(45)),u=r(e(48)),l=e(241),f=r(e(65)),d=r(e(49)),c="dash.js-v"+(0,e(50).getVersionString)();function h(){var e=void 0,t=void 0,n=void 0,r=void 0,o=void 0,h=void 0,p=this.context,g=(0,a.default)(p).getInstance(),m=(0,u.default)(p).getInstance();function v(){n={pr:1,nor:null,st:null,sf:null,sid:""+d.default.generateUuid(),bs:{audio:1,video:1},cid:null,did:c}}function _(){var e={v:1};return e.sid=m.get().streaming.cmcd.sid?m.get().streaming.cmcd.sid:n.sid,e.cid=m.get().streaming.cmcd.cid?m.get().streaming.cmcd.cid:n.cid,e.did=m.get().streaming.cmcd.did?m.get().streaming.cmcd.did:n.did,e.sid='"'+e.sid+'"',e.cid='"'+e.cid+'"',e.did='"'+e.did+'"',isNaN(n.pr)||1===n.pr||null===n.pr||(e.pr=n.pr),n.st&&(e.st=n.st),n.sf&&(e.sf=n.sf),e}function E(e){try{n.pr=e.playbackRate}catch(e){}}function y(t){try{var r=e.getIsDynamic(t.data)?"l":"v",a=t.protocol&&"MSS"===t.protocol?"s":"d";n.st=r,n.sf=a}catch(t){}}function T(e){try{if(e.state&&e.mediaType){var t=null;switch(e.state){case i.default.BUFFER_LOADED:t=null;break;case i.default.BUFFER_EMPTY:h.isSeeking()&&(t=2),t=4}n.bs[e.mediaType]=t}}catch(e){}}return t={getQueryParameter:function(e){try{return m.get().streaming.cmcd&&m.get().streaming.cmcd.enabled?{key:"Common-Media-Client-Data",value:function(e){try{var t=function(){if(!e)return{v:null};var t=(0,P.default)(e),n=t.length;return{v:(0,S.default)(t).call(t,(function(t,r,a){return t+=r+"="+e[r],a<n-1&&(t+=","),t}),"")}}();if("object"==(0,j.default)(t))return t.v}catch(t){return null}}(function(e){try{return e.type===l.HTTPRequest.MPD_TYPE?(function(e){try{n.cid=""+d.default.generateHashCode(e.url)}catch(e){}}(e),function(){var e=_();return e.ot="m",e}()):e.type===l.HTTPRequest.MEDIA_SEGMENT_TYPE?function(e){var t=_(),a=function(e){try{var t=e.quality,n=e.mediaInfo.bitrateList;return(0,B.default)(n[t].bandwidth/1e3)}catch(e){return null}}(e),i=function(e){try{return isNaN(e.duration)?null:Math.round(1e3*e.duration)}catch(e){return null}}(e),s="video"===e.mediaType?"v":"audio"===e.mediaType?"a":"fragmentedText"===e.mediaType?"c":null,u=function(e){try{return Math.round(r.getThroughputHistory().getSafeAverageThroughput(e))}catch(e){return null}}(e.mediaType),l=function(e){try{var t=n.pr,r=o.getCurrentBufferLevel(e);return isNaN(t)||isNaN(r)?null:(0,B.default)(r/t*1e3)}catch(e){return null}}(e.mediaType),f=function(e){try{var t=e.mediaType;return null!==n.bs[t]?n.bs[t]:o.getCurrentBufferLevel(t)<e.duration?3:null}catch(e){}}(e);return a&&(t.br=a),s&&(t.ot=s),isNaN(i)||(t.d=i),isNaN(u)||(t.mtp=u),isNaN(l)||(t.dl=l),isNaN(f)||null===f||(t.bs=f),t}(e):e.type===l.HTTPRequest.INIT_SEGMENT_TYPE?function(){var e=_();return e.ot="i",e}():null}catch(e){return null}}(e))}:null}catch(e){return null}},setConfig:function(e){e&&(e.abrController&&(r=e.abrController),e.dashMetrics&&(o=e.dashMetrics),e.playbackController&&(h=e.playbackController))},reset:function(){g.off(i.default.PLAYBACK_RATE_CHANGED,E,this),g.off(i.default.MANIFEST_LOADED,y,this),g.off(i.default.BUFFER_LEVEL_STATE_CHANGED,T,t),v()},initialize:function(){g.on(i.default.PLAYBACK_RATE_CHANGED,E,t),g.on(i.default.MANIFEST_LOADED,y,t),g.on(i.default.BUFFER_LEVEL_STATE_CHANGED,T,t)}},(0,s.default)(p).getInstance().getLogger(t),e=(0,f.default)(p).getInstance(),v(),t}h.__dashjs_factory_name="CmcdModel",n.default=o.default.getSingletonFactory(h),t.exports=n.default},{101:101,241:241,45:45,46:46,47:47,48:48,49:49,50:50,65:65}],149:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(227)),o="loading",s="executed";function u(e){var t,n=(e=e||{}).eventBus,r=e.events,a=e.dashMetrics,u=e.fragmentLoader,l=e.debug,f=e.streamId,d=void 0,c=void 0,h=void 0;function p(e){var t;return!!e&&(t=!1,(0,y.default)(c).call(c,(function(n){if(u=e,l=n,!isNaN(u.index)&&u.startTime===l.startTime&&u.adaptationIndex===l.adaptationIndex&&u.type===l.type||(o=e,s=n,isNaN(o.index)&&isNaN(s.index)&&o.quality===s.quality)||(a=n,(r=e).action===i.default.ACTION_COMPLETE&&r.action===a.action))return t=!0;var r,a,o,s,u,l})),t)}function g(e){return isNaN(e.duration)?.25:Math.min(e.duration/8,.5)}function m(e){c=(0,I.default)(c).call(c,(function(t){var n=g(t);return isNaN(t.startTime)||void 0!==e&&t.startTime>=e-n}))}function v(e,t){t<=e+.5||(c=(0,I.default)(c).call(c,(function(n){var r=g(n);return isNaN(n.startTime)||n.startTime>=t-r||isNaN(n.duration)||n.startTime+n.duration<=e+r})))}function _(e,t){a.addSchedulingInfo(e,t),a.addRequestsQueue(e.mediaType,h,c)}function E(e){e.sender===u&&((0,Z.default)(h).call(h,(0,W.default)(h).call(h,e.request),1),e.response&&!e.error&&c.push(e.request),_(e.request,e.error?"failed":s),n.trigger(r.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}function T(e){e.sender===u&&n.trigger(r.FRAGMENT_LOADING_PROGRESS,{request:e.request,response:e.response,error:e.error,sender:this})}function S(e){e.sender===u&&n.trigger(r.FRAGMENT_LOADING_ABANDONED,{streamId:f,request:e.request,mediaType:e.mediaType})}function R(){c=[],h=[]}return t={getRequests:function(e){var t=e?e.state instanceof Array?e.state:[e.state]:[],n=[];return(0,A.default)(t).call(t,(function(t){var r=function(e){var t=void 0;switch(e){case o:t=h;break;case s:t=c;break;default:t=[]}return t}(t);n=(0,M.default)(n).call(n,function(e,t){return t.hasOwnProperty("time")?[function(e,t,n){for(var r=e.length-1;0<=r;r--){var a=e[r],i=a.startTime,o=i+a.duration;if(n=isNaN(n)?g(a):n,!isNaN(i)&&!isNaN(o)&&i<=t+n&&t-n<o||isNaN(i)&&isNaN(t))return a}return null}(e,t.time,t.threshold)]:(0,I.default)(e).call(e,(function(e){for(var n in t)if("state"!==n&&t.hasOwnProperty(n)&&e[n]!=t[n])return!1;return!0}))}(r,e))})),n},isFragmentLoaded:p,isFragmentLoadedOrPending:function(e){var t,n=!1,r=0;if(!(n=p(e)))for(r=0;r<h.length;r++)t=h[r],e.url===t.url&&e.startTime===t.startTime&&(n=!0);return n},removeExecutedRequestsBeforeTime:m,removeExecutedRequestsAfterTime:function(e){c=(0,I.default)(c).call(c,(function(t){return isNaN(t.startTime)||void 0!==e&&t.startTime<e}))},syncExecutedRequestsWithBufferedRange:function(e,t){if(e&&0!==e.length){for(var n=0,r=0,a=e.length;r<a;r++)v(n,e.start(r)),n=e.end(r);0<t&&v(n,t)}else m()},abortRequests:function(){u.abort(),h=[]},executeRequest:function(e){switch(e.action){case i.default.ACTION_COMPLETE:c.push(e),_(e,s),d.debug("STREAM_COMPLETED"),n.trigger(r.STREAM_COMPLETED,{request:e});break;case i.default.ACTION_DOWNLOAD:_(e,o),h.push(e),t=e,n.trigger(r.FRAGMENT_LOADING_STARTED,{streamId:f,request:t}),u.load(t);break;default:d.warn("Unknown request action.")}var t},reset:function(){n.off(r.LOADING_COMPLETED,E,this),n.off(r.LOADING_DATA_PROGRESS,T,this),n.off(r.LOADING_ABANDONED,S,this),u&&u.reset(),R()},addExecutedRequest:function(e){c.push(e)}},d=l.getLogger(t),R(),n.on(r.LOADING_COMPLETED,E,t),n.on(r.LOADING_DATA_PROGRESS,T,t),n.on(r.LOADING_ABANDONED,S,t),t}u.__dashjs_factory_name="FragmentModel";var l=a.default.getClassFactory(u);l.FRAGMENT_MODEL_LOADING=o,l.FRAGMENT_MODEL_EXECUTED=s,l.FRAGMENT_MODEL_CANCELED="canceled",l.FRAGMENT_MODEL_FAILED="failed",a.default.updateClassFactory(u.__dashjs_factory_name,l),n.default=l,t.exports=n.default},{227:227,47:47}],150:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(46)),i=r(e(54)),o=r(e(47));function s(){var e=this.context,t=(0,a.default)(e).getInstance(),n=void 0;return{getValue:function(){return n},setValue:function(e){(n=e)&&t.trigger(i.default.MANIFEST_LOADED,{data:e})}}}s.__dashjs_factory_name="ManifestModel",n.default=o.default.getSingletonFactory(s),t.exports=n.default},{46:46,47:47,54:54}],151:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(96)),i=r(e(47)),o=r(e(108)),s=r(e(189)),u=r(e(48)),l=e(218);function f(){var e,t=void 0,n=void 0,r=void 0,i={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso&ms"},f=this.context,d=(0,u.default)(f).getInstance();function c(e){var t=void 0;for(t=0;t<r.length;t++)if(r[t].rulename===e)return t;return-1}function h(){return d.get().streaming.lowLatencyEnabled?d.get().streaming.liveDelay||3:d.get().streaming.liveDelay}function p(e,n){g(e,n);var r=new a.default;r.schemeIdUri=e,r.value=n,t.push(r)}function g(e,n){(0,l.checkParameterType)(e,"string"),(0,l.checkParameterType)(n,"string"),(0,A.default)(t).call(t,(function(r,a){r.schemeIdUri===e&&r.value===n&&(0,Z.default)(t).call(t,a,1)}))}return e={getABRCustomRules:function(){return r},addABRCustomRule:function(e,t,n){if("string"!=typeof e||e!==s.default.ABANDON_FRAGMENT_RULES&&e!==s.default.QUALITY_SWITCH_RULES||"string"!=typeof t)throw o.default.BAD_ARGUMENT_ERROR;var a=c(t);-1===a?r.push({type:e,rulename:t,rule:n}):(r[a].type=e,r[a].rule=n)},removeABRCustomRule:function(e){var t;e?-1!==(t=c(e))&&(0,Z.default)(r).call(r,t,1):r=[]},getStableBufferTime:function(){if(d.get().streaming.lowLatencyEnabled)return.6*h();var e=d.get().streaming.stableBufferTime;return-1<e?e:d.get().streaming.fastSwitchEnabled?20:12},getRetryAttemptsForType:function(e){var t=isNaN(d.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:d.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return d.get().streaming.lowLatencyEnabled?d.get().streaming.retryAttempts[e]*t:d.get().streaming.retryAttempts[e]},getRetryIntervalsForType:function(e){var t=isNaN(d.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:d.get().streaming.retryIntervals.lowLatencyReductionFactor;return d.get().streaming.lowLatencyEnabled?d.get().streaming.retryIntervals[e]/t:d.get().streaming.retryIntervals[e]},getLiveDelay:h,getLiveCatchupLatencyThreshold:function(){try{var e=d.get().streaming.liveCatchupLatencyThreshold;if(null!==e&&!isNaN(e))return e;var t=h(),n=d.get().streaming.liveCatchUpMinDrift,r=!isNaN(t)&&t?isNaN(n)?h():d.get().streaming.liveCatchUpMinDrift+h():NaN;return r&&!isNaN(r)?2*r:NaN}catch(e){return NaN}},addUTCTimingSource:p,removeUTCTimingSource:g,getUTCTimingSources:function(){return t},clearDefaultUTCTimingSources:function(){t=[]},restoreDefaultUTCTimingSources:function(){p(i.scheme,i.value)},setXHRWithCredentialsForType:function e(t,r){var a;t?n[t]=!!r:(0,A.default)(a=(0,P.default)(n)).call(a,(function(t){e(t,r)}))},getXHRWithCredentialsForType:function(e){var t=n[e];return void 0===t?n.default:t},getDefaultUtcTimingSource:function(){return i},reset:function(){}},n={default:!(t=[])},r=[],e}f.__dashjs_factory_name="MediaPlayerModel",n.default=i.default.getSingletonFactory(f),t.exports=n.default},{108:108,189:189,218:218,47:47,48:48,96:96}],152:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(109)),o=r(e(231)),s=e(241),u=r(e(244)),l=r(e(237)),f=r(e(238)),d=r(e(239)),c=r(e(240)),h=e(242),p=r(e(246)),g=r(e(46)),m=r(e(245)),v=r(e(54)),_=r(e(47));function E(e){var t,n=(e=e||{}).settings,r=this.context,_=(0,g.default)(r).getInstance(),E=void 0;function y(){_.trigger(v.default.METRICS_CHANGED)}function T(e){_.trigger(v.default.METRIC_CHANGED,{mediaType:e}),y()}function S(e,t,n){_.trigger(v.default.METRIC_UPDATED,{mediaType:e,metric:t,value:n}),T(e)}function I(e,t,n){_.trigger(v.default.METRIC_ADDED,{mediaType:e,metric:t,value:n}),T(e)}function R(e,t){var n=null;return e&&(E.hasOwnProperty(e)?n=E[e]:t||(n=new o.default,E[e]=n)),n}function b(e,t,r){var a=R(e);null!==a&&(a[t].push(r),a[t].length>n.get().streaming.metricsMaxListDepth&&a[t].shift())}function w(e,t,n){b(e,t,n),I(e,t,n)}return t={clearCurrentMetricsForType:function(e){delete E[e],T(e)},clearAllCurrentMetrics:function(){E={},y()},getMetricsFor:R,addHttpRequest:function e(t,n,r,a,o,u,l,f,d,c,h,p,g,m,v){var _=new s.HTTPRequest;u&&u!==a&&(e(t,null,r,a,o,null,null,f,d,null,null,null,g,null,null),_.actualurl=u),_.tcpid=n,_.type=r,_.url=a,_.range=f,_.trequest=d,_.tresponse=c,_.responsecode=p,_._tfinish=h,_._stream=t,_._mediaduration=g,_._quality=o,_._responseHeaders=m,_._serviceLocation=l,v?(0,A.default)(v).call(v,(function(e){var t,n,r,a,i;t=_,n=e.s,r=e.d,a=e.b,(i=new s.HTTPRequestTrace).s=n,i.d=r,i.b=a,t.trace.push(i),t.interval||(t.interval=0),t.interval+=r})):(delete _.interval,delete _.trace),w(t,i.default.HTTP_REQUEST,_)},addRepresentationSwitch:function(e,t,n,r,a){var o=new u.default;o.t=t,o.mt=n,o.to=r,a?o.lto=a:delete o.lto,w(e,i.default.TRACK_SWITCH,o)},addBufferLevel:function(e,t,n){var r=new l.default;r.t=t,r.level=n,w(e,i.default.BUFFER_LEVEL,r)},addBufferState:function(e,t,n){var r=new f.default;r.target=n,r.state=t,w(e,i.default.BUFFER_STATE,r)},addDVRInfo:function(e,t,n,r){var a=new d.default;a.time=t,a.range=r,a.manifestInfo=n,w(e,i.default.DVR_INFO,a)},addDroppedFrames:function(e,t){var n=new c.default,r=R(e).DroppedFrames;t&&(n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,0<r.length&&r[r.length-1]==n||w(e,i.default.DROPPED_FRAMES,n))},addSchedulingInfo:function(e,t,n,r,a,o,s,u,l){var f=new p.default;f.mediaType=e,f.t=t,f.type=n,f.startTime=r,f.availabilityStartTime=a,f.duration=o,f.quality=s,f.range=u,f.state=l,w(e,i.default.SCHEDULING_INFO,f)},addRequestsQueue:function(e,t,n){var r=new m.default;r.loadingRequests=t,r.executedRequests=n,R(e).RequestsQueue=r,I(e,i.default.REQUESTS_QUEUE,r)},addManifestUpdate:function(e,t,n,r,o,s,u,l,f,d){var c=new h.ManifestUpdate;c.mediaType=e,c.type=t,c.requestTime=n,c.fetchTime=r,c.availabilityStartTime=o,c.presentationStartTime=s,c.clientTimeOffset=u,c.currentTime=l,c.buffered=f,c.latency=d,b(a.default.STREAM,i.default.MANIFEST_UPDATE,c),I(e,i.default.MANIFEST_UPDATE,c)},updateManifestUpdateInfo:function(e,t){if(e){for(var n in t)e[n]=t[n];S(e.mediaType,i.default.MANIFEST_UPDATE,e)}},addManifestUpdateStreamInfo:function(e,t,n,r,a){var o;e&&((o=new h.ManifestUpdateStreamInfo).id=t,o.index=n,o.start=r,o.duration=a,e.streamInfo.push(o),S(e.mediaType,i.default.MANIFEST_UPDATE_STREAM_INFO,e))},addManifestUpdateRepresentationInfo:function(e,t,n,r,a,o,s,u){var l;e&&e.representationInfo&&((l=new h.ManifestUpdateRepresentationInfo).id=t,l.index=n,l.streamIndex=r,l.mediaType=a,l.startNumber=s,l.fragmentInfoType=u,l.presentationTimeOffset=o,e.representationInfo.push(l),S(e.mediaType,i.default.MANIFEST_UPDATE_TRACK_INFO,e))},addPlayList:function(e){var t;e.trace&&(0,V.default)(e.trace)?(0,A.default)(t=e.trace).call(t,(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel})):delete e.trace,w(a.default.STREAM,i.default.PLAY_LIST,e)},addDVBErrors:function(e){w(a.default.STREAM,i.default.DVB_ERRORS,e)}},E={},t}E.__dashjs_factory_name="MetricsModel",n.default=_.default.getSingletonFactory(E),t.exports=n.default},{108:108,109:109,231:231,237:237,238:238,239:239,240:240,241:241,242:242,244:244,245:245,246:246,46:46,47:47,54:54}],153:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(236)),i=r(e(47));function o(){var e=void 0;return{initialize:function(t){if(e=new a.default,!t)return null;var n=(0,W.default)(t).call(t,"#");if(-1!==n)for(var r=t.substr(n+1).split("&"),i=0,o=r.length;i<o;++i){var s,u=r[i],l=(0,W.default)(u).call(u,"=");-1!==l&&(s=u.substring(0,l),e.hasOwnProperty(s)&&(e[s]=u.substr(l+1)))}},getURIFragmentData:function(){return e}}}o.__dashjs_factory_name="URIFragmentModel",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{236:236,47:47}],154:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(46)),o=r(e(54)),s=r(e(45));function u(){var e,t=void 0,n=void 0,r=void 0,a=void 0,u=this.context,f=(0,i.default)(u).getInstance(),d=[];function c(){n&&(n.playbackRate=a||1,n.removeEventListener("canplay",c))}function h(e){n&&(n.readyState<=2&&0<e?n.addEventListener("canplay",c):n.playbackRate=e)}function p(){return 0<d.length}function g(){var e;n&&p()&&0===n.playbackRate&&((e=document.createEvent("Event")).initEvent("waiting",!0,!1),n.dispatchEvent(e))}function m(){return n?n.buffered:null}function v(e,t,r,a,i){if(n)for(var o=0;o<n.textTracks.length;o++)if(n.textTracks[o].kind===e&&(!t||n.textTracks[o].label==t)&&n.textTracks[o].language===r&&n.textTracks[o].isTTML===a&&n.textTracks[o].isEmbedded===i)return n.textTracks[o];return null}return e={initialize:function(){f.on(o.default.PLAYBACK_PLAYING,g,this)},setCurrentTime:function(e,t){if(n){if(n.currentTime==e)return;try{e=t?function(e){var t=m(),n=e,r=9999999999;if(t)for(var a=0;a<t.length;a++){var i=t.start(a),o=t.end(a),s=Math.abs(i-e),u=Math.abs(o-e);if(i<=e&&e<=o)return e;s<r&&(r=s,n=i),u<r&&(r=u,n=o)}return n}(e):e,n.currentTime=e}catch(t){0===n.readyState&&t.code===t.INVALID_STATE_ERR&&(0,D.default)((function(){n.currentTime=e}),400)}}},play:function(){var e;n&&(n.autoplay=!0,(e=n.play())&&e.catch&&void 0!==l.default&&e.catch((function(e){"NotAllowedError"===e.name&&f.trigger(o.default.PLAYBACK_NOT_ALLOWED),t.warn("Caught pending play exception - continuing ("+e+")")})))},isPaused:function(){return n?n.paused:null},pause:function(){n&&(n.pause(),n.autoplay=!1)},isSeeking:function(){return n?n.seeking:null},getTime:function(){return n?n.currentTime:null},getPlaybackRate:function(){return n?n.playbackRate:null},setPlaybackRate:h,getPlayedRanges:function(){return n?n.played:null},getEnded:function(){return n?n.ended:null},setStallState:function(e,t){(t?function(e){var t=void 0;null===e||n.seeking||-1!==(0,W.default)(d).call(d,e)||(d.push(e),n&&1===d.length&&((t=document.createEvent("Event")).initEvent("waiting",!0,!1),a=n.playbackRate,h(0),n.dispatchEvent(t)))}:function(e){var t=(0,W.default)(d).call(d,e),r=void 0;null!==e&&(-1!==t&&(0,Z.default)(d).call(d,t,1),n&&!1===p()&&0===n.playbackRate&&(h(a||1),n.paused||((r=document.createEvent("Event")).initEvent("playing",!0,!1),n.dispatchEvent(r))))})(e)},getElement:function(){return n},setElement:function(e){if(!(null==e||e&&/^(VIDEO|AUDIO)$/i.test(e.nodeName)))throw"element is not video or audio DOM type!";(n=e)&&(n.preload="auto")},setSource:function(e){n&&(e?n.src=e:(n.removeAttribute("src"),n.load()))},getSource:function(){return n?n.src:null},getTTMLRenderingDiv:function(){return r},setTTMLRenderingDiv:function(e){(r=e).style.position="absolute",r.style.display="flex",r.style.overflow="hidden",r.style.pointerEvents="none",r.style.top=0,r.style.left=0},getPlaybackQuality:function(){if(!n)return null;var e="webkitDroppedFrameCount"in n&&"webkitDecodedFrameCount"in n,t=null;return"getVideoPlaybackQuality"in n?t=n.getVideoPlaybackQuality():e&&(t={droppedVideoFrames:n.webkitDroppedFrameCount,totalVideoFrames:n.webkitDroppedFrameCount+n.webkitDecodedFrameCount,creationTime:new Date}),t},addEventListener:function(e,t){n&&n.addEventListener(e,t)},removeEventListener:function(e,t){n&&n.removeEventListener(e,t)},getReadyState:function(){return n?n.readyState:NaN},getBufferRange:m,getClientWidth:function(){return n?n.clientWidth:NaN},getClientHeight:function(){return n?n.clientHeight:NaN},getTextTracks:function(){return n?n.textTracks:[]},getTextTrack:v,addTextTrack:function(e,t,r,a,i){if(!n)return null;var o=v(e,t,r,a,i);return o||((o=n.addTextTrack(e,t,r)).isEmbedded=i,o.isTTML=a),o},appendChild:function(e){n&&(n.appendChild(e),void 0!==e.isTTML&&(n.textTracks[n.textTracks.length-1].isTTML=e.isTTML,n.textTracks[n.textTracks.length-1].isEmbedded=e.isEmbedded))},removeChild:function(e){n&&n.removeChild(e)},getVideoWidth:function(){return n?n.videoWidth:NaN},getVideoHeight:function(){return n?n.videoHeight:NaN},getVideoRelativeOffsetTop:function(){var e=n.parentNode.host||n.parentNode;return e?n.getBoundingClientRect().top-e.parentNode.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function(){var e=n.parentNode.host||n.parentNode;return e?n.getBoundingClientRect().left-e.getBoundingClientRect().left:NaN},reset:function(){f.off(o.default.PLAYBACK_PLAYING,g,this)}},t=(0,s.default)(u).getInstance().getLogger(e),e}u.__dashjs_factory_name="VideoModel",n.default=a.default.getSingletonFactory(u),t.exports=n.default},{45:45,46:46,47:47,54:54}],155:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r};function i(e){var t=(e=e||{}).requestModifier,n=e.boxParser;function r(e,t){e.reader.read().then(t).catch((function(t){e.onerror&&200===e.response.status&&e.onerror(t)}))}function a(e,t){if(1<(e=(0,I.default)(e).call(e,(function(n){return n.bytes>t/4/e.length}))).length){var n=(r=0,a=(e[e.length-1].ts-e[0].ts)/e.length,(0,A.default)(e).call(e,(function(t,n){var i,o=e[n+1];o&&(i=o.ts-t.ts,r+=i<a?i:0)})),{v:r});if("object"==(0,j.default)(n))return n.v}var r,a;return null}return{load:function(e){var i=new Date,o=e.request,s=new Headers;o.range&&s.append("Range","bytes="+o.range),o.requestStartDate||(o.requestStartDate=i),t&&t.modifyRequestHeader({setRequestHeader:function(e,t){s.append(e,t)}});var l=void 0;"function"==typeof window.AbortController&&(l=new AbortController,(e.abortController=l).signal.onabort=e.onabort);var f={method:e.method,headers:s,credentials:e.withCredentials?"include":void 0,signal:l?l.signal:void 0};fetch(e.url,f).then((function(t){e.response||(e.response={}),e.response.status=t.status,e.response.statusText=t.statusText,e.response.responseURL=t.url,t.ok||e.onerror();var i="",o=!0,s=!1,l=void 0;try{for(var f,d=(0,h.default)((0,u.default)(p=t.headers).call(p));!(o=(f=d.next()).done);o=!0){var p,g=f.value;i+=g+": "+t.headers.get(g)+"\r\n"}}catch(t){s=!0,l=t}finally{try{!o&&d.return&&d.return()}finally{if(s)throw l}}if(e.response.responseHeaders=i,!t.body)return t.arrayBuffer().then((function(t){var n={loaded:(e.response.response=t).byteLength,total:t.byteLength,stream:!1};e.progress(n),e.onload(),e.onend()}));var m=(0,B.default)(t.headers.get("Content-Length"),10),v=0,_=!1,E=new Uint8Array,y=0;e.reader=t.body.getReader();var T=[];r(e,(function t(i){var o,s,u,l=i.value;if(i.done)return E&&(e.progress({loaded:v,total:isNaN(m)?v:m,lengthComputable:!0,time:a(T,v),stream:!0}),e.response.response=E.buffer),e.onload(),void e.onend();l&&0<l.length&&(E=function(e,t){if(0===e.length)return t;var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(E,l),v+=l.length,T.push({ts:(0,c.default)(),bytes:l.length}),(o=n.findLastTopIsoBoxCompleted(["moov","mdat"],E,y)).found?(s=o.lastCompletedOffset+o.size,u=void 0,E=s===E.length?(u=E,new Uint8Array):(u=new Uint8Array(E.subarray(0,s)),E.subarray(s)),e.progress({data:u.buffer,lengthComputable:!1,noTrace:!0}),y=0):(y=o.lastCompletedOffset,_||(e.progress({lengthComputable:!1,noTrace:!0}),_=!0))),r(e,t)}))})).catch((function(t){e.onerror&&e.onerror(t)}))},abort:function(e){if(e.abortController)e.abortController.abort();else if(e.reader)try{e.reader.cancel(),e.onabort()}catch(e){}},calculateDownloadedTime:a}}i.__dashjs_factory_name="FetchLoader";var o=a.default.getClassFactory(i);n.default=o,t.exports=n.default},{47:47}],156:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?(0,X.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,X.default)(n,"__esModule",{value:!0});var i=r(e(159)),o=r(e(155)),s=e(241),u=r(e(47)),l=r(e(225)),f=r(e(148)),d=r(e(49));function c(e){e=e||{};var t,n,r=this.context,u=e.errHandler,c=e.dashMetrics,h=e.mediaPlayerModel,p=e.requestModifier,g=e.boxParser,m=e.useFetch||!1,v=e.errors,_=void 0,E=void 0,y=void 0,T=void 0,S=void 0;return t={load:function(e){e.request?function e(t,n){var a=t.request,f=[],v=!0,A=!0,I=new Date,R=I,b=0,w=void 0;if(!p||!c||!u)throw new Error("config object is not correct or missing");function M(e){A=!1,a.requestStartDate=I,a.requestEndDate=new Date,a.firstByteDate=a.firstByteDate||I,a.checkExistenceOnly||(c.addHttpRequest(a,w.response?w.response.responseURL:null,w.response?w.response.status:null,w.response&&w.response.getAllResponseHeaders?w.response.getAllResponseHeaders():w.response?w.response.responseHeaders:[],e?f:null),a.type===s.HTTPRequest.MPD_TYPE&&c.addManifestUpdate(a.type,a.requestStartDate,a.requestEndDate))}function C(){-1!==(0,W.default)(_).call(_,w)&&((0,Z.default)(_).call(_,(0,W.default)(_).call(_,w),1),A&&(M(!1),0<n?function(){n--;var r={config:t};y.push(r),r.timeout=(0,D.default)((function(){-1!==(0,W.default)(y).call(y,r)&&((0,Z.default)(y).call(y,(0,W.default)(y).call(y,r),1),e(t,n))}),h.getRetryIntervalsForType(a.type))}():(u.error(new l.default(T[a.type],a.url+" is not available",{request:a,response:w.response})),t.error&&t.error(a,"error",w.response.statusText),t.complete&&t.complete(a,w.response.statusText))))}var N,O=void 0,L=(O=m&&window.fetch&&"arraybuffer"===a.responseType&&a.type===s.HTTPRequest.MEDIA_SEGMENT_TYPE?(0,o.default)(r).create({requestModifier:p,boxParser:g}):(0,i.default)(r).create({requestModifier:p}),p.modifyRequestURL(a.url)),x=function(e){try{var t=[],n=S.getQueryParameter(e);return n&&t.push(n),t}catch(e){return[]}}(a),P=(w={url:L=d.default.addAditionalQueryParameterToUrl(L,x),method:a.checkExistenceOnly?s.HTTPRequest.HEAD:s.HTTPRequest.GET,withCredentials:h.getXHRWithCredentialsForType(a.type),request:a,onload:function(){200<=w.response.status&&w.response.status<=299&&(M(!0),t.success&&t.success(w.response.response,w.response.statusText,w.response.responseURL),t.complete&&t.complete(a,w.response.statusText))},onend:C,onerror:C,progress:function(e){var n=new Date;v&&(v=!1,(!e.lengthComputable||e.lengthComputable&&e.total!==e.loaded)&&(a.firstByteDate=n)),e.lengthComputable&&(a.bytesLoaded=e.loaded,a.bytesTotal=e.total),e.noTrace||(f.push({s:R,d:e.time?e.time:n.getTime()-R.getTime(),b:[e.loaded?e.loaded-b:0]}),R=n,b=e.loaded),t.progress&&e&&t.progress(e)},onabort:function(){t.abort&&t.abort(a)},loader:O},(new Date).getTime());isNaN(a.delayLoadingTime)||P>=a.delayLoadingTime?(_.push(w),O.load(w)):(N={httpRequest:w},E.push(N),N.delayTimeout=(0,D.default)((function(){if(-1!==(0,W.default)(E).call(E,N)){(0,Z.default)(E).call(E,(0,W.default)(E).call(E,N),1);try{I=new Date,R=I,_.push(N.httpRequest),O.load(N.httpRequest)}catch(e){N.httpRequest.onerror()}}}),a.delayLoadingTime-P))}(e,h.getRetryAttemptsForType(e.request.type)):e.error&&e.error(e.request,"error")},abort:function(){(0,A.default)(y).call(y,(function(e){clearTimeout(e.timeout),e.config.request&&e.config.abort&&e.config.abort(e.config.request)})),y=[],(0,A.default)(E).call(E,(function(e){return clearTimeout(e.delayTimeout)})),E=[],(0,A.default)(_).call(_,(function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.loader.abort(e)})),_=[]}},_=[],E=[],y=[],S=(0,f.default)(r).getInstance(),a(n={},s.HTTPRequest.MPD_TYPE,v.DOWNLOAD_ERROR_ID_MANIFEST_CODE),a(n,s.HTTPRequest.XLINK_EXPANSION_TYPE,v.DOWNLOAD_ERROR_ID_XLINK_CODE),a(n,s.HTTPRequest.INIT_SEGMENT_TYPE,v.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),a(n,s.HTTPRequest.MEDIA_SEGMENT_TYPE,v.DOWNLOAD_ERROR_ID_CONTENT_CODE),a(n,s.HTTPRequest.INDEX_SEGMENT_TYPE,v.DOWNLOAD_ERROR_ID_CONTENT_CODE),a(n,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,v.DOWNLOAD_ERROR_ID_CONTENT_CODE),a(n,s.HTTPRequest.OTHER_TYPE,v.DOWNLOAD_ERROR_ID_CONTENT_CODE),T=n,t}c.__dashjs_factory_name="HTTPLoader";var h=u.default.getClassFactory(c);n.default=h,t.exports=n.default},{148:148,155:155,159:159,225:225,241:241,47:47,49:49}],157:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(156));function s(){var e=void 0;function t(){e={}}function n(){t()}return n(),{getLoader:function(t){for(var n in e)if(e.hasOwnProperty(n)&&(0,o.default)(t).call(t,n))return e[n];return i.default},registerLoader:function(t,n){e[t]=n},unregisterLoader:function(t){e[t]&&delete e[t]},unregisterAllLoader:t,reset:n}}s.__dashjs_factory_name="SchemeLoaderFactory";var u=a.default.getSingletonFactory(s);n.default=u,t.exports=n.default},{156:156,47:47}],158:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(157));function o(e){e=e||{};var t=this.context,n=void 0,r=void 0;return n=(0,i.default)(t).getInstance(),{load:function(a){var i=n.getLoader(a&&a.request?a.request.url:null);(r=i(t).create({errHandler:e.errHandler,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,useFetch:e.useFetch||null,dashMetrics:e.dashMetrics,boxParser:e.boxParser?e.boxParser:null,constants:e.constants?e.constants:null,dashConstants:e.dashConstants?e.dashConstants:null,urlUtils:e.urlUtils?e.urlUtils:null,errors:e.errors})).load(a)},abort:function(){r&&r.abort()}}}o.__dashjs_factory_name="URLLoader";var s=a.default.getClassFactory(o);n.default=s,t.exports=n.default},{157:157,47:47}],159:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r};function i(e){var t=(e=e||{}).requestModifier;return{load:function(e){var n=new Date,r=e.request,a=new XMLHttpRequest;a.open(e.method,e.url,!0),r.responseType&&(a.responseType=r.responseType),r.range&&a.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=n),t&&(a=t.modifyRequestHeader(a)),a.withCredentials=e.withCredentials,a.onload=e.onload,a.onloadend=e.onend,a.onerror=e.onerror,a.onprogress=e.progress,a.onabort=e.onabort,a.send(),e.response=a},abort:function(e){var t=e.response;t.onloadend=t.onerror=t.onprogress=void 0,t.abort()}}}i.__dashjs_factory_name="XHRLoader";var o=a.default.getClassFactory(i);n.default=o,t.exports=n.default},{47:47}],160:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}(0,X.default)(n,"__esModule",{value:!0});var a=(function(e,t,n){n&&r(e,n)}(i,0,[{key:"findCencContentProtection",value:function(e){for(var t=null,n=0;n<e.length;++n){var r=e[n];"urn:mpeg:dash:mp4protection:2011"===r.schemeIdUri.toLowerCase()&&"cenc"===r.value.toLowerCase()&&(t=r)}return t}},{key:"getPSSHData",value:function(e){var t=8,n=new DataView(e),r=n.getUint8(t);return t+=20,0<r&&(t+=4+16*n.getUint32(t)),t+=4,(0,z.default)(e).call(e,t)}},{key:"getPSSHForKeySystem",value:function(e,t){var n=i.parsePSSHList(t);return e&&n.hasOwnProperty(e.uuid.toLowerCase())?n[e.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e,t){return"pssh"in e?(e.pssh.__text=e.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),t.decodeArray(e.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(e){if(null==e)return[];for(var t=new DataView(e.buffer||e),n={},r=0;;){var a,i,o=void 0,s=r;if(r>=t.buffer.byteLength)break;if(a=r+t.getUint32(r),r+=4,1886614376===t.getUint32(r))if(r+=4,0===(i=t.getUint8(r))||1===i){var u;r++,r+=3,o="";var l=void 0,f=void 0;for(l=0;l<4;l++)o+=1===(f=t.getUint8(r+l).toString(16)).length?"0"+f:f;for(r+=4,o+="-",l=0;l<2;l++)o+=1===(f=t.getUint8(r+l).toString(16)).length?"0"+f:f;for(r+=2,o+="-",l=0;l<2;l++)o+=1===(f=t.getUint8(r+l).toString(16)).length?"0"+f:f;for(r+=2,o+="-",l=0;l<2;l++)o+=1===(f=t.getUint8(r+l).toString(16)).length?"0"+f:f;for(r+=2,o+="-",l=0;l<6;l++)o+=1===(f=t.getUint8(r+l).toString(16)).length?"0"+f:f;r+=6,o=o.toLowerCase(),t.getUint32(r),r+=4,n[o]=(0,z.default)(u=t.buffer).call(u,s,a),r=a}else r=a;else r=a}return n}}]),i);function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i)}n.default=a,t.exports=n.default},{}],161:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(163)),i=r(e(164)),o=r(e(162)),s=r(e(169)),u=r(e(171)),l=r(e(172)),f=r(e(170)),d=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],c=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function h(){var e=void 0,t=this.context;function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("function"==typeof e[r[(0,P.default)(r)[0]]])return r}return null}return e={createProtectionSystem:function(r){var o=null,s=(0,i.default)(t).getInstance();s.setConfig({debug:r.debug,BASE64:r.BASE64}),s.initialize();var h,p,g,m,v,_,E=(g=(p=(h=r).debug).getLogger(e),m=h.eventBus,v=h.errHandler,(_=h.videoModel?h.videoModel.getElement():null)&&void 0===_.onencrypted||_&&void 0===_.mediaKeys?n(_,c)?(g.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,l.default)(t).create({debug:p,eventBus:m,events:h.events,api:n(_,c)})):n(_,d)?(g.info("EME detected on this user agent! (ProtectionModel_01b)"),(0,f.default)(t).create({debug:p,eventBus:m,errHandler:v,events:h.events,api:n(_,d)})):(g.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(g.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,u.default)(t).create({debug:p,eventBus:m,events:h.events})));return!o&&E&&(o=(0,a.default)(t).create({protectionModel:E,protectionKeyController:s,eventBus:r.eventBus,debug:r.debug,events:r.events,BASE64:r.BASE64,constants:r.constants}),r.capabilities.setEncryptedMediaSupported(!0)),o}}}h.__dashjs_factory_name="Protection";var p=dashjs.FactoryMaker.getClassFactory(h);p.events=o.default,p.errors=s.default,dashjs.FactoryMaker.updateClassFactory(h.__dashjs_factory_name,p),n.default=p,t.exports=n.default},{162:162,163:163,164:164,169:169,170:170,171:171,172:172}],162:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r;function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}}((0,w.default)(a.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}var i=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(a,((r=e(55))&&r.__esModule?r:{default:r}).default),a);n.default=i,t.exports=n.default},{55:55}],163:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(160)),i=r(e(182)),o=r(e(181)),s=r(e(169)),u=r(e(225));function l(e){var t,n=(e=e||{}).protectionKeyController,r=e.protectionModel,l=e.eventBus,f=e.events,d=e.debug,c=e.BASE64,h=e.constants,p=[],g=void 0,v=void 0,_=void 0,E=void 0,y=void 0,T=void 0,S=void 0;function I(){if(!(l&&l.hasOwnProperty("on")&&n&&n.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function R(e,t){var i=a.default.getPSSHForKeySystem(S,e),o=M(S);if(i){for(var d=r.getAllInitData(),c=0;c<d.length;c++)if(n.initDataEquals(i,d[c]))return void g.warn("DRM: Ignoring initData because we have already seen it!");try{r.createKeySession(i,o,N(S),t)}catch(e){l.trigger(f.KEY_SESSION_CREATED,{data:null,error:new u.default(s.default.KEY_SESSION_CREATED_ERROR_CODE,s.default.KEY_SESSION_CREATED_ERROR_MESSAGE+e.message)})}}else e?r.createKeySession(e,o,N(S),t):l.trigger(f.KEY_SESSION_CREATED,{data:null,error:new u.default(s.default.KEY_SESSION_CREATED_ERROR_CODE,s.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(S?S.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function b(e,t){I(),r.loadKeySession(e,t,N(S))}function w(e){I(),e?(r.setMediaElement(e),l.on(f.NEED_KEY,U,this)):null===e&&(r.setMediaElement(e),l.off(f.NEED_KEY,U,this))}function M(e){var t,n=null;return e&&(t=e.systemString,E&&(n=t in E?E[t]:null)),n}function C(e){var t=M(e),n=[],r=[],a=t&&t.audioRobustness&&0<t.audioRobustness.length?t.audioRobustness:T,s=t&&t.videoRobustness&&0<t.videoRobustness.length?t.videoRobustness:T,u=N(e),l=t&&t.distinctiveIdentifier?t.distinctiveIdentifier:"optional",f=t&&t.persistentState?t.persistentState:"temporary"===u?"optional":"required";return(0,A.default)(_).call(_,(function(e){e.type===h.AUDIO?n.push(new i.default(e.codec,a)):e.type===h.VIDEO&&r.push(new i.default(e.codec,s))})),new o.default(n,r,l,f,[u])}function N(e){var t=M(e);return t&&t.sessionType?t.sessionType:y}function O(e,t){var a=this,i=[];e=(0,m.default)(e).call(e,(function(t,n){return(E&&E[t.ks.systemString]&&0<=E[t.ks.systemString].priority?E[t.ks.systemString].priority:e.length)-(E&&E[n.ks.systemString]&&0<=E[n.ks.systemString].priority?E[n.ks.systemString].priority:e.length)}));var o,d=void 0;if(S)for(d=0;d<e.length&&(S!==e[d].ks||"break"!=(i.push({ks:e[d].ks,configs:[C(S)]}),l.on(f.KEY_SYSTEM_ACCESS_COMPLETE,(function n(r){l.off(f.KEY_SYSTEM_ACCESS_COMPLETE,n,a),r.error?t||l.trigger(f.KEY_SYSTEM_SELECTED,{error:new u.default(s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+r.error)}):(g.info("DRM: KeySystem Access Granted"),l.trigger(f.KEY_SYSTEM_SELECTED,{data:r.data}),e[d].sessionId?b(e[d].sessionId,e[d].initData):e[d].initData&&R(e[d].initData,e[d].cdmData))}),a),r.requestKeySystemAccess(i),"break"));d++);else void 0===S?function(){S=null,v.push(e);for(var h=0;h<e.length;h++)i.push({ks:e[h].ks,configs:[C(e[h].ks)]});function p(e){l.off(f.KEY_SYSTEM_ACCESS_COMPLETE,p,a),e.error?(S=void 0,l.off(f.INTERNAL_KEY_SYSTEM_SELECTED,o,a),t||l.trigger(f.KEY_SYSTEM_SELECTED,{data:null,error:new u.default(s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+e.error)})):(m=e.data,g.info("DRM: KeySystem Access Granted ("+m.keySystem.systemString+")!  Selecting key system..."),r.selectKeySystem(m))}var m=void 0;o=function e(i){if(l.off(f.INTERNAL_KEY_SYSTEM_SELECTED,e,a),l.off(f.KEY_SYSTEM_ACCESS_COMPLETE,p,a),i.error)S=void 0,t||l.trigger(f.KEY_SYSTEM_SELECTED,{data:null,error:new u.default(s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+i.error)});else{if(!r)return;S=r.getKeySystem(),l.trigger(f.KEY_SYSTEM_SELECTED,{data:m});var o=M(S);o&&o.serverCertificate&&0<o.serverCertificate.length&&r.setServerCertificate(c.decodeArray(o.serverCertificate).buffer);for(var h,g=0;g<v.length;g++)for(d=0;d<v[g].length;d++)if(S===v[g][d].ks){n.isClearKey(S)&&o&&o.hasOwnProperty("clearkeys")&&(h={kids:(0,P.default)(o.clearkeys)},v[g][d].initData=(new TextEncoder).encode((0,$.default)(h))),v[g][d].sessionId?b(v[g][d].sessionId,v[g][d].initData):null!==v[g][d].initData&&R(v[g][d].initData,v[g][d].cdmData);break}}},l.on(f.INTERNAL_KEY_SYSTEM_SELECTED,o,a),l.on(f.KEY_SYSTEM_ACCESS_COMPLETE,p,a),r.requestKeySystemAccess(i)}():v.push(e)}function L(e,t){l.trigger(f.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function x(e){e.error?l.trigger(f.KEY_STATUSES_CHANGED,{data:null,error:e.error}):g.debug("DRM: key status = "+e.status)}function F(e){g.debug("DRM: onKeyMessage");var t=e.data;l.trigger(f.KEY_MESSAGE,{data:t});var i=t.messageType?t.messageType:"license-request",o=t.message,d=t.sessionToken,c=M(S),h=S?S.systemString:null,p=n.getLicenseServer(S,c,i),m={sessionToken:d,messageType:i};if(o&&0!==o.byteLength){if(!p)return g.debug("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+d.getSessionID()),void L(m);if(n.isClearKey(S)){var v=n.processClearKeyLicenseRequest(S,c,o);if(v)return g.debug("DRM: ClearKey license request handled by application!"),L(m),void r.updateKeySession(d,v)}var _,E,y,T,A,I,R,b,w,C=null;c&&c.serverURL?"string"==typeof(_=c.serverURL)&&""!==_?C=_:"object"==(0,j.default)(_)&&_.hasOwnProperty(i)&&(C=_[i]):C=c&&c.laURL&&""!==c.laURL?c.laURL:(C=S.getLicenseServerURLFromInitData(a.default.getPSSHData(d.initData)))||e.data.laURL,(C=p.getServerURLFromMessage(C,o,i))?(y=!(E={}),T=function(e){if(e)for(var t in e)"authorization"===t.toLowerCase()&&(y=!0),E[t]=e[t]},c&&T(c.httpRequestHeaders),T(S.getRequestHeadersFromMessage(o)),c&&"boolean"==typeof c.withCredentials&&(y=c.withCredentials),A=function(e,t,n,r){var a=e.response?p.getErrorResponse(e.response,n,r):"NONE";L(t,new u.default(s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+n+' update, XHR complete. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState+".  Response is "+a))},I=S.getLicenseRequestFromMessage(o),R=p.getHTTPMethod(i),b=p.getResponseType(h,i),w=c&&!isNaN(c.httpTimeout)?c.httpTimeout:8e3,function e(t,n,r,a,i,o,s,u,l,f,d){var c=new XMLHttpRequest;for(var h in c.open(r,t,!0),c.responseType=a,c.withCredentials=i,0<u&&(c.timeout=u),n)c.setRequestHeader(h,n[h]);var p=function(){s--,(0,D.default)((function(){e(t,n,r,a,i,o,s,u,l,f,d)}),1e3)};c.onload=function(){200===this.status||s<=0?l(this):(g.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+s),p())},c.ontimeout=c.onerror=function(){s<=0?d(this):(g.warn("License request network request failed . Retrying it... Pending retries: "+s),p())},c.onabort=function(){f(this)},c.send(o)}(C,E,R,b,y,I,3,w,(function(e){var t;r&&(200===e.status&&null!==(t=p.getLicenseMessage(e.response,h,i))?(L(m),r.updateKeySession(d,t)):A(e,m,h,i))}),(function(e){L(m,new u.default(s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+h+' update, XHR aborted. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))}),(function(e){L(m,new u.default(s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+h+' update, XHR error. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))}))):L(m,new u.default(s.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}else L(m,new u.default(s.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function U(e,t){if(g.debug("DRM: onNeedKey"),"cenc"===e.key.initDataType)if(0===_.length&&(g.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(t=void 0===t?1:t+1)<5))p.push((0,D.default)((function(){U(e,t)}),500));else{var i=e.key.initData;if(ArrayBuffer.isView(i)&&(i=i.buffer),S){var o=a.default.getPSSHForKeySystem(S,i);if(o)for(var s=r.getAllInitData(),u=0;u<s.length;u++)if(n.initDataEquals(o,s[u]))return void g.warn("DRM: Ignoring initData because we have already seen it!")}g.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(i)));var l=n.getSupportedKeySystems(i,E);0!==l.length?O(l,!1):g.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!")}else g.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType)}return t={initializeForMedia:function(e){if(!e)throw new Error("mediaInfo can not be null or undefined");I(),l.on(f.INTERNAL_KEY_MESSAGE,F,this),l.on(f.INTERNAL_KEY_STATUS_CHANGED,x,this),_.push(e);var t=n.getSupportedKeySystemsFromContentProtection(e.contentProtection);t&&0<t.length&&O(t,!0)},createKeySession:R,loadKeySession:b,removeKeySession:function(e){I(),r.removeKeySession(e)},closeKeySession:function(e){I(),r.closeKeySession(e)},setServerCertificate:function(e){I(),r.setServerCertificate(e)},setMediaElement:w,setSessionType:function(e){y=e},setRobustnessLevel:function(e){T=e},setProtectionData:function(e){E=e,n.setProtectionData(e)},getSupportedKeySystemsFromContentProtection:function(e){return I(),n.getSupportedKeySystemsFromContentProtection(e)},getKeySystems:function(){return n?n.getKeySystems():[]},setKeySystems:function(e){n&&n.setKeySystems(e)},stop:function(){r&&r.stop()},reset:function(){I(),l.off(f.INTERNAL_KEY_MESSAGE,F,this),l.off(f.INTERNAL_KEY_STATUS_CHANGED,x,this),w(null),S=void 0,r&&(r.reset(),r=null),(0,A.default)(p).call(p,(function(e){return clearTimeout(e)})),p=[],_=[]}},g=d.getLogger(t),v=[],_=[],y="temporary",T="",t}l.__dashjs_factory_name="ProtectionController",n.default=dashjs.FactoryMaker.getClassFactory(l),t.exports=n.default},{160:160,169:169,181:181,182:182,225:225}],164:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(160)),i=r(e(165)),o=r(e(167)),s=r(e(168)),u=r(e(166)),l=r(e(174)),f=r(e(175)),d=r(e(176)),c=r(e(173)),h=r(e(110));function p(){var e=this.context,t=void 0,n=void 0,r=void 0,p=void 0,g=void 0,m=void 0,v=void 0;return t={initialize:function(){p=[];var t=(0,u.default)(e).getInstance({BASE64:g});p.push(t),t=(0,s.default)(e).getInstance({BASE64:g}),p.push(t),t=(0,i.default)(e).getInstance({BASE64:g}),p.push(t),m=t,t=(0,o.default)(e).getInstance({BASE64:g,debug:n}),p.push(t),v=t},setProtectionData:function(e){for(var t,n,r=0;r<p.length;r++){var a=p[r];a.hasOwnProperty("init")&&a.init((t=a.systemString,n=void 0,n=null,e&&(n=t in e?e[t]:null),n))}},isClearKey:function(e){return e===m||e===v},initDataEquals:function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new Uint8Array(e),r=new Uint8Array(t),a=0;a<n.length;a++)if(n[a]!==r[a])return!1;return!0},getKeySystems:function(){return p},setKeySystems:function(e){p=e},getKeySystemBySystemString:function(e){for(var t=0;t<p.length;t++)if(p[t].systemString===e)return p[t];return null},getSupportedKeySystemsFromContentProtection:function(e){var t,n=void 0,r=void 0,a=void 0,i=void 0,o=[];if(e)for(a=0;a<p.length;++a)for(r=p[a],i=0;i<e.length;++i)(n=e[i]).schemeIdUri.toLowerCase()===r.schemeIdURI&&(t=r.getInitData(n),o.push({ks:p[a],initData:t,cdmData:r.getCDMData(),sessionId:r.getSessionId(n)}));return o},getSupportedKeySystems:function(e,t){for(var n,r,i=[],o=a.default.parsePSSHList(e),s=void 0,u=0;u<p.length;++u)n=(s=p[u]).systemString,r=!t||n in t,s.uuid in o&&r&&i.push({ks:s,initData:o[s.uuid],cdmData:s.getCDMData(),sessionId:s.getSessionId()});return i},getLicenseServer:function(t,n,r){if("license-release"===r||"individualization-request"===r)return null;var a=null;return n&&n.hasOwnProperty("drmtoday")?a=(0,l.default)(e).getInstance({BASE64:g}):t.systemString===h.default.WIDEVINE_KEYSTEM_STRING?a=(0,d.default)(e).getInstance():t.systemString===h.default.PLAYREADY_KEYSTEM_STRING?a=(0,f.default)(e).getInstance():t.systemString===h.default.CLEARKEY_KEYSTEM_STRING&&(a=(0,c.default)(e).getInstance()),a},processClearKeyLicenseRequest:function(e,t,n){try{return e.getClearKeysFromProtectionData(t,n)}catch(e){return r.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(e){e&&(e.debug&&(n=e.debug,r=n.getLogger(t)),e.BASE64&&(g=e.BASE64))}}}p.__dashjs_factory_name="ProtectionKeyController",n.default=dashjs.FactoryMaker.getSingletonFactory(p),t.exports=n.default},{110:110,160:160,165:165,166:166,167:167,168:168,173:173,174:174,175:175,176:176}],165:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(179)),i=r(e(177)),o=r(e(160)),s=r(e(110)),u=s.default.CLEARKEY_KEYSTEM_STRING;function l(e){var t=(e=e||{}).BASE64;return{uuid:"e2719d58-a985-b3c9-781a-b030af78d30e",schemeIdURI:"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e",systemString:u,getInitData:function(e){return o.default.parseInitDataFromContentProtection(e,t)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:function(e,t){var n=null;if(e){for(var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),o=[],s=0;s<r.kids.length;s++){var u=r.kids[s],l=e.clearkeys&&e.clearkeys.hasOwnProperty(u)?e.clearkeys[u]:null;if(!l)throw new Error("DRM: ClearKey keyID ("+u+") is not known!");o.push(new a.default(u,l))}n=new i.default(o)}return n}}}l.__dashjs_factory_name="KeySystemClearKey",n.default=dashjs.FactoryMaker.getSingletonFactory(l),t.exports=n.default},{110:110,160:160,177:177,179:179}],166:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(160)),i=r(e(110)),o=i.default.PLAYREADY_KEYSTEM_STRING,s=void 0;function u(e){var t="utf-16",n=(e=e||{}).BASE64;function r(){if(!n||!n.hasOwnProperty("decodeArray")||!n.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:"9a04f079-9840-4286-ab92-e65be0885f95",schemeIdURI:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",systemString:o,getInitData:function(e){var t,i,o,s=new Uint8Array([112,115,115,104,0,0,0,0]),u=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),l=0,f=null,d=void 0,c=void 0;if(r(),!e)return null;if("pssh"in e)return a.default.parseInitDataFromContentProtection(e,n);if("pro"in e)f=n.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;f=n.decodeArray(e.prheader.__text)}return t=f.length,i=4+s.length+u.length+4+t,o=new ArrayBuffer(i),d=new Uint8Array(o),(c=new DataView(o)).setUint32(0,i),l+=4,d.set(s,4),l+=s.length,d.set(u,l),l+=u.length,c.setUint32(l,t),l+=4,d.set(f,l),d.buffer},getRequestHeadersFromMessage:function(e){for(var n=void 0,r={},a=new DOMParser,i=new("utf-16"===t?Uint16Array:Uint8Array)(e),o=String.fromCharCode.apply(null,i),s=(n=a.parseFromString(o,"application/xml")).getElementsByTagName("name"),u=n.getElementsByTagName("value"),l=0;l<s.length;l++)r[s[l].childNodes[0].nodeValue]=u[l].childNodes[0].nodeValue;return r.hasOwnProperty("Content")&&(r["Content-Type"]=r.Content,delete r.Content),r.hasOwnProperty("Content-Type")||(r["Content-Type"]="text/xml; charset=utf-8"),r},getLicenseRequestFromMessage:function(e){var a=null,i=new DOMParser,o=new("utf-16"===t?Uint16Array:Uint8Array)(e);r();var s=String.fromCharCode.apply(null,o),u=i.parseFromString(s,"application/xml");if(!u.getElementsByTagName("PlayReadyKeyMessage")[0])return e;var l=u.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return l&&(a=n.decode(l)),a},getLicenseServerURLFromInitData:function(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),r=6,a=new DOMParser,i=0;i<n;i++){var o=t.getUint16(r,!0);r+=2;var s=t.getUint16(r,!0);if(r+=2,1===o){var u=(0,z.default)(e).call(e,r,r+s),l=String.fromCharCode.apply(null,new Uint16Array(u)),f=a.parseFromString(l,"application/xml");if(f.getElementsByTagName("LA_URL")[0]){var d=f.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(d)return d}if(f.getElementsByTagName("LUI_URL")[0]){var c=f.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(c)return c}}else r+=s}return null},getCDMData:function(){var e=void 0,t=void 0,a=void 0,i=void 0;if(r(),s&&s.cdmData){for(e=[],i=0;i<s.cdmData.length;++i)e.push(s.cdmData.charCodeAt(i)),e.push(0);for(e=String.fromCharCode.apply(null,e),e=n.encode(e),t='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",e),a=[],i=0;i<t.length;++i)a.push(t.charCodeAt(i)),a.push(0);return new Uint8Array(a).buffer}return null},getSessionId:function(e){return s&&s.sessionId?s.sessionId:e&&e.sessionId?e.sessionId:null},setPlayReadyMessageFormat:function(e){if("utf-8"!==e&&"utf-16"!==e)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');t=e},init:function(e){e&&(s=e)}}}u.__dashjs_factory_name="KeySystemPlayReady",n.default=dashjs.FactoryMaker.getSingletonFactory(u),t.exports=n.default},{110:110,160:160}],167:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(179)),i=r(e(177)),o=r(e(160)),s=r(e(110)),u=s.default.CLEARKEY_KEYSTEM_STRING;function l(e){var t=e.BASE64,n=e.debug.getLogger(void 0);return{uuid:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",schemeIdURI:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",systemString:u,getInitData:function(e){return o.default.parseInitDataFromContentProtection(e,t)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:function(e,t){var r=null;if(e){for(var o=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),s=[],u=0;u<o.kids.length;u++){var l=o.kids[u],f=e.clearkeys&&e.clearkeys.hasOwnProperty(l)?e.clearkeys[l]:null;if(!f)throw new Error("DRM: ClearKey keyID ("+l+") is not known!");s.push(new a.default(l,f))}r=new i.default(s),n.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return r}}}l.__dashjs_factory_name="KeySystemW3CClearKey",n.default=dashjs.FactoryMaker.getSingletonFactory(l),t.exports=n.default},{110:110,160:160,177:177,179:179}],168:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(160)),i=r(e(110)),o=i.default.WIDEVINE_KEYSTEM_STRING;function s(e){var t=null,n=(e=e||{}).BASE64;return{uuid:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",schemeIdURI:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",systemString:o,init:function(e){e&&(t=e)},getInitData:function(e){return a.default.parseInitDataFromContentProtection(e,n)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(e){return t&&t.sessionId?t.sessionId:e&&e.sessionId?e.sessionId:null}}}s.__dashjs_factory_name="KeySystemWidevine",n.default=dashjs.FactoryMaker.getSingletonFactory(s),t.exports=n.default},{110:110,160:160}],169:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r;function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}}((0,w.default)(a.prototype),"constructor",this).call(this),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}var i=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(a,((r=e(52))&&r.__esModule?r:{default:r}).default),a);n.default=i,t.exports=n.default},{52:52}],170:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(164)),i=r(e(183)),o=r(e(225)),s=r(e(178)),u=r(e(181)),l=r(e(180)),f=r(e(169));function d(e){e=e||{};var t,n=this.context,r=e.eventBus,d=e.events,c=e.debug,h=e.api,p=e.errHandler,g=void 0,m=void 0,v=void 0,_=void 0,E=void 0,y=void 0,T=void 0,S=void 0;function A(){m&&b();for(var e=0;e<y.length;e++)I(y[e]);r.trigger(d.TEARDOWN_COMPLETE)}function I(e){try{m[h.cancelKeyRequest](v.systemString,e.sessionID)}catch(t){r.trigger(d.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.sessionID+") "+t.message})}}function R(e,t){if(t&&e){for(var n=e.length,r=0;r<n;r++)if(e[r].sessionID==t)return e[r];return null}return null}function b(){m.removeEventListener(h.keyerror,S),m.removeEventListener(h.needkey,S),m.removeEventListener(h.keymessage,S),m.removeEventListener(h.keyadded,S)}return t={getAllInitData:function(){for(var e=[],t=0;t<E.length;t++)e.push(E[t].initData);for(t=0;t<y.length;t++)e.push(y[t].initData);return e},requestKeySystemAccess:function(e){for(var t=(t=m)||document.createElement("video"),n=!1,a=0;a<e.length;a++)for(var i=e[a].ks.systemString,o=e[a].configs,s=null,f=0;f<o.length;f++){var c=o[f].videoCapabilities;if(c&&0!==c.length){s=[];for(var h=0;h<c.length;h++)""!==t.canPlayType(c[h].contentType,i)&&s.push(c[h])}if(s&&(!s||0!==s.length)){n=!0;var p=new u.default(null,s),g=_.getKeySystemBySystemString(i);r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{data:new l.default(g,p)});break}}n||r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return v},selectKeySystem:function(e){v=e.keySystem,r.trigger(d.INTERNAL_KEY_SYSTEM_SELECTED)},setMediaElement:function(e){if(m!==e){if(m){b();for(var t=0;t<y.length;t++)I(y[t]);y=[]}(m=e)&&(m.addEventListener(h.keyerror,S),m.addEventListener(h.needkey,S),m.addEventListener(h.keymessage,S),m.addEventListener(h.keyadded,S),r.trigger(d.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(e){if(!v)throw new Error("Can not create sessions until you have selected a key system");if(T||0===y.length){var t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return E.push(t),m[h.generateKeyRequest](v.systemString,new Uint8Array(e)),t}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(e,t){var n=e.sessionID;if(_.isClearKey(v))for(var r=0;r<t.keyPairs.length;r++)m[h.addKey](v.systemString,t.keyPairs[r].key,t.keyPairs[r].keyID,n);else m[h.addKey](v.systemString,new Uint8Array(t),new Uint8Array(e.initData),n)},closeKeySession:I,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:A,reset:A},g=c.getLogger(t),E=[],y=[],_=(v=m=null,a.default)(n).getInstance(),S={handleEvent:function(e){var t,n=null;switch(e.type){case h.needkey:var a=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;r.trigger(d.NEED_KEY,{key:new i.default(a,"cenc")});break;case h.keyerror:if(n=(n=R(y,e.sessionId))||R(E,e.sessionId)){var u=f.default.MEDIA_KEYERR_CODE,l="";switch(e.errorCode.code){case 1:u=f.default.MEDIA_KEYERR_UNKNOWN_CODE,l+="MEDIA_KEYERR_UNKNOWN - "+f.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:u=f.default.MEDIA_KEYERR_CLIENT_CODE,l+="MEDIA_KEYERR_CLIENT - "+f.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:u=f.default.MEDIA_KEYERR_SERVICE_CODE,l+="MEDIA_KEYERR_SERVICE - "+f.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:u=f.default.MEDIA_KEYERR_OUTPUT_CODE,l+="MEDIA_KEYERR_OUTPUT - "+f.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:u=f.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,l+="MEDIA_KEYERR_HARDWARECHANGE - "+f.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:u=f.default.MEDIA_KEYERR_DOMAIN_CODE,l+="MEDIA_KEYERR_DOMAIN - "+f.default.MEDIA_KEYERR_DOMAIN_MESSAGE}l+="  System Code = "+e.systemCode,r.trigger(d.KEY_ERROR,{data:new o.default(u,l,n)})}else g.error("No session token found for key error");break;case h.keyadded:(n=(n=R(y,e.sessionId))||R(E,e.sessionId))?(g.debug("DRM: Key added."),r.trigger(d.KEY_ADDED,{data:n})):g.debug("No session token found for key added");break;case h.keymessage:(T=null!==e.sessionId&&void 0!==e.sessionId)?!(n=R(y,e.sessionId))&&0<E.length&&(n=E.shift(),y.push(n),n.sessionID=e.sessionId,r.trigger(d.KEY_SESSION_CREATED,{data:n})):0<E.length&&(n=E.shift(),y.push(n),0!==E.length&&p.error(new o.default(f.default.MEDIA_KEY_MESSAGE_ERROR_CODE,f.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),n?(t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message,n.keyMessage=t,r.trigger(d.INTERNAL_KEY_MESSAGE,{data:new s.default(n,t,e.defaultURL)})):g.warn("No session token found for key message")}}},t}d.__dashjs_factory_name="ProtectionModel_01b",n.default=dashjs.FactoryMaker.getClassFactory(d),t.exports=n.default},{164:164,169:169,178:178,180:180,181:181,183:183,225:225}],171:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(164)),i=r(e(183)),o=r(e(169)),s=r(e(225)),u=r(e(178)),l=r(e(180)),f=r(e(110));function d(e){e=e||{};var t,n=this.context,r=e.eventBus,d=e.events,c=e.debug,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,E=void 0;function y(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function T(e){for(var t=0;t<v.length;t++)if(v[t]===e){(0,Z.default)(v).call(v,t,1);break}}function S(e){var t=void 0,n=void 0;return e&&0<e.length&&(e[0]&&("string"==typeof e[0]?t=e[0]:n=e[0]),e[1]&&("string"==typeof e[1]?t=e[1]:n=e[1])),{status:t,keyId:n}}function I(e,t,n,a){var i={session:e,initData:t,sessionId:a,handleEvent:function(e){var t;switch(e.type){case"keystatuseschange":r.trigger(d.KEY_STATUSES_CHANGED,{data:this}),(0,A.default)(t=e.target.keyStatuses).call(t,(function(){var e=S(arguments);switch(e.status){case"expired":r.trigger(d.INTERNAL_KEY_STATUS_CHANGED,{error:new s.default(o.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,o.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)});break;default:r.trigger(d.INTERNAL_KEY_STATUS_CHANGED,e)}}));break;case"message":var n=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;r.trigger(d.INTERNAL_KEY_MESSAGE,{data:new u.default(this,n,void 0,e.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getUsable:function(){var t,n=!1;return(0,A.default)(t=e.keyStatuses).call(t,(function(){"usable"===S(arguments).status&&(n=!0)})),n},getSessionType:function(){return n}};return e.addEventListener("keystatuseschange",i),e.addEventListener("message",i),e.closed.then((function(){T(i),h.debug("DRM: Session closed.  SessionID = "+i.getSessionID()),r.trigger(d.KEY_SESSION_CLOSED,{data:i.getSessionID()})})),v.push(i),i}return t={getAllInitData:function(){for(var e=[],t=0;t<v.length;t++)v[t].initData&&e.push(v[t].initData);return e},requestKeySystemAccess:function(e){!function e(t,n){void 0!==navigator.requestMediaKeySystemAccess&&"function"==typeof navigator.requestMediaKeySystemAccess?function(n){var a=t[n].ks,i=t[n].configs,o=a.systemString;o===f.default.PLAYREADY_KEYSTEM_STRING&&"required"===i[0].persistentState&&(o+=".recommendation"),navigator.requestMediaKeySystemAccess(o,i).then((function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,n=new l.default(a,t);n.mksa=e,r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{data:n})})).catch((function(a){++n<t.length?e(t,n):r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! "+a.message})}))}(n):r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Insecure origins are not allowed"})}(e,0)},getKeySystem:function(){return p},selectKeySystem:function(e){e.mksa.createMediaKeys().then((function(t){p=e.keySystem,m=t,g?g.setMediaKeys(m).then((function(){r.trigger(d.INTERNAL_KEY_SYSTEM_SELECTED)})):r.trigger(d.INTERNAL_KEY_SYSTEM_SELECTED)})).catch((function(){r.trigger(d.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})}))},setMediaElement:function(e){g!==e&&(g&&(g.removeEventListener("encrypted",_),g.setMediaKeys&&g.setMediaKeys(null)),(g=e)&&(g.addEventListener("encrypted",_),g.setMediaKeys&&m&&g.setMediaKeys(m)))},setServerCertificate:function(e){if(!p||!m)throw new Error("Can not set server certificate until you have selected a key system");m.setServerCertificate(e).then((function(){h.info("DRM: License server certificate successfully updated."),r.trigger(d.SERVER_CERTIFICATE_UPDATED)})).catch((function(e){r.trigger(d.SERVER_CERTIFICATE_UPDATED,{error:new s.default(o.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,o.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+e.name)})}))},createKeySession:function(e,t,n){if(!p||!m)throw new Error("Can not create sessions until you have selected a key system");var a=m.createSession(n),i=I(a,e,n),u=this.getKeySystem().systemString===f.default.CLEARKEY_KEYSTEM_STRING&&t&&t.clearkeys?"keyids":"cenc";a.generateRequest(u,e).then((function(){h.debug("DRM: Session created.  SessionID = "+i.getSessionID()),r.trigger(d.KEY_SESSION_CREATED,{data:i})})).catch((function(e){T(i),r.trigger(d.KEY_SESSION_CREATED,{data:null,error:new s.default(o.default.KEY_SESSION_CREATED_ERROR_CODE,o.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+e.name)})}))},updateKeySession:function(e,t){var n=e.session;E.isClearKey(p)&&(t=t.toJWK()),n.update(t).catch((function(t){r.trigger(d.KEY_ERROR,{data:new s.default(o.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+t.name,e)})}))},loadKeySession:function(e,t,n){if(!p||!m)throw new Error("Can not load sessions until you have selected a key system");for(var a=0;a<v.length;a++)if(e===v[a].sessionId)return void h.warn("DRM: Ignoring session ID because we have already seen it!");var i=m.createSession(n),u=I(i,t,n,e);i.load(e).then((function(t){t?(h.debug("DRM: Session loaded.  SessionID = "+u.getSessionID()),r.trigger(d.KEY_SESSION_CREATED,{data:u})):(T(u),r.trigger(d.KEY_SESSION_CREATED,{data:null,error:new s.default(o.default.KEY_SESSION_CREATED_ERROR_CODE,o.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+e+")")}))})).catch((function(t){T(u),r.trigger(d.KEY_SESSION_CREATED,{data:null,error:new s.default(o.default.KEY_SESSION_CREATED_ERROR_CODE,o.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+e+")! "+t.name)})}))},removeKeySession:function(e){e.session.remove().then((function(){h.debug("DRM: Session removed.  SessionID = "+e.getSessionID()),r.trigger(d.KEY_SESSION_REMOVED,{data:e.getSessionID()})}),(function(t){r.trigger(d.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionID()+"). "+t.name})}))},closeKeySession:function(e){y(e).catch((function(t){T(e),r.trigger(d.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionID()+") "+t.name})}))},stop:function(){for(var e=void 0,t=0;t<v.length;t++)(e=v[t]).getUsable()||y(e).catch((function(){T(e)}))},reset:function(){var e=v.length,t=void 0;0!==e?function(){for(var n=function(e){T(e),0===v.length&&(g?(g.removeEventListener("encrypted",_),g.setMediaKeys(null).then((function(){r.trigger(d.TEARDOWN_COMPLETE)}))):r.trigger(d.TEARDOWN_COMPLETE))},a=0;a<e;a++)!function(e){t.session.closed.then((function(){n(e)})),y(t).catch((function(){n(e)}))}(t=v[a])}():r.trigger(d.TEARDOWN_COMPLETE)}},h=c.getLogger(t),v=[],E=(m=g=p=null,a.default)(n).getInstance(),_={handleEvent:function(e){switch(e.type){case"encrypted":var t;e.initData&&(t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData,r.trigger(d.NEED_KEY,{key:new i.default(t,e.initDataType)}))}}},t}d.__dashjs_factory_name="ProtectionModel_21Jan2015",n.default=dashjs.FactoryMaker.getClassFactory(d),t.exports=n.default},{110:110,164:164,169:169,178:178,180:180,183:183,225:225}],172:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(164)),i=r(e(183)),o=r(e(225)),s=r(e(169)),u=r(e(178)),l=r(e(181)),f=r(e(180));function d(e){e=e||{};var t,n=this.context,r=e.eventBus,d=e.events,c=e.debug,h=e.api,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,E=void 0,y=void 0,T=void 0;function S(){try{for(var e=0;e<E.length;e++)A(E[e]);g&&g.removeEventListener(h.needkey,y),r.trigger(d.TEARDOWN_COMPLETE)}catch(e){r.trigger(d.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function A(e){var t=e.session;t.removeEventListener(h.error,e),t.removeEventListener(h.message,e),t.removeEventListener(h.ready,e),t.removeEventListener(h.close,e);for(var n=0;n<E.length;n++)if(E[n]===e){(0,Z.default)(E).call(E,n,1);break}t[h.release]()}function I(){function e(){g.removeEventListener("loadedmetadata",t),g[h.setMediaKeys](v),r.trigger(d.VIDEO_ELEMENT_SELECTED)}var t=null;1<=g.readyState?e():(t=(0,x.default)(e).call(e,this),g.addEventListener("loadedmetadata",t))}return t={getAllInitData:function(){for(var e=[],t=0;t<E.length;t++)e.push(E[t].initData);return e},requestKeySystemAccess:function(e){for(var t=!1,n=0;n<e.length;n++)for(var a=e[n].ks.systemString,i=e[n].configs,o=null,s=null,u=0;u<i.length;u++){var c=i[u].audioCapabilities,p=i[u].videoCapabilities;if(c&&0!==c.length){o=[];for(var g=0;g<c.length;g++)window[h.MediaKeys].isTypeSupported(a,c[g].contentType)&&o.push(c[g])}if(p&&0!==p.length){s=[];for(var m=0;m<p.length;m++)window[h.MediaKeys].isTypeSupported(a,p[m].contentType)&&s.push(p[m])}if(!(!o&&!s||o&&0===o.length||s&&0===s.length)){t=!0;var v=new l.default(o,s),_=T.getKeySystemBySystemString(a);r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{data:new f.default(_,v)});break}}t||r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return m},selectKeySystem:function(e){try{v=e.mediaKeys=new window[h.MediaKeys](e.keySystem.systemString),m=e.keySystem,_=e,g&&I(),r.trigger(d.INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){r.trigger(d.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+m.systemString+")! Could not create MediaKeys -- TODO"})}},setMediaElement:function(e){g!==e&&(g&&g.removeEventListener(h.needkey,y),(g=e)&&(g.addEventListener(h.needkey,y),v&&I()))},createKeySession:function(e,t,n,a){if(!m||!v||!_)throw new Error("Can not create sessions until you have selected a key system");var i=null;if(_.ksConfiguration.videoCapabilities&&0<_.ksConfiguration.videoCapabilities.length&&(i=_.ksConfiguration.videoCapabilities[0]),null===i&&_.ksConfiguration.audioCapabilities&&0<_.ksConfiguration.audioCapabilities.length&&(i=_.ksConfiguration.audioCapabilities[0]),null===i)throw new Error("Can not create sessions for unknown content types.");var l=i.contentType,f=v.createSession(l,new Uint8Array(e),a?new Uint8Array(a):null),c={session:f,initData:e,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case h.error:r.trigger(d.KEY_ERROR,{data:new o.default(s.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case h.message:var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;r.trigger(d.INTERNAL_KEY_MESSAGE,{data:new u.default(this,t,e.destinationURL)});break;case h.ready:p.debug("DRM: Key added."),r.trigger(d.KEY_ADDED);break;case h.close:p.debug("DRM: Session closed.  SessionID = "+this.getSessionID()),r.trigger(d.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}};f.addEventListener(h.error,c),f.addEventListener(h.message,c),f.addEventListener(h.ready,c),f.addEventListener(h.close,c),E.push(c),p.debug("DRM: Session created.  SessionID = "+c.getSessionID()),r.trigger(d.KEY_SESSION_CREATED,{data:c})},updateKeySession:function(e,t){var n=e.session;T.isClearKey(m)?n.update(new Uint8Array(t.toJWK())):n.update(new Uint8Array(t))},closeKeySession:A,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:S,reset:S},p=c.getLogger(t),E=[],T=(_=v=m=g=null,a.default)(n).getInstance(),y={handleEvent:function(e){switch(e.type){case h.needkey:var t;e.initData&&(t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData,r.trigger(d.NEED_KEY,{key:new i.default(t,"cenc")}))}}},t}d.__dashjs_factory_name="ProtectionModel_3Feb2014",n.default=dashjs.FactoryMaker.getClassFactory(d),t.exports=n.default},{164:164,169:169,178:178,180:180,181:181,183:183,225:225}],173:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(179)),i=r(e(177));function o(){return{getServerURLFromMessage:function(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var r=0;r<n.kids.length;r++)e+=n.kids[r]+"&";return e.substring(0,e.length-1)},getHTTPMethod:function(){return"GET"},getResponseType:function(){return"json"},getLicenseMessage:function(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],n=0;n<(0,u.default)(e).length;n++){var r=(0,u.default)(e)[n],o=r.kid.replace(/=/g,""),s=r.k.replace(/=/g,"");t.push(new a.default(o,s))}return new i.default(t)},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}o.__dashjs_factory_name="ClearKey",n.default=dashjs.FactoryMaker.getSingletonFactory(o),t.exports=n.default},{177:177,179:179}],174:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(110))&&r.__esModule?r:{default:r};function i(e){var t=(e=e||{}).BASE64,n={};return n[a.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(e){return t.decodeArray(e.license)},getErrorResponse:function(e){return e}},n[a.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(e){return n[e].responseType},getLicenseMessage:function(e,r){return function(){if(!t||!t.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),n[r].getLicenseMessage(e)},getErrorResponse:function(e,t){return n[t].getErrorResponse(e)}}}i.__dashjs_factory_name="DRMToday",n.default=dashjs.FactoryMaker.getSingletonFactory(i),t.exports=n.default},{110:110}],175:[function(e,t,n){function r(){var e="http://schemas.xmlsoap.org/soap/envelope/";function t(e){var t=String.fromCharCode.apply(null,new Uint8Array(e));return decodeURIComponent(escape(t))}return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(n){return function(n){if(window.DOMParser){var r=t(n),a=(new window.DOMParser).parseFromString(r,"text/xml"),i=a?a.getElementsByTagNameNS(e,"Envelope")[0]:null,o=i?i.getElementsByTagNameNS(e,"Body")[0]:null;if(o&&o.getElementsByTagNameNS(e,"Fault")[0])return null}return n}.call(this,n)},getErrorResponse:function(n){return function(n){var r,a,i="",o="",s="";if(window.DOMParser){var u=t(n),l=(new window.DOMParser).parseFromString(u,"text/xml"),f=l?l.getElementsByTagNameNS(e,"Envelope")[0]:null,d=f?f.getElementsByTagNameNS(e,"Body")[0]:null,c=d?d.getElementsByTagNameNS(e,"Fault")[0]:null,h=c?c.getElementsByTagName("detail")[0]:null,p=h?h.getElementsByTagName("Exception")[0]:null,g=null;if(null===c)return u;i=(g=c.getElementsByTagName("faultstring")[0].firstChild)?g.nodeValue:null,null!==p&&(o=(g=p.getElementsByTagName("StatusCode")[0])?g.firstChild.nodeValue:null,r=(s=(g=p.getElementsByTagName("Message")[0])?g.firstChild.nodeValue:null)?(0,Y.default)(s).call(s,"[")+1:-1,a=s?(0,W.default)(s).call(s,"]"):-1,s=s?s.substring(r,a):"")}var m="code: "+o+", name: "+i;return s&&(m+=", message: "+s),m}.call(this,n)}}}(0,X.default)(n,"__esModule",{value:!0}),r.__dashjs_factory_name="PlayReady",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{}],176:[function(e,t,n){function r(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}(0,X.default)(n,"__esModule",{value:!0}),r.__dashjs_factory_name="Widevine",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{}],177:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}(0,X.default)(n,"__esModule",{value:!0});var a=(function(e,t,n){t&&r(e.prototype,t)}(i,[{key:"toJWK",value:function(){var e=void 0,t=this.keyPairs.length,n={keys:[]};for(e=0;e<t;e++){var r={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};(0,u.default)(n).push(r)}this.type&&(n.type=this.type);var a=(0,$.default)(n),i=a.length,o=new ArrayBuffer(i),s=new Uint8Array(o);for(e=0;e<i;e++)s[e]=a.charCodeAt(e);return o}}]),i);function i(e,t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t&&"persistent"!==t&&"temporary"!==t)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=e,this.type=t}n.default=a,t.exports=n.default},{}],178:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sessionToken=t,this.message=n,this.defaultURL=r,this.messageType=a||"license-request"},t.exports=n.default},{}],179:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keyID=t,this.key=n},t.exports=n.default},{}],180:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keySystem=t,this.ksConfiguration=n},t.exports=n.default},{}],181:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(t,n,r,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initDataTypes=["cenc"],t&&t.length&&(this.audioCapabilities=t),n&&n.length&&(this.videoCapabilities=n),this.distinctiveIdentifier=r,this.persistentState=a,this.sessionTypes=i},t.exports=n.default},{}],182:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.contentType=t,this.robustness=n},t.exports=n.default},{}],183:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initData=t,this.initDataType=n},t.exports=n.default},{}],184:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r};function i(){var e=[],t=0,n=0;return{push:function(r,a){var i=a&&a.droppedVideoFrames?a.droppedVideoFrames:0,o=a&&a.totalVideoFrames?a.totalVideoFrames:0,s=i-t;t=i;var u=o-n;n=o,isNaN(r)||(e[r]?(e[r].droppedVideoFrames+=s,e[r].totalVideoFrames+=u):e[r]={droppedVideoFrames:s,totalVideoFrames:u})},getFrameHistory:function(){return e},reset:function(r){e=[],t=r.droppedVideoFrames,n=r.totalVideoFrames}}}i.__dashjs_factory_name="DroppedFramesHistory";var o=a.default.getClassFactory(i);n.default=o,t.exports=n.default},{47:47}],185:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r};function i(e){var t=(e=e||{}).abrController,n=e.switchHistory,r=e.droppedFramesHistory,a=e.currentRequest,i=e.useBufferOccupancyABR,o=e.streamProcessor?e.streamProcessor.getScheduleController():null,s=e.streamProcessor?e.streamProcessor.getRepresentationInfo():null;function u(){return s?s.mediaInfo:null}return{getMediaType:function(){var e=u();return e?e.type:null},getMediaInfo:u,getDroppedFramesHistory:function(){return r},getCurrentRequest:function(){return a},getSwitchHistory:function(){return n},getStreamInfo:function(){var e=u();return e?e.streamInfo:null},getScheduleController:function(){return o},getAbrController:function(){return t},getRepresentationInfo:function(){return s},useBufferOccupancyABR:function(){return i}}}i.__dashjs_factory_name="RulesContext",n.default=a.default.getClassFactory(i),t.exports=n.default},{47:47}],186:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r},i={DEFAULT:.5,STRONG:1,WEAK:0};function o(e,t,n){var r;return{quality:void 0===e?-1:e,reason:void 0===t?null:t,priority:(r=n)!==i.DEFAULT&&r!==i.STRONG&&r!==i.WEAK?i.DEFAULT:r}}o.__dashjs_factory_name="SwitchRequest";var s=a.default.getClassFactory(o);s.NO_CHANGE=-1,s.PRIORITY=i,a.default.updateClassFactory(o.__dashjs_factory_name,s),n.default=s,t.exports=n.default},{47:47}],187:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(186));function o(){var e=[],t=[];return{push:function(n){n.newValue===i.default.NO_CHANGE&&(n.newValue=n.oldValue),e[n.oldValue]||(e[n.oldValue]={noDrops:0,drops:0,dropSize:0});var r,a=n.newValue-n.oldValue,o=a<0?1:0,s=o?-a:0,u=o?0:1;e[n.oldValue].drops+=o,e[n.oldValue].dropSize+=s,e[n.oldValue].noDrops+=u,t.push({idx:n.oldValue,noDrop:u,drop:o,dropSize:s}),8<t.length&&(r=t.shift(),e[r.idx].drops-=r.drop,e[r.idx].dropSize-=r.dropSize,e[r.idx].noDrops-=r.noDrop)},getSwitchRequests:function(){return e},reset:function(){e=[],t=[]}}}o.__dashjs_factory_name="SwitchRequestHistory";var s=a.default.getClassFactory(o);n.default=s,t.exports=n.default},{186:186,47:47}],188:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(47));function o(e){var t=(e=e||{}).settings,n=void 0,r=void 0,i=void 0,o=void 0,s=void 0;function u(e,t,n,r){var a=Math.pow(.5,n/r.fast);e.fastEstimate=(1-a)*t+a*e.fastEstimate;var i=Math.pow(.5,n/r.slow);e.slowEstimate=(1-i)*t+i*e.slowEstimate,e.totalWeight+=n}function l(e,u,l){var f,d,c,h,p;return t.get().streaming.abr.movingAverageMethod!==a.default.MOVING_AVERAGE_SLIDING_WINDOW?function(e,t){var n=e?s.throughputHalfLife:s.latencyHalfLife,r=e?i[t]:o[t];if(!r||r.totalWeight<=0)return NaN;var a=r.fastEstimate/(1-Math.pow(.5,r.totalWeight/n.fast)),u=r.slowEstimate/(1-Math.pow(.5,r.totalWeight/n.slow));return e?Math.min(a,u):Math.max(a,u)}(e,u):(h=function(e,t,a){var i=void 0,o=void 0;o=e?(i=n[t],a?3:4):(i=r[t],4);if(i){if(o>=i.length)o=i.length;else if(e)for(var s=1;s<o;++s){var u=i[i.length-s]/i[i.length-s-1];if((1.3<=u||u<=1/1.3)&&(o+=1)===i.length)break}}else o=0;return o}(d=e,c=u,l),p=(d?n:r)[c],0!==h&&p&&0!==p.length?(0,S.default)(f=p=(0,z.default)(p).call(p,-h)).call(f,(function(e,t){return e+t}))/p.length:NaN)}function f(e,t){return l(!0,e,t)}function d(e){n[e]=n[e]||[],r[e]=r[e]||[],i[e]=i[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0},o[e]=o[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function c(){n={},r={},i={},o={}}var h={push:function(e,l,f){if(l.trace&&l.trace.length){var c,h,p,g,m,v=l.tresponse.getTime()-l.trequest.getTime()||1,_=l._tfinish.getTime()-l.tresponse.getTime()||1,E=(0,S.default)(c=l.trace).call(c,(function(e,t){return e+t.b[0]}),0),y=t.get().streaming.lowLatencyEnabled?(0,S.default)(h=l.trace).call(h,(function(e,t){return e+t.d}),0):f?_:v+_,T=Math.round(8*E/y);if(d(e),m=_,(g=e)===a.default.VIDEO?m<t.get().streaming.cacheLoadThresholds[a.default.VIDEO]:g===a.default.AUDIO&&m<t.get().streaming.cacheLoadThresholds[a.default.AUDIO]){if(0<n[e].length&&!n[e].hasCachedEntries)return;n[e].hasCachedEntries=!0}else n[e]&&n[e].hasCachedEntries&&(delete n[p=e],delete r[p],delete i[p],delete o[p],d(p));n[e].push(T),20<n[e].length&&n[e].shift(),r[e].push(v),20<r[e].length&&r[e].shift(),u(i[e],T,.001*_,s.throughputHalfLife),u(o[e],v,1,s.latencyHalfLife)}},getAverageThroughput:f,getSafeAverageThroughput:function(e,n){var r=f(e,n);return isNaN(r)||(r*=t.get().streaming.abr.bandwidthSafetyFactor),r},getAverageLatency:function(e){return l(!1,e)},reset:c};return s={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},c(),h}o.__dashjs_factory_name="ThroughputHistory",n.default=i.default.getClassFactory(o),t.exports=n.default},{108:108,47:47}],189:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(195)),i=r(e(193)),o=r(e(190)),s=r(e(192)),u=r(e(194)),l=r(e(191)),f=r(e(47)),d=r(e(186)),c="qualitySwitchRules",h="abandonFragmentRules";function p(e){e=e||{};var t=this.context,n=e.mediaPlayerModel,r=e.dashMetrics,f=e.settings,p=void 0,g=void 0;function m(e){return(0,I.default)(e).call(e,(function(e){return e.quality>d.default.NO_CHANGE}))}function v(e){var n,r,a={},i=void 0,o=void 0,s=void 0;if(0!==e.length){for(a[d.default.PRIORITY.STRONG]=d.default.NO_CHANGE,a[d.default.PRIORITY.WEAK]=d.default.NO_CHANGE,a[d.default.PRIORITY.DEFAULT]=d.default.NO_CHANGE,i=0,n=e.length;i<n;i+=1)(r=e[i]).quality!==d.default.NO_CHANGE&&(a[r.priority]=a[r.priority]>d.default.NO_CHANGE?Math.min(a[r.priority],r.quality):r.quality);return a[d.default.PRIORITY.WEAK]!==d.default.NO_CHANGE&&(o=a[d.default.PRIORITY.WEAK]),a[d.default.PRIORITY.DEFAULT]!==d.default.NO_CHANGE&&(o=a[d.default.PRIORITY.DEFAULT]),a[d.default.PRIORITY.STRONG]!==d.default.NO_CHANGE&&(o=a[d.default.PRIORITY.STRONG]),o!==d.default.NO_CHANGE&&(s=o),(0,d.default)(t).create(s)}}return{initialize:function(){var e;p=[],g=[],f.get().streaming.abr.useDefaultABRRules&&(p.push((0,l.default)(t).create({dashMetrics:r,mediaPlayerModel:n,settings:f})),p.push((0,a.default)(t).create({dashMetrics:r})),p.push((0,i.default)(t).create({dashMetrics:r})),p.push((0,u.default)(t).create()),p.push((0,s.default)(t).create()),g.push((0,o.default)(t).create({dashMetrics:r,mediaPlayerModel:n,settings:f}))),(0,A.default)(e=n.getABRCustomRules()).call(e,(function(e){e.type===c&&p.push(e.rule(t).create()),e.type===h&&g.push(e.rule(t).create())}))},reset:function(){var e;(0,A.default)(e=[p,g]).call(e,(function(e){e&&e.length&&(0,A.default)(e).call(e,(function(e){return e.reset&&e.reset()}))})),p=[],g=[]},getMaxQuality:function(e){return v(m((0,C.default)(p).call(p,(function(t){return t.getMaxIndex(e)}))))||(0,d.default)(t).create()},shouldAbandonFragment:function(e){return v(m((0,C.default)(g).call(g,(function(t){return t.shouldAbandon(e)}))))||(0,d.default)(t).create()}}}p.__dashjs_factory_name="ABRRulesCollection";var g=f.default.getClassFactory(p);g.QUALITY_SWITCH_RULES=c,g.ABANDON_FRAGMENT_RULES=h,f.default.updateSingletonFactory(p.__dashjs_factory_name,g),n.default=g,t.exports=n.default},{186:186,190:190,191:191,192:192,193:193,194:194,195:195,47:47}],190:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(186)),i=r(e(47)),o=r(e(45));function s(e){e=e||{};var t,n=this.context,r=e.mediaPlayerModel,i=e.dashMetrics,u=e.settings,l=void 0,f=void 0,d=void 0,c=void 0;function h(){f={},d={},c=[]}return t={shouldAbandon:function(e){var t=(0,a.default)(n).create(a.default.NO_CHANGE,{name:s.__dashjs_factory_name});if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getCurrentRequest")&&e.hasOwnProperty("getRepresentationInfo")&&e.hasOwnProperty("getAbrController")))return t;var o,h,p,g,m=e.getMediaInfo(),v=e.getMediaType(),_=e.getCurrentRequest();if(!isNaN(_.index)){if(p=v,g=_.index,f[p]=f[p]||{},f[p][g]=f[p][g]||{},r.getStableBufferTime()<i.getCurrentBufferLevel(v))return t;var E=f[v][_.index];if(null===E||null===_.firstByteDate||d.hasOwnProperty(E.id))return t;if(void 0===E.firstByteTime&&(c[v]=[],E.firstByteTime=_.firstByteDate.getTime(),E.segmentDuration=_.duration,E.bytesTotal=_.bytesTotal,E.id=_.index),E.bytesLoaded=_.bytesLoaded,E.elapsedTime=(new Date).getTime()-E.firstByteTime,0<E.bytesLoaded&&0<E.elapsedTime&&(o=v,h=Math.round(8*E.bytesLoaded/E.elapsedTime),c[o]=c[o]||[],c[o].push(h)),5<=c[v].length&&500<E.elapsedTime&&E.bytesLoaded<E.bytesTotal){var y,T,A,I,R,b,w,M=(0,S.default)(y=c[v]).call(y,(function(e,t){return e+t}),0);if(E.measuredBandwidthInKbps=Math.round(M/c[v].length),E.estimatedTimeOfDownload=+(8*E.bytesTotal/E.measuredBandwidthInKbps/1e3).toFixed(2),E.estimatedTimeOfDownload<1.8*E.segmentDuration||0===e.getRepresentationInfo().quality)return t;d.hasOwnProperty(E.id)||(T=e.getAbrController(),A=E.bytesTotal-E.bytesLoaded,I=T.getBitrateList(m),R=T.getQualityForBitrate(m,E.measuredBandwidthInKbps*u.get().streaming.abr.bandwidthSafetyFactor),w=void 0!==(b=T.getMinAllowedIndexFor(v))?Math.max(b,R):R,E.bytesTotal*I[w].bitrate/I[T.getQualityFor(v)].bitrate<A&&(t.quality=w,t.reason.throughput=E.measuredBandwidthInKbps,t.reason.fragmentID=E.id,d[E.id]=E,l.debug("["+v+"] frag id",E.id," is asking to abandon and switch to quality to ",w," measured bandwidth was",E.measuredBandwidthInKbps),delete f[v][E.id]))}else E.bytesLoaded===E.bytesTotal&&delete f[v][E.id]}return t},reset:h},l=(0,o.default)(n).getInstance().getLogger(t),h(),t}s.__dashjs_factory_name="AbandonRequestsRule",n.default=i.default.getClassFactory(s),t.exports=n.default},{186:186,45:45,47:47}],191:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(109)),i=r(e(186)),o=r(e(47)),s=e(241),u=r(e(46)),l=r(e(54)),f=r(e(45));function d(e){e=e||{};var t=this.context,n=e.dashMetrics,r=e.mediaPlayerModel,o=(0,u.default)(t).getInstance(),d=void 0,h=void 0,p=void 0;function g(e,t,n){var r=(0,S.default)(n).call(n,(function(e,t,r){return t>n[e]?r:e}),0);if(0===r)return null;var a=Math.max(e,10+2*t.length),i=(n[r]-1)/(a/10-1);return{gp:i,Vp:10/i}}function m(e){var t,n,a={},i=(0,C.default)(t=e.getMediaInfo().bitrateList).call(t,(function(e){return e.bandwidth})),o=(0,C.default)(n=o=(0,C.default)(i).call(i,(function(e){return Math.log(e)}))).call(n,(function(e){return e-o[0]+1})),s=r.getStableBufferTime(),u=g(s,i,o);return u?(a.state=1,a.bitrates=i,a.utilities=o,a.stableBufferTime=s,a.Vp=u.Vp,a.gp=u.gp,a.lastQuality=0,v(a)):a.state=0,a}function v(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN}function _(e,t){var a,i,o,s=r.getStableBufferTime();e.stableBufferTime!==s&&((a=g(s,e.bitrates,e.utilities)).Vp===e.Vp&&a.gp===e.gp||(o=(i=n.getCurrentBufferLevel(t))+e.placeholderBuffer,o-=10,o*=a.Vp/e.Vp,o+=10,e.stableBufferTime=s,e.Vp=a.Vp,e.gp=a.gp,e.placeholderBuffer=Math.max(0,o-i)))}function E(e,t){return e.Vp*(e.utilities[t]+e.gp)}function y(e,t){for(var n,r,a,i=e.bitrates[t],o=e.utilities[t],s=0,u=t-1;0<=u;--u)e.utilities[u]<e.utilities[t]&&(n=e.bitrates[u],r=e.utilities[u],a=e.Vp*(e.gp+(i*r-n*o)/(i-n)),s=Math.max(s,a));return s}function T(){for(var e in p)p.hasOwnProperty(e)&&2===p[e].state&&(p[e].placeholderBuffer=0)}function A(){for(var e in p){var t;!p.hasOwnProperty(e)||0!==(t=p[e]).state&&(t.state=1,v(t))}}function I(){}function R(e){var t,n;e&&e.chunk&&e.chunk.mediaInfo&&(t=p[e.chunk.mediaInfo.type])&&0!==t.state&&(n=e.chunk.start,isNaN(t.mostAdvancedSegmentStart)||n>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=n,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=n,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,w(t,e.chunk.mediaInfo.type))}function b(e){var t;e&&e.metric===a.default.HTTP_REQUEST&&e.value&&e.value.type===s.HTTPRequest.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length&&(t=p[e.mediaType])&&0!==t.state&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),w(t,e.mediaType))}function w(e,t){var r,a,i;isNaN(e.lastSegmentStart)||isNaN(e.lastSegmentRequestTimeMs)||isNaN(e.placeholderBuffer)||(e.placeholderBuffer*=.99,isNaN(e.lastSegmentFinishTimeMs)||(r=n.getCurrentBufferLevel(t)+.001*(e.lastSegmentFinishTimeMs-e.lastSegmentRequestTimeMs),a=E(e,e.lastQuality),i=Math.max(0,a-r),e.placeholderBuffer=Math.min(i,e.placeholderBuffer)),e.lastSegmentWasReplacement&&!isNaN(e.lastSegmentDurationS)&&(e.placeholderBuffer+=e.lastSegmentDurationS),e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN)}function M(e){var t;!e||(t=p[e.mediaType])&&0!==t.state&&(t.abrQuality=e.newQuality)}function D(e){var t,r,a,i;!e||(t=p[e.mediaType])&&0!==t.state&&(r=n.getCurrentBufferLevel(e.mediaType),void 0,a=0<t.abrQuality?y(t,t.abrQuality):10,i=Math.max(0,a-r),t.placeholderBuffer=Math.min(t.placeholderBuffer,i))}function N(){p={}}return d={getMaxIndex:function(e){var r=(0,i.default)(t).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getScheduleController")&&e.hasOwnProperty("getStreamInfo")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("useBufferOccupancyABR")))return r;var a=e.getMediaInfo(),o=e.getMediaType(),s=e.getScheduleController(),u=e.getStreamInfo(),l=e.getAbrController(),f=l.getThroughputHistory(),d=u?u.id:null,g=u&&u.manifestInfo&&u.manifestInfo.isDynamic,T=e.useBufferOccupancyABR();if(r.reason=r.reason||{},!T)return r;s.setTimeToLoadDelay(0);var S,A,I,R=(A=(S=e).getMediaType(),(I=p[A])?0!==I.state&&_(I,A):(I=m(S),p[A]=I),I);if(0===R.state)return r;var b,w,M,D,C=n.getCurrentBufferLevel(o),N=f.getAverageThroughput(o,g),O=f.getSafeAverageThroughput(o,g),L=f.getAverageLatency(o),x=void 0;if(r.reason.state=R.state,r.reason.throughput=N,r.reason.latency=L,isNaN(N))return r;switch(R.state){case 1:x=l.getQualityForBitrate(a,O,L),r.quality=x,r.reason.throughput=O,R.placeholderBuffer=Math.max(0,y(R,x)-C),R.lastQuality=x,!isNaN(R.lastSegmentDurationS)&&C>=R.lastSegmentDurationS&&(R.state=2);break;case 2:b=R,w=o,D=(0,c.default)(),isNaN(b.lastSegmentFinishTimeMs)?isNaN(b.lastCallTimeMs)||(M=.001*(D-b.lastCallTimeMs),b.placeholderBuffer+=Math.max(0,M)):(M=.001*(D-b.lastSegmentFinishTimeMs),b.placeholderBuffer+=Math.max(0,M)),b.lastCallTimeMs=D,b.lastSegmentStart=NaN,b.lastSegmentRequestTimeMs=NaN,b.lastSegmentFinishTimeMs=NaN,_(b,w),x=function(e,t){for(var n=e.bitrates.length,r=NaN,a=NaN,i=0;i<n;++i){var o=(e.Vp*(e.utilities[i]+e.gp)-t)/e.bitrates[i];(isNaN(a)||a<=o)&&(a=o,r=i)}return r}(R,C+R.placeholderBuffer);var P=l.getQualityForBitrate(a,O,L);x>R.lastQuality&&P<x&&(x=Math.max(P,R.lastQuality));var F=Math.max(0,C+R.placeholderBuffer-E(R,x));F<=R.placeholderBuffer?(R.placeholderBuffer-=F,F=0):(F-=R.placeholderBuffer,R.placeholderBuffer=0,x<l.getTopQualityIndexFor(o,d)?s.setTimeToLoadDelay(1e3*F):F=0),r.quality=x,r.reason.throughput=N,r.reason.latency=L,r.reason.bufferLevel=C,r.reason.placeholderBuffer=R.placeholderBuffer,r.reason.delay=F,R.lastQuality=x;break;default:h.debug("BOLA ABR rule invoked in bad state."),r.quality=l.getQualityForBitrate(a,O,L),r.reason.state=R.state,r.reason.throughput=O,r.reason.latency=L,R.state=1,v(R)}return r},reset:function(){N(),o.off(l.default.BUFFER_EMPTY,T,d),o.off(l.default.PLAYBACK_SEEKING,A,d),o.off(l.default.PERIOD_SWITCH_STARTED,I,d),o.off(l.default.MEDIA_FRAGMENT_LOADED,R,d),o.off(l.default.METRIC_ADDED,b,d),o.off(l.default.QUALITY_CHANGE_REQUESTED,M,d),o.off(l.default.FRAGMENT_LOADING_ABANDONED,D,d)}},h=(0,f.default)(t).getInstance().getLogger(d),N(),o.on(l.default.BUFFER_EMPTY,T,d),o.on(l.default.PLAYBACK_SEEKING,A,d),o.on(l.default.PERIOD_SWITCH_STARTED,I,d),o.on(l.default.MEDIA_FRAGMENT_LOADED,R,d),o.on(l.default.METRIC_ADDED,b,d),o.on(l.default.QUALITY_CHANGE_REQUESTED,M,d),o.on(l.default.FRAGMENT_LOADING_ABANDONED,D,d),d}d.__dashjs_factory_name="BolaRule",n.default=o.default.getClassFactory(d),t.exports=n.default},{109:109,186:186,241:241,45:45,46:46,47:47,54:54}],192:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(186)),o=r(e(45));function s(){var e,t=this.context,n=void 0;return e={getMaxIndex:function(e){var r=(0,i.default)(t).create();if(!e||!e.hasOwnProperty("getDroppedFramesHistory"))return r;var a=e.getDroppedFramesHistory();if(a){for(var o,s=a.getFrameHistory(),u=0,l=i.default.NO_CHANGE,f=1;f<s.length;f++)if(s[f]&&(u=s[f].droppedVideoFrames,375<(o=s[f].totalVideoFrames)&&.15<u/o)){l=f-1,n.debug("index: "+l+" Dropped Frames: "+u+" Total Frames: "+o);break}return(0,i.default)(t).create(l,{droppedFrames:u})}return r}},n=(0,o.default)(t).getInstance().getLogger(e),e}s.__dashjs_factory_name="DroppedFramesRule",n.default=a.default.getClassFactory(s),t.exports=n.default},{186:186,45:45,47:47}],193:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(46)),i=r(e(54)),o=r(e(47)),s=r(e(45)),u=r(e(186)),l=r(e(108)),f=r(e(109));function d(e){e=e||{};var t=this.context,n=(0,a.default)(t).getInstance(),r=e.dashMetrics,o=void 0,d=void 0,c=void 0;function h(){c={}}function p(){h()}return o={getMaxIndex:function(e){var n=(0,u.default)(t).create();if(!e||!e.hasOwnProperty("getMediaType"))return n;!function(){if(!r||!r.hasOwnProperty("getCurrentBufferLevel")||!r.hasOwnProperty("getCurrentBufferState"))throw new Error(l.default.MISSING_CONFIG_ERROR)}();var a,i,o,s,h,p,g,m=e.getMediaType(),v=r.getCurrentBufferState(m),_=e.getRepresentationInfo().fragmentDuration;return v&&function(e,t){c[e]=c[e]||{};var n=!1;return c[e].firstBufferLoadedEvent?n=!0:t&&t.state===f.default.BUFFER_LOADED&&(c[e].firstBufferLoadedEvent=!0,n=!0),n}(m,v)&&_&&(v.state===f.default.BUFFER_EMPTY?(d.debug("["+m+"] Switch to index 0; buffer is empty."),n.quality=0,n.reason="InsufficientBufferRule: Buffer is empty"):(a=e.getMediaInfo(),o=(i=e.getAbrController()).getThroughputHistory(),s=r.getCurrentBufferLevel(m),h=o.getAverageThroughput(m),p=o.getAverageLatency(m),g=h*(s/_)*.5,n.quality=i.getQualityForBitrate(a,g,p),n.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering")),n},reset:function(){h(),n.off(i.default.PLAYBACK_SEEKING,p,o)}},d=(0,s.default)(t).getInstance().getLogger(o),h(),n.on(i.default.PLAYBACK_SEEKING,p,o),o}d.__dashjs_factory_name="InsufficientBufferRule",n.default=o.default.getClassFactory(d),t.exports=n.default},{108:108,109:109,186:186,45:45,46:46,47:47,54:54}],194:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(45)),o=r(e(186));function s(){var e,t=this.context,n=void 0;return e={getMaxIndex:function(e){for(var r=e?e.getSwitchHistory():null,a=r?r.getSwitchRequests():[],i=0,s=0,u=0,l=(0,o.default)(t).create(),f=0;f<a.length;f++)if(void 0!==a[f]&&(i+=a[f].drops,s+=a[f].noDrops,u+=a[f].dropSize,6<=i+s&&.075<i/s)){l.quality=0<f&&0<a[f].drops?f-1:f,l.reason={index:l.quality,drops:i,noDrops:s,dropSize:u},n.debug("Switch history rule index: "+l.quality+" samples: "+(i+s)+" drops: "+i);break}return l}},n=(0,i.default)(t).getInstance().getLogger(e),e}s.__dashjs_factory_name="SwitchHistoryRule",n.default=a.default.getClassFactory(s),t.exports=n.default},{186:186,45:45,47:47}],195:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(45)),o=r(e(186)),s=r(e(108)),u=r(e(109));function l(e){e=e||{};var t,n=this.context,r=e.dashMetrics,a=void 0;return t={getMaxIndex:function(e){var t=(0,o.default)(n).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("useBufferOccupancyABR")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("getScheduleController")))return t;!function(){if(!r||!r.hasOwnProperty("getCurrentBufferState"))throw new Error(s.default.MISSING_CONFIG_ERROR)}();var i=e.getMediaInfo(),l=e.getMediaType(),f=r.getCurrentBufferState(l),d=e.getScheduleController(),c=e.getAbrController(),h=e.getStreamInfo(),p=h&&h.manifestInfo?h.manifestInfo.isDynamic:null,g=c.getThroughputHistory(),m=g.getSafeAverageThroughput(l,p),v=g.getAverageLatency(l),_=e.useBufferOccupancyABR();return isNaN(m)||!f||_||c.getAbandonmentStateFor(l)!==u.default.ABANDON_LOAD&&(f.state!==u.default.BUFFER_LOADED&&!p||(t.quality=c.getQualityForBitrate(i,m,v),d.setTimeToLoadDelay(0),a.debug("["+l+"] requesting switch to index: ",t.quality,"Average throughput",Math.round(m),"kbps"),t.reason={throughput:m,latency:v})),t},reset:function(){}},a=(0,i.default)(n).getInstance().getLogger(t),t}l.__dashjs_factory_name="ThroughputRule",n.default=a.default.getClassFactory(l),t.exports=n.default},{108:108,109:109,186:186,45:45,47:47}],196:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(47)),o=r(e(109));function s(e){var t=(e=e||{}).dashMetrics,n=e.mediaPlayerModel,r=e.textController,i=e.abrController,s=e.settings;function u(e,u,l){var f,d,c,h=NaN;return e&&u?h=e===a.default.FRAGMENTED_TEXT?r.isTextEnabled()?isNaN(u.fragmentDuration)?(f=t.getCurrentSchedulingInfo(o.default.SCHEDULING_INFO))?f.duration:0:u.fragmentDuration:0:e===a.default.AUDIO&&l?(d=t.getCurrentBufferLevel(a.default.VIDEO),isNaN(u.fragmentDuration)?d:Math.max(d,u.fragmentDuration)):(c=u.mediaInfo.streamInfo,i.isPlayingAtTopQuality(c)?c.manifestInfo.duration>=s.get().streaming.longFormContentDurationThreshold?s.get().streaming.bufferTimeAtTopQualityLongForm:s.get().streaming.bufferTimeAtTopQuality:n.getStableBufferTime()):h}return{execute:function(e,n,r){return!e||!n||t.getCurrentBufferLevel(e)<u(e,n,r)},getBufferTarget:u}}s.__dashjs_factory_name="BufferLevelRule",n.default=i.default.getClassFactory(s),t.exports=n.default},{108:108,109:109,47:47}],197:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r};function i(){var e=0;function t(e){return"red"===e?"rgb(255, 0, 0)":"green"===e?"rgb(0, 255, 0)":"blue"===e?"rgb(0, 0, 255)":"cyan"===e?"rgb(0, 255, 255)":"magenta"===e?"rgb(255, 0, 255)":"yellow"===e?"rgb(255, 255, 0)":"white"===e?"rgb(255, 255, 255)":"black"===e?"rgb(0, 0, 0)":e}function n(e,n){var r=e.videoHeight/15;return n?"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(n.foreground?t(n.foreground):"rgb(255, 255, 255)")+"; font-style: "+(n.italics?"italic":"normal")+"; text-decoration: "+(n.underline?"underline":"none")+"; white-space: pre; background-color: "+(n.background?t(n.background):"transparent")+";":"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}return{createHTMLCaptionsFromScreen:function(t,r,a,i){var o=null,s=!1,u=-1,l={start:r,end:a,spans:[]},f="style_cea608_white_black",d={},c={},h=[],p=void 0,g=void 0;for(p=0;p<15;++p){var m=i.rows[p],v="",_=null;if(!1===m.isEmpty()){var E=function(e){for(var t="",n=0;n<e.length;++n)t+=e[n].uchar;return t.length-t.replace(/^\s+/,"").length}(m.chars);null===o&&(o={x:E,y1:p,y2:p+1,p:[]}),E!==u&&s&&(o.p.push(l),l={start:r,end:a,spans:[]},o.y2=p,o.name="region_"+o.x+"_"+o.y1+"_"+o.y2,!1===d.hasOwnProperty(o.name)?(h.push(o),d[o.name]=o):d[o.name].p.contat(o.p),o={x:E,y1:p,y2:p+1,p:[]});for(var y=0;y<m.chars.length;++y){var T,S=m.chars[y],A=S.penState;null!==_&&A.equals(_)||(0<(0,Q.default)(v).call(v).length&&(l.spans.push({name:f,line:v,row:p}),v=""),T="style_cea608_"+A.foreground+"_"+A.background,A.underline&&(T+="_underline"),A.italics&&(T+="_italics"),c.hasOwnProperty(T)||(c[T]=JSON.parse((0,$.default)(A))),_=A,f=T),v+=S.uchar}0<(0,Q.default)(v).call(v).length&&l.spans.push({name:f,line:v,row:p}),s=!0,u=E}else s=!1,u=-1,o&&(o.p.push(l),l={start:r,end:a,spans:[]},o.y2=p,o.name="region_"+o.x+"_"+o.y1+"_"+o.y2,!1===d.hasOwnProperty(o.name)?(h.push(o),d[o.name]=o):d[o.name].p.contat(o.p),o=null)}o&&(o.p.push(l),o.y2=p+1,o.name="region_"+o.x+"_"+o.y1+"_"+o.y2,!1===d.hasOwnProperty(o.name)?(h.push(o),d[o.name]=o):d[o.name].p.contat(o.p),o=null);var I,R=[];for(p=0;p<h.length;++p){var b=h[p],w="sub_cea608_"+e++,M=document.createElement("div");M.id=w;var D="left: "+3.125*(I=b).x+"%; top: "+6.66*I.y1+"%; width: "+(100-3.125*I.x)+"%; height: "+6.66*Math.max(I.y2-1-I.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;";M.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+D;var C=document.createElement("div");C.className="paragraph bodyStyle",C.style.cssText=n(t);var N=document.createElement("div");N.className="cueUniWrapper",N.style.cssText="unicode-bidi: normal; direction: ltr;";for(var O=0;O<b.p.length;++O){var L=b.p[O],x=0;for(g=0;g<L.spans.length;++g){var P,F,U,k,B,G=L.spans[g];0<G.line.length&&(0!==g&&x!=G.row&&((F=document.createElement("br")).className="lineBreak",N.appendChild(F)),U=!1,x===G.row&&(U=!0),x=G.row,k=c[G.name],(B=document.createElement("span")).className="spanPadding "+G.name+" customSpanColor",B.style.cssText=n(t,k),0!==g&&U?g===L.spans.length-1?B.textContent=G.line.replace(/\s+$/g,""):B.textContent=G.line:1<L.spans.length&&g<L.spans.length-1&&G.row===L.spans[g+1].row?B.textContent=G.line.replace(/^\s+/g,""):B.textContent=(0,Q.default)(P=G.line).call(P),N.appendChild(B))}}C.appendChild(N),M.appendChild(C);var q={bodyStyle:["%",90]};for(var Y in c)c.hasOwnProperty(Y)&&(q[Y]=["%",90]);R.push({type:"html",start:r,end:a,cueHTMLElement:M,cueID:w,cellResolution:[32,15],isFromCEA608:!0,fontSize:q,lineHeight:{},linePadding:{}})}return R}}}i.__dashjs_factory_name="EmbeddedTextHtmlRender",n.default=a.default.getSingletonFactory(i),t.exports=n.default},{47:47}],198:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(46)),o=r(e(54)),s=r(e(47)),u=r(e(213)),l=r(e(104)),f=r(e(200)),d=r(e(225)),c=r(e(51)),h="NotFragmentedTextBufferController";function p(e){e=e||{};var t=this.context,n=(0,i.default)(t).getInstance(),r=(0,f.default)(t).getInstance(),s=e.errHandler,p=e.streamInfo,g=e.type,m=e.mimeType,v=e.fragmentModel,_=void 0,E=void 0,y=void 0,T=void 0,S=void 0,A=void 0;function I(e){T=e}function R(e){e.sender.getStreamId()!==p.id||e.sender.getType()!==g||e.error||null===A.extract(p.id,e.currentRepresentation.id)&&(E=!1,n.trigger(o.default.INIT_FRAGMENT_NEEDED,{sender:_,streamId:p.id,mediaType:g,representationId:e.currentRepresentation.id}))}function b(e){e.chunk.streamId===p.id&&e.chunk.mediaInfo.type===g&&e.chunk.bytes&&(A.save(e.chunk),S.append(e.chunk),E=!0,n.trigger(o.default.STREAM_COMPLETED,{request:e.request}))}return _={getBufferControllerType:function(){return h},initialize:function(e){I(e),A=(0,u.default)(t).getInstance()},createBuffer:function(e){var n,i=e[0];try{return S=(0,l.default)(t).create(T,i),y||((n=S.getBuffer()).hasOwnProperty(a.default.INITIALIZE)&&n.initialize(m,p,e,v),y=!0),S}catch(e){var o,u;if(i&&(i.isText||-1!==(0,W.default)(o=i.codec).call(o,'codecs="stpp')||-1!==(0,W.default)(u=i.codec).call(u,'codecs="wvtt')))try{S=r.getTextSourceBuffer()}catch(e){s.error(new d.default(c.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,c.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+g+" : "+e.message))}else s.error(new d.default(c.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,c.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+g))}},getType:function(){return g},getBuffer:function(){return S},getBufferLevel:function(){return 0},setMediaSource:I,getMediaSource:function(){return T},getIsBufferingCompleted:function(){return E},getIsPruningInProgress:function(){return!1},dischargePreBuffer:function(){},appendInitSegment:function(e){return null!==A.extract(p.id,e)},getRangeAt:function(){return null},reset:function(e){n.off(o.default.DATA_UPDATE_COMPLETED,R,_),n.off(o.default.INIT_FRAGMENT_LOADED,b,_),!e&&S&&(S.abort(),S.reset(),S=null)},updateTimestampOffset:function(e){S.timestampOffset===e||isNaN(e)||(S.timestampOffset=e)}},T=null,E=y=!1,n.on(o.default.DATA_UPDATE_COMPLETED,R,_),n.on(o.default.INIT_FRAGMENT_LOADED,b,_),_}p.__dashjs_factory_name=h,n.default=s.default.getClassFactory(p),t.exports=n.default},{104:104,108:108,200:200,213:213,225:225,46:46,47:47,51:51,54:54}],199:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(47)),o=r(e(114)),s=r(e(198));function u(e){e=e||{};var t,n=this.context,r=void 0;function i(){return r.getBuffer()}return t={getBufferControllerType:function(){return r.getBufferControllerType()},initialize:function(e,t){return r.initialize(e,t)},createBuffer:function(e){return r.createBuffer(e)},getType:function(){return r.getType()},getBuffer:i,setBuffer:function(e){r.setBuffer(e)},getBufferLevel:function(){return r.getBufferLevel()},setMediaSource:function(e){r.setMediaSource(e)},getMediaSource:function(){return r.getMediaSource()},getIsBufferingCompleted:function(){return r.getIsBufferingCompleted()},getIsPruningInProgress:function(){return r.getIsPruningInProgress()},dischargePreBuffer:function(){return r.dischargePreBuffer()},appendInitSegment:function(e){r.appendInitSegment(e)},getRangeAt:function(e){return r.getRangeAt(e)},reset:function(e){r.reset(e)},updateTimestampOffset:function(e){var t=i();t.timestampOffset===e||isNaN(e)||(t.timestampOffset=e)}},r=e.type===a.default.FRAGMENTED_TEXT?(0,o.default)(n).create({streamInfo:e.streamInfo,type:e.type,mediaPlayerModel:e.mediaPlayerModel,manifestModel:e.manifestModel,fragmentModel:e.fragmentModel,errHandler:e.errHandler,mediaController:e.mediaController,representationController:e.representationController,adapter:e.adapter,textController:e.textController,abrController:e.abrController,playbackController:e.playbackController,settings:e.settings}):(0,s.default)(n).create({streamInfo:e.streamInfo,type:e.type,mimeType:e.mimeType,fragmentModel:e.fragmentModel,errHandler:e.errHandler}),t}u.__dashjs_factory_name="TextBufferController",n.default=i.default.getClassFactory(u),t.exports=n.default},{108:108,114:114,198:198,47:47}],200:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(47)),o=r(e(201)),s=r(e(202)),u=r(e(221)),l=r(e(219)),f=r(e(46)),d=r(e(54)),c=e(218);function h(){var e,t=this.context,n=void 0,r=void 0,i=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,E=void 0,T=void 0,S=void 0,A=void 0,I=void 0,R=void 0,b=void 0,w=void 0,M=void 0,D=void 0;function C(){return!(R&&!b)}function N(){M=w=!(R=!0)}return e={setConfig:function(e){e&&(e.errHandler&&(r=e.errHandler),e.adapter&&(i=e.adapter),e.manifestModel&&(h=e.manifestModel),e.mediaController&&(p=e.mediaController),e.videoModel&&(g=e.videoModel),e.streamController&&(m=e.streamController),e.textTracks&&(v=e.textTracks),e.vttParser&&(_=e.vttParser),e.ttmlParser&&(E=e.ttmlParser),n.setConfig({errHandler:r,adapter:i,manifestModel:h,mediaController:p,videoModel:g,streamController:m,textTracks:v,vttParser:_,ttmlParser:E}))},getTextSourceBuffer:function(){return n},getAllTracksAreDisabled:function(){return R},addEmbeddedTrack:function(e){n.addEmbeddedTrack(e)},getTextDefaultLanguage:function(){return S.lang||""},setTextDefaultLanguage:function(e){(0,c.checkParameterType)(e,"string"),S.lang=e},setTextDefaultEnabled:function(e){(0,c.checkParameterType)(e,"boolean"),(I=e)?R=!1:this.setTextTrack(-1)},getTextDefaultEnabled:function(){return I},setInitialSettings:function(e){S=e},enableText:function(e){(0,c.checkParameterType)(e,"boolean"),!I&&e&&(I=!0),C()!==e&&(e&&this.setTextTrack(A),e||(A=this.getCurrentTrackIdx(),w?this.setTextTrack(-1):M=!0))},isTextEnabled:C,setTextTrack:function(e){var t=n.getConfig(),r=t.fragmentModel,i=t.fragmentedTracks,o=t.videoModel,s=void 0,u=void 0;R=-1===e;var l=v.getCurrentTrackIdx();if(l!==e){v.setModeForTrackIdx(l,a.default.TEXT_HIDDEN),v.setCurrentTrackIdx(e),v.setModeForTrackIdx(e,a.default.TEXT_SHOWING);var f=v.getCurrentTrackInfo();if(f&&f.isFragmented&&!f.isEmbedded)for(var d=0;d<i.length;d++){var c=i[d];if(f.lang===c.lang&&f.index===c.index&&(c.id?f.id===c.id:f.id===c.index))if(c!==p.getCurrentTrackFor(a.default.FRAGMENTED_TEXT,m.getActiveStreamInfo()))r.abortRequests(),r.removeExecutedRequestsBeforeTime(),n.remove(),v.deleteCuesFromTrackIdx(l),p.setTrack(c),n.setCurrentFragmentedTrackIdx(d);else if(-1===l){for(var h=m.getActiveStreamProcessors(),g=0;g<h.length;g++)if(h[g].getType()===a.default.FRAGMENTED_TEXT){u=h[g];break}u.setIndexHandlerTime(o.getTime()),u.getScheduleController().start()}}else if(f&&!f.isFragmented){for(h=m.getActiveStreamProcessors(),d=0;d<h.length;d++)if(h[d].getType()===a.default.TEXT){s=(u=h[d]).getMediaInfoArr();break}if(u&&s)for(d=0;d<s.length;d++)if(s[d].index===f.index&&s[d].lang===f.lang){u.selectMediaInfo(s[d]);break}}}},getCurrentTrackIdx:function(){return v.getCurrentTrackIdx()},enableForcedTextStreaming:function(e){(0,c.checkParameterType)(e,"boolean"),b=e},reset:function(){N(),n.resetEmbedded(),n.reset()}},S={},v=(M=w=b=I=!(A=-1),s.default)(t).getInstance(),_=(0,u.default)(t).getInstance(),E=(0,l.default)(t).getInstance(),n=(0,o.default)(t).getInstance(),T=(0,f.default)(t).getInstance(),v.initialize(),T.on(d.default.TEXT_TRACKS_QUEUE_INITIALIZED,(function(e){var t=this,n=e.tracks,r=e.index;S&&(0,y.default)(n).call(n,(function(e,n){if(p.matchSettings(S,e))return t.setTextTrack(n),r=n,!0})),I&&!M||this.setTextTrack(-1),A=r,T.trigger(d.default.TEXT_TRACKS_ADDED,{enabled:C(),index:r,tracks:n}),w=!0}),e),T.on(d.default.PERIOD_SWITCH_STARTED,(function(e){void 0===D&&null!==e.fromStreamInfo&&(D=this.getCurrentTrackIdx())}),e),T.on(d.default.STREAM_COMPLETED,(function(){void 0===D&&(D=this.getCurrentTrackIdx())}),e),T.on(d.default.PERIOD_SWITCH_COMPLETED,(function(){void 0!==D&&(this.setTextTrack(D),D=void 0)}),e),N(),e}h.__dashjs_factory_name="TextController",n.default=i.default.getSingletonFactory(h),t.exports=n.default},{108:108,201:201,202:202,218:218,219:219,221:221,46:46,47:47,54:54}],201:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=e(241),o=r(e(233)),s=r(e(206)),u=r(e(208)),l=r(e(47)),f=r(e(45)),d=r(e(202)),c=r(e(197)),h=r(e(9)),p=r(e(2)),g=r(e(46)),v=r(e(54)),_=r(e(225)),E=r(e(51));function y(){var e=this.context,t=(0,g.default)(e).getInstance(),n=!1,r=void 0,l=void 0,y=void 0,T=void 0,S=void 0,I=void 0,R=void 0,b=void 0,w=void 0,D=void 0,C=void 0,N=void 0,O=void 0,L=void 0,x=void 0,P=void 0,F=void 0,U=void 0,k=void 0,B=void 0,G=void 0,q=void 0,Y=void 0,K=void 0,H=void 0,V=void 0;function j(){x=NaN,k=O=null,L=!(P=[])}function W(){j(),C=[],b=null}function X(e){var t=e.chunk;t.mediaInfo.embeddedCaptions&&J(t.bytes,t)}function Q(){G=[],(N=(0,d.default)(e).getInstance()).setConfig({videoModel:F}),N.initialize(),y=(0,s.default)(e).getInstance(),K=[],n=!(Y=B=null),H=(q=0,c.default)(e).getInstance();var r=U.getActiveStreamProcessors();for(var a in r)if("video"===r[a].getType()){V=r[a].getRepresentationInfo().MSETimeOffset;break}t.on(v.default.VIDEO_CHUNK_RECEIVED,X,this),t.on(v.default.BUFFER_CLEARED,te,this)}function Z(e){B=e}function $(e,t){var n,r,i=new o.default,s={subtitle:"subtitles",caption:"captions"};i.captionData=e,i.lang=t.lang,i.labels=t.labels,i.id=t.id?t.id:t.index,i.index=t.index,i.isTTML=(n=!1,t.codec&&0<=t.codec.search(a.default.STPP)&&(n=!0),t.mimeType&&0<=t.mimeType.search(a.default.TTML)&&(n=!0),n),i.defaultTrack=function(e){var t=!1;return 1<G.length&&e.isEmbedded?t=e.id&&e.id===a.default.CC1:1===G.length?e.id&&"string"==typeof e.id&&"CC"===e.id.substring(0,2)&&(t=!0):0===G.length&&(t=e.index===C[0].index),t}(t),i.isFragmented=!S.getIsTextTrack(t.mimeType),i.isEmbedded=!!t.isEmbedded,i.kind=r=(r=0<t.roles.length?s[t.roles[0]]:s.caption)===s.caption||r===s.subtitle?r:s.caption,i.roles=t.roles,i.accessibility=t.accessibility;var u=(C?C.length:0)+G.length;N.addTextTrack(i,u)}function J(e,t){var n,r=void 0,o=void 0,s=void 0,u=void 0,f=void 0,d=void 0,c=t.mediaInfo,g=c.type,v=c.mimeType,S=c.codec||v;if(S){if(g===a.default.FRAGMENTED_TEXT)if(L||"InitializationSegment"!==t.segmentType){if(!L)return;if(n=(f=y.getSamplesInfo(e)).sampleList,null===k&&0<n.length&&(k=n[0].cts-t.start*x),0<=S.search(a.default.STPP))for(b=null!==b?b:ee(S),o=0;o<n.length;o++){var R=(W=n[o]).cts,w=R-k;this.buffered.add(w/x,(w+W.duration)/x);var M=new DataView(e,W.offset,W.subSizes[0]),D=(d=h.default.Utils.dataViewToString(M,a.default.UTF8),[]),C=W.offset+W.subSizes[0];for(s=1;s<W.subSizes.length;s++){var P=new Uint8Array(e,C,W.subSizes[s]),U=String.fromCharCode.apply(null,P);D.push(U),C+=W.subSizes[s]}try{var j=I.getValue().ttmlTimeIsRelative?R/x:0;r=b.parse(d,j,R/x,(R+W.duration)/x,D);N.addCaptions(B,k/x,r)}catch(e){O.removeExecutedRequestsBeforeTime(),this.remove(),l.error("TTML parser error: "+e.message)}}else{var W,X=[];for(o=0;o<n.length;o++){(W=n[o]).cts-=k,this.buffered.add(W.cts/x,(W.cts+W.duration)/x);var Q=(0,z.default)(e).call(e,W.offset,W.offset+W.size),Z=h.default.parseBuffer(Q);for(s=0;s<Z.boxes.length;s++){var J=Z.boxes[s];if(l.debug("VTT box1: "+J.type),"vtte"!==J.type&&"vttc"===J.type)for(l.debug("VTT vttc boxes.length = "+J.boxes.length),u=0;u<J.boxes.length;u++){var te,ne,re,ae=J.boxes[u];l.debug("VTT box2: "+ae.type),"payl"===ae.type&&(te=ae.cue_text,l.debug("VTT cue_text = "+te),ne=W.cts/x,re=(W.cts+W.duration)/x,X.push({start:ne,end:re,data:te,styles:{}}),l.debug("VTT "+ne+"-"+re+" : "+te))}}}0<X.length&&N.addCaptions(B,0,X)}}else L=!0,x=y.getMediaTimescaleFromMoov(e);else if(g===a.default.TEXT){M=new DataView(e,0,e.byteLength),d=h.default.Utils.dataViewToString(M,a.default.UTF8);try{r=ee(S).parse(d,0),N.addCaptions(N.getCurrentTrackIdx(),0,r)}catch(e){T.error(new _.default(E.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,E.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+e.message,d))}}else if(g===a.default.VIDEO)if(t.segmentType===i.HTTPRequest.INIT_SEGMENT_TYPE){if(0===q)for(q=y.getMediaTimescaleFromMoov(e),o=0;o<G.length;o++)$(null,G[o])}else{if(0===q)return void l.warn("CEA-608: No timescale for embeddedTextTrack yet");var ie=(f=y.getSamplesInfo(e)).lastSequenceNumber;if(!K[0]&&!K[1]){var oe,se=void 0;for(o=0;o<G.length;o++){if(G[o].id===a.default.CC1?se=N.getTrackIdxForId(a.default.CC1):G[o].id===a.default.CC3&&(se=N.getTrackIdxForId(a.default.CC3)),-1===se)return void l.warn("CEA-608: data before track is ready.");oe=function(e){return function(t,n,r){var a;(a=F.getTTMLRenderingDiv()?H.createHTMLCaptionsFromScreen(F.getElement(),t,n,r):[{start:t,end:n,data:r.getDisplayText(),styles:{}}])&&N.addCaptions(e,0,a)}}(se),K[o]=new p.default.Cea608Parser(o+1,{newCue:oe},null)}}if(q){if(null!==Y&&ie!==Y+f.numSequences)for(o=0;o<K.length;o++)K[o]&&K[o].reset();for(var ue=function(e,t){var n;if(0===t.length)return null;for(var r={splits:[],fields:[[],[]]},a=new DataView(e),i=0;i<t.length;i++)for(var o=t[i],s=p.default.findCea608Nalus(a,o.offset,o.size),u=null,l=0,f=0;f<s.length;f++)for(var d=p.default.extractCea608DataFromRange(a,s[f]),c=0;c<2;c++)0<d[c].length&&(o.cts!==u?l=0:l+=1,r.fields[c].push([o.cts+V*q,d[c],l]),u=o.cts);return(0,A.default)(n=r.fields).call(n,(function(e){(0,m.default)(e).call(e,(function(e,t){return e[0]===t[0]?e[2]-t[2]:e[0]-t[0]}))})),r}(e,f.sampleList),le=0;le<K.length;le++){var fe=ue.fields[le],de=K[le];if(de)for(o=0;o<fe.length;o++)de.addData(fe[o][0]/q,fe[o][1])}Y=ie}}}else l.error("No text type defined")}function ee(e){var t=void 0;return 0<=e.search(a.default.VTT)?t=w:(0<=e.search(a.default.TTML)||0<=e.search(a.default.STPP))&&(t=D),t}function te(e){(0,A.default)(G).call(G,(function(t){var n=N.getTrackIdxForId(t.id);0<=n&&N.deleteCuesFromTrackIdx(n,e.from,e.to)}))}return r={initialize:function(t,i,o,l){n||Q(),N.setConfig({videoModel:F}),N.initialize(),y=y||(0,s.default)(e).getInstance(),function(t,n,i,o){var s=!S.getIsTextTrack(t);if(C=(0,M.default)(C).call(C,i),s){O=o,r.buffered=(0,u.default)(e).create(),P=R.getTracksFor(a.default.FRAGMENTED_TEXT,n);for(var l=R.getCurrentTrackFor(a.default.FRAGMENTED_TEXT,n),f=0;f<P.length;f++)if(P[f]===l){Z(f);break}}for(f=0;f<C.length;f++)$(null,C[f])}(t,i,o,l)},append:J,abort:function(){N.deleteAllTextTracks(),j(),y=null,C=[]},addEmbeddedTrack:function(e){if(n||Q(),e)if(e.id===a.default.CC1||e.id===a.default.CC3){for(var t=0;t<G.length;t++)if(G[t].id===e.id)return;G.push(e)}else l.warn("Embedded track "+e.id+" not supported!")},resetEmbedded:function(){t.off(v.default.VIDEO_CHUNK_RECEIVED,X,this),t.off(v.default.BUFFER_CLEARED,te,this),N&&N.deleteAllTextTracks(),n=!1,G=[],K=[null,null],Y=null},setConfig:function(e){e&&(e.errHandler&&(T=e.errHandler),e.adapter&&(S=e.adapter),e.manifestModel&&(I=e.manifestModel),e.mediaController&&(R=e.mediaController),e.videoModel&&(F=e.videoModel),e.streamController&&(U=e.streamController),e.textTracks&&(N=e.textTracks),e.vttParser&&(w=e.vttParser),e.ttmlParser&&(D=e.ttmlParser))},getConfig:function(){return{fragmentModel:O,fragmentedTracks:P,videoModel:F}},setCurrentFragmentedTrackIdx:Z,remove:function(e,t){void 0===e&&e===t&&(e=this.buffered.start(0),t=this.buffered.end(this.buffered.length-1)),this.buffered.remove(e,t)},reset:function(){W(),N=F=U=null}},l=(0,f.default)(e).getInstance().getLogger(r),W(),r}y.__dashjs_factory_name="TextSourceBuffer",n.default=l.default.getSingletonFactory(y),t.exports=n.default},{108:108,197:197,2:2,202:202,206:206,208:208,225:225,233:233,241:241,45:45,46:46,47:47,51:51,54:54,9:9}],202:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(46)),o=r(e(54)),s=r(e(47)),u=r(e(45)),l=e(17),f=e(218);function d(){var e,t=this.context,n=(0,i.default)(t).getInstance(),r=void 0,s=void 0,d=void 0,c=void 0,h=void 0,p=void 0,g=void 0,v=void 0,_=void 0,E=void 0,y=void 0,S=void 0,A=void 0,I=void 0,R=void 0,b=void 0;function w(e){var t=c[e].kind,n=void 0!==c[e].id?c[e].id:c[e].lang,r=c[e].lang,a=c[e].isTTML,i=c[e].isEmbedded;return d.addTextTrack(t,n,r,a,i)}function M(e,t){var r=d.getClientWidth(),a=d.getClientHeight(),i=d.getVideoWidth(),s=d.getVideoHeight(),u=d.getVideoRelativeOffsetTop(),l=d.getVideoRelativeOffsetLeft();if(0!==i&&0!==s){var f=i/s,c=!1;e.isFromCEA608&&(f=3.5/3,c=!0);var h,p=function(e,t,n,r,a,i){var o=0,s=0;n/r<e/t?o=(s=t)/r*n:s=(o=e)/n*r;var u,l,f=0,d=0;return a<o/s?f=(d=s)*a:d=(f=o)/a,u=(e-f)/2,l=(t-d)/2,i?{x:u+.1*f,y:l+.1*d,w:.8*f,h:.8*d}:{x:u,y:l,w:f,h:d}}.call(this,r,a,i,s,f,c),m=p.w,T=p.h,S=p.x,R=p.y;if(m!=_||T!=E||S!=g||R!=v||t){g=S+l,v=R+u,_=m,E=T,!y||(h=y.style)&&(h.left=g+"px",h.top=v+"px",h.width=_+"px",h.height=E+"px",h.zIndex=A&&document[A]||I?b:null,n.trigger(o.default.CAPTION_CONTAINER_RESIZE,{}));var w=e.activeCues;if(w)for(var M=w.length,D=0;D<M;++D){var C=w[D];C.scaleCue(C)}}}}function D(e){var t,n=void 0,r=void 0,a=void 0,i=void 0,o=void 0;if(e.cellResolution){var s=[_/e.cellResolution[0],E/e.cellResolution[1]];if(e.linePadding)for(n in e.linePadding)if(e.linePadding.hasOwnProperty(n)){r=(e.linePadding[n]*s[0]).toString();for(var u=document.getElementsByClassName("spanPadding"),l=0;l<u.length;l++)u[l].style.cssText=u[l].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r),u[l].style.cssText=u[l].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}if(e.fontSize){for(n in e.fontSize)if(e.fontSize.hasOwnProperty(n)){"%"===e.fontSize[n][0]?a=e.fontSize[n][1]/100:"c"===e.fontSize[n][0]&&(a=e.fontSize[n][1]),r=(a*s[1]).toString(),o="defaultFontSize"!==n?document.getElementsByClassName(n):document.getElementsByClassName("paragraph");for(var f=0;f<o.length;f++)o[f].style.cssText=o[f].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}if(e.lineHeight)for(n in e.lineHeight)if(e.lineHeight.hasOwnProperty(n)){"%"===e.lineHeight[n][0]?i=e.lineHeight[n][1]/100:"c"===e.fontSize[n][0]&&(i=e.lineHeight[n][1]),r=(i*s[1]).toString(),o=document.getElementsByClassName(n);for(var d=0;d<o.length;d++)o[d].style.cssText=o[d].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}}}e.isd&&((t=document.getElementById(e.cueID))&&y.removeChild(t),C(e))}function C(e){var t;y&&(t=document.createElement("div"),y.appendChild(t),R=(0,l.renderHTML)(e.isd,t,(function(t){var n=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,r=/^#(.*)$/;if(n.test(t)){var a=n.exec(t),i=(0,B.default)(a[4],10)-1;return"data:image/png;base64,"+btoa(e.images[i])}return r.test(t)?(i=(a=r.exec(t))[1],"data:image/png;base64,"+e.embeddedImages[i]):null}),y.clientHeight,y.clientWidth,!1,(function(e){r.info("renderCaption :",e)}),R,!0),t.id=e.cueID,n.trigger(o.default.CAPTION_RENDERED,{captionDiv:t,currentTrackIdx:p}))}function N(e){return 0<=e&&c[e]?d.getTextTrack(c[e].kind,c[e].id,c[e].lang,c[e].isTTML,c[e].isEmbedded):null}function O(e){var t;e!==p&&(t=N(p=e),function(e){F.call(this),e&&"html"===e.renderingType?function(){var e=document.getElementById("native-cue-style");if(!e){(e=document.createElement("style")).id="native-cue-style",document.head.appendChild(e);var t=e.sheet,n=d.getElement();try{n&&(n.id?t.insertRule("#"+n.id+"::cue {background: transparent}",0):0!==n.classList.length?t.insertRule("."+n.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0))}catch(e){r.info(""+e.message)}}}.call(this):P.call(this)}.call(this,t),S&&(clearInterval(S),S=null),t&&"html"===t.renderingType&&(M.call(this,t,!0),S=(0,T.default)((0,x.default)(M).call(M,this,t),500)))}function L(e,t,n){if(e.cues)for(var r=e.cues,a=r.length-1;0<=a;a--)i=r[a],o=t,s=n,(isNaN(o)||i.startTime>=o)&&(isNaN(s)||i.endTime<=s)&&e.removeCue(r[a]);var i,o,s}function P(){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}function F(){if(y)for(;y.firstChild;)y.removeChild(y.firstChild)}return e={initialize:function(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&(s=window.VTTCue||window.TextTrackCue,c=[],h=[],I=!(p=-1),b=2147483647,R=S=y=null,void(E=_=v=g=0)!==document.fullscreenElement?A="fullscreenElement":void 0!==document.webkitIsFullScreen?A="webkitIsFullScreen":document.msFullscreenElement?A="msFullscreenElement":document.mozFullScreen&&(A="mozFullScreen"))},setDisplayCConTop:function(e){(0,f.checkParameterType)(e,"boolean"),I=e,y&&!document[A]&&(y.style.zIndex=e?b:null)},addTextTrack:function(e,t){var i=this;c.length!==t?(c.push(e),c.length===t&&function(){(0,m.default)(c).call(c,(function(e,t){return e.index-t.index})),y=d.getTTMLRenderingDiv();for(var e=-1,t=0;t<c.length;t++){var r=w.call(i,t);h.push(r),c[t].defaultTrack&&(r.default=!0,e=t);var s=N(t);s&&(s.mode=a.default.TEXT_SHOWING,y&&(c[t].isTTML||c[t].isEmbedded)?s.renderingType="html":s.renderingType="default"),i.addCaptions(t,0,c[t].captionData),n.trigger(o.default.TEXT_TRACK_ADDED)}O.call(i,e),0<=e&&function(){n.on(o.default.PLAYBACK_METADATA_LOADED,(function t(){var r=N(e);r&&M.call(this,r,!0),n.off(o.default.PLAYBACK_METADATA_LOADED,t,this)}),i);for(var t=0;t<c.length;t++){var r=N(t);r&&(r.mode=t===e?a.default.TEXT_SHOWING:a.default.TEXT_HIDDEN)}}(),n.trigger(o.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:p,tracks:c})}()):r.error("Trying to add too many tracks.")},addCaptions:function(e,t,i){var u=N(e),l=this;if(u&&(0,V.default)(i)&&0!==i.length)for(var f=0;f<i.length;f++){var d=void 0,c=i[f];u.cellResolution=c.cellResolution,u.isFromCEA608=c.isFromCEA608,"html"===c.type&&y?((d=new s(c.start-t,c.end-t,"")).cueHTMLElement=c.cueHTMLElement,d.isd=c.isd,d.images=c.images,d.embeddedImages=c.embeddedImages,d.cueID=c.cueID,d.scaleCue=(0,x.default)(D).call(D,l),d.cellResolution=c.cellResolution,d.lineHeight=c.lineHeight,d.linePadding=c.linePadding,d.fontSize=c.fontSize,y.style.left=g+"px",y.style.top=v+"px",y.style.width=_+"px",y.style.height=E+"px",d.onenter=function(){u.mode===a.default.TEXT_SHOWING&&(this.isd?(C(this),r.debug("Cue enter id:"+this.cueID)):(y.appendChild(this.cueHTMLElement),D.call(l,this),n.trigger(o.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:p})))},d.onexit=function(){if(y)for(var e=y.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&(r.debug("Cue exit id:"+e[t].id),y.removeChild(e[t]),--t)}):c.data&&(d=new s(c.start-t,c.end-t,c.data),c.styles&&(void 0!==c.styles.align&&"align"in d&&(d.align=c.styles.align),void 0!==c.styles.line&&"line"in d&&(d.line=c.styles.line),void 0!==c.styles.position&&"position"in d&&(d.position=c.styles.position),void 0!==c.styles.size&&"size"in d&&(d.size=c.styles.size)),d.onenter=function(){u.mode===a.default.TEXT_SHOWING&&n.trigger(o.default.CAPTION_RENDERED,{currentTrackIdx:p})});try{d?u.addCue(d):r.error("impossible to display subtitles.")}catch(e){throw L(u),u.addCue(d),e}}},getCurrentTrackIdx:function(){return p},setCurrentTrackIdx:O,getTrackIdxForId:function(e){for(var t=-1,n=0;n<c.length;n++)if(c[n].id===e){t=n;break}return t},getCurrentTrackInfo:function(){return c[p]},setModeForTrackIdx:function(e,t){var n=N(e);n&&n.mode!==t&&(n.mode=t)},deleteCuesFromTrackIdx:function(e,t,n){var r=N(e);r&&L(r,t,n)},deleteAllTextTracks:function(){for(var e=h?h.length:0,t=0;t<e;t++){var n=N(t);n&&(L.call(this,n),n.mode="disabled")}h=[],c=[],S&&(clearInterval(S),S=null),p=-1,F.call(this)},deleteTextTrack:function(e){d.removeChild(h[e]),(0,Z.default)(h).call(h,e,1)},setConfig:function(e){e&&e.videoModel&&(d=e.videoModel)}},r=(0,u.default)(t).getInstance().getLogger(e),e}d.__dashjs_factory_name="TextTracks",n.default=s.default.getSingletonFactory(d),t.exports=n.default},{108:108,17:17,218:218,45:45,46:46,47:47,54:54}],203:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(108)),o=r(e(234)),s=r(e(204)),u=r(e(224)),l=e(80);function f(e){var t,n=this.context,r=void 0;function a(){r&&r.reset()}return t={provide:function(e,t){if("function"==typeof t){var n,a=r.getCurrentTrack(),i=void 0;if(!a||a.segmentDuration<=0||null==e)t(null);else{isNaN(a.segmentDuration)&&(i=r.getThumbnailRequestForTime(e))&&(a.segmentDuration=i.duration),n=e%a.segmentDuration;var s,u,f,d,c=Math.floor(n*a.tilesHor*a.tilesVert/a.segmentDuration),h=new o.default;if(h.width=Math.floor(a.widthPerTile),h.height=Math.floor(a.heightPerTile),h.x=Math.floor(c%a.tilesHor)*a.widthPerTile,h.y=Math.floor(c/a.tilesHor)*a.heightPerTile,"readThumbnail"in a)return a.readThumbnail(e,(function(e){h.url=e,t(h)}));i?(h.url=i.url,a.segmentDuration=NaN):(s=Math.floor(e/a.segmentDuration),h.url=(f=s+(u=a).startNumber,d=(0,l.replaceTokenForTemplate)(u.templateUrl,"Number",f),d=(0,l.replaceTokenForTemplate)(d,"Time",(f-1)*u.segmentDuration),d=(0,l.replaceTokenForTemplate)(d,"Bandwidth",u.bandwidth),(0,l.unescapeDollarsInTemplate)(d))),t(h)}}},setTrackByIndex:function(e){r.setTrackByIndex(e)},getCurrentTrackIndex:function(){return r.getCurrentTrackIndex()},getBitrateList:function(){var e=r.getTracks(),t=0;return(0,C.default)(e).call(e,(function(e){var n=new u.default;return n.mediaType=i.default.IMAGE,n.qualityIndex=t++,n.bitrate=e.bitrate,n.width=e.width,n.height=e.height,n}))},reset:a},a(),r=(0,s.default)(n).create({streamInfo:e.streamInfo,adapter:e.adapter,baseURLController:e.baseURLController,timelineConverter:e.timelineConverter,debug:e.debug,eventBus:e.eventBus,events:e.events,dashConstants:e.dashConstants}),t}f.__dashjs_factory_name="ThumbnailController",n.default=a.default.getClassFactory(f),t.exports=n.default},{108:108,204:204,224:224,234:234,47:47,80:80}],204:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(108)),i=r(e(61)),o=r(e(47)),s=r(e(235)),u=r(e(220)),l=e(80),f=r(e(54)),d=r(e(206)),c=r(e(159)),h=r(e(57)),p=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function g(e){var t,n=this.context,r=e.adapter,o=e.baseURLController,g=e.streamInfo,v=e.timelineConverter,_=e.debug,E=e.eventBus,T=e.events,S=e.dashConstants,I=(0,u.default)(n).getInstance(),R=void 0,b=void 0,w=void 0,M=void 0,D=void 0,C=void 0;function N(){L(),D=(0,c.default)(n).create({}),C=(0,d.default)(n).getInstance(),(b=(0,h.default)(n).create({timelineConverter:v,baseURLController:o,debug:_,eventBus:E,events:T,dashConstants:S,urlUtils:I})).initialize(!!r&&r.getIsDynamic()),function(){if(g&&r&&(M=r.getMediaInfoForType(g,a.default.IMAGE))){var e=r.getVoRepresentations(M);e&&0<e.length&&(0,A.default)(e).call(e,(function(e){(e.segmentInfoType===i.default.SEGMENT_TEMPLATE&&0<e.segmentDuration&&e.media||e.segmentInfoType===i.default.SEGMENT_TIMELINE)&&O(e),e.segmentInfoType===i.default.SEGMENT_BASE&&O(e,!0)})),0<R.length&&((0,m.default)(R).call(R,(function(e,t){return e.bitrate-t.bitrate})),w=R.length-1)}}()}function O(e,t){var n,i,u,d=new s.default;d.id=e.id,d.bitrate=e.bandwidth,d.width=e.width,d.height=e.height,d.tilesHor=1,d.tilesVert=1,e.essentialProperties&&(0,A.default)(n=e.essentialProperties).call(n,(function(e){var t;0<=(0,W.default)(p).call(p,e.schemeIdUri)&&e.value&&(2!==(t=e.value.split("x")).length||isNaN(t[0])||isNaN(t[1])||(d.tilesHor=(0,B.default)(t[0],10),d.tilesVert=(0,B.default)(t[1],10)))})),t?E.trigger(f.default.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,{mimeType:M.mimeType,mediaType:a.default.IMAGE,representation:e,callback:function(e,t){var n=[];e=function(e,t){for(var n,a,i=[],o=0,s=void 0,u=(s=0,e.length);s<u;s++)n=e[s],(a=(0,l.getTimeBasedSegment)(v,r.getIsDynamic(),t,n.startTime,n.duration,n.timescale,n.media,n.mediaRange,o))&&(i.push(a),o++);return i}(e,t),d.segmentDuration=e[0].duration,d.readThumbnail=function(r,a){var i=null;(0,y.default)(n).call(n,(function(e){if(e.start<=r&&e.end>r)return i=e.url,!0})),i?a(i):(0,y.default)(e).call(e,(function(e){if(e.mediaStartTime<=r&&e.mediaStartTime+e.duration>r){var i=o.resolve(t.path);return D.load({method:"get",url:i.url,request:{range:e.mediaRange,responseType:"arraybuffer"},onload:function(t){var r,i=C.getSamplesInfo(t.target.response),o=new Blob([(0,z.default)(r=t.target.response).call(r,i.sampleList[0].offset,i.sampleList[0].offset+i.sampleList[0].size)],{type:"image/jpeg"}),s=window.URL.createObjectURL(o);n.push({start:e.mediaStartTime,end:e.mediaStartTime+e.duration,url:s}),a&&a(s)}}),!0}}))}}}):(d.startNumber=e.startNumber,d.segmentDuration=e.segmentDuration,d.timescale=e.timescale,d.templateUrl=(i=e,(u=I.isRelative(i.media)?I.resolve(i.media,o.resolve(i.path).url):i.media)?(0,l.replaceIDForTemplate)(u,i.id):"")),0<d.tilesHor&&0<d.tilesVert&&(d.widthPerTile=d.width/d.tilesHor,d.heightPerTile=d.height/d.tilesVert,R.push(d))}function L(){R=[],w=-1,M=null}return t={initialize:N,getTracks:function(){return R},reset:L,setTrackByIndex:function(e){R&&0!==R.length&&(e>=R.length&&(e=R.length-1),w=e)},getCurrentTrack:function(){return w<0?null:R[w]},getCurrentTrackIndex:function(){return w},getThumbnailRequestForTime:function(e){for(var t=void 0,n=r.getVoRepresentations(M),a=0;a<n.length;a++)if(R[w].id===n[a].id){t=n[a];break}return b.getSegmentRequestForTime(M,t,e)}},N(),t}n.THUMBNAILS_SCHEME_ID_URIS=p,g.__dashjs_factory_name="ThumbnailTracks",n.default=o.default.getClassFactory(g)},{108:108,159:159,206:206,220:220,235:235,47:47,54:54,57:57,61:61,80:80}],205:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(51)),i=r(e(46)),o=r(e(54)),s=r(e(113)),u=r(e(223)),l=r(e(222)),f=r(e(47)),d=r(e(225)),c=e(218);function h(){var e,t=this.context,n=(0,i.default)(t).getInstance(),r=void 0,f=void 0,h=void 0,p=void 0;function g(){r.reset()}return e={chooseSelector:function(e){(0,c.checkParameterType)(e,"boolean"),p=e?h:f},select:function(e){if(e){var t=e.baseUrls,r=e.selectedIdx;if(!isNaN(r))return t[r];var i=p.select(t);return i?(e.selectedIdx=(0,W.default)(t).call(t,i),i):(n.trigger(o.default.URL_RESOLUTION_FAILED,{error:new d.default(a.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,a.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(p===f&&g()))}},reset:g,setConfig:function(e){e.selector&&(p=e.selector)}},r=(0,s.default)(t).create({updateEventName:o.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:o.default.SERVICE_LOCATION_BLACKLIST_ADD}),f=(0,l.default)(t).create({blacklistController:r}),h=(0,u.default)(t).create({blacklistController:r}),p=f,e}h.__dashjs_factory_name="BaseURLSelector",n.default=f.default.getClassFactory(h),t.exports=n.default},{113:113,218:218,222:222,223:223,225:225,46:46,47:47,51:51,54:54}],206:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(45)),o=r(e(214)),s=r(e(47)),u=r(e(9)),l=r(e(230));function f(){var e,t=void 0,n=this.context;function r(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var t=u.default.parseBuffer(e),r=(0,o.default)(n).create();return r.setData(t),r}return e={parse:r,findLastTopIsoBoxCompleted:function(e,t,n){if(void 0===n&&(n=0),!t||n+8>=t.byteLength)return new l.default(0,!1);for(var r,a,i,o,s=t instanceof ArrayBuffer?new Uint8Array(t):t,u=void 0,f=0;n<s.byteLength;){var d=(i=s)[(o=n)+3]>>>0|i[o+2]<<8>>>0|i[o+1]<<16>>>0|i[o]<<24>>>0,c=(r=s,a=n+4,String.fromCharCode(r[a++])+String.fromCharCode(r[a++])+String.fromCharCode(r[a++])+String.fromCharCode(r[a]));if(0==d)break;n+d<=s.byteLength&&(0<=(0,W.default)(e).call(e,c)?u=new l.default(n,!0,d):f=n+d),n+=d}return u||new l.default(f,!1)},getMediaTimescaleFromMoov:function(e){var t=r(e),n=t?t.getBox("mdhd"):void 0;return n?n.timescale:NaN},getSamplesInfo:function(e){if(!e||0===e.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var t,n,a,o=r(e),s=o.getBoxes("moof"),u=o.getBoxes("mfhd"),l=void 0,f=void 0,d=void 0,c=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,E=o.getBoxes("moof").length,y=u[u.length-1].sequence_number,T=(f=[],-1),S=-1;for(p=0;p<s.length;p++){var A=s[p],I=A.getChildBoxes("traf");for(c=0;c<I.length;c++){var R=I[c],b=R.getChildBox("tfhd"),w=R.getChildBox("tfdt"),M=(l=w.baseMediaDecodeTime,R.getChildBoxes("trun")),D=R.getChildBoxes("subs");for(h=0;h<M.length;h++){var C=M[h],N=C.sample_count;for(v=(b.base_data_offset||0)+(C.data_offset||0),d=0;d<N;d++){t=void 0!==(a=C.samples[d]).sample_duration?a.sample_duration:b.default_sample_duration,n=void 0!==a.sample_size?a.sample_size:b.default_sample_size;var O={dts:l,cts:l+(void 0!==a.sample_composition_time_offset?a.sample_composition_time_offset:0),duration:t,offset:A.offset+v,size:n,subSizes:[n]};if(D)for(g=0;g<D.length;g++){var L=D[g];if(T<L.entry_count-1&&S<d&&(T++,S+=(0,i.default)(L)[T].sample_delta),d==S){O.subSizes=[];var x=(0,i.default)(L)[T];for(m=0;m<x.subsample_count;m++)O.subSizes.push(x.subsamples[m].subsample_size)}}f.push(O),v+=n,l+=t}}_=l-w.baseMediaDecodeTime}}return{sampleList:f,lastSequenceNumber:y,totalDuration:_,numSequences:E}},findInitRange:function(e){var n=null,a=r(e);if(!a)return n;var i=a.getBox("ftyp"),o=a.getBox("moov");return t.debug("Searching for initialization."),o&&o.isComplete&&(n=(i?i.offset:o.offset)+"-"+(o.offset+o.size-1),t.debug("Found the initialization.  Range: "+n)),n}},t=(0,a.default)(n).getInstance().getLogger(e),e}f.__dashjs_factory_name="BoxParser",n.default=s.default.getSingletonFactory(f),t.exports=n.default},{214:214,230:230,45:45,47:47,9:9}],207:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r};function i(){var e,t=void 0;return t=!(e={supportsMediaSource:function(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t},supportsEncryptedMedia:function(){return t},supportsCodec:function(e){return!(!("MediaSource"in window)||!MediaSource.isTypeSupported(e))||!(!("WebKitMediaSource"in window)||!WebKitMediaSource.isTypeSupported(e))},setEncryptedMediaSupported:function(e){t=e}}),e}i.__dashjs_factory_name="Capabilities",n.default=a.default.getSingletonFactory(i),t.exports=n.default},{47:47}],208:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r},i=e(218);function o(){return{customTimeRangeArray:[],length:0,add:function(e,t){var n=0;for(n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);for((0,Z.default)(r=this.customTimeRangeArray).call(r,n,0,{start:e,end:t}),n=0;n<this.customTimeRangeArray.length-1;n++){var r;this.mergeRanges(n,n+1)&&n--}this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++){var r;if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)(0,Z.default)(r=this.customTimeRangeArray).call(r,n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){var a;(0,Z.default)(a=this.customTimeRangeArray).call(a,n+1,0,{start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}}this.length=this.customTimeRangeArray.length},mergeRanges:function(e,t){var n,r,a,i,o=this.customTimeRangeArray[e],s=this.customTimeRangeArray[t];return o.start<=s.start&&s.start<=o.end&&o.end<=s.end?(o.end=s.end,(0,Z.default)(n=this.customTimeRangeArray).call(n,t,1),!0):s.start<=o.start&&o.start<=s.end&&s.end<=o.end?(o.start=s.start,(0,Z.default)(r=this.customTimeRangeArray).call(r,t,1),!0):s.start<=o.start&&o.start<=s.end&&o.end<=s.end?((0,Z.default)(a=this.customTimeRangeArray).call(a,e,1),!0):o.start<=s.start&&s.start<=o.end&&s.end<=o.end&&((0,Z.default)(i=this.customTimeRangeArray).call(i,t,1),!0)},start:function(e){return(0,i.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].start},end:function(e){return(0,i.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].end}}}o.__dashjs_factory_name="CustomTimeRanges",n.default=a.default.getClassFactory(o),t.exports=n.default},{218:218,47:47}],209:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(45)),o=r(e(108)),s=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],u="dashjs_?_bitrate",l="dashjs_?_settings",f="localStorage",d="lastBitrate",c="lastMediaSettings";function h(e){e=e||{};var t,n=this.context,r=e.settings,a=void 0,h=void 0;function p(e){if(void 0!==h)return h;h=!1;var t=void 0;try{"undefined"!=typeof window&&(t=window[e])}catch(e){return a.warn("DOMStorage access denied: "+e.message),h}if(!t||e!==f&&"sessionStorage"!==e)return h;try{t.setItem("1","1"),t.removeItem("1"),h=!0}catch(e){a.warn("DOMStorage is supported, but cannot be used: "+e.message)}return h}function g(){return 6e5*Math.round((new Date).getTime()/6e5)}function m(e,t){return p(e)&&r.get().streaming[t+"CachingInfo"].enabled}function v(){if(!r)throw new Error(o.default.MISSING_CONFIG_ERROR)}return t={getSavedBitrateSettings:function(e){var t=NaN;if(v(),m(f,d)){var n=u.replace(/\?/,e);try{var i=JSON.parse(localStorage.getItem(n))||{},o=(new Date).getTime()-(0,B.default)(i.timestamp,10)>=r.get().streaming.lastBitrateCachingInfo.ttl||!1,s=(0,O.default)(i.bitrate);isNaN(s)||o?o&&localStorage.removeItem(n):(t=s,a.debug("Last saved bitrate for "+e+" was "+s))}catch(e){return null}}return t},setSavedBitrateSettings:function(e,t){if(m(f,d)&&t){var n=u.replace(/\?/,e);try{localStorage.setItem(n,(0,$.default)({bitrate:t.toFixed(3),timestamp:g()}))}catch(e){a.error(e.message)}}},getSavedMediaSettings:function(e){var t=null;if(v(),m(f,c)){var n=l.replace(/\?/,e);try{var a=JSON.parse(localStorage.getItem(n))||{},i=(new Date).getTime()-(0,B.default)(a.timestamp,10)>=r.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;t=a.settings;i&&(localStorage.removeItem(n),t=null)}catch(e){return null}}return t},setSavedMediaSettings:function(e,t){if(m(f,c)){var n=l.replace(/\?/,e);try{localStorage.setItem(n,(0,$.default)({settings:t,timestamp:g()}))}catch(e){a.error(e.message)}}}},a=(0,i.default)(n).getInstance().getLogger(t),p(f)&&(0,A.default)(s).call(s,(function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){a.error(e.message)}}})),t}h.__dashjs_factory_name="DOMStorage";var p=a.default.getSingletonFactory(h);n.default=p,t.exports=n.default},{108:108,45:45,47:47}],210:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r};function i(){function e(e,t){try{return new window.URL(e,t).toString()}catch(t){return e}}function t(e,t){var n=s;if(!t)return e;if(!f(e))return e;d(e)&&(n=u),c(e)&&(n=l);var r=n(t),a="/"!==r.charAt(r.length-1)&&"/"!==e.charAt(0)?"/":"";return[r,e].join(a)}var n=void 0,r=/^[a-z][a-z0-9+\-_.]*:/i,a=/^https?:\/\//i,i=/^https:\/\//i,o=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i;function s(e){var t=(0,W.default)(e).call(e,"/"),n=(0,Y.default)(e).call(e,"/");return-1!==t?n===t+1?e:(-1!==(0,W.default)(e).call(e,"?")&&(e=e.substring(0,(0,W.default)(e).call(e,"?"))),e.substring(0,n+1)):""}function u(e){var t=e.match(o);return t?t[1]:""}function l(e){var t=e.match(r);return t?t[0]:""}function f(e){return!r.test(e)}function d(e){return f(e)&&"/"===e.charAt(0)}function c(e){return 0===(0,W.default)(e).call(e,"//")}return function(){try{new window.URL("x","http://y"),n=e}catch(e){}finally{n=n||t}}(),{parseBaseUrl:s,parseOrigin:u,parseScheme:l,isRelative:f,isPathAbsolute:d,isSchemeRelative:c,isHTTPURL:function(e){return a.test(e)},isHTTPS:function(e){return i.test(e)},removeHostname:function(e){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(e)[2].substring(1)},resolve:function(e,t){return n(e,t)}}}i.__dashjs_factory_name="DefaultURLUtils",n.default=a.default.getSingletonFactory(i),t.exports=n.default},{47:47}],211:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r};function i(e){e=e||{};var t=void 0,n=new DataView(e.data),r=0;function a(e,t){var a,i=!0;if(void 0===t&&(t=!1),a=16777215<e.tag?(n.getUint32(r)!==e.tag&&(i=!1),4):65535<e.tag?(256*n.getUint16(r)+n.getUint8(r+2)!==e.tag&&(i=!1),3):255<e.tag?(n.getUint16(r)!==e.tag&&(i=!1),2):(n.getUint8(r)!==e.tag&&(i=!1),1),!i&&e.required&&!t)throw new Error("required tag not found");return i&&(r+=a),i}function i(e){var t=1,a=128,i=-1,o=0,s=n.getUint8(r),u=0;for(u=0;u<8;u+=1){if((s&a)===a){o=void 0===e?s&~a:s,i=u;break}a>>=1}for(u=0;u<i;u+=1,t+=1)o=o<<8|255&n.getUint8(r+t);return r+=t,o}return t={getPos:function(){return r},setPos:function(e){r=e},consumeTag:a,consumeTagAndSize:function(e,t){var n=a(e,t);return n&&i(),n},parseTag:function(e){var n;return a(e),n=i(),t[e.parse](n)},skipOverElement:function(e,t){var n,o=a(e,t);return o&&(n=i(),r+=n),o},getMatroskaCodedNum:i,getMatroskaFloat:function(e){var t=void 0;switch(e){case 4:t=n.getFloat32(r),r+=4;break;case 8:t=n.getFloat64(r),r+=8}return t},getMatroskaUint:function(e){for(var t=0,a=0;a<e;a+=1)t<<=8,t|=255&n.getUint8(r+a);return r+=e,t},moreData:function(){return r<n.byteLength}}}i.__dashjs_factory_name="EBMLParser",n.default=a.default.getClassFactory(i),t.exports=n.default},{47:47}],212:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(46)),i=r(e(54)),o=r(e(47));function s(){var e=this.context,t=(0,a.default)(e).getInstance();return{error:function(e){t.trigger(i.default.ERROR,{error:e})}}}s.__dashjs_factory_name="ErrorHandler",n.default=o.default.getSingletonFactory(s),t.exports=n.default},{46:46,47:47,54:54}],213:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r};function i(){var e={};return{save:function(t){var n=t.streamId,r=t.representationId;e[n]=e[n]||{},e[n][r]=t},extract:function(t,n){return e&&e[t]&&e[t][n]?e[t][n]:null},reset:function(){e={}}}}i.__dashjs_factory_name="InitCache",n.default=a.default.getSingletonFactory(i),t.exports=n.default},{47:47}],214:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(229)),i=r(e(47));function o(){var e=void 0;function t(t){var r=[];if(!t||!e||"function"!=typeof e.fetchAll)return r;for(var a,i=e.fetchAll(t),o=0,s=i.length;o<s;o++)(a=n(i[o]))&&r.push(a);return r}function n(e){if(!e)return null;var t=new a.default(e);return e.hasOwnProperty("_incomplete")&&(t.isComplete=!e._incomplete),t}return{getBox:function(t){return t&&e&&e.boxes&&0!==e.boxes.length&&"function"==typeof e.fetch?n(e.fetch(t)):null},getBoxes:t,setData:function(t){e=t},getLastBox:function(){if(!e||!e.boxes||!e.boxes.length)return null;var n=t(e.boxes[e.boxes.length-1].type);return 0<n.length?n[n.length-1]:null}}}o.__dashjs_factory_name="IsoFile",n.default=i.default.getClassFactory(o),t.exports=n.default},{229:229,47:47}],215:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(108));function o(e){var t=(e=e||{}).timelineConverter;return{getLiveEdge:function(e){!function(){if(!t||!t.hasOwnProperty("getExpectedLiveEdge"))throw new Error(i.default.MISSING_CONFIG_ERROR)}();var n=e.DVRWindow?e.DVRWindow.end:0,r=n;return e.useCalculatedLiveEdgeTime&&(r=t.getExpectedLiveEdge(),t.setClientTimeOffset(r-n)),r},reset:function(){t=null}}}o.__dashjs_factory_name="LiveEdgeFinder",n.default=a.default.getClassFactory(o),t.exports=n.default},{108:108,47:47}],216:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(12));function o(){return{areEqual:function(e,t){return(0,i.default)(e,t)}}}o.__dashjs_factory_name="ObjectUtils",n.default=a.default.getSingletonFactory(o),t.exports=n.default},{12:12,47:47}],217:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r};function i(){return{modifyRequestURL:function(e){return e},modifyRequestHeader:function(e){return e}}}i.__dashjs_factory_name="RequestModifier",n.default=a.default.getSingletonFactory(i),t.exports=n.default},{47:47}],218:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.checkParameterType=function(e,t){if((0,j.default)(e)!==t)throw a.default.BAD_ARGUMENT_ERROR},n.checkInteger=function(e){if(null===e||isNaN(e)||e%1!=0)throw a.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"},n.checkRange=function(e,t,n){if(e<t||n<e)throw a.default.BAD_ARGUMENT_ERROR+" : argument out of range"},n.checkIsVideoOrAudioType=function(e){if("string"!=typeof e||e!==a.default.AUDIO&&e!==a.default.VIDEO)throw a.default.BAD_ARGUMENT_ERROR};var r,a=(r=e(108))&&r.__esModule?r:{default:r}},{108:108}],219:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(45)),o=r(e(46)),s=r(e(54)),u=e(17);function l(){var e,t=this.context,n=(0,o.default)(t).getInstance(),r=void 0,a=0;return e={parse:function(e,t,i,o,l){var f,d,c="",h=[],p=void 0,g={},m={},v="",_="",E={onOpenTag:function(e,t,n){if("image"===t&&"http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===e){if(!n[" imagetype"]||"PNG"!==n[" imagetype"].value)return void r.warn("smpte-tt imagetype != PNG. Discarded");v=n["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){v&&(m[v]=(0,Q.default)(_).call(_)),v=_=""},onText:function(e){v&&(_+=e)}};if(!e)throw c="no ttml data to parse",new Error(c);g.data=e,n.trigger(s.default.TTML_TO_PARSE,g);var T=(0,u.fromXML)(g.data,(function(e){c=e}),E);n.trigger(s.default.TTML_PARSED,{ttmlString:g.data,ttmlDoc:T});var S,A=T.getMediaTimeEvents();for(p=0;p<A.length;p++){var I,R=(0,u.generateISD)(T,A[p],(function(e){c=e}));(0,y.default)(I=R.contents).call(I,(function(e){return e.contents.length}))&&(f=A[p]+t<i?i:A[p]+t)<(d=A[p+1]+t>o?o:A[p+1]+t)&&h.push({start:f,end:d,type:"html",cueID:(void 0,S="cue_TTML_"+a,a++,S),isd:R,images:l,embeddedImages:m})}if(""!==c)throw r.error(c),new Error(c);return h}},r=(0,i.default)(t).getInstance().getLogger(e),e}l.__dashjs_factory_name="TTMLParser",n.default=a.default.getSingletonFactory(l),t.exports=n.default},{17:17,45:45,46:46,47:47,54:54}],220:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(210));function o(){var e=void 0,t=[],n=this.context;function r(n,r,a){var i=function(n){var r=void 0;for(r=0;r<t.length;r++)if(t[r].regex.test(n))return t[r].utils;return e}(a||r);return i&&"function"==typeof i[n]?i[n](r,a):e[n](r,a)}return e=(0,i.default)(n).getInstance(),{registerUrlRegex:function(e,n){t.push({regex:e,utils:n})},parseBaseUrl:function(e){return r("parseBaseUrl",e)},parseOrigin:function(e){return r("parseOrigin",e)},parseScheme:function(e){return r("parseScheme",e)},isRelative:function(e){return r("isRelative",e)},isPathAbsolute:function(e){return r("isPathAbsolute",e)},isSchemeRelative:function(e){return r("isSchemeRelative",e)},isHTTPURL:function(e){return r("isHTTPURL",e)},isHTTPS:function(e){return r("isHTTPS",e)},removeHostname:function(e){return r("removeHostname",e)},resolve:function(e,t){return r("resolve",e,t)}}}o.__dashjs_factory_name="URLUtils";var s=a.default.getSingletonFactory(o);n.default=s,t.exports=n.default},{210:210,47:47}],221:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}(0,X.default)(n,"__esModule",{value:!0});var a=r(e(47)),i=r(e(45));function o(){var e,t=this.context,n=void 0,r=void 0,a=void 0,o=void 0,s=void 0;function u(e){var t=e.split(":"),n=t.length-1;return e=60*(0,B.default)(t[n-1],10)+(0,O.default)(t[n]),2==n&&(e+=3600*(0,B.default)(t[0],10)),e}return e={parse:function(e){var t,i=[],l=void 0;if(!e)return i;t=(e=e.split(r)).length,l=-1;for(var f,d,c=0;c<t;c++){var h,p,g,m,v,_,E=e[c];0<E.length&&"WEBVTT"!==E&&E.match(a)&&(d=f=void 0,(d=(f=E.split(a))[1].split(s)).shift(),f[1]=d[0],d.shift(),p=(h={cuePoints:f,styles:function(e){var t={};return(0,A.default)(e).call(e,(function(e){var n;1<e.split(/:/).length&&((n=e.split(/:/)[1])&&-1!=n.search(/%/)&&(n=(0,B.default)(n.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=n),(e.match(/line/)||e.match(/L/))&&(t.line=n),(e.match(/position/)||e.match(/P/))&&(t.position=n),(e.match(/size/)||e.match(/S/))&&(t.size=n))})),t}(d)}).cuePoints,g=h.styles,m=function(e,t){for(var n,r=t,i="",o="";""!==e[r]&&r<e.length;)r++;if(1<(n=r-t))for(var s=0;s<n;s++){if((o=e[t+s]).match(a)){i="";break}i+=o,s!==n-1&&(i+="\n")}else(o=e[t]).match(a)||(i=o);return i}(e,c+1),v=u(p[0].replace(o,"")),_=u(p[1].replace(o,"")),!isNaN(v)&&!isNaN(_)&&l<=v&&v<_?""!==m?(l=v,i.push({start:v,end:_,data:m,styles:g})):n.error("Skipping cue due to empty/malformed cue text"):n.error("Skipping cue due to incorrect cue timing"))}return i}},n=(0,i.default)(t).getInstance().getLogger(e),r=/(?:\r\n|\r|\n)/gm,a=/-->/,o=/(^[\s]+|[\s]+$)/g,s=/\s\b/g,e}o.__dashjs_factory_name="VTTParser",n.default=a.default.getSingletonFactory(o),t.exports=n.default},{45:45,47:47}],222:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(47))&&r.__esModule?r:{default:r};function i(e){var t=(e=e||{}).blacklistController;return{select:function(e){var n=0,r=void 0;return e&&(0,y.default)(e).call(e,(function(e,r){return n=r,!t.contains(e.serviceLocation)}))&&(r=e[n]),r}}}i.__dashjs_factory_name="BasicSelector",n.default=a.default.getClassFactory(i),t.exports=n.default},{47:47}],223:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var a,i=(a=e(47))&&a.__esModule?a:{default:a};function o(e){var t=(e=e||{}).blacklistController;return{select:function(e){var n,a;return e&&function(e){var t,n,a,i=0,o=[],s=0;if((a=(0,I.default)(t=(0,m.default)(e).call(e,(function(e,t){var n=e.dvb_priority-t.dvb_priority;return isNaN(n)?0:n}))).call(t,(function(e,t,n){return!t||n[0].dvb_priority&&e.dvb_priority&&n[0].dvb_priority===e.dvb_priority}))).length)return 1<a.length&&((0,A.default)(a).call(a,(function(e){i+=e.dvb_weight,o.push(i)})),n=Math.floor(Math.random()*(i-1)),(0,r.default)(o).call(o,(function(e,t){return s=t,!(n<e)}))),a[s]}((a=[],(0,I.default)(n=(0,I.default)(e).call(e,(function(e){return!t.contains(e.serviceLocation)||(e.dvb_priority&&a.push(e.dvb_priority),!1)}))).call(n,(function(e){return!a.length||!e.dvb_priority||-1===(0,W.default)(a).call(a,e.dvb_priority)}))))}}}o.__dashjs_factory_name="DVBSelector",n.default=i.default.getClassFactory(o),t.exports=n.default},{47:47}],224:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN},t.exports=n.default},{}],225:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.code=t||null,this.message=n||null,this.data=r||null},t.exports=n.default},{}],226:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},t.exports=n.default},{}],227:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}var a=e(241),i=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(o,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===a.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(e){this.type=e&&e.init?a.HTTPRequest.INIT_SEGMENT_TYPE:a.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=e&&e.url?e.url:null,this.range=e&&e.range?e.range.start+"-"+e.range.end:null,this.mediaType=e&&e.mediaType?e.mediaType:null}}]),o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.action=o.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=e||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}i.ACTION_DOWNLOAD="download",i.ACTION_COMPLETE="complete",n.default=i,t.exports=n.default},{241:241}],228:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(i,((r=e(227))&&r.__esModule?r:{default:r}).default),i);function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}}((0,w.default)(i.prototype),"constructor",this).call(this,e),this.checkForExistenceOnly=!0}n.default=a,t.exports=n.default},{227:227}],229:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,X.default)(e,r.key,r)}}(0,X.default)(n,"__esModule",{value:!0});var a=(function(e,t,n){t&&r(e.prototype,t)}(o,[{key:"getChildBox",value:function(e){for(var t=0;t<this.boxes.length;t++)if(this.boxes[t].type===e)return this.boxes[t]}},{key:"getChildBoxes",value:function(e){for(var t=[],n=0;n<this.boxes.length;n++)this.boxes[n].type===e&&t.push(this.boxes[n]);return t}}]),o);function o(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.offset=e._offset,this.type=e.type,this.size=e.size,this.boxes=[],e.boxes)for(var t=0;t<e.boxes.length;t++)this.boxes.push(new o(e.boxes[t]));switch(this.isComplete=!0,e.type){case"sidx":if(this.timescale=e.timescale,this.earliest_presentation_time=e.earliest_presentation_time,this.first_offset=e.first_offset,this.references=e.references,e.references)for(this.references=[],t=0;t<e.references.length;t++){var n={reference_type:e.references[t].reference_type,referenced_size:e.references[t].referenced_size,subsegment_duration:e.references[t].subsegment_duration};this.references.push(n)}break;case"emsg":this.id=e.id,this.value=e.value,this.timescale=e.timescale,this.scheme_id_uri=e.scheme_id_uri,this.presentation_time_delta=1===e.version?e.presentation_time:e.presentation_time_delta,this.event_duration=e.event_duration,this.message_data=e.message_data;break;case"mdhd":this.timescale=e.timescale;break;case"mfhd":this.sequence_number=e.sequence_number;break;case"subs":this.entry_count=e.entry_count,this.entries=(0,i.default)(e);break;case"tfhd":this.base_data_offset=e.base_data_offset,this.sample_description_index=e.sample_description_index,this.default_sample_duration=e.default_sample_duration,this.default_sample_size=e.default_sample_size,this.default_sample_flags=e.default_sample_flags,this.flags=(0,U.default)(e);break;case"tfdt":this.version=e.version,this.baseMediaDecodeTime=e.baseMediaDecodeTime,this.flags=(0,U.default)(e);break;case"trun":if(this.sample_count=e.sample_count,this.first_sample_flags=e.first_sample_flags,this.data_offset=e.data_offset,this.flags=(0,U.default)(e),this.samples=e.samples,e.samples){this.samples=[];t=0;for(var r=e.samples.length;t<r;t++){var a={sample_size:e.samples[t].sample_size,sample_duration:e.samples[t].sample_duration,sample_composition_time_offset:e.samples[t].sample_composition_time_offset};this.samples.push(a)}}}}n.default=a,t.exports=n.default},{}],230:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastCompletedOffset=t,this.found=n,this.size=r},t.exports=n.default},{}],231:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},t.exports=n.default},{}],232:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}var a=r(e(108)),i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,j.default)(t));e.prototype=(0,F.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(v.default?(0,v.default)(e,t):e.__proto__=t)}(o,r(e(227)).default),o);function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,n){for(o=!0;o;){var r=e,a=t,i=n,o=!1;null===r&&(r=Function.prototype);var s=(0,_.default)(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=(0,w.default)(r);if(null===l)return;e=l,t=a,n=i,o=!0,s=void 0}}((0,w.default)(o.prototype),"constructor",this).call(this),this.url=e||null,this.type=t||null,this.mediaType=a.default.STREAM,this.responseType=""}n.default=i,t.exports=n.default},{108:108,227:227}],233:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1},t.exports=n.default},{}],234:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},t.exports=n.default},{}],235:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""},t.exports=n.default},{}],236:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null},t.exports=n.default},{}],237:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.level=null},t.exports=n.default},{}],238:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0});var r,a=(r=e(109))&&r.__esModule?r:{default:r};n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=null,this.state=a.default.BUFFER_EMPTY},t.exports=n.default},{109:109}],239:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.time=null,this.range=null,this.manifestInfo=null},t.exports=n.default},{}],240:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.time=null,this.droppedFrames=null},t.exports=n.default},{}],241:[function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){r(this,a),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null}(0,X.default)(n,"__esModule",{value:!0}),a.GET="GET",a.HEAD="HEAD",a.MPD_TYPE="MPD",a.XLINK_EXPANSION_TYPE="XLinkExpansion",a.INIT_SEGMENT_TYPE="InitializationSegment",a.INDEX_SEGMENT_TYPE="IndexSegment",a.MEDIA_SEGMENT_TYPE="MediaSegment",a.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",a.OTHER_TYPE="other",n.HTTPRequest=a,n.HTTPRequestTrace=function e(){r(this,e),this.s=null,this.d=null,this.b=[]}},{}],242:[function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(0,X.default)(n,"__esModule",{value:!0}),n.ManifestUpdate=function e(){r(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},n.ManifestUpdateStreamInfo=function e(){r(this,e),this.id=null,this.index=null,this.start=null,this.duration=null},n.ManifestUpdateRepresentationInfo=function e(){r(this,e),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null}},{}],243:[function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){r(this,a),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]}function i(){r(this,i),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null}(0,X.default)(n,"__esModule",{value:!0}),a.INITIAL_PLAYOUT_START_REASON="initial_playout",a.SEEK_START_REASON="seek",a.RESUME_FROM_PAUSE_START_REASON="resume",a.METRICS_COLLECTION_START_REASON="metrics_collection_start",i.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",i.REBUFFERING_REASON="rebuffering",i.USER_REQUEST_STOP_REASON="user_request",i.END_OF_PERIOD_STOP_REASON="end_of_period",i.END_OF_CONTENT_STOP_REASON="end_of_content",i.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",i.FAILURE_STOP_REASON="failure",n.PlayList=a,n.PlayListTrace=i},{}],244:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.mt=null,this.to=null,this.lto=null},t.exports=n.default},{}],245:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadingRequests=[],this.executedRequests=[]},t.exports=n.default},{}],246:[function(e,t,n){(0,X.default)(n,"__esModule",{value:!0}),n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},t.exports=n.default},{}]},{},[4])}).call(this,n(75))},function(e,t,n){e.exports=n(173)},function(e,t,n){var r=n(174);e.exports=r},function(e,t,n){var r=n(175),a=Array.prototype;e.exports=function(e){var t=e.every;return e===a||e instanceof Array&&t===a.every?r:t}},function(e,t,n){n(176);var r=n(3);e.exports=r("Array").every},function(e,t,n){"use strict";var r=n(0),a=n(28).every,i=n(29),o=n(13),s=i("every"),u=o("every");r({target:"Array",proto:!0,forced:!s||!u},{every:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){e.exports=n(178)},function(e,t,n){n(27);var r=n(179),a=n(23),i=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.entries;return e===i||e instanceof Array&&t===i.entries||o.hasOwnProperty(a(e))?r:t}},function(e,t,n){var r=n(180);e.exports=r},function(e,t,n){n(50);var r=n(3);e.exports=r("Array").entries},function(e,t,n){e.exports=n(182)},function(e,t,n){var r=n(183);e.exports=r},function(e,t,n){var r=n(184),a=String.prototype;e.exports=function(e){var t=e.startsWith;return"string"==typeof e||e===a||e instanceof String&&t===a.startsWith?r:t}},function(e,t,n){n(185);var r=n(3);e.exports=r("String").startsWith},function(e,t,n){"use strict";var r,a=n(0),i=n(35).f,o=n(12),s=n(100),u=n(20),l=n(101),f=n(19),d="".startsWith,c=Math.min,h=l("startsWith");a({target:"String",proto:!0,forced:!!(f||h||(r=i(String.prototype,"startsWith"),!r||r.writable))&&!h},{startsWith:function(e){var t=String(u(this));s(e);var n=o(c(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return d?d.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(7),a=n(24),i=n(2)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},function(e,t,n){e.exports=n(188)},function(e,t,n){n(27);var r=n(189),a=n(23),i=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.keys;return e===i||e instanceof Array&&t===i.keys||o.hasOwnProperty(a(e))?r:t}},function(e,t,n){var r=n(190);e.exports=r},function(e,t,n){n(50);var r=n(3);e.exports=r("Array").keys},function(e,t,n){e.exports=n(192)},function(e,t,n){var r=n(193);e.exports=r},function(e,t,n){n(92),n(32),n(27),n(194),n(198),n(199);var r=n(1);e.exports=r.Promise},function(e,t,n){"use strict";var r,a,i,o,s=n(0),u=n(19),l=n(4),f=n(17),d=n(102),c=n(26),h=n(103),p=n(22),g=n(195),m=n(7),v=n(21),_=n(69),E=n(24),y=n(80),T=n(104),S=n(107),A=n(108),I=n(109).set,R=n(196),b=n(111),w=n(197),M=n(70),D=n(112),C=n(34),N=n(82),O=n(2),L=n(65),x=O("species"),P="Promise",F=C.get,U=C.set,k=C.getterFor(P),B=d,G=l.TypeError,q=l.document,Y=l.process,K=f("fetch"),H=M.f,V=H,j="process"==E(Y),z=!!(q&&q.createEvent&&l.dispatchEvent),W=N(P,(function(){if(!(y(B)!==String(B))){if(66===L)return!0;if(!j&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!B.prototype.finally)return!0;if(L>=51&&/native code/.test(B))return!1;var e=B.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[x]=t,!(e.then((function(){}))instanceof t)})),X=W||!S((function(e){B.all(e).catch((function(){}))})),Q=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},Z=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;R((function(){for(var a=t.value,i=1==t.state,o=0;r.length>o;){var s,u,l,f=r[o++],d=i?f.ok:f.fail,c=f.resolve,h=f.reject,p=f.domain;try{d?(i||(2===t.rejection&&te(e,t),t.rejection=1),!0===d?s=a:(p&&p.enter(),s=d(a),p&&(p.exit(),l=!0)),s===f.promise?h(G("Promise-chain cycle")):(u=Q(s))?u.call(s,c,h):c(s)):h(a)}catch(e){p&&!l&&p.exit(),h(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&J(e,t)}))}},$=function(e,t,n){var r,a;z?((r=q.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},(a=l["on"+e])?a(r):"unhandledrejection"===e&&w("Unhandled promise rejection",n)},J=function(e,t){I.call(l,(function(){var n,r=t.value;if(ee(t)&&(n=D((function(){j?Y.emit("unhandledRejection",r,e):$("unhandledrejection",e,r)})),t.rejection=j||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){I.call(l,(function(){j?Y.emit("rejectionHandled",e):$("rejectionhandled",e,t.value)}))},ne=function(e,t,n,r){return function(a){e(t,n,a,r)}},re=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Z(e,t,!0))},ae=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw G("Promise can't be resolved itself");var a=Q(n);a?R((function(){var r={done:!1};try{a.call(n,ne(ae,e,r,t),ne(re,e,r,t))}catch(n){re(e,r,n,t)}})):(t.value=n,t.state=1,Z(e,t,!1))}catch(n){re(e,{done:!1},n,t)}}};W&&(B=function(e){_(this,B,P),v(e),r.call(this);var t=F(this);try{e(ne(ae,this,t),ne(re,this,t))}catch(e){re(this,t,e)}},(r=function(e){U(this,{type:P,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(B.prototype,{then:function(e,t){var n=k(this),r=H(A(this,B));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=j?Y.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Z(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r,t=F(e);this.promise=e,this.resolve=ne(ae,e,t),this.reject=ne(re,e,t)},M.f=H=function(e){return e===B||e===i?new a(e):V(e)},u||"function"!=typeof d||(o=d.prototype.then,c(d.prototype,"then",(function(e,t){var n=this;return new B((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof K&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return b(B,K.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:W},{Promise:B}),p(B,P,!1,!0),g(P),i=f(P),s({target:P,stat:!0,forced:W},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),s({target:P,stat:!0,forced:u||W},{resolve:function(e){return b(u&&this===i?B:this,e)}}),s({target:P,stat:!0,forced:X},{all:function(e){var t=this,n=H(t),r=n.resolve,a=n.reject,i=D((function(){var n=v(t.resolve),i=[],o=0,s=1;T(e,(function(e){var u=o++,l=!1;i.push(void 0),s++,n.call(t,e).then((function(e){l||(l=!0,i[u]=e,--s||r(i))}),a)})),--s||r(i)}));return i.error&&a(i.value),n.promise},race:function(e){var t=this,n=H(t),r=n.reject,a=D((function(){var a=v(t.resolve);T(e,(function(e){a.call(t,e).then(n.resolve,r)}))}));return a.error&&r(a.value),n.promise}})},function(e,t,n){"use strict";var r=n(17),a=n(16),i=n(2),o=n(8),s=i("species");e.exports=function(e){var t=r(e),n=a.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r,a,i,o,s,u,l,f,d=n(4),c=n(35).f,h=n(24),p=n(109).set,g=n(110),m=d.MutationObserver||d.WebKitMutationObserver,v=d.process,_=d.Promise,E="process"==h(v),y=c(d,"queueMicrotask"),T=y&&y.value;T||(r=function(){var e,t;for(E&&(e=v.domain)&&e.exit();a;){t=a.fn,a=a.next;try{t()}catch(e){throw a?o():i=void 0,e}}i=void 0,e&&e.enter()},E?o=function(){v.nextTick(r)}:m&&!g?(s=!0,u=document.createTextNode(""),new m(r).observe(u,{characterData:!0}),o=function(){u.data=s=!s}):_&&_.resolve?(l=_.resolve(void 0),f=l.then,o=function(){f.call(l,r)}):o=function(){p.call(d,r)}),e.exports=T||function(e){var t={fn:e,next:void 0};i&&(i.next=t),a||(a=t,o()),i=t}},function(e,t,n){var r=n(4);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){"use strict";var r=n(0),a=n(21),i=n(70),o=n(112),s=n(104);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=i.f(t),r=n.resolve,u=n.reject,l=o((function(){var n=a(t.resolve),i=[],o=0,u=1;s(e,(function(e){var a=o++,s=!1;i.push(void 0),u++,n.call(t,e).then((function(e){s||(s=!0,i[a]={status:"fulfilled",value:e},--u||r(i))}),(function(e){s||(s=!0,i[a]={status:"rejected",reason:e},--u||r(i))}))})),--u||r(i)}));return l.error&&u(l.value),n.promise}})},function(e,t,n){"use strict";var r=n(0),a=n(19),i=n(102),o=n(5),s=n(17),u=n(108),l=n(111),f=n(26);r({target:"Promise",proto:!0,real:!0,forced:!!i&&o((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),a||"function"!=typeof i||i.prototype.finally||f(i.prototype,"finally",s("Promise").prototype.finally)},function(e,t,n){e.exports=n(201)},function(e,t,n){var r=n(202);e.exports=r},function(e,t,n){n(203);var r=n(1);e.exports=r.Number.isFinite},function(e,t,n){n(0)({target:"Number",stat:!0},{isFinite:n(204)})},function(e,t,n){var r=n(4).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},function(e,t,n){e.exports=n(206)},function(e,t,n){var r=n(113);e.exports=r},function(e,t,n){var r=n(0),a=n(114);r({target:"Array",stat:!0,forced:!n(107)((function(e){Array.from(e)}))},{from:a})},function(e,t,n){e.exports=n(209)},function(e,t,n){var r=n(210);e.exports=r},function(e,t,n){n(211);var r=n(1);e.exports=r.Date.now},function(e,t,n){n(0)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(e,t,n){n(27),n(32);var r=n(116);e.exports=r},function(e,t,n){e.exports=n(214)},function(e,t,n){var r=n(215);e.exports=r},function(e,t,n){n(216),e.exports=9007199254740991},function(e,t,n){n(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){e.exports=n(218)},function(e,t,n){var r=n(219);e.exports=r},function(e,t,n){n(220);var r=n(1);e.exports=r.Number.isInteger},function(e,t,n){n(0)({target:"Number",stat:!0},{isInteger:n(221)})},function(e,t,n){var r=n(7),a=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&a(e)===e}},function(e,t,n){var r=n(223);e.exports=r},function(e,t,n){var r=n(224),a=Array.prototype;e.exports=function(e){var t=e.sort;return e===a||e instanceof Array&&t===a.sort?r:t}},function(e,t,n){n(225);var r=n(3);e.exports=r("Array").sort},function(e,t,n){"use strict";var r=n(0),a=n(21),i=n(11),o=n(5),s=n(29),u=[],l=u.sort,f=o((function(){u.sort(void 0)})),d=o((function(){u.sort(null)})),c=s("sort");r({target:"Array",proto:!0,forced:f||!d||!c},{sort:function(e){return void 0===e?l.call(i(this)):l.call(i(this),a(e))}})},function(e,t,n){e.exports=n(227)},function(e,t,n){var r=n(228);e.exports=r},function(e,t,n){n(229);var r=n(1);e.exports=r.Object.setPrototypeOf},function(e,t,n){n(0)({target:"Object",stat:!0},{setPrototypeOf:n(88)})},function(e,t,n){var r=n(231);e.exports=r},function(e,t,n){n(232);var r=n(1).Object,a=e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)};r.getOwnPropertyDescriptor.sham&&(a.sham=!0)},function(e,t,n){var r=n(0),a=n(5),i=n(14),o=n(35).f,s=n(8),u=a((function(){o(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(i(e),t)}})},function(e,t,n){e.exports=n(234)},function(e,t,n){var r=n(235);e.exports=r},function(e,t,n){n(236),n(238),n(120);var r=n(1);e.exports=r.URL},function(e,t,n){"use strict";n(32);var r,a=n(0),i=n(8),o=n(119),s=n(4),u=n(60),l=n(26),f=n(69),d=n(9),c=n(98),h=n(114),p=n(79).codeAt,g=n(237),m=n(22),v=n(120),_=n(34),E=s.URL,y=v.URLSearchParams,T=v.getState,S=_.set,A=_.getterFor("URL"),I=Math.floor,R=Math.pow,b=/[A-Za-z]/,w=/[\d+-.A-Za-z]/,M=/\d/,D=/^(0x|0X)/,C=/^[0-7]+$/,N=/^\d+$/,O=/^[\dA-Fa-f]+$/,L=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,x=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,P=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\u0009\u000A\u000D]/g,U=function(e,t){var n,r,a;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=B(t.slice(1,-1))))return"Invalid host";e.host=n}else if(z(e)){if(t=g(t),L.test(t))return"Invalid host";if(null===(n=k(t)))return"Invalid host";e.host=n}else{if(x.test(t))return"Invalid host";for(n="",r=h(t),a=0;a<r.length;a++)n+=V(r[a],q);e.host=n}},k=function(e){var t,n,r,a,i,o,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(a=u[r]))return e;if(i=10,a.length>1&&"0"==a.charAt(0)&&(i=D.test(a)?16:8,a=a.slice(8==i?1:2)),""===a)o=0;else{if(!(10==i?N:8==i?C:O).test(a))return e;o=parseInt(a,i)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=R(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*R(256,3-r);return s},B=function(e){var t,n,r,a,i,o,s,u=[0,0,0,0,0,0,0,0],l=0,f=null,d=0,c=function(){return e.charAt(d)};if(":"==c()){if(":"!=e.charAt(1))return;d+=2,f=++l}for(;c();){if(8==l)return;if(":"!=c()){for(t=n=0;n<4&&O.test(c());)t=16*t+parseInt(c(),16),d++,n++;if("."==c()){if(0==n)return;if(d-=n,l>6)return;for(r=0;c();){if(a=null,r>0){if(!("."==c()&&r<4))return;d++}if(!M.test(c()))return;for(;M.test(c());){if(i=parseInt(c(),10),null===a)a=i;else{if(0==a)return;a=10*a+i}if(a>255)return;d++}u[l]=256*u[l]+a,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==c()){if(d++,!c())return}else if(c())return;u[l++]=t}else{if(null!==f)return;d++,f=++l}}if(null!==f)for(o=l-f,l=7;0!=l&&o>0;)s=u[l],u[l--]=u[f+o-1],u[f+--o]=s;else if(8!=l)return;return u},G=function(e){var t,n,r,a;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=I(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,a=0,i=0;i<8;i++)0!==e[i]?(a>n&&(t=r,n=a),r=null,a=0):(null===r&&(r=i),++a);return a>n&&(t=r,n=a),t}(e),n=0;n<8;n++)a&&0===e[n]||(a&&(a=!1),r===n?(t+=n?":":"::",a=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},q={},Y=c({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),K=c({},Y,{"#":1,"?":1,"{":1,"}":1}),H=c({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),V=function(e,t){var n=p(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},j={ftp:21,file:null,http:80,https:443,ws:80,wss:443},z=function(e){return d(j,e.scheme)},W=function(e){return""!=e.username||""!=e.password},X=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Q=function(e,t){var n;return 2==e.length&&b.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Z=function(e){var t;return e.length>1&&Q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},$=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Q(t[0],!0)||t.pop()},J=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},re={},ae={},ie={},oe={},se={},ue={},le={},fe={},de={},ce={},he={},pe={},ge={},me={},ve={},_e={},Ee={},ye={},Te=function(e,t,n,a){var i,o,s,u,l,f=n||ee,c=0,p="",g=!1,m=!1,v=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(P,"")),t=t.replace(F,""),i=h(t);c<=i.length;){switch(o=i[c],f){case ee:if(!o||!b.test(o)){if(n)return"Invalid scheme";f=ne;continue}p+=o.toLowerCase(),f=te;break;case te:if(o&&(w.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";p="",f=ne,c=0;continue}if(n&&(z(e)!=d(j,p)||"file"==p&&(W(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(z(e)&&j[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?f=he:z(e)&&a&&a.scheme==e.scheme?f=re:z(e)?f=se:"/"==i[c+1]?(f=ae,c++):(e.cannotBeABaseURL=!0,e.path.push(""),f=_e)}break;case ne:if(!a||a.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(a.cannotBeABaseURL&&"#"==o){e.scheme=a.scheme,e.path=a.path.slice(),e.query=a.query,e.fragment="",e.cannotBeABaseURL=!0,f=ye;break}f="file"==a.scheme?he:ie;continue;case re:if("/"!=o||"/"!=i[c+1]){f=ie;continue}f=ue,c++;break;case ae:if("/"==o){f=le;break}f=ve;continue;case ie:if(e.scheme=a.scheme,o==r)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query;else if("/"==o||"\\"==o&&z(e))f=oe;else if("?"==o)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query="",f=Ee;else{if("#"!=o){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.path.pop(),f=ve;continue}e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query,e.fragment="",f=ye}break;case oe:if(!z(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,f=ve;continue}f=le}else f=ue;break;case se:if(f=ue,"/"!=o||"/"!=p.charAt(c+1))continue;c++;break;case ue:if("/"!=o&&"\\"!=o){f=le;continue}break;case le:if("@"==o){g&&(p="%40"+p),g=!0,s=h(p);for(var _=0;_<s.length;_++){var E=s[_];if(":"!=E||v){var y=V(E,H);v?e.password+=y:e.username+=y}else v=!0}p=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&z(e)){if(g&&""==p)return"Invalid authority";c-=h(p).length+1,p="",f=fe}else p+=o;break;case fe:case de:if(n&&"file"==e.scheme){f=ge;continue}if(":"!=o||m){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&z(e)){if(z(e)&&""==p)return"Invalid host";if(n&&""==p&&(W(e)||null!==e.port))return;if(u=U(e,p))return u;if(p="",f=me,n)return;continue}"["==o?m=!0:"]"==o&&(m=!1),p+=o}else{if(""==p)return"Invalid host";if(u=U(e,p))return u;if(p="",f=ce,n==de)return}break;case ce:if(!M.test(o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&z(e)||n){if(""!=p){var T=parseInt(p,10);if(T>65535)return"Invalid port";e.port=z(e)&&T===j[e.scheme]?null:T,p=""}if(n)return;f=me;continue}return"Invalid port"}p+=o;break;case he:if(e.scheme="file","/"==o||"\\"==o)f=pe;else{if(!a||"file"!=a.scheme){f=ve;continue}if(o==r)e.host=a.host,e.path=a.path.slice(),e.query=a.query;else if("?"==o)e.host=a.host,e.path=a.path.slice(),e.query="",f=Ee;else{if("#"!=o){Z(i.slice(c).join(""))||(e.host=a.host,e.path=a.path.slice(),$(e)),f=ve;continue}e.host=a.host,e.path=a.path.slice(),e.query=a.query,e.fragment="",f=ye}}break;case pe:if("/"==o||"\\"==o){f=ge;break}a&&"file"==a.scheme&&!Z(i.slice(c).join(""))&&(Q(a.path[0],!0)?e.path.push(a.path[0]):e.host=a.host),f=ve;continue;case ge:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Q(p))f=ve;else if(""==p){if(e.host="",n)return;f=me}else{if(u=U(e,p))return u;if("localhost"==e.host&&(e.host=""),n)return;p="",f=me}continue}p+=o;break;case me:if(z(e)){if(f=ve,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=r&&(f=ve,"/"!=o))continue}else e.fragment="",f=ye;else e.query="",f=Ee;break;case ve:if(o==r||"/"==o||"\\"==o&&z(e)||!n&&("?"==o||"#"==o)){if(".."===(l=(l=p).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?($(e),"/"==o||"\\"==o&&z(e)||e.path.push("")):J(p)?"/"==o||"\\"==o&&z(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Q(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(o==r||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",f=Ee):"#"==o&&(e.fragment="",f=ye)}else p+=V(o,K);break;case _e:"?"==o?(e.query="",f=Ee):"#"==o?(e.fragment="",f=ye):o!=r&&(e.path[0]+=V(o,q));break;case Ee:n||"#"!=o?o!=r&&("'"==o&&z(e)?e.query+="%27":e.query+="#"==o?"%23":V(o,q)):(e.fragment="",f=ye);break;case ye:o!=r&&(e.fragment+=V(o,Y))}c++}},Se=function(e){var t,n,r=f(this,Se,"URL"),a=arguments.length>1?arguments[1]:void 0,o=String(e),s=S(r,{type:"URL"});if(void 0!==a)if(a instanceof Se)t=A(a);else if(n=Te(t={},String(a)))throw TypeError(n);if(n=Te(s,o,null,t))throw TypeError(n);var u=s.searchParams=new y,l=T(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},i||(r.href=Ie.call(r),r.origin=Re.call(r),r.protocol=be.call(r),r.username=we.call(r),r.password=Me.call(r),r.host=De.call(r),r.hostname=Ce.call(r),r.port=Ne.call(r),r.pathname=Oe.call(r),r.search=Le.call(r),r.searchParams=xe.call(r),r.hash=Pe.call(r))},Ae=Se.prototype,Ie=function(){var e=A(this),t=e.scheme,n=e.username,r=e.password,a=e.host,i=e.port,o=e.path,s=e.query,u=e.fragment,l=t+":";return null!==a?(l+="//",W(e)&&(l+=n+(r?":"+r:"")+"@"),l+=G(a),null!==i&&(l+=":"+i)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Re=function(){var e=A(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&z(e)?t+"://"+G(e.host)+(null!==n?":"+n:""):"null"},be=function(){return A(this).scheme+":"},we=function(){return A(this).username},Me=function(){return A(this).password},De=function(){var e=A(this),t=e.host,n=e.port;return null===t?"":null===n?G(t):G(t)+":"+n},Ce=function(){var e=A(this).host;return null===e?"":G(e)},Ne=function(){var e=A(this).port;return null===e?"":String(e)},Oe=function(){var e=A(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Le=function(){var e=A(this).query;return e?"?"+e:""},xe=function(){return A(this).searchParams},Pe=function(){var e=A(this).fragment;return e?"#"+e:""},Fe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&u(Ae,{href:Fe(Ie,(function(e){var t=A(this),n=String(e),r=Te(t,n);if(r)throw TypeError(r);T(t.searchParams).updateSearchParams(t.query)})),origin:Fe(Re),protocol:Fe(be,(function(e){var t=A(this);Te(t,String(e)+":",ee)})),username:Fe(we,(function(e){var t=A(this),n=h(String(e));if(!X(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=V(n[r],H)}})),password:Fe(Me,(function(e){var t=A(this),n=h(String(e));if(!X(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=V(n[r],H)}})),host:Fe(De,(function(e){var t=A(this);t.cannotBeABaseURL||Te(t,String(e),fe)})),hostname:Fe(Ce,(function(e){var t=A(this);t.cannotBeABaseURL||Te(t,String(e),de)})),port:Fe(Ne,(function(e){var t=A(this);X(t)||(""==(e=String(e))?t.port=null:Te(t,e,ce))})),pathname:Fe(Oe,(function(e){var t=A(this);t.cannotBeABaseURL||(t.path=[],Te(t,e+"",me))})),search:Fe(Le,(function(e){var t=A(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Te(t,e,Ee)),T(t.searchParams).updateSearchParams(t.query)})),searchParams:Fe(xe),hash:Fe(Pe,(function(e){var t=A(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Te(t,e,ye)):t.fragment=null}))}),l(Ae,"toJSON",(function(){return Ie.call(this)}),{enumerable:!0}),l(Ae,"toString",(function(){return Ie.call(this)}),{enumerable:!0}),E){var Ue=E.createObjectURL,ke=E.revokeObjectURL;Ue&&l(Se,"createObjectURL",(function(e){return Ue.apply(E,arguments)})),ke&&l(Se,"revokeObjectURL",(function(e){return ke.apply(E,arguments)}))}m(Se,"URL"),a({global:!0,forced:!o,sham:!i},{URL:Se})},function(e,t,n){"use strict";var r=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,u=function(e){return e+22+75*(e<26)},l=function(e,t,n){var r=0;for(e=n?o(e/700):e>>1,e+=o(e/t);e>455;r+=36)e=o(e/35);return o(r+36*e/(e+38))},f=function(e){var t,n,r=[],a=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&a)<<10)+(1023&i)+65536):(t.push(a),n--)}else t.push(a)}return t}(e)).length,f=128,d=0,c=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(s(n));var h=r.length,p=h;for(h&&r.push("-");p<a;){var g=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=f&&n<g&&(g=n);var m=p+1;if(g-f>o((2147483647-d)/m))throw RangeError(i);for(d+=(g-f)*m,f=g,t=0;t<e.length;t++){if((n=e[t])<f&&++d>2147483647)throw RangeError(i);if(n==f){for(var v=d,_=36;;_+=36){var E=_<=c?1:_>=c+26?26:_-c;if(v<E)break;var y=v-E,T=36-E;r.push(s(u(E+y%T))),v=o(y/T)}r.push(s(u(v))),c=l(d,m,p==h),d=0,++p}}++d,++f}return r.join("")};e.exports=function(e){var t,n,i=[],o=e.toLowerCase().replace(a,".").split(".");for(t=0;t<o.length;t++)n=o[t],i.push(r.test(n)?"xn--"+f(n):n);return i.join(".")}},function(e,t){},function(e,t,n){e.exports=n(240)},function(e,t,n){var r=n(241);e.exports=r},function(e,t,n){var r=n(242),a=Array.prototype;e.exports=function(e){var t=e.some;return e===a||e instanceof Array&&t===a.some?r:t}},function(e,t,n){n(243);var r=n(3);e.exports=r("Array").some},function(e,t,n){"use strict";var r=n(0),a=n(28).some,i=n(29),o=n(13),s=i("some"),u=o("some");r({target:"Array",proto:!0,forced:!s||!u},{some:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(97);var r=n(1);e.exports=r.setInterval},function(e,t,n){e.exports=n(246)},function(e,t,n){var r=n(247);e.exports=r},function(e,t,n){var r=n(248),a=Array.prototype;e.exports=function(e){var t=e.reduce;return e===a||e instanceof Array&&t===a.reduce?r:t}},function(e,t,n){n(249);var r=n(3);e.exports=r("Array").reduce},function(e,t,n){"use strict";var r=n(0),a=n(250).left,i=n(29),o=n(13),s=i("reduce"),u=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function(e){return a(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(21),a=n(11),i=n(46),o=n(12),s=function(e){return function(t,n,s,u){r(n);var l=a(t),f=i(l),d=o(l.length),c=e?d-1:0,h=e?-1:1;if(s<2)for(;;){if(c in f){u=f[c],c+=h;break}if(c+=h,e?c<0:d<=c)throw TypeError("Reduce of empty array with no initial value")}for(;e?c>=0:d>c;c+=h)c in f&&(u=n(u,f[c],c,l));return u}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){n(27);var r=n(252),a=n(23),i=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===i||e instanceof Array&&t===i.forEach||o.hasOwnProperty(a(e))?r:t}},function(e,t,n){var r=n(253);e.exports=r},function(e,t,n){n(254);var r=n(3);e.exports=r("Array").forEach},function(e,t,n){"use strict";var r=n(0),a=n(255);r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},function(e,t,n){"use strict";var r=n(28).forEach,a=n(29),i=n(13),o=a("forEach"),s=i("forEach");e.exports=o&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var r=n(257);e.exports=r},function(e,t,n){var r=n(258),a=Array.prototype;e.exports=function(e){var t=e.filter;return e===a||e instanceof Array&&t===a.filter?r:t}},function(e,t,n){n(259);var r=n(3);e.exports=r("Array").filter},function(e,t,n){"use strict";var r=n(0),a=n(28).filter,i=n(41),o=n(13),s=i("filter"),u=o("filter");r({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){e.exports=n(261)},function(e,t,n){var r=n(262);e.exports=r},function(e,t,n){n(263);var r=n(1);e.exports=r.String.fromCodePoint},function(e,t,n){var r=n(0),a=n(37),i=String.fromCharCode,o=String.fromCodePoint;r({target:"String",stat:!0,forced:!!o&&1!=o.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){e.exports=n(265)},function(e,t,n){var r=n(266);e.exports=r},function(e,t,n){n(94),n(267);var r=n(30);e.exports=r.f("hasInstance")},function(e,t,n){"use strict";var r=n(7),a=n(16),i=n(47),o=n(2)("hasInstance"),s=Function.prototype;o in s||a.f(s,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(269);e.exports=r},function(e,t,n){n(270);var r=n(1);e.exports=r.Object.getPrototypeOf},function(e,t,n){var r=n(0),a=n(5),i=n(11),o=n(47),s=n(85);r({target:"Object",stat:!0,forced:a((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){var r=n(272);e.exports=r},function(e,t,n){var r=n(273),a=Array.prototype;e.exports=function(e){var t=e.concat;return e===a||e instanceof Array&&t===a.concat?r:t}},function(e,t,n){n(91);var r=n(3);e.exports=r("Array").concat},function(e,t,n){var r=n(275);e.exports=r},function(e,t,n){var r=n(276),a=Array.prototype;e.exports=function(e){var t=e.map;return e===a||e instanceof Array&&t===a.map?r:t}},function(e,t,n){n(277);var r=n(3);e.exports=r("Array").map},function(e,t,n){"use strict";var r=n(0),a=n(28).map,i=n(41),o=n(13),s=i("map"),u=o("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){e.exports=n(279)},function(e,t,n){var r=n(280);e.exports=r},function(e,t,n){n(281);var r=n(1);e.exports=r.Math.sign},function(e,t,n){n(0)({target:"Math",stat:!0},{sign:n(282)})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){e.exports=n(284)},function(e,t,n){var r=n(285);e.exports=r},function(e,t,n){n(286);var r=n(1);e.exports=r.parseFloat},function(e,t,n){var r=n(0),a=n(287);r({global:!0,forced:parseFloat!=a},{parseFloat:a})},function(e,t,n){var r=n(4),a=n(72).trim,i=n(54),o=r.parseFloat,s=1/o(i+"-0")!=-1/0;e.exports=s?function(e){var t=a(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},function(e,t,n){e.exports=n(289)},function(e,t,n){var r=n(290);e.exports=r},function(e,t,n){n(291);var r=n(1);e.exports=r.Reflect.ownKeys},function(e,t,n){n(0)({target:"Reflect",stat:!0},{ownKeys:n(126)})},function(e,t,n){e.exports=n(293)},function(e,t,n){var r=n(294);e.exports=r},function(e,t,n){var r=n(295),a=Function.prototype;e.exports=function(e){var t=e.bind;return e===a||e instanceof Function&&t===a.bind?r:t}},function(e,t,n){n(296);var r=n(3);e.exports=r("Function").bind},function(e,t,n){n(0)({target:"Function",proto:!0},{bind:n(297)})},function(e,t,n){"use strict";var r=n(21),a=n(7),i=[].slice,o={},s=function(e,t,n){if(!(t in o)){for(var r=[],a=0;a<t;a++)r[a]="a["+a+"]";o[t]=Function("C,a","return new C("+r.join(",")+")")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=i.call(arguments,1),o=function(){var r=n.concat(i.call(arguments));return this instanceof o?s(t,r.length,r):t.apply(e,r)};return a(t.prototype)&&(o.prototype=t.prototype),o}},function(e,t,n){var r=n(299);e.exports=r},function(e,t,n){n(300);var r=n(1);e.exports=r.Object.keys},function(e,t,n){var r=n(0),a=n(11),i=n(49);r({target:"Object",stat:!0,forced:n(5)((function(){i(1)}))},{keys:function(e){return i(a(e))}})},function(e,t,n){e.exports=n(302)},function(e,t,n){var r=n(303);e.exports=r},function(e,t,n){var r=n(304),a=RegExp.prototype;e.exports=function(e){return(e===a||e instanceof RegExp)&&!("flags"in e)?r(e):e.flags}},function(e,t,n){n(305);var r=n(306);e.exports=function(e){return r.call(e)}},function(e,t){},function(e,t,n){"use strict";var r=n(10);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){e.exports=n(308)},function(e,t,n){var r=n(309);e.exports=r},function(e,t,n){var r=n(310),a=Array.prototype;e.exports=function(e){var t=e.copyWithin;return e===a||e instanceof Array&&t===a.copyWithin?r:t}},function(e,t,n){n(311);var r=n(3);e.exports=r("Array").copyWithin},function(e,t,n){var r=n(0),a=n(312),i=n(38);r({target:"Array",proto:!0},{copyWithin:a}),i("copyWithin")},function(e,t,n){"use strict";var r=n(11),a=n(37),i=n(12),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=i(n.length),u=a(e,s),l=a(t,s),f=arguments.length>2?arguments[2]:void 0,d=o((void 0===f?s:a(f,s))-l,s-u),c=1;for(l<u&&u<l+d&&(c=-1,l+=d-1,u+=d-1);d-- >0;)l in n?n[u]=n[l]:delete n[u],u+=c,l+=c;return n}},function(e,t,n){var r=n(314);e.exports=r},function(e,t,n){n(315);var r=n(1);e.exports=r.parseInt},function(e,t,n){var r=n(0),a=n(316);r({global:!0,forced:parseInt!=a},{parseInt:a})},function(e,t,n){var r=n(4),a=n(72).trim,i=n(54),o=r.parseInt,s=/^[+-]?0[Xx]/,u=8!==o(i+"08")||22!==o(i+"0x16");e.exports=u?function(e,t){var n=a(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},function(e,t,n){e.exports=n(318)},function(e,t,n){var r=n(319);e.exports=r},function(e,t,n){var r=n(320),a=Array.prototype;e.exports=function(e){var t=e.fill;return e===a||e instanceof Array&&t===a.fill?r:t}},function(e,t,n){n(321);var r=n(3);e.exports=r("Array").fill},function(e,t,n){var r=n(0),a=n(322),i=n(38);r({target:"Array",proto:!0},{fill:a}),i("fill")},function(e,t,n){"use strict";var r=n(11),a=n(37),i=n(12);e.exports=function(e){for(var t=r(this),n=i(t.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,l=void 0===u?n:a(u,n);l>s;)t[s++]=e;return t}},function(e,t,n){e.exports=n(324)},function(e,t,n){var r=n(325);e.exports=r},function(e,t,n){n(95);var r=n(30);e.exports=r.f("species")},function(e,t,n){e.exports=n(327)},function(e,t,n){var r=n(328);e.exports=r},function(e,t,n){var r=n(329),a=Array.prototype;e.exports=function(e){var t=e.lastIndexOf;return e===a||e instanceof Array&&t===a.lastIndexOf?r:t}},function(e,t,n){n(330);var r=n(3);e.exports=r("Array").lastIndexOf},function(e,t,n){var r=n(0),a=n(331);r({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},function(e,t,n){"use strict";var r=n(14),a=n(33),i=n(12),o=n(29),s=n(13),u=Math.min,l=[].lastIndexOf,f=!!l&&1/[1].lastIndexOf(1,-0)<0,d=o("lastIndexOf"),c=s("indexOf",{ACCESSORS:!0,1:0}),h=f||!d||!c;e.exports=h?function(e){if(f)return l.apply(this,arguments)||0;var t=r(this),n=i(t.length),o=n-1;for(arguments.length>1&&(o=u(o,a(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:l},function(e,t,n){e.exports=n(333)},function(e,t,n){var r=n(334);e.exports=r},function(e,t,n){n(96);var r=n(30);e.exports=r.f("toPrimitive")},function(e,t,n){e.exports=n(336)},function(e,t,n){var r=n(90);e.exports=r},function(e,t,n){e.exports=n(338)},function(e,t,n){var r=n(129);e.exports=r},function(e,t,n){n(0)({target:"Array",stat:!0},{isArray:n(39)})},function(e,t,n){var r=n(131);e.exports=r},function(e,t,n){n(342);var r=n(3);e.exports=r("Array").slice},function(e,t,n){"use strict";var r=n(0),a=n(7),i=n(39),o=n(37),s=n(12),u=n(14),l=n(40),f=n(2),d=n(41),c=n(13),h=d("slice"),p=c("slice",{ACCESSORS:!0,0:0,1:2}),g=f("species"),m=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!h||!p},{slice:function(e,t){var n,r,f,d=u(this),c=s(d.length),h=o(e,c),p=o(void 0===t?c:t,c);if(i(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!i(n.prototype)?a(n)&&null===(n=n[g])&&(n=void 0):n=void 0,n===Array||void 0===n))return m.call(d,h,p);for(r=new(void 0===n?Array:n)(v(p-h,0)),f=0;h<p;h++,f++)h in d&&l(r,f,d[h]);return r.length=f,r}})},function(e,t,n){e.exports=n(344)},function(e,t,n){var r=n(345);e.exports=r},function(e,t,n){var r=n(346),a=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===a||e instanceof Array&&t===a.indexOf?r:t}},function(e,t,n){n(347);var r=n(3);e.exports=r("Array").indexOf},function(e,t,n){"use strict";var r=n(0),a=n(61).indexOf,i=n(29),o=n(13),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,l=i("indexOf"),f=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!l||!f},{indexOf:function(e){return u?s.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(132);e.exports=r},function(e,t,n){var r=n(0),a=n(8);r({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperty:n(16).f})},function(e,t,n){e.exports=n(351)},function(e,t,n){var r=n(352);e.exports=r},function(e,t,n){var r=n(353),a=String.prototype;e.exports=function(e){var t=e.trim;return"string"==typeof e||e===a||e instanceof String&&t===a.trim?r:t}},function(e,t,n){n(354);var r=n(3);e.exports=r("String").trim},function(e,t,n){"use strict";var r=n(0),a=n(72).trim;r({target:"String",proto:!0,forced:n(355)("trim")},{trim:function(){return a(this)}})},function(e,t,n){var r=n(5),a=n(54);e.exports=function(e){return r((function(){return!!a[e]()||"​᠎"!="​᠎"[e]()||a[e].name!==e}))}},function(e,t,n){e.exports=n(357)},function(e,t,n){var r=n(358);e.exports=r},function(e,t,n){var r=n(359),a=Array.prototype;e.exports=function(e){var t=e.splice;return e===a||e instanceof Array&&t===a.splice?r:t}},function(e,t,n){n(360);var r=n(3);e.exports=r("Array").splice},function(e,t,n){"use strict";var r=n(0),a=n(37),i=n(33),o=n(12),s=n(11),u=n(64),l=n(40),f=n(41),d=n(13),c=f("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min;r({target:"Array",proto:!0,forced:!c||!h},{splice:function(e,t){var n,r,f,d,c,h,m=s(this),v=o(m.length),_=a(e,v),E=arguments.length;if(0===E?n=r=0:1===E?(n=0,r=v-_):(n=E-2,r=g(p(i(t),0),v-_)),v+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(f=u(m,r),d=0;d<r;d++)(c=_+d)in m&&l(f,d,m[c]);if(f.length=r,n<r){for(d=_;d<v-r;d++)h=d+n,(c=d+r)in m?m[h]=m[c]:delete m[h];for(d=v;d>v-r+n;d--)delete m[d-1]}else if(n>r)for(d=v-r;d>_;d--)h=d+n-1,(c=d+r-1)in m?m[h]=m[c]:delete m[h];for(d=0;d<n;d++)m[d+_]=arguments[d+2];return m.length=v-r+n,f}})},function(e,t,n){e.exports=n(362)},function(e,t,n){var r=n(363);e.exports=r},function(e,t,n){n(364);var r=n(1);r.JSON||(r.JSON={stringify:JSON.stringify}),e.exports=function(e,t,n){return r.JSON.stringify.apply(null,arguments)}},function(e,t,n){var r=n(0),a=n(17),i=n(5),o=a("JSON","stringify"),s=/[\uD800-\uDFFF]/g,u=/^[\uD800-\uDBFF]$/,l=/^[\uDC00-\uDFFF]$/,f=function(e,t,n){var r=n.charAt(t-1),a=n.charAt(t+1);return u.test(e)&&!l.test(a)||l.test(e)&&!u.test(r)?"\\u"+e.charCodeAt(0).toString(16):e},d=i((function(){return'"\\udf06\\ud834"'!==o("\udf06\ud834")||'"\\udead"'!==o("\udead")}));o&&r({target:"JSON",stat:!0,forced:d},{stringify:function(e,t,n){var r=o.apply(null,arguments);return"string"==typeof r?r.replace(s,f):r}})},function(e,t,n){"use strict";var r=n(18),a=r(n(130)),i=r(n(73)),o=r(n(71)),s=n(133).utils;e.exports=function(e,t){var n;(0,o.default)(n=["autoplay","controls","paused","loop","ended","duration","currentTime","playbackRate","volume","muted","error","src"]).call(n,(function(n){(0,i.default)(e,n,{get:function(){return t[n]},set:function(){throw"".concat(n," is readOnly")}})})),(0,i.default)(e,"progress",{get:function(){var t;return(0,a.default)(t=(e.currentTime/e.duration).toFixed(4)).call(t,0,6)},set:function(){throw"progress is readOnly"}}),(0,i.default)(e,"formatTime",{get:function(){return s.formatTime(e.currentTime,e.duration)},set:function(){throw"formatTime is readOnly"}}),(0,i.default)(e,"audioTracksList",{get:function(){return e.getTracksFor("audio")},set:function(){throw"audioTracksList is readOnly"}}),(0,i.default)(e,"textTracksList",{get:function(){return e.getTracksFor("text")},set:function(){throw"textTracksList is readOnly"}}),(0,i.default)(e,"videoTracksList",{get:function(){return e.getTracksFor("video")},set:function(){throw"videoTracksList is readOnly"}}),(0,i.default)(e,"pictureinpicture",{get:function(){return e.globalVariable.pictureinpicture},set:function(){throw"pictureinpicture is readOnly"}}),(0,i.default)(e,"Mini",{get:function(){return e.globalVariable.hasMini},set:function(){throw"hasMini is readOnly"}}),(0,i.default)(e,"fullScreen",{get:function(){return e.globalVariable.fullScreen},set:function(){throw"hasMini is readOnly"}})}},function(e,t,n){e.exports=n(367)},function(e,t,n){var r=n(368);e.exports=r},function(e,t,n){var r=n(369),a=String.prototype;e.exports=function(e){var t=e.padStart;return"string"==typeof e||e===a||e instanceof String&&t===a.padStart?r:t}},function(e,t,n){n(370);var r=n(3);e.exports=r("String").padStart},function(e,t,n){"use strict";var r=n(0),a=n(371).start;r({target:"String",proto:!0,forced:n(373)},{padStart:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(12),a=n(372),i=n(20),o=Math.ceil,s=function(e){return function(t,n,s){var u,l,f=String(i(t)),d=f.length,c=void 0===s?" ":String(s),h=r(n);return h<=d||""==c?f:(u=h-d,(l=a.call(c,o(u/c.length))).length>u&&(l=l.slice(0,u)),e?f+l:l+f)}};e.exports={start:s(!1),end:s(!0)}},function(e,t,n){"use strict";var r=n(33),a=n(20);e.exports="".repeat||function(e){var t=String(a(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t,n){var r=n(51);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(e,t,n){"use strict";var r=n(18),a=r(n(73)),i=r(n(375)),o=r(n(379)),s=r(n(118)),u=r(n(122)),l=r(n(383)),f=r(n(127)),d=r(n(124)),c=r(n(386)),h=r(n(42)),p=r(n(68)),g=r(n(401)),m=r(n(408)),v=r(n(125)),_=r(n(71)),E=r(n(117)),y=r(n(411)),T=r(n(123)),S=r(n(52));function A(e,t){var n=(0,f.default)(e);if(l.default){var r=(0,l.default)(e);t&&(r=(0,u.default)(r).call(r,(function(t){return(0,s.default)(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)(0,_.default)(n=A(Object(r),!0)).call(n,(function(t){(0,m.default)(e,t,r[t])}));else if(o.default)(0,i.default)(e,(0,o.default)(r));else{var u;(0,_.default)(u=A(Object(r))).call(u,(function(t){(0,a.default)(e,t,(0,s.default)(r,t))}))}}return e}n(416).playerSettings;var R=n(133),b=R.isNumber,w=R.isString,M=R.isBoolean;e.exports=function(e){var t=e.globalVariable;(0,S.default)(e,{play:function(t){e.once("playbackPlaying",(function(){"function"==typeof t&&t()})),(0,T.default)(e).play()},pause:function(t){e.once("playbackPaused",(function(){"function"==typeof t&&t()})),(0,T.default)(e).pause()},forward:function(t,n){if(!b(t))throw new TypeError("forward( time , callback ?),time must be Number");var r=e.currentTime+t;e.seek(r>e.duration?e.duration:r);e.once("playbackPlaying",(function(){"function"==typeof n&&n()}))},backUp:function(t,n){if(!b(t))throw new TypeError("forward( time , callback ?),time must be Number");var r=e.currentTime-t;e.seek(r<0?0:r);e.once("playbackPlaying",(function(){"function"==typeof n&&n()}))},setSeek:function(t,n){if(!b(t))throw new TypeError("forward( time , callback ?),time must be Number");e.seek(t);e.once("playbackPlaying",(function(){"function"==typeof n&&n()}))},setPlaybackRate:e.setPlaybackRate,setVolume:e.setVolume,setMute:e.setMute,getQuality:function(t){if(t){if(!t||"video"!=t&&"audio"!=t)throw new RangeError('param:type choose from "video" | "audio"');var n,r=e.getQualityFor(t);return(0,y.default)(n=e.getBitrateInfoListFor(t)).call(n,(function(e){return e.qualityIndex==r}))}throw new TypeError("getQuality(type) : type is necessary")},getMaxQuality:function(t){if(t){if(!t||"video"!=t&&"audio"!=t)throw new RangeError('param:type choose from "video" | "audio"');return e.getTopBitrateInfoFor(t)}throw new TypeError("getMaxQuality(type) : type is necessary")},setMaxQuality:function(t,n){if(!t)throw new TypeError("getMaxQuality(type) : type is necessary");if(!t||"video"!=t&&"audio"!=t)throw new RangeError('param:type choose from "video" | "audio"');if(e.updateSettings({streaming:{abr:{useDefaultABRRules:!0,maxBitrate:{audio:-1,video:n}}}}),e.getQuality("video").bitrate/1e3>n){var r,a,i=(0,y.default)(r=(0,E.default)(a=e.getQualityList(t)).call(a,(function(e,t){return t.bitrate-e.bitrate}))).call(r,(function(e){return e.bitrate<=1e3*n}));e.setQuality(t,i.qualityIndex)}},getQualityList:function(t){if(t){if(!t||"video"!=t&&"audio"!=t&&"text"!=t&&"fragmentedText"!=t&&"embeddedText"!=t&&"image"!=t)throw new RangeError('param:type choose from "video" | "audio" | "text" | "fragmentedText" | "embeddedText" | "image" | falsity ');var n;return(0,v.default)(n=e.getBitrateInfoListFor(t)).call(n,(function(e){return I({},e)}))}var r,a={};return(0,_.default)(r=["video","audio","text","fragmentedText","embeddedText","image"]).call(r,(function(t){var n;a[t]=(0,v.default)(n=e.getBitrateInfoListFor(t)).call(n,(function(e){return I({},e)}))})),a},setQuality:function(n,r,a){var i,o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"immediately";if(r>100)throw new TypeError("setQuality(type, qualityIndex,callback?,mode?), qualityIndex:Number from  getQualityList(type?)");if(!n||"video"!=n&&"audio"!=n)throw new RangeError('param:type choose from "video" | "audio"');if(isNaN(r))throw new TypeError("setQuality(type, qualityIndex,callback?,mode?), qualityIndex:Number from  getQualityList(type?)");if(!(0,g.default)(i=(0,v.default)(o=e.getQualityList(n)).call(o,(function(e){return e.qualityIndex}))).call(i,r))throw new TypeError("setQuality(type, qualityIndex,callback?,mode?), qualityIndex:Number from  getQualityList(type?)");e.updateSettings({streaming:{abr:{useDefaultABRRules:!0,autoSwitchBitrate:{audio:!0,video:!1}}}}),t.qualityDep[n]=r,clearTimeout(t.qualityTimeout),t.qualityTimeout=(0,p.default)((function(){e.once("qualityChangeRequested",(function(){if("delay"==s)return"function"==typeof t.qualityChangeFinish&&t.qualityChangeFinish(),t.qualityChangeFinish=e.once("qualityChangeRendered",(function(){"function"==typeof a&&a()})),!1;var n=e.paused;e.pause(),t.qualityAfterStartTime||(t.qualityAfterStartTime=e.currentTime),t.qualityAfterStartTime-15<0?e.seek(e.duration-1):(t.qualityAfterStartTime,e.duration,e.seek(t.qualityAfterStartTime-15)),e.once("playbackSeeking",(function(r){t.qualityAfterStartTime&&(e.seek(t.qualityAfterStartTime),t.qualityAfterStartTime=null,e.play(),n&&e.pause(),"function"==typeof t.qualityChangeFinish&&t.qualityChangeFinish(),t.qualityChangeFinish=e.once("qualityChangeRendered",(function(){"function"==typeof a&&a()}))),t.qualityDep={}}))}));var n=t.qualityDep;for(var r in n)e.setQualityFor(r,n[r])}),100)},setAutoQuality:function(){var n=e.paused;e.pause(),t.qualityAfterStartTime||(t.qualityAfterStartTime=e.currentTime),t.qualityAfterStartTime-15<0?e.seek(e.duration-1):(t.qualityAfterStartTime,e.duration,e.seek(t.qualityAfterStartTime-15)),e.once("playbackSeeking",(function(r){t.qualityAfterStartTime&&(e.seek(t.qualityAfterStartTime),t.qualityAfterStartTime=null,e.play(),n&&e.pause())})),e.updateSettings({streaming:{abr:{useDefaultABRRules:!0,autoSwitchBitrate:{audio:!0,video:!0}}}})},switchPictureInPicture:function(n){var r=e.videoEle;if("pictureInPictureEnabled"in document)return r!==document.pictureInPictureElement?(r.requestPictureInPicture(),t.pictureinpicture=!0):(document.exitPictureInPicture(),t.pictureinpicture=!1);throw n=n||"The current browser does not support picture in picture. Please try using another browser",new EvalError(n)},switchMiniMode:function(n,r){var a=e.rootEle.querySelector("#CJ-canvas-screen");if(a&&"CANVAS"==a.nodeName)return e.rootEle.removeChild(a),t.hasMini=!1,!1;if("object"!==(0,h.default)(n))throw new TypeError("param:size will be Object");if(!n.width&&!n.height)throw new TypeError("param:size must have property width or height");if("object"!==(0,h.default)(r))throw new TypeError("param:position will be Object");if(!(r.top||r.left||r.right||r.bottom))throw new TypeError("param:position must have property {top,left} or {top,right} or {bottom,left} or {bottom,right}");if(!(w(r.top||"")&&w(r.left||"")&&w(r.right||"")&&w(r.bottom||"")))throw new TypeError("param:position Same format as position in style");var i=e.videoEle,o=document.createElement("canvas");o.id="CJ-canvas-screen",n.width&&n.height?(o.width=n.width,o.height=n.height):n.width?(o.width=n.width,o.height=n.width/i.offsetWidth*i.offsetHeight):n.height&&(o.width=n.height/i.offsetHeight*i.offsetWidth,o.height=n.height),(0,S.default)(o.style,{position:"fixed",top:r.top,left:r.left,bottom:r.bottom,right:r.right,transform:"translate(0, 0)","z-index":9999});var s=o.getContext("2d");!function e(){if(i.ended)return;s.drawImage(i,0,0,o.width,o.height),window.requestAnimationFrame(e)}();var u=0,l=0,f=0,p=0,g=!1,m=0,v=0,_=0,E=0,y=[o.offsetLeft,o.offsetTop],T=y[0],A=y[1];return o.onmousedown=function(e){g=!0,e.clientX,e.clientY,u=e.clientX,l=e.clientY;var t=[document.documentElement.clientWidth,document.documentElement.clientHeight];_=t[0],E=t[1];var n=o.style.transform.match(/(\-?\+?\d*\.?\d)/g),r=(0,c.default)(n,2);m=r[0],v=r[1];var a=[o.offsetLeft,o.offsetTop];T=a[0],A=a[1]},o.onmousemove=function(e){if(g){var t;f=e.clientX-u,p=e.clientY-l;var n=Number(m)+Number(f),r=Number(v)+Number(p);T+n<=0?n=-T:T+n+o.width>=_&&(n=_-T-o.width),A+r<=0?r=-A:A+r+o.height>=E&&(r=E-A-o.height),(0,S.default)(o.style,{transform:(0,d.default)(t="translate(".concat(n,"px, ")).call(t,r,"px)")})}},o.onmouseup=function(e){g=!1},o.onmouseleave=function(e){g=!1},t.hasMini=!0,e.rootEle.append(o),!0},switchFullScreen:function(n){if("exitFullscreen"in document)return document.fullscreen?(document.exitFullscreen(),t.fullScreen=!1):(e.rootEle.requestFullscreen(),t.fullScreen=!0);throw n=n||"The current browser does not support full screen. Please try using another browser",new EvalError(n)},setLoop:function(n){if(!M(n))throw new TypeError("loop(value), param:value must be Boolean");n?(t.loopListener=e.listener("playbackTimeUpdated",(function(){e.currentTime+.2>e.duration&&e.seek(0)})),e.videoEle.loop=!0):("function"==typeof t.loopListener&&t.loopListener(),t.loopListener=null,e.videoEle.loop=!1)},getAutoPlay:function(){return e.autoplay},resetVideo:function(e){}})}},function(e,t,n){e.exports=n(376)},function(e,t,n){var r=n(377);e.exports=r},function(e,t,n){n(378);var r=n(1).Object,a=e.exports=function(e,t){return r.defineProperties(e,t)};r.defineProperties.sham&&(a.sham=!0)},function(e,t,n){var r=n(0),a=n(8);r({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperties:n(60)})},function(e,t,n){e.exports=n(380)},function(e,t,n){var r=n(381);e.exports=r},function(e,t,n){n(382);var r=n(1);e.exports=r.Object.getOwnPropertyDescriptors},function(e,t,n){var r=n(0),a=n(8),i=n(126),o=n(14),s=n(35),u=n(40);r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),a=s.f,l=i(r),f={},d=0;l.length>d;)void 0!==(n=a(r,t=l[d++]))&&u(f,t,n);return f}})},function(e,t,n){e.exports=n(384)},function(e,t,n){var r=n(385);e.exports=r},function(e,t,n){n(93);var r=n(1);e.exports=r.Object.getOwnPropertySymbols},function(e,t,n){var r=n(387),a=n(390),i=n(394),o=n(400);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()}},function(e,t,n){var r=n(388);e.exports=function(e){if(r(e))return e}},function(e,t,n){e.exports=n(389)},function(e,t,n){var r=n(129);e.exports=r},function(e,t,n){var r=n(115),a=n(391),i=n(89);e.exports=function(e,t){if(void 0!==i&&a(Object(e))){var n=[],o=!0,s=!1,u=void 0;try{for(var l,f=r(e);!(o=(l=f.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){s=!0,u=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw u}}return n}}},function(e,t,n){e.exports=n(392)},function(e,t,n){n(27),n(32);var r=n(393);e.exports=r},function(e,t,n){var r=n(23),a=n(2),i=n(25),o=a("iterator");e.exports=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},function(e,t,n){var r=n(395),a=n(397),i=n(399);e.exports=function(e,t){var n;if(e){if("string"==typeof e)return i(e,t);var o=a(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?r(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(e,t):void 0}}},function(e,t,n){e.exports=n(396)},function(e,t,n){var r=n(113);e.exports=r},function(e,t,n){e.exports=n(398)},function(e,t,n){var r=n(131);e.exports=r},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){e.exports=n(402)},function(e,t,n){var r=n(403);e.exports=r},function(e,t,n){var r=n(404),a=n(406),i=Array.prototype,o=String.prototype;e.exports=function(e){var t=e.includes;return e===i||e instanceof Array&&t===i.includes?r:"string"==typeof e||e===o||e instanceof String&&t===o.includes?a:t}},function(e,t,n){n(405);var r=n(3);e.exports=r("Array").includes},function(e,t,n){"use strict";var r=n(0),a=n(61).includes,i=n(38);r({target:"Array",proto:!0,forced:!n(13)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t,n){n(407);var r=n(3);e.exports=r("String").includes},function(e,t,n){"use strict";var r=n(0),a=n(100),i=n(20);r({target:"String",proto:!0,forced:!n(101)("includes")},{includes:function(e){return!!~String(i(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(409);e.exports=function(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){e.exports=n(410)},function(e,t,n){var r=n(132);e.exports=r},function(e,t,n){e.exports=n(412)},function(e,t,n){var r=n(413);e.exports=r},function(e,t,n){var r=n(414),a=Array.prototype;e.exports=function(e){var t=e.find;return e===a||e instanceof Array&&t===a.find?r:t}},function(e,t,n){n(415);var r=n(3);e.exports=r("Array").find},function(e,t,n){"use strict";var r=n(0),a=n(28).find,i=n(38),o=n(13),s=!0,u=o("find");"find"in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!u},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,n){"use strict";e.exports={playerSettings:{streaming:{metricsMaxListDepth:1e3,abandonLoadTimeout:1e4,liveDelayFragmentCount:NaN,liveDelay:null,scheduleWhilePaused:!0,fastSwitchEnabled:!1,bufferPruningInterval:10,bufferToKeep:20,bufferAheadToKeep:80,jumpGaps:!0,smallGapLimit:1.5,stableBufferTime:12,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,longFormContentDurationThreshold:600,wallclockTimeUpdateInterval:50,lowLatencyEnabled:!1,keepProtectionMediaKeys:!1,useManifestDateHeaderTimeSource:!0,useSuggestedPresentationDelay:!0,useAppendWindowEnd:!0,manifestUpdateRetryInterval:100,liveCatchUpMinDrift:.02,liveCatchUpMaxDrift:0,liveCatchUpPlaybackRate:.5,lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},retryIntervals:{MPD:500,XLinkExpansion:500,InitializationSegment:1e3,IndexSegment:1e3,MediaSegment:1e3,BitstreamSwitchingSegment:1e3,other:1e3,lowLatencyReductionFactor:10},retryAttempts:{MPD:3,XLinkExpansion:1,InitializationSegment:3,IndexSegment:3,MediaSegment:3,BitstreamSwitchingSegment:3,other:3,lowLatencyMultiplyFactor:5},abr:{movingAverageMethod:"slidingWindow",ABRStrategy:"abrDynamic",bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useBufferOccupancyABR:!1,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0}},cmcd:{enabled:!1,sid:null,cid:null,did:null}}}}},function(e,t,n){"use strict";var r=n(18),a=r(n(121)),i=r(n(52));e.exports=function(e){(0,i.default)(e,{listener:function(t,n){if(!t||!n)throw"listener(event, callback) ,Both parameters are required";var r=function(){n&&n.apply(this,arguments)};if("playbackTimeUpdated"==t){var i=(0,a.default)((function(){r()}),500);return function(){clearInterval(i)}}return e.on(t,r),function(){e.off(t,r)}},once:function(t,n){if(!t||!n)throw"listener(event, callback) ,Both parameters are required";var r=function r(){n&&n.apply(this,arguments),e.off(t,r)};return e.on(t,r),function(){e.off(t,r)}}})}},function(e,t,n){"use strict";var r=n(18)(n(52));e.exports=function(e){(0,r.default)(e,{globalVariable:{qualityDep:{},qualityTimeout:null,qualityAfterStartTime:null,pictureinpicture:!1,hasMini:!1,fullScreen:!1,qualityChangeFinish:null,loopListener:null}})}}]);